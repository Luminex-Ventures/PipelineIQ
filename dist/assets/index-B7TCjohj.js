var bD=Object.defineProperty;var wD=(e,t,r)=>t in e?bD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wp=(e,t,r)=>wD(e,typeof t!="symbol"?t+"":t,r);function lS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _D(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var cS={exports:{}},$f={},uS={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),jD=Symbol.for("react.portal"),SD=Symbol.for("react.fragment"),kD=Symbol.for("react.strict_mode"),ND=Symbol.for("react.profiler"),CD=Symbol.for("react.provider"),ED=Symbol.for("react.context"),PD=Symbol.for("react.forward_ref"),OD=Symbol.for("react.suspense"),AD=Symbol.for("react.memo"),TD=Symbol.for("react.lazy"),Jx=Symbol.iterator;function DD(e){return e===null||typeof e!="object"?null:(e=Jx&&e[Jx]||e["@@iterator"],typeof e=="function"?e:null)}var dS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fS=Object.assign,hS={};function wo(e,t,r){this.props=e,this.context=t,this.refs=hS,this.updater=r||dS}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pS(){}pS.prototype=wo.prototype;function qv(e,t,r){this.props=e,this.context=t,this.refs=hS,this.updater=r||dS}var Gv=qv.prototype=new pS;Gv.constructor=qv;fS(Gv,wo.prototype);Gv.isPureReactComponent=!0;var Qx=Array.isArray,mS=Object.prototype.hasOwnProperty,Yv={current:null},gS={key:!0,ref:!0,__self:!0,__source:!0};function vS(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)mS.call(t,n)&&!gS.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:yc,type:e,key:a,ref:s,props:i,_owner:Yv.current}}function ID(e,t){return{$$typeof:yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xv(e){return typeof e=="object"&&e!==null&&e.$$typeof===yc}function RD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zx=/\/+/g;function _p(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RD(""+e.key):t.toString(36)}function Wu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yc:case jD:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+_p(s,0):n,Qx(i)?(r="",e!=null&&(r=e.replace(Zx,"$&/")+"/"),Wu(i,t,r,"",function(u){return u})):i!=null&&(Xv(i)&&(i=ID(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zx,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Qx(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+_p(a,o);s+=Wu(a,t,r,l,i)}else if(l=DD(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+_p(a,o++),s+=Wu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xc(e,t,r){if(e==null)return e;var n=[],i=0;return Wu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function MD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sr={current:null},Ku={transition:null},LD={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:Yv};function yS(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Xc,forEach:function(e,t,r){Xc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xc(e,function(){t++}),t},toArray:function(e){return Xc(e,function(t){return t})||[]},only:function(e){if(!Xv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=wo;ke.Fragment=SD;ke.Profiler=ND;ke.PureComponent=qv;ke.StrictMode=kD;ke.Suspense=OD;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;ke.act=yS;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fS({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Yv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)mS.call(t,l)&&!gS.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:yc,type:e.type,key:i,ref:a,props:n,_owner:s}};ke.createContext=function(e){return e={$$typeof:ED,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CD,_context:e},e.Consumer=e};ke.createElement=vS;ke.createFactory=function(e){var t=vS.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:PD,render:e}};ke.isValidElement=Xv;ke.lazy=function(e){return{$$typeof:TD,_payload:{_status:-1,_result:e},_init:MD}};ke.memo=function(e,t){return{$$typeof:AD,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=Ku.transition;Ku.transition={};try{e()}finally{Ku.transition=t}};ke.unstable_act=yS;ke.useCallback=function(e,t){return sr.current.useCallback(e,t)};ke.useContext=function(e){return sr.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return sr.current.useDeferredValue(e)};ke.useEffect=function(e,t){return sr.current.useEffect(e,t)};ke.useId=function(){return sr.current.useId()};ke.useImperativeHandle=function(e,t,r){return sr.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return sr.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return sr.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return sr.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return sr.current.useReducer(e,t,r)};ke.useRef=function(e){return sr.current.useRef(e)};ke.useState=function(e){return sr.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return sr.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return sr.current.useTransition()};ke.version="18.3.1";uS.exports=ke;var m=uS.exports;const qe=ji(m),$D=lS({__proto__:null,default:qe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD=m,BD=Symbol.for("react.element"),UD=Symbol.for("react.fragment"),zD=Object.prototype.hasOwnProperty,WD=FD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KD={key:!0,ref:!0,__self:!0,__source:!0};function xS(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)zD.call(t,n)&&!KD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BD,type:e,key:a,ref:s,props:i,_owner:WD.current}}$f.Fragment=UD;$f.jsx=xS;$f.jsxs=xS;cS.exports=$f;var c=cS.exports,bS={exports:{}},zr={},wS={exports:{}},_S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var H=L.length;L.push(B);e:for(;0<H;){var te=H-1>>>1,ee=L[te];if(0<i(ee,B))L[te]=B,L[H]=ee,H=te;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],H=L.pop();if(H!==B){L[0]=H;e:for(var te=0,ee=L.length,we=ee>>>1;te<we;){var T=2*(te+1)-1,Y=L[T],re=T+1,ve=L[re];if(0>i(Y,H))re<ee&&0>i(ve,Y)?(L[te]=ve,L[re]=H,te=re):(L[te]=Y,L[T]=H,te=T);else if(re<ee&&0>i(ve,H))L[te]=ve,L[re]=H,te=re;else break e}}return B}function i(L,B){var H=L.sortIndex-B.sortIndex;return H!==0?H:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(u)}}function _(L){if(y=!1,w(L),!g)if(r(l)!==null)g=!0,I(j);else{var B=r(u);B!==null&&W(_,B.startTime-L)}}function j(L,B){g=!1,y&&(y=!1,x(N),N=-1),p=!0;var H=h;try{for(w(B),f=r(l);f!==null&&(!(f.expirationTime>B)||L&&!P());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ee=te(f.expirationTime<=B);B=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(l)&&n(l),w(B)}else n(l);f=r(l)}if(f!==null)var we=!0;else{var T=r(u);T!==null&&W(_,T.startTime-B),we=!1}return we}finally{f=null,h=H,p=!1}}var S=!1,k=null,N=-1,E=5,C=-1;function P(){return!(e.unstable_now()-C<E)}function D(){if(k!==null){var L=e.unstable_now();C=L;var B=!0;try{B=k(!0,L)}finally{B?V():(S=!1,k=null)}}else S=!1}var V;if(typeof b=="function")V=function(){b(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=D,V=function(){Q.postMessage(null)}}else V=function(){v(D,0)};function I(L){k=L,S||(S=!0,V())}function W(L,B){N=v(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var H=h;h=B;try{return L()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return B()}finally{h=H}},e.unstable_scheduleCallback=function(L,B,H){var te=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,L={id:d++,callback:B,priorityLevel:L,startTime:H,expirationTime:ee,sortIndex:-1},H>te?(L.sortIndex=H,t(u,L),r(l)===null&&L===r(u)&&(y?(x(N),N=-1):y=!0,W(_,H-te))):(L.sortIndex=ee,t(l,L),g||p||(g=!0,I(j))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var B=h;return function(){var H=h;h=B;try{return L.apply(this,arguments)}finally{h=H}}}})(_S);wS.exports=_S;var HD=wS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD=m,Fr=HD;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,Rl={};function fs(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(Rl[e]=t,e=0;e<t.length;e++)jS.add(t[e])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,qD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eb={},tb={};function GD(e){return Lm.call(tb,e)?!0:Lm.call(eb,e)?!1:qD.test(e)?tb[e]=!0:(eb[e]=!0,!1)}function YD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XD(e,t,r,n){if(t===null||typeof t>"u"||YD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Qv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jv,Qv);Kt[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jv,Qv);Kt[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jv,Qv);Kt[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zv(e,t,r,n){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XD(t,r,i,n)&&(r=null),n||i===null?GD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=VD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),ey=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),ty=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),NS=Symbol.for("react.offscreen"),rb=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=rb&&e[rb]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,jp;function fl(e){if(jp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jp=t&&t[1]||""}return`
`+jp+e}var Sp=!1;function kp(e,t){if(!e||Sp)return"";Sp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Sp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fl(e):""}function JD(e){switch(e.tag){case 5:return fl(e.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return e=kp(e.type,!1),e;case 11:return e=kp(e.type.render,!1),e;case 1:return e=kp(e.type,!0),e;default:return""}}function Um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Is:return"Fragment";case Ds:return"Portal";case $m:return"Profiler";case ey:return"StrictMode";case Fm:return"Suspense";case Bm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kS:return(e.displayName||"Context")+".Consumer";case SS:return(e._context.displayName||"Context")+".Provider";case ty:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ry:return t=e.displayName||null,t!==null?t:Um(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return Um(e(t))}catch{}}return null}function QD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(t);case 8:return t===ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZD(e){var t=CS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qc(e){e._valueTracker||(e._valueTracker=ZD(e))}function ES(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zm(e,t){var r=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=aa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PS(e,t){t=t.checked,t!=null&&Zv(e,"checked",t,!1)}function Wm(e,t){PS(e,t);var r=aa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Km(e,t.type,r):t.hasOwnProperty("defaultValue")&&Km(e,t.type,aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ib(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Km(e,t,r){(t!=="number"||ld(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hl=Array.isArray;function qs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+aa(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ab(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(hl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:aa(r)}}function OS(e,t){var r=aa(t.value),n=aa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zc,TS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ml(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(e){eI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bl[t]=bl[e]})});function DS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bl.hasOwnProperty(e)&&bl[e]?(""+t).trim():t+"px"}function IS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=DS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var tI=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(e,t){if(t){if(tI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=null;function ny(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xm=null,Gs=null,Ys=null;function ob(e){if(e=wc(e)){if(typeof Xm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Wf(t),Xm(e.stateNode,e.type,t))}}function RS(e){Gs?Ys?Ys.push(e):Ys=[e]:Gs=e}function MS(){if(Gs){var e=Gs,t=Ys;if(Ys=Gs=null,ob(e),t)for(e=0;e<t.length;e++)ob(t[e])}}function LS(e,t){return e(t)}function $S(){}var Np=!1;function FS(e,t,r){if(Np)return e(t,r);Np=!0;try{return LS(e,t,r)}finally{Np=!1,(Gs!==null||Ys!==null)&&($S(),MS())}}function Ll(e,t){var r=e.stateNode;if(r===null)return null;var n=Wf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Jm=!1;if(ui)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Jm=!1}function rI(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wl=!1,cd=null,ud=!1,Qm=null,nI={onError:function(e){wl=!0,cd=e}};function iI(e,t,r,n,i,a,s,o,l){wl=!1,cd=null,rI.apply(nI,arguments)}function aI(e,t,r,n,i,a,s,o,l){if(iI.apply(this,arguments),wl){if(wl){var u=cd;wl=!1,cd=null}else throw Error(G(198));ud||(ud=!0,Qm=u)}}function hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function BS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lb(e){if(hs(e)!==e)throw Error(G(188))}function sI(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lb(i),e;if(a===n)return lb(i),t;a=a.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function US(e){return e=sI(e),e!==null?zS(e):null}function zS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zS(e);if(t!==null)return t;e=e.sibling}return null}var WS=Fr.unstable_scheduleCallback,cb=Fr.unstable_cancelCallback,oI=Fr.unstable_shouldYield,lI=Fr.unstable_requestPaint,ot=Fr.unstable_now,cI=Fr.unstable_getCurrentPriorityLevel,iy=Fr.unstable_ImmediatePriority,KS=Fr.unstable_UserBlockingPriority,dd=Fr.unstable_NormalPriority,uI=Fr.unstable_LowPriority,HS=Fr.unstable_IdlePriority,Ff=null,zn=null;function dI(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Ff,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:pI,fI=Math.log,hI=Math.LN2;function pI(e){return e>>>=0,e===0?32:31-(fI(e)/hI|0)|0}var eu=64,tu=4194304;function pl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=pl(o):(a&=s,a!==0&&(n=pl(a)))}else s=r&~i,s!==0?n=pl(s):a!==0&&(n=pl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jn(t),i=1<<r,n|=e[r],t&=~i;return n}function mI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-jn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=mI(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Zm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function VS(){var e=eu;return eu<<=1,!(eu&4194240)&&(eu=64),e}function Cp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function vI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-jn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function ay(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function qS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GS,sy,YS,XS,JS,eg=!1,ru=[],Xi=null,Ji=null,Qi=null,$l=new Map,Fl=new Map,Wi=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(e,t){switch(e){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(t.pointerId)}}function Yo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&sy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xI(e,t,r,n,i){switch(t){case"focusin":return Xi=Yo(Xi,e,t,r,n,i),!0;case"dragenter":return Ji=Yo(Ji,e,t,r,n,i),!0;case"mouseover":return Qi=Yo(Qi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return $l.set(a,Yo($l.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Fl.set(a,Yo(Fl.get(a)||null,e,t,r,n,i)),!0}return!1}function QS(e){var t=Fa(e.target);if(t!==null){var r=hs(t);if(r!==null){if(t=r.tag,t===13){if(t=BS(r),t!==null){e.blockedOn=t,JS(e.priority,function(){YS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ym=n,r.target.dispatchEvent(n),Ym=null}else return t=wc(r),t!==null&&sy(t),e.blockedOn=r,!1;t.shift()}return!0}function db(e,t,r){Hu(e)&&r.delete(t)}function bI(){eg=!1,Xi!==null&&Hu(Xi)&&(Xi=null),Ji!==null&&Hu(Ji)&&(Ji=null),Qi!==null&&Hu(Qi)&&(Qi=null),$l.forEach(db),Fl.forEach(db)}function Xo(e,t){e.blockedOn===t&&(e.blockedOn=null,eg||(eg=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,bI)))}function Bl(e){function t(i){return Xo(i,e)}if(0<ru.length){Xo(ru[0],e);for(var r=1;r<ru.length;r++){var n=ru[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xi!==null&&Xo(Xi,e),Ji!==null&&Xo(Ji,e),Qi!==null&&Xo(Qi,e),$l.forEach(t),Fl.forEach(t),r=0;r<Wi.length;r++)n=Wi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)QS(r),r.blockedOn===null&&Wi.shift()}var Xs=Si.ReactCurrentBatchConfig,hd=!0;function wI(e,t,r,n){var i=Me,a=Xs.transition;Xs.transition=null;try{Me=1,oy(e,t,r,n)}finally{Me=i,Xs.transition=a}}function _I(e,t,r,n){var i=Me,a=Xs.transition;Xs.transition=null;try{Me=4,oy(e,t,r,n)}finally{Me=i,Xs.transition=a}}function oy(e,t,r,n){if(hd){var i=tg(e,t,r,n);if(i===null)Lp(e,t,n,pd,r),ub(e,n);else if(xI(i,e,t,r,n))n.stopPropagation();else if(ub(e,n),t&4&&-1<yI.indexOf(e)){for(;i!==null;){var a=wc(i);if(a!==null&&GS(a),a=tg(e,t,r,n),a===null&&Lp(e,t,n,pd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Lp(e,t,n,null,r)}}var pd=null;function tg(e,t,r,n){if(pd=null,e=ny(n),e=Fa(e),e!==null)if(t=hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=BS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pd=e,null}function ZS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case iy:return 1;case KS:return 4;case dd:case uI:return 16;case HS:return 536870912;default:return 16}default:return 16}}var qi=null,ly=null,Vu=null;function ek(){if(Vu)return Vu;var e,t=ly,r=t.length,n,i="value"in qi?qi.value:qi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Vu=i.slice(e,1<n?1-n:void 0)}function qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function fb(){return!1}function Wr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nu:fb,this.isPropagationStopped=fb,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=Wr(_o),bc=rt({},_o,{view:0,detail:0}),jI=Wr(bc),Ep,Pp,Jo,Bf=rt({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jo&&(Jo&&e.type==="mousemove"?(Ep=e.screenX-Jo.screenX,Pp=e.screenY-Jo.screenY):Pp=Ep=0,Jo=e),Ep)},movementY:function(e){return"movementY"in e?e.movementY:Pp}}),hb=Wr(Bf),SI=rt({},Bf,{dataTransfer:0}),kI=Wr(SI),NI=rt({},bc,{relatedTarget:0}),Op=Wr(NI),CI=rt({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),EI=Wr(CI),PI=rt({},_o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OI=Wr(PI),AI=rt({},_o,{data:0}),pb=Wr(AI),TI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},II={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=II[e])?!!t[e]:!1}function uy(){return RI}var MI=rt({},bc,{key:function(e){if(e.key){var t=TI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uy,charCode:function(e){return e.type==="keypress"?qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LI=Wr(MI),$I=rt({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mb=Wr($I),FI=rt({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uy}),BI=Wr(FI),UI=rt({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),zI=Wr(UI),WI=rt({},Bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KI=Wr(WI),HI=[9,13,27,32],dy=ui&&"CompositionEvent"in window,_l=null;ui&&"documentMode"in document&&(_l=document.documentMode);var VI=ui&&"TextEvent"in window&&!_l,tk=ui&&(!dy||_l&&8<_l&&11>=_l),gb=" ",vb=!1;function rk(e,t){switch(e){case"keyup":return HI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function qI(e,t){switch(e){case"compositionend":return nk(t);case"keypress":return t.which!==32?null:(vb=!0,gb);case"textInput":return e=t.data,e===gb&&vb?null:e;default:return null}}function GI(e,t){if(Rs)return e==="compositionend"||!dy&&rk(e,t)?(e=ek(),Vu=ly=qi=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tk&&t.locale!=="ko"?null:t.data;default:return null}}var YI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YI[e.type]:t==="textarea"}function ik(e,t,r,n){RS(n),t=md(t,"onChange"),0<t.length&&(r=new cy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jl=null,Ul=null;function XI(e){mk(e,0)}function Uf(e){var t=$s(e);if(ES(t))return e}function JI(e,t){if(e==="change")return t}var ak=!1;if(ui){var Ap;if(ui){var Tp="oninput"in document;if(!Tp){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),Tp=typeof xb.oninput=="function"}Ap=Tp}else Ap=!1;ak=Ap&&(!document.documentMode||9<document.documentMode)}function bb(){jl&&(jl.detachEvent("onpropertychange",sk),Ul=jl=null)}function sk(e){if(e.propertyName==="value"&&Uf(Ul)){var t=[];ik(t,Ul,e,ny(e)),FS(XI,t)}}function QI(e,t,r){e==="focusin"?(bb(),jl=t,Ul=r,jl.attachEvent("onpropertychange",sk)):e==="focusout"&&bb()}function ZI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uf(Ul)}function eR(e,t){if(e==="click")return Uf(t)}function tR(e,t){if(e==="input"||e==="change")return Uf(t)}function rR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:rR;function zl(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lm.call(t,i)||!kn(e[i],t[i]))return!1}return!0}function wb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _b(e,t){var r=wb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wb(r)}}function ok(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ok(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lk(){for(var e=window,t=ld();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ld(e.document)}return t}function fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nR(e){var t=lk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ok(r.ownerDocument.documentElement,r)){if(n!==null&&fy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=_b(r,a);var s=_b(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iR=ui&&"documentMode"in document&&11>=document.documentMode,Ms=null,rg=null,Sl=null,ng=!1;function jb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ng||Ms==null||Ms!==ld(n)||(n=Ms,"selectionStart"in n&&fy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sl&&zl(Sl,n)||(Sl=n,n=md(rg,"onSelect"),0<n.length&&(t=new cy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ms)))}function iu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ls={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Dp={},ck={};ui&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function zf(e){if(Dp[e])return Dp[e];if(!Ls[e])return e;var t=Ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ck)return Dp[e]=t[r];return e}var uk=zf("animationend"),dk=zf("animationiteration"),fk=zf("animationstart"),hk=zf("transitionend"),pk=new Map,Sb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(e,t){pk.set(e,t),fs(t,[e])}for(var Ip=0;Ip<Sb.length;Ip++){var Rp=Sb[Ip],aR=Rp.toLowerCase(),sR=Rp[0].toUpperCase()+Rp.slice(1);fa(aR,"on"+sR)}fa(uk,"onAnimationEnd");fa(dk,"onAnimationIteration");fa(fk,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(hk,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function kb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aI(n,t,void 0,e),e.currentTarget=null}function mk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;kb(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;kb(i,o,u),a=l}}}if(ud)throw e=Qm,ud=!1,Qm=null,e}function We(e,t){var r=t[lg];r===void 0&&(r=t[lg]=new Set);var n=e+"__bubble";r.has(n)||(gk(t,e,2,!1),r.add(n))}function Mp(e,t,r){var n=0;t&&(n|=4),gk(r,e,n,t)}var au="_reactListening"+Math.random().toString(36).slice(2);function Wl(e){if(!e[au]){e[au]=!0,jS.forEach(function(r){r!=="selectionchange"&&(oR.has(r)||Mp(r,!1,e),Mp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[au]||(t[au]=!0,Mp("selectionchange",!1,t))}}function gk(e,t,r,n){switch(ZS(t)){case 1:var i=wI;break;case 4:i=_I;break;default:i=oy}r=i.bind(null,t,r,e),i=void 0,!Jm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Lp(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}FS(function(){var u=a,d=ny(r),f=[];e:{var h=pk.get(e);if(h!==void 0){var p=cy,g=e;switch(e){case"keypress":if(qu(r)===0)break e;case"keydown":case"keyup":p=LI;break;case"focusin":g="focus",p=Op;break;case"focusout":g="blur",p=Op;break;case"beforeblur":case"afterblur":p=Op;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BI;break;case uk:case dk:case fk:p=EI;break;case hk:p=zI;break;case"scroll":p=jI;break;case"wheel":p=KI;break;case"copy":case"cut":case"paste":p=OI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mb}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Ll(b,x),_!=null&&y.push(Kl(b,_,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Ym&&(g=r.relatedTarget||r.fromElement)&&(Fa(g)||g[di]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Fa(g):null,g!==null&&(v=hs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=hb,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=mb,_="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:$s(p),w=g==null?h:$s(g),h=new y(_,b+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,Fa(d)===u&&(y=new y(x,b+"enter",g,r,d),y.target=w,y.relatedTarget=v,_=y),v=_,p&&g)t:{for(y=p,x=g,b=0,w=y;w;w=xs(w))b++;for(w=0,_=x;_;_=xs(_))w++;for(;0<b-w;)y=xs(y),b--;for(;0<w-b;)x=xs(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=xs(y),x=xs(x)}y=null}else y=null;p!==null&&Nb(f,h,p,y,!1),g!==null&&v!==null&&Nb(f,v,g,y,!0)}}e:{if(h=u?$s(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=JI;else if(yb(h))if(ak)j=tR;else{j=ZI;var S=QI}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=eR);if(j&&(j=j(e,u))){ik(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Km(h,"number",h.value)}switch(S=u?$s(u):window,e){case"focusin":(yb(S)||S.contentEditable==="true")&&(Ms=S,rg=u,Sl=null);break;case"focusout":Sl=rg=Ms=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,jb(f,r,d);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":jb(f,r,d)}var k;if(dy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Rs?rk(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(tk&&r.locale!=="ko"&&(Rs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Rs&&(k=ek()):(qi=d,ly="value"in qi?qi.value:qi.textContent,Rs=!0)),S=md(u,N),0<S.length&&(N=new pb(N,e,null,r,d),f.push({event:N,listeners:S}),k?N.data=k:(k=nk(r),k!==null&&(N.data=k)))),(k=VI?qI(e,r):GI(e,r))&&(u=md(u,"onBeforeInput"),0<u.length&&(d=new pb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}mk(f,t)})}function Kl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function md(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ll(e,r),a!=null&&n.unshift(Kl(e,a,i)),a=Ll(e,t),a!=null&&n.push(Kl(e,a,i))),e=e.return}return n}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nb(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ll(r,a),l!=null&&s.unshift(Kl(r,l,o))):i||(l=Ll(r,a),l!=null&&s.push(Kl(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var lR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function Cb(e){return(typeof e=="string"?e:""+e).replace(lR,`
`).replace(cR,"")}function su(e,t,r){if(t=Cb(t),Cb(e)!==t&&r)throw Error(G(425))}function gd(){}var ig=null,ag=null;function sg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,uR=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(e){return Eb.resolve(null).then(e).catch(fR)}:og;function fR(e){setTimeout(function(){throw e})}function $p(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Bl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Bl(t)}function Zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+jo,Hl="__reactProps$"+jo,di="__reactContainer$"+jo,lg="__reactEvents$"+jo,hR="__reactListeners$"+jo,pR="__reactHandles$"+jo;function Fa(e){var t=e[Bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[di]||r[Bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pb(e);e!==null;){if(r=e[Bn])return r;e=Pb(e)}return t}e=r,r=e.parentNode}return null}function wc(e){return e=e[Bn]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Wf(e){return e[Hl]||null}var cg=[],Fs=-1;function ha(e){return{current:e}}function He(e){0>Fs||(e.current=cg[Fs],cg[Fs]=null,Fs--)}function ze(e,t){Fs++,cg[Fs]=e.current,e.current=t}var sa={},Qt=ha(sa),xr=ha(!1),Qa=sa;function ao(e,t){var r=e.type.contextTypes;if(!r)return sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function br(e){return e=e.childContextTypes,e!=null}function vd(){He(xr),He(Qt)}function Ob(e,t,r){if(Qt.current!==sa)throw Error(G(168));ze(Qt,t),ze(xr,r)}function vk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,QD(e)||"Unknown",i));return rt({},r,n)}function yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sa,Qa=Qt.current,ze(Qt,e),ze(xr,xr.current),!0}function Ab(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=vk(e,t,Qa),n.__reactInternalMemoizedMergedChildContext=e,He(xr),He(Qt),ze(Qt,e)):He(xr),ze(xr,r)}var Zn=null,Kf=!1,Fp=!1;function yk(e){Zn===null?Zn=[e]:Zn.push(e)}function mR(e){Kf=!0,yk(e)}function pa(){if(!Fp&&Zn!==null){Fp=!0;var e=0,t=Me;try{var r=Zn;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zn=null,Kf=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),WS(iy,pa),i}finally{Me=t,Fp=!1}}return null}var Bs=[],Us=0,xd=null,bd=0,en=[],tn=0,Za=null,ri=1,ni="";function Oa(e,t){Bs[Us++]=bd,Bs[Us++]=xd,xd=e,bd=t}function xk(e,t,r){en[tn++]=ri,en[tn++]=ni,en[tn++]=Za,Za=e;var n=ri;e=ni;var i=32-jn(n)-1;n&=~(1<<i),r+=1;var a=32-jn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ri=1<<32-jn(t)+i|r<<i|n,ni=a+e}else ri=1<<a|r<<i|n,ni=e}function hy(e){e.return!==null&&(Oa(e,1),xk(e,1,0))}function py(e){for(;e===xd;)xd=Bs[--Us],Bs[Us]=null,bd=Bs[--Us],Bs[Us]=null;for(;e===Za;)Za=en[--tn],en[tn]=null,ni=en[--tn],en[tn]=null,ri=en[--tn],en[tn]=null}var Lr=null,Mr=null,Ge=!1,bn=null;function bk(e,t){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Tb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lr=e,Mr=Zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Za!==null?{id:ri,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lr=e,Mr=null,!0):!1;default:return!1}}function ug(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dg(e){if(Ge){var t=Mr;if(t){var r=t;if(!Tb(e,t)){if(ug(e))throw Error(G(418));t=Zi(r.nextSibling);var n=Lr;t&&Tb(e,t)?bk(n,r):(e.flags=e.flags&-4097|2,Ge=!1,Lr=e)}}else{if(ug(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ge=!1,Lr=e}}}function Db(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lr=e}function ou(e){if(e!==Lr)return!1;if(!Ge)return Db(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sg(e.type,e.memoizedProps)),t&&(t=Mr)){if(ug(e))throw wk(),Error(G(418));for(;t;)bk(e,t),t=Zi(t.nextSibling)}if(Db(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=Zi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Lr?Zi(e.stateNode.nextSibling):null;return!0}function wk(){for(var e=Mr;e;)e=Zi(e.nextSibling)}function so(){Mr=Lr=null,Ge=!1}function my(e){bn===null?bn=[e]:bn.push(e)}var gR=Si.ReactCurrentBatchConfig;function Qo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ib(e){var t=e._init;return t(e._payload)}function _k(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=na(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,_){return b===null||b.tag!==6?(b=Vp(w,x.mode,_),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,_){var j=w.type;return j===Is?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$i&&Ib(j)===b.type)?(_=i(b,w.props),_.ref=Qo(x,b,w),_.return=x,_):(_=ed(w.type,w.key,w.props,null,x.mode,_),_.ref=Qo(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=qp(w,x.mode,_),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,j){return b===null||b.tag!==7?(b=qa(w,x.mode,_,j),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Vp(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return w=ed(b.type,b.key,b.props,null,x.mode,w),w.ref=Qo(x,null,b),w.return=x,w;case Ds:return b=qp(b,x.mode,w),b.return=x,b;case $i:var _=b._init;return f(x,_(b._payload),w)}if(hl(b)||qo(b))return b=qa(b,x.mode,w,null),b.return=x,b;lu(x,b)}return null}function h(x,b,w,_){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jc:return w.key===j?l(x,b,w,_):null;case Ds:return w.key===j?u(x,b,w,_):null;case $i:return j=w._init,h(x,b,j(w._payload),_)}if(hl(w)||qo(w))return j!==null?null:d(x,b,w,_,null);lu(x,w)}return null}function p(x,b,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,o(b,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jc:return x=x.get(_.key===null?w:_.key)||null,l(b,x,_,j);case Ds:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,j);case $i:var S=_._init;return p(x,b,w,S(_._payload),j)}if(hl(_)||qo(_))return x=x.get(w)||null,d(b,x,_,j,null);lu(b,_)}return null}function g(x,b,w,_){for(var j=null,S=null,k=b,N=b=0,E=null;k!==null&&N<w.length;N++){k.index>N?(E=k,k=null):E=k.sibling;var C=h(x,k,w[N],_);if(C===null){k===null&&(k=E);break}e&&k&&C.alternate===null&&t(x,k),b=a(C,b,N),S===null?j=C:S.sibling=C,S=C,k=E}if(N===w.length)return r(x,k),Ge&&Oa(x,N),j;if(k===null){for(;N<w.length;N++)k=f(x,w[N],_),k!==null&&(b=a(k,b,N),S===null?j=k:S.sibling=k,S=k);return Ge&&Oa(x,N),j}for(k=n(x,k);N<w.length;N++)E=p(k,x,N,w[N],_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?N:E.key),b=a(E,b,N),S===null?j=E:S.sibling=E,S=E);return e&&k.forEach(function(P){return t(x,P)}),Ge&&Oa(x,N),j}function y(x,b,w,_){var j=qo(w);if(typeof j!="function")throw Error(G(150));if(w=j.call(w),w==null)throw Error(G(151));for(var S=j=null,k=b,N=b=0,E=null,C=w.next();k!==null&&!C.done;N++,C=w.next()){k.index>N?(E=k,k=null):E=k.sibling;var P=h(x,k,C.value,_);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(x,k),b=a(P,b,N),S===null?j=P:S.sibling=P,S=P,k=E}if(C.done)return r(x,k),Ge&&Oa(x,N),j;if(k===null){for(;!C.done;N++,C=w.next())C=f(x,C.value,_),C!==null&&(b=a(C,b,N),S===null?j=C:S.sibling=C,S=C);return Ge&&Oa(x,N),j}for(k=n(x,k);!C.done;N++,C=w.next())C=p(k,x,N,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?N:C.key),b=a(C,b,N),S===null?j=C:S.sibling=C,S=C);return e&&k.forEach(function(D){return t(x,D)}),Ge&&Oa(x,N),j}function v(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Is&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jc:e:{for(var j=w.key,S=b;S!==null;){if(S.key===j){if(j=w.type,j===Is){if(S.tag===7){r(x,S.sibling),b=i(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$i&&Ib(j)===S.type){r(x,S.sibling),b=i(S,w.props),b.ref=Qo(x,S,w),b.return=x,x=b;break e}r(x,S);break}else t(x,S);S=S.sibling}w.type===Is?(b=qa(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=ed(w.type,w.key,w.props,null,x.mode,_),_.ref=Qo(x,b,w),_.return=x,x=_)}return s(x);case Ds:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=qp(w,x.mode,_),b.return=x,x=b}return s(x);case $i:return S=w._init,v(x,b,S(w._payload),_)}if(hl(w))return g(x,b,w,_);if(qo(w))return y(x,b,w,_);lu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=i(b,w),b.return=x,x=b):(r(x,b),b=Vp(w,x.mode,_),b.return=x,x=b),s(x)):r(x,b)}return v}var oo=_k(!0),jk=_k(!1),wd=ha(null),_d=null,zs=null,gy=null;function vy(){gy=zs=_d=null}function yy(e){var t=wd.current;He(wd),e._currentValue=t}function fg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Js(e,t){_d=e,gy=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gr=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(gy!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(_d===null)throw Error(G(308));zs=e,_d.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Ba=null;function xy(e){Ba===null?Ba=[e]:Ba.push(e)}function Sk(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xy(t)):(r.next=i.next,i.next=r),t.interleaved=r,fi(e,n)}function fi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fi=!1;function by(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,fi(e,r)}return i=n.interleaved,i===null?(t.next=t,xy(n)):(t.next=i.next,i.next=t),n.interleaved=t,fi(e,r)}function Gu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ay(e,r)}}function Rb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jd(e,t,r,n){var i=e.updateQueue;Fi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(h=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=rt({},f,h);break e;case 2:Fi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ts|=s,e.lanes=s,e.memoizedState=f}}function Mb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var _c={},Wn=ha(_c),Vl=ha(_c),ql=ha(_c);function Ua(e){if(e===_c)throw Error(G(174));return e}function wy(e,t){switch(ze(ql,t),ze(Vl,e),ze(Wn,_c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vm(t,e)}He(Wn),ze(Wn,t)}function lo(){He(Wn),He(Vl),He(ql)}function Nk(e){Ua(ql.current);var t=Ua(Wn.current),r=Vm(t,e.type);t!==r&&(ze(Vl,e),ze(Wn,r))}function _y(e){Vl.current===e&&(He(Wn),He(Vl))}var et=ha(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bp=[];function jy(){for(var e=0;e<Bp.length;e++)Bp[e]._workInProgressVersionPrimary=null;Bp.length=0}var Yu=Si.ReactCurrentDispatcher,Up=Si.ReactCurrentBatchConfig,es=0,tt=null,wt=null,At=null,kd=!1,kl=!1,Gl=0,vR=0;function qt(){throw Error(G(321))}function Sy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function ky(e,t,r,n,i,a){if(es=a,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yu.current=e===null||e.memoizedState===null?wR:_R,e=r(n,i),kl){a=0;do{if(kl=!1,Gl=0,25<=a)throw Error(G(301));a+=1,At=wt=null,t.updateQueue=null,Yu.current=jR,e=r(n,i)}while(kl)}if(Yu.current=Nd,t=wt!==null&&wt.next!==null,es=0,At=wt=tt=null,kd=!1,t)throw Error(G(300));return e}function Ny(){var e=Gl!==0;return Gl=0,e}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?tt.memoizedState=At=e:At=At.next=e,At}function on(){if(wt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=At===null?tt.memoizedState:At.next;if(t!==null)At=t,wt=e;else{if(e===null)throw Error(G(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?tt.memoizedState=At=e:At=At.next=e}return At}function Yl(e,t){return typeof t=="function"?t(e):t}function zp(e){var t=on(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=wt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,tt.lanes|=d,ts|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,kn(n,t.memoizedState)||(gr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,tt.lanes|=a,ts|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wp(e){var t=on(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);kn(a,t.memoizedState)||(gr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Ck(){}function Ek(e,t){var r=tt,n=on(),i=t(),a=!kn(n.memoizedState,i);if(a&&(n.memoizedState=i,gr=!0),n=n.queue,Cy(Ak.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Xl(9,Ok.bind(null,r,n,i,t),void 0,null),It===null)throw Error(G(349));es&30||Pk(r,t,i)}return i}function Pk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ok(e,t,r,n){t.value=r,t.getSnapshot=n,Tk(t)&&Dk(e)}function Ak(e,t,r){return r(function(){Tk(t)&&Dk(e)})}function Tk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kn(e,r)}catch{return!0}}function Dk(e){var t=fi(e,1);t!==null&&Sn(t,e,1,-1)}function Lb(e){var t=$n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:e},t.queue=e,e=e.dispatch=bR.bind(null,tt,e),[t.memoizedState,e]}function Xl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ik(){return on().memoizedState}function Xu(e,t,r,n){var i=$n();tt.flags|=e,i.memoizedState=Xl(1|t,r,void 0,n===void 0?null:n)}function Hf(e,t,r,n){var i=on();n=n===void 0?null:n;var a=void 0;if(wt!==null){var s=wt.memoizedState;if(a=s.destroy,n!==null&&Sy(n,s.deps)){i.memoizedState=Xl(t,r,a,n);return}}tt.flags|=e,i.memoizedState=Xl(1|t,r,a,n)}function $b(e,t){return Xu(8390656,8,e,t)}function Cy(e,t){return Hf(2048,8,e,t)}function Rk(e,t){return Hf(4,2,e,t)}function Mk(e,t){return Hf(4,4,e,t)}function Lk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $k(e,t,r){return r=r!=null?r.concat([e]):null,Hf(4,4,Lk.bind(null,t,e),r)}function Ey(){}function Fk(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bk(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uk(e,t,r){return es&21?(kn(r,t)||(r=VS(),tt.lanes|=r,ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gr=!0),e.memoizedState=r)}function yR(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Up.transition;Up.transition={};try{e(!1),t()}finally{Me=r,Up.transition=n}}function zk(){return on().memoizedState}function xR(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wk(e))Kk(t,r);else if(r=Sk(e,t,r,n),r!==null){var i=ir();Sn(r,e,n,i),Hk(r,t,n)}}function bR(e,t,r){var n=ra(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wk(e))Kk(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,kn(o,s)){var l=t.interleaved;l===null?(i.next=i,xy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Sk(e,t,i,n),r!==null&&(i=ir(),Sn(r,e,n,i),Hk(r,t,n))}}function Wk(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Kk(e,t){kl=kd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ay(e,r)}}var Nd={readContext:sn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},wR={readContext:sn,useCallback:function(e,t){return $n().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:$b,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xu(4194308,4,Lk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xu(4,2,e,t)},useMemo:function(e,t){var r=$n();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$n();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xR.bind(null,tt,e),[n.memoizedState,e]},useRef:function(e){var t=$n();return e={current:e},t.memoizedState=e},useState:Lb,useDebugValue:Ey,useDeferredValue:function(e){return $n().memoizedState=e},useTransition:function(){var e=Lb(!1),t=e[0];return e=yR.bind(null,e[1]),$n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tt,i=$n();if(Ge){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),It===null)throw Error(G(349));es&30||Pk(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,$b(Ak.bind(null,n,a,e),[e]),n.flags|=2048,Xl(9,Ok.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$n(),t=It.identifierPrefix;if(Ge){var r=ni,n=ri;r=(n&~(1<<32-jn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_R={readContext:sn,useCallback:Fk,useContext:sn,useEffect:Cy,useImperativeHandle:$k,useInsertionEffect:Rk,useLayoutEffect:Mk,useMemo:Bk,useReducer:zp,useRef:Ik,useState:function(){return zp(Yl)},useDebugValue:Ey,useDeferredValue:function(e){var t=on();return Uk(t,wt.memoizedState,e)},useTransition:function(){var e=zp(Yl)[0],t=on().memoizedState;return[e,t]},useMutableSource:Ck,useSyncExternalStore:Ek,useId:zk,unstable_isNewReconciler:!1},jR={readContext:sn,useCallback:Fk,useContext:sn,useEffect:Cy,useImperativeHandle:$k,useInsertionEffect:Rk,useLayoutEffect:Mk,useMemo:Bk,useReducer:Wp,useRef:Ik,useState:function(){return Wp(Yl)},useDebugValue:Ey,useDeferredValue:function(e){var t=on();return wt===null?t.memoizedState=e:Uk(t,wt.memoizedState,e)},useTransition:function(){var e=Wp(Yl)[0],t=on().memoizedState;return[e,t]},useMutableSource:Ck,useSyncExternalStore:Ek,useId:zk,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vf={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ir(),i=ra(e),a=si(n,i);a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(Sn(t,e,i,n),Gu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ir(),i=ra(e),a=si(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ea(e,a,i),t!==null&&(Sn(t,e,i,n),Gu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ir(),n=ra(e),i=si(r,n);i.tag=2,t!=null&&(i.callback=t),t=ea(e,i,n),t!==null&&(Sn(t,e,n,r),Gu(t,e,n))}};function Fb(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!zl(r,n)||!zl(i,a):!0}function Vk(e,t,r){var n=!1,i=sa,a=t.contextType;return typeof a=="object"&&a!==null?a=sn(a):(i=br(t)?Qa:Qt.current,n=t.contextTypes,a=(n=n!=null)?ao(e,i):sa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Bb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vf.enqueueReplaceState(t,t.state,null)}function pg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},by(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=sn(a):(a=br(t)?Qa:Qt.current,i.context=ao(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vf.enqueueReplaceState(i,i.state,null),jd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var r="",n=t;do r+=JD(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SR=typeof WeakMap=="function"?WeakMap:Map;function qk(e,t,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ed||(Ed=!0,kg=n),mg(e,t)},r}function Gk(e,t,r){r=si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){mg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){mg(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Ub(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SR;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$R.bind(null,e,t,r),t.then(e,e))}function zb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=si(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var kR=Si.ReactCurrentOwner,gr=!1;function er(e,t,r,n){t.child=e===null?jk(t,null,r,n):oo(t,e.child,r,n)}function Kb(e,t,r,n,i){r=r.render;var a=t.ref;return Js(t,i),n=ky(e,t,r,n,a,i),r=Ny(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Ge&&r&&hy(t),t.flags|=1,er(e,t,n,i),t.child)}function Hb(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!My(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Yk(e,t,a,n,i)):(e=ed(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:zl,r(s,n)&&e.ref===t.ref)return hi(e,t,i)}return t.flags|=1,e=na(a,n),e.ref=t.ref,e.return=t,t.child=e}function Yk(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(zl(a,n)&&e.ref===t.ref)if(gr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(gr=!0);else return t.lanes=e.lanes,hi(e,t,i)}return gg(e,t,r,n,i)}function Xk(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ks,Ar),Ar|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ks,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ze(Ks,Ar),Ar|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ze(Ks,Ar),Ar|=n;return er(e,t,i,r),t.child}function Jk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gg(e,t,r,n,i){var a=br(r)?Qa:Qt.current;return a=ao(t,a),Js(t,i),r=ky(e,t,r,n,a,i),n=Ny(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(Ge&&n&&hy(t),t.flags|=1,er(e,t,r,i),t.child)}function Vb(e,t,r,n,i){if(br(r)){var a=!0;yd(t)}else a=!1;if(Js(t,i),t.stateNode===null)Ju(e,t),Vk(t,r,n),pg(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=br(r)?Qa:Qt.current,u=ao(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Bb(t,s,n,u),Fi=!1;var h=t.memoizedState;s.state=h,jd(t,n,s,i),l=t.memoizedState,o!==n||h!==l||xr.current||Fi?(typeof d=="function"&&(hg(t,r,d,n),l=t.memoizedState),(o=Fi||Fb(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,kk(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:vn(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=br(r)?Qa:Qt.current,l=ao(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Bb(t,s,n,l),Fi=!1,h=t.memoizedState,s.state=h,jd(t,n,s,i);var g=t.memoizedState;o!==f||h!==g||xr.current||Fi?(typeof p=="function"&&(hg(t,r,p,n),g=t.memoizedState),(u=Fi||Fb(t,r,u,n,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vg(e,t,r,n,a,i)}function vg(e,t,r,n,i,a){Jk(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Ab(t,r,!1),hi(e,t,a);n=t.stateNode,kR.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=oo(t,e.child,null,a),t.child=oo(t,null,o,a)):er(e,t,o,a),t.memoizedState=n.state,i&&Ab(t,r,!0),t.child}function Qk(e){var t=e.stateNode;t.pendingContext?Ob(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ob(e,t.context,!1),wy(e,t.containerInfo)}function qb(e,t,r,n,i){return so(),my(i),t.flags|=256,er(e,t,r,n),t.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function xg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zk(e,t,r){var n=t.pendingProps,i=et.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(et,i&1),e===null)return dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Yf(s,n,0,null),e=qa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xg(r),t.memoizedState=yg,e):Py(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return NR(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=na(o,a):(a=qa(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?xg(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=yg,n}return a=e.child,e=a.sibling,n=na(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Py(e,t){return t=Yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,r,n){return n!==null&&my(n),oo(t,e.child,null,r),e=Py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NR(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Kp(Error(G(422))),cu(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Yf({mode:"visible",children:n.children},i,0,null),a=qa(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&oo(t,e.child,null,s),t.child.memoizedState=xg(s),t.memoizedState=yg,a);if(!(t.mode&1))return cu(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(G(419)),n=Kp(a,n,void 0),cu(e,t,s,n)}if(o=(s&e.childLanes)!==0,gr||o){if(n=It,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fi(e,i),Sn(n,e,i,-1))}return Ry(),n=Kp(Error(G(421))),cu(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=FR.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mr=Zi(i.nextSibling),Lr=t,Ge=!0,bn=null,e!==null&&(en[tn++]=ri,en[tn++]=ni,en[tn++]=Za,ri=e.id,ni=e.overflow,Za=t),t=Py(t,n.children),t.flags|=4096,t)}function Gb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fg(e.return,t,r)}function Hp(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function eN(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(er(e,t,n.children,r),n=et.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gb(e,r,t);else if(e.tag===19)Gb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(et,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hp(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hp(t,!0,r,null,a);break;case"together":Hp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CR(e,t,r){switch(t.tag){case 3:Qk(t),so();break;case 5:Nk(t);break;case 1:br(t.type)&&yd(t);break;case 4:wy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ze(wd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(et,et.current&1),t.flags|=128,null):r&t.child.childLanes?Zk(e,t,r):(ze(et,et.current&1),e=hi(e,t,r),e!==null?e.sibling:null);ze(et,et.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eN(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(et,et.current),n)break;return null;case 22:case 23:return t.lanes=0,Xk(e,t,r)}return hi(e,t,r)}var tN,bg,rN,nN;tN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bg=function(){};rN=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ua(Wn.current);var a=null;switch(r){case"input":i=zm(e,i),n=zm(e,n),a=[];break;case"select":i=rt({},i,{value:void 0}),n=rt({},n,{value:void 0}),a=[];break;case"textarea":i=Hm(e,i),n=Hm(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gd)}qm(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};nN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zo(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ER(e,t,r){var n=t.pendingProps;switch(py(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return br(t.type)&&vd(),Gt(t),null;case 3:return n=t.stateNode,lo(),He(xr),He(Qt),jy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(Eg(bn),bn=null))),bg(e,t),Gt(t),null;case 5:_y(t);var i=Ua(ql.current);if(r=t.type,e!==null&&t.stateNode!=null)rN(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Gt(t),null}if(e=Ua(Wn.current),ou(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Bn]=t,n[Hl]=a,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<ml.length;i++)We(ml[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":nb(n,a),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},We("invalid",n);break;case"textarea":ab(n,a),We("invalid",n)}qm(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&su(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&su(n.textContent,o,e),i=["children",""+o]):Rl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&We("scroll",n)}switch(r){case"input":Qc(n),ib(n,a,!0);break;case"textarea":Qc(n),sb(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Bn]=t,e[Hl]=n,tN(e,t,!1,!1),t.stateNode=e;e:{switch(s=Gm(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<ml.length;i++)We(ml[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":nb(e,n),i=zm(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=rt({},n,{value:void 0}),We("invalid",e);break;case"textarea":ab(e,n),i=Hm(e,n),We("invalid",e);break;default:i=n}qm(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?IS(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TS(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ml(e,l):typeof l=="number"&&Ml(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&We("scroll",e):l!=null&&Zv(e,a,l,s))}switch(r){case"input":Qc(e),ib(e,n,!1);break;case"textarea":Qc(e),sb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+aa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qs(e,!!n.multiple,a,!1):n.defaultValue!=null&&qs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)nN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ua(ql.current),Ua(Wn.current),ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bn]=t,(a=n.nodeValue!==r)&&(e=Lr,e!==null))switch(e.tag){case 3:su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=t,t.stateNode=n}return Gt(t),null;case 13:if(He(et),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Mr!==null&&t.mode&1&&!(t.flags&128))wk(),so(),t.flags|=98560,a=!1;else if(a=ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Bn]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),a=!1}else bn!==null&&(Eg(bn),bn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?kt===0&&(kt=3):Ry())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return lo(),bg(e,t),e===null&&Wl(t.stateNode.containerInfo),Gt(t),null;case 10:return yy(t.type._context),Gt(t),null;case 17:return br(t.type)&&vd(),Gt(t),null;case 19:if(He(et),a=t.memoizedState,a===null)return Gt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Zo(a,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sd(e),s!==null){for(t.flags|=128,Zo(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(et,et.current&1|2),t.child}e=e.sibling}a.tail!==null&&ot()>uo&&(t.flags|=128,n=!0,Zo(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ge)return Gt(t),null}else 2*ot()-a.renderingStartTime>uo&&r!==1073741824&&(t.flags|=128,n=!0,Zo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ot(),t.sibling=null,r=et.current,ze(et,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return Iy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ar&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function PR(e,t){switch(py(t),t.tag){case 1:return br(t.type)&&vd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),He(xr),He(Qt),jy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _y(t),null;case 13:if(He(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(et),null;case 4:return lo(),null;case 10:return yy(t.type._context),null;case 22:case 23:return Iy(),null;case 24:return null;default:return null}}var uu=!1,Xt=!1,OR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ws(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(e,t,n)}else r.current=null}function wg(e,t,r){try{r()}catch(n){it(e,t,n)}}var Yb=!1;function AR(e,t){if(ig=hd,e=lk(),fy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ag={focusedElem:e,selectionRange:r},hd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:vn(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){it(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=Yb,Yb=!1,g}function Nl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&wg(t,r,a)}i=i.next}while(i!==n)}}function qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _g(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function iN(e){var t=e.alternate;t!==null&&(e.alternate=null,iN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Hl],delete t[lg],delete t[hR],delete t[pR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aN(e){return e.tag===5||e.tag===3||e.tag===4}function Xb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gd));else if(n!==4&&(e=e.child,e!==null))for(jg(e,t,r),e=e.sibling;e!==null;)jg(e,t,r),e=e.sibling}function Sg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sg(e,t,r),e=e.sibling;e!==null;)Sg(e,t,r),e=e.sibling}var Ut=null,xn=!1;function Mi(e,t,r){for(r=r.child;r!==null;)sN(e,t,r),r=r.sibling}function sN(e,t,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Ff,r)}catch{}switch(r.tag){case 5:Xt||Ws(r,t);case 6:var n=Ut,i=xn;Ut=null,Mi(e,t,r),Ut=n,xn=i,Ut!==null&&(xn?(e=Ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(xn?(e=Ut,r=r.stateNode,e.nodeType===8?$p(e.parentNode,r):e.nodeType===1&&$p(e,r),Bl(e)):$p(Ut,r.stateNode));break;case 4:n=Ut,i=xn,Ut=r.stateNode.containerInfo,xn=!0,Mi(e,t,r),Ut=n,xn=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&wg(r,t,s),i=i.next}while(i!==n)}Mi(e,t,r);break;case 1:if(!Xt&&(Ws(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){it(r,t,o)}Mi(e,t,r);break;case 21:Mi(e,t,r);break;case 22:r.mode&1?(Xt=(n=Xt)||r.memoizedState!==null,Mi(e,t,r),Xt=n):Mi(e,t,r);break;default:Mi(e,t,r)}}function Jb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OR),t.forEach(function(n){var i=BR.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ut=o.stateNode,xn=!1;break e;case 3:Ut=o.stateNode.containerInfo,xn=!0;break e;case 4:Ut=o.stateNode.containerInfo,xn=!0;break e}o=o.return}if(Ut===null)throw Error(G(160));sN(a,s,i),Ut=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oN(t,e),t=t.sibling}function oN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Ln(e),n&4){try{Nl(3,e,e.return),qf(3,e)}catch(y){it(e,e.return,y)}try{Nl(5,e,e.return)}catch(y){it(e,e.return,y)}}break;case 1:mn(t,e),Ln(e),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(mn(t,e),Ln(e),n&512&&r!==null&&Ws(r,r.return),e.flags&32){var i=e.stateNode;try{Ml(i,"")}catch(y){it(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&PS(i,a),Gm(o,s);var u=Gm(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?IS(i,f):d==="dangerouslySetInnerHTML"?TS(i,f):d==="children"?Ml(i,f):Zv(i,d,f,u)}switch(o){case"input":Wm(i,a);break;case"textarea":OS(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?qs(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?qs(i,!!a.multiple,a.defaultValue,!0):qs(i,!!a.multiple,a.multiple?[]:"",!1))}i[Hl]=a}catch(y){it(e,e.return,y)}}break;case 6:if(mn(t,e),Ln(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){it(e,e.return,y)}}break;case 3:if(mn(t,e),Ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(y){it(e,e.return,y)}break;case 4:mn(t,e),Ln(e);break;case 13:mn(t,e),Ln(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ty=ot())),n&4&&Jb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Xt=(u=Xt)||d,mn(t,e),Xt=u):mn(t,e),Ln(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nl(4,h,h.return);break;case 1:Ws(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){it(n,r,y)}}break;case 5:Ws(h,h.return);break;case 22:if(h.memoizedState!==null){Zb(f);continue}}p!==null?(p.return=h,ne=p):Zb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=DS("display",s))}catch(y){it(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){it(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(t,e),Ln(e),n&4&&Jb(e);break;case 21:break;default:mn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(aN(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ml(i,""),n.flags&=-33);var a=Xb(e);Sg(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Xb(e);jg(e,o,s);break;default:throw Error(G(161))}}catch(l){it(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TR(e,t,r){ne=e,lN(e)}function lN(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var i=ne,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||uu;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xt;o=uu;var u=Xt;if(uu=s,(Xt=l)&&!u)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?ew(i):l!==null?(l.return=s,ne=l):ew(i);for(;a!==null;)ne=a,lN(a),a=a.sibling;ne=i,uu=o,Xt=u}Qb(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ne=a):Qb(e)}}function Qb(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||qf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Mb(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mb(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Xt||t.flags&512&&_g(t)}catch(h){it(t,t.return,h)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Zb(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function ew(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qf(4,t)}catch(l){it(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){it(t,i,l)}}var a=t.return;try{_g(t)}catch(l){it(t,a,l)}break;case 5:var s=t.return;try{_g(t)}catch(l){it(t,s,l)}}}catch(l){it(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var DR=Math.ceil,Cd=Si.ReactCurrentDispatcher,Oy=Si.ReactCurrentOwner,an=Si.ReactCurrentBatchConfig,Ee=0,It=null,yt=null,Wt=0,Ar=0,Ks=ha(0),kt=0,Jl=null,ts=0,Gf=0,Ay=0,Cl=null,mr=null,Ty=0,uo=1/0,Jn=null,Ed=!1,kg=null,ta=null,du=!1,Gi=null,Pd=0,El=0,Ng=null,Qu=-1,Zu=0;function ir(){return Ee&6?ot():Qu!==-1?Qu:Qu=ot()}function ra(e){return e.mode&1?Ee&2&&Wt!==0?Wt&-Wt:gR.transition!==null?(Zu===0&&(Zu=VS()),Zu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:ZS(e.type)),e):1}function Sn(e,t,r,n){if(50<El)throw El=0,Ng=null,Error(G(185));xc(e,r,n),(!(Ee&2)||e!==It)&&(e===It&&(!(Ee&2)&&(Gf|=r),kt===4&&Ki(e,Wt)),wr(e,n),r===1&&Ee===0&&!(t.mode&1)&&(uo=ot()+500,Kf&&pa()))}function wr(e,t){var r=e.callbackNode;gI(e,t);var n=fd(e,e===It?Wt:0);if(n===0)r!==null&&cb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cb(r),t===1)e.tag===0?mR(tw.bind(null,e)):yk(tw.bind(null,e)),dR(function(){!(Ee&6)&&pa()}),r=null;else{switch(qS(n)){case 1:r=iy;break;case 4:r=KS;break;case 16:r=dd;break;case 536870912:r=HS;break;default:r=dd}r=gN(r,cN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cN(e,t){if(Qu=-1,Zu=0,Ee&6)throw Error(G(327));var r=e.callbackNode;if(Qs()&&e.callbackNode!==r)return null;var n=fd(e,e===It?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Od(e,n);else{t=n;var i=Ee;Ee|=2;var a=dN();(It!==e||Wt!==t)&&(Jn=null,uo=ot()+500,Va(e,t));do try{MR();break}catch(o){uN(e,o)}while(!0);vy(),Cd.current=a,Ee=i,yt!==null?t=0:(It=null,Wt=0,t=kt)}if(t!==0){if(t===2&&(i=Zm(e),i!==0&&(n=i,t=Cg(e,i))),t===1)throw r=Jl,Va(e,0),Ki(e,n),wr(e,ot()),r;if(t===6)Ki(e,n);else{if(i=e.current.alternate,!(n&30)&&!IR(i)&&(t=Od(e,n),t===2&&(a=Zm(e),a!==0&&(n=a,t=Cg(e,a))),t===1))throw r=Jl,Va(e,0),Ki(e,n),wr(e,ot()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Aa(e,mr,Jn);break;case 3:if(Ki(e,n),(n&130023424)===n&&(t=Ty+500-ot(),10<t)){if(fd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ir(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=og(Aa.bind(null,e,mr,Jn),t);break}Aa(e,mr,Jn);break;case 4:if(Ki(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-jn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DR(n/1960))-n,10<n){e.timeoutHandle=og(Aa.bind(null,e,mr,Jn),n);break}Aa(e,mr,Jn);break;case 5:Aa(e,mr,Jn);break;default:throw Error(G(329))}}}return wr(e,ot()),e.callbackNode===r?cN.bind(null,e):null}function Cg(e,t){var r=Cl;return e.current.memoizedState.isDehydrated&&(Va(e,t).flags|=256),e=Od(e,t),e!==2&&(t=mr,mr=r,t!==null&&Eg(t)),e}function Eg(e){mr===null?mr=e:mr.push.apply(mr,e)}function IR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!kn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t){for(t&=~Ay,t&=~Gf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),n=1<<r;e[r]=-1,t&=~n}}function tw(e){if(Ee&6)throw Error(G(327));Qs();var t=fd(e,0);if(!(t&1))return wr(e,ot()),null;var r=Od(e,t);if(e.tag!==0&&r===2){var n=Zm(e);n!==0&&(t=n,r=Cg(e,n))}if(r===1)throw r=Jl,Va(e,0),Ki(e,t),wr(e,ot()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Aa(e,mr,Jn),wr(e,ot()),null}function Dy(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(uo=ot()+500,Kf&&pa())}}function rs(e){Gi!==null&&Gi.tag===0&&!(Ee&6)&&Qs();var t=Ee;Ee|=1;var r=an.transition,n=Me;try{if(an.transition=null,Me=1,e)return e()}finally{Me=n,an.transition=r,Ee=t,!(Ee&6)&&pa()}}function Iy(){Ar=Ks.current,He(Ks)}function Va(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uR(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(py(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vd();break;case 3:lo(),He(xr),He(Qt),jy();break;case 5:_y(n);break;case 4:lo();break;case 13:He(et);break;case 19:He(et);break;case 10:yy(n.type._context);break;case 22:case 23:Iy()}r=r.return}if(It=e,yt=e=na(e.current,null),Wt=Ar=t,kt=0,Jl=null,Ay=Gf=ts=0,mr=Cl=null,Ba!==null){for(t=0;t<Ba.length;t++)if(r=Ba[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ba=null}return e}function uN(e,t){do{var r=yt;try{if(vy(),Yu.current=Nd,kd){for(var n=tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kd=!1}if(es=0,At=wt=tt=null,kl=!1,Gl=0,Oy.current=null,r===null||r.return===null){kt=1,Jl=t,yt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Wt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=zb(s);if(p!==null){p.flags&=-257,Wb(p,s,o,a,t),p.mode&1&&Ub(a,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){Ub(a,u,t),Ry();break e}l=Error(G(426))}}else if(Ge&&o.mode&1){var v=zb(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Wb(v,s,o,a,t),my(co(l,o));break e}}a=l=co(l,o),kt!==4&&(kt=2),Cl===null?Cl=[a]:Cl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=qk(a,l,t);Rb(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ta===null||!ta.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Gk(a,o,t);Rb(a,_);break e}}a=a.return}while(a!==null)}hN(r)}catch(j){t=j,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function dN(){var e=Cd.current;return Cd.current=Nd,e===null?Nd:e}function Ry(){(kt===0||kt===3||kt===2)&&(kt=4),It===null||!(ts&268435455)&&!(Gf&268435455)||Ki(It,Wt)}function Od(e,t){var r=Ee;Ee|=2;var n=dN();(It!==e||Wt!==t)&&(Jn=null,Va(e,t));do try{RR();break}catch(i){uN(e,i)}while(!0);if(vy(),Ee=r,Cd.current=n,yt!==null)throw Error(G(261));return It=null,Wt=0,kt}function RR(){for(;yt!==null;)fN(yt)}function MR(){for(;yt!==null&&!oI();)fN(yt)}function fN(e){var t=mN(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?hN(e):yt=t,Oy.current=null}function hN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PR(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,yt=null;return}}else if(r=ER(r,t,Ar),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);kt===0&&(kt=5)}function Aa(e,t,r){var n=Me,i=an.transition;try{an.transition=null,Me=1,LR(e,t,r,n)}finally{an.transition=i,Me=n}return null}function LR(e,t,r,n){do Qs();while(Gi!==null);if(Ee&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(vI(e,a),e===It&&(yt=It=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,gN(dd,function(){return Qs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=an.transition,an.transition=null;var s=Me;Me=1;var o=Ee;Ee|=4,Oy.current=null,AR(e,r),oN(r,e),nR(ag),hd=!!ig,ag=ig=null,e.current=r,TR(r),lI(),Ee=o,Me=s,an.transition=a}else e.current=r;if(du&&(du=!1,Gi=e,Pd=i),a=e.pendingLanes,a===0&&(ta=null),dI(r.stateNode),wr(e,ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ed)throw Ed=!1,e=kg,kg=null,e;return Pd&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===Ng?El++:(El=0,Ng=e):El=0,pa(),null}function Qs(){if(Gi!==null){var e=qS(Pd),t=an.transition,r=Me;try{if(an.transition=null,Me=16>e?16:e,Gi===null)var n=!1;else{if(e=Gi,Gi=null,Pd=0,Ee&6)throw Error(G(331));var i=Ee;for(Ee|=4,ne=e.current;ne!==null;){var a=ne,s=a.child;if(ne.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Nl(8,d,a)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,p=d.return;if(iN(d),d===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ne=s;else e:for(;ne!==null;){if(a=ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Nl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ne=x;break e}ne=a.return}}var b=e.current;for(ne=b;ne!==null;){s=ne;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ne=w;else e:for(s=b;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:qf(9,o)}}catch(j){it(o,o.return,j)}if(o===s){ne=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ne=_;break e}ne=o.return}}if(Ee=i,pa(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Ff,e)}catch{}n=!0}return n}finally{Me=r,an.transition=t}}return!1}function rw(e,t,r){t=co(r,t),t=qk(e,t,1),e=ea(e,t,1),t=ir(),e!==null&&(xc(e,1,t),wr(e,t))}function it(e,t,r){if(e.tag===3)rw(e,e,r);else for(;t!==null;){if(t.tag===3){rw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=co(r,e),e=Gk(t,e,1),t=ea(t,e,1),e=ir(),t!==null&&(xc(t,1,e),wr(t,e));break}}t=t.return}}function $R(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&r,It===e&&(Wt&r)===r&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>ot()-Ty?Va(e,0):Ay|=r),wr(e,t)}function pN(e,t){t===0&&(e.mode&1?(t=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):t=1);var r=ir();e=fi(e,t),e!==null&&(xc(e,t,r),wr(e,r))}function FR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pN(e,r)}function BR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),pN(e,r)}var mN;mN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gr=!1,CR(e,t,r);gr=!!(e.flags&131072)}else gr=!1,Ge&&t.flags&1048576&&xk(t,bd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ju(e,t),e=t.pendingProps;var i=ao(t,Qt.current);Js(t,r),i=ky(null,t,n,e,i,r);var a=Ny();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(n)?(a=!0,yd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,by(t),i.updater=Vf,t.stateNode=i,i._reactInternals=t,pg(t,n,e,r),t=vg(null,t,n,!0,a,r)):(t.tag=0,Ge&&a&&hy(t),er(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=zR(n),e=vn(n,e),i){case 0:t=gg(null,t,n,e,r);break e;case 1:t=Vb(null,t,n,e,r);break e;case 11:t=Kb(null,t,n,e,r);break e;case 14:t=Hb(null,t,n,vn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),gg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),Vb(e,t,n,i,r);case 3:e:{if(Qk(t),e===null)throw Error(G(387));n=t.pendingProps,a=t.memoizedState,i=a.element,kk(e,t),jd(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=co(Error(G(423)),t),t=qb(e,t,n,r,i);break e}else if(n!==i){i=co(Error(G(424)),t),t=qb(e,t,n,r,i);break e}else for(Mr=Zi(t.stateNode.containerInfo.firstChild),Lr=t,Ge=!0,bn=null,r=jk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),n===i){t=hi(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return Nk(t),e===null&&dg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,sg(n,i)?s=null:a!==null&&sg(n,a)&&(t.flags|=32),Jk(e,t),er(e,t,s,r),t.child;case 6:return e===null&&dg(t),null;case 13:return Zk(e,t,r);case 4:return wy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=oo(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),Kb(e,t,n,i,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ze(wd,n._currentValue),n._currentValue=s,a!==null)if(kn(a.value,s)){if(a.children===i.children&&!xr.current){t=hi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=si(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),fg(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(G(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),fg(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}er(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Js(t,r),i=sn(i),n=n(i),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,i=vn(n,t.pendingProps),i=vn(n.type,i),Hb(e,t,n,i,r);case 15:return Yk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),Ju(e,t),t.tag=1,br(n)?(e=!0,yd(t)):e=!1,Js(t,r),Vk(t,n,i),pg(t,n,i,r),vg(null,t,n,!0,e,r);case 19:return eN(e,t,r);case 22:return Xk(e,t,r)}throw Error(G(156,t.tag))};function gN(e,t){return WS(e,t)}function UR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,n){return new UR(e,t,r,n)}function My(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zR(e){if(typeof e=="function")return My(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ty)return 11;if(e===ry)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ed(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")My(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Is:return qa(r.children,i,a,t);case ey:s=8,i|=8;break;case $m:return e=rn(12,r,t,i|2),e.elementType=$m,e.lanes=a,e;case Fm:return e=rn(13,r,t,i),e.elementType=Fm,e.lanes=a,e;case Bm:return e=rn(19,r,t,i),e.elementType=Bm,e.lanes=a,e;case NS:return Yf(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SS:s=10;break e;case kS:s=9;break e;case ty:s=11;break e;case ry:s=14;break e;case $i:s=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=rn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function qa(e,t,r,n){return e=rn(7,e,n,t),e.lanes=r,e}function Yf(e,t,r,n){return e=rn(22,e,n,t),e.elementType=NS,e.lanes=r,e.stateNode={isHidden:!1},e}function Vp(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function qp(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WR(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cp(0),this.expirationTimes=Cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ly(e,t,r,n,i,a,s,o,l){return e=new WR(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(a),e}function KR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vN(e){if(!e)return sa;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(br(r))return vk(e,r,t)}return t}function yN(e,t,r,n,i,a,s,o,l){return e=Ly(r,n,!0,e,i,a,s,o,l),e.context=vN(null),r=e.current,n=ir(),i=ra(r),a=si(n,i),a.callback=t??null,ea(r,a,i),e.current.lanes=i,xc(e,i,n),wr(e,n),e}function Xf(e,t,r,n){var i=t.current,a=ir(),s=ra(i);return r=vN(r),t.context===null?t.context=r:t.pendingContext=r,t=si(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(i,t,s),e!==null&&(Sn(e,i,s,a),Gu(e,i,s)),s}function Ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $y(e,t){nw(e,t),(e=e.alternate)&&nw(e,t)}function HR(){return null}var xN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fy(e){this._internalRoot=e}Jf.prototype.render=Fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Xf(e,t,null,null)};Jf.prototype.unmount=Fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){Xf(null,e,null,null)}),t[di]=null}};function Jf(e){this._internalRoot=e}Jf.prototype.unstable_scheduleHydration=function(e){if(e){var t=XS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wi.length&&t!==0&&t<Wi[r].priority;r++);Wi.splice(r,0,e),r===0&&QS(e)}};function By(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iw(){}function VR(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ad(s);a.call(u)}}var s=yN(t,n,e,0,null,!1,!1,"",iw);return e._reactRootContainer=s,e[di]=s.current,Wl(e.nodeType===8?e.parentNode:e),rs(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Ad(l);o.call(u)}}var l=Ly(e,0,!1,null,null,!1,!1,"",iw);return e._reactRootContainer=l,e[di]=l.current,Wl(e.nodeType===8?e.parentNode:e),rs(function(){Xf(t,l,r,n)}),l}function Zf(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ad(s);o.call(l)}}Xf(t,s,e,i)}else s=VR(r,t,e,i,n);return Ad(s)}GS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pl(t.pendingLanes);r!==0&&(ay(t,r|1),wr(t,ot()),!(Ee&6)&&(uo=ot()+500,pa()))}break;case 13:rs(function(){var n=fi(e,1);if(n!==null){var i=ir();Sn(n,e,1,i)}}),$y(e,1)}};sy=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var r=ir();Sn(t,e,134217728,r)}$y(e,134217728)}};YS=function(e){if(e.tag===13){var t=ra(e),r=fi(e,t);if(r!==null){var n=ir();Sn(r,e,t,n)}$y(e,t)}};XS=function(){return Me};JS=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};Xm=function(e,t,r){switch(t){case"input":if(Wm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Wf(n);if(!i)throw Error(G(90));ES(n),Wm(n,i)}}}break;case"textarea":OS(e,r);break;case"select":t=r.value,t!=null&&qs(e,!!r.multiple,t,!1)}};LS=Dy;$S=rs;var qR={usingClientEntryPoint:!1,Events:[wc,$s,Wf,RS,MS,Dy]},el={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GR={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=US(e),e===null?null:e.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||HR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Ff=fu.inject(GR),zn=fu}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;zr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(t))throw Error(G(200));return KR(e,t,null,r)};zr.createRoot=function(e,t){if(!By(e))throw Error(G(299));var r=!1,n="",i=xN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ly(e,1,!1,null,null,r,!1,n,i),e[di]=t.current,Wl(e.nodeType===8?e.parentNode:e),new Fy(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=US(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return rs(e)};zr.hydrate=function(e,t,r){if(!Qf(t))throw Error(G(200));return Zf(null,e,t,!0,r)};zr.hydrateRoot=function(e,t,r){if(!By(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=xN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=yN(t,null,e,1,r??null,i,!1,a,s),e[di]=t.current,Wl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Jf(t)};zr.render=function(e,t,r){if(!Qf(t))throw Error(G(200));return Zf(null,e,t,!1,r)};zr.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(G(40));return e._reactRootContainer?(rs(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};zr.unstable_batchedUpdates=Dy;zr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qf(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Zf(e,t,r,!1,n)};zr.version="18.3.1-next-f1338f8080-20240426";function bN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bN)}catch(e){console.error(e)}}bN(),bS.exports=zr;var Yi=bS.exports,wN,aw=Yi;wN=aw.createRoot,aw.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sw="popstate";function YR(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Pg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ql(i)}return JR(t,r,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Br(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substring(2,10)}function ow(e,t){return{usr:e.state,key:e.key,idx:t}}function Pg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?So(t):t,state:r,key:t&&t.key||n||XR()}}function Ql({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function JR(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:y.location,delta:x})}function h(v,x){o="PUSH";let b=Pg(y.location,v,x);u=d()+1;let w=ow(b,u),_=y.createHref(b);try{s.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}a&&l&&l({action:o,location:y.location,delta:1})}function p(v,x){o="REPLACE";let b=Pg(y.location,v,x);u=d();let w=ow(b,u),_=y.createHref(b);s.replaceState(w,"",_),a&&l&&l({action:o,location:y.location,delta:0})}function g(v){return QR(v)}let y={get action(){return o},get location(){return e(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sw,f),l=v,()=>{i.removeEventListener(sw,f),l=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}function QR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ql(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _N(e,t,r="/"){return ZR(e,t,r,!1)}function ZR(e,t,r,n){let i=typeof t=="string"?So(t):t,a=pi(i.pathname||"/",r);if(a==null)return null;let s=jN(e);eM(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=dM(a);o=cM(s[l],u,n)}return o}function jN(e,t=[],r=[],n="",i=!1){let a=(s,o,l=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Xe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=oi([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Xe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),jN(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:oM(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of SN(s.path))a(s,o,!0,u)}),t}function SN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=SN(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function eM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var tM=/^:[\w-]+$/,rM=3,nM=2,iM=1,aM=10,sM=-2,lw=e=>e==="*";function oM(e,t){let r=e.split("/"),n=r.length;return r.some(lw)&&(n+=sM),t&&(n+=nM),r.filter(i=>!lw(i)).reduce((i,a)=>i+(tM.test(a)?rM:a===""?iM:aM),n)}function lM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function cM(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Td({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Td({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:oi([a,f.pathname]),pathnameBase:gM(oi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=oi([a,f.pathnameBase]))}return s}function Td(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uM(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function uM(e,t=!1,r=!0){Br(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function dM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Br(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var fM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hM=e=>fM.test(e);function pM(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?So(e):e,a;if(r)if(hM(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?a=cw(r.substring(1),"/"):a=cw(r,t)}else a=t;return{pathname:a,search:vM(n),hash:yM(i)}}function cw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uy(e){let t=mM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function zy(e,t,r,n=!1){let i;typeof e=="string"?i=So(e):(i={...e},Xe(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=pM(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var oi=e=>e.join("/").replace(/\/\/+/g,"/"),gM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kN=["POST","PUT","PATCH","DELETE"];new Set(kN);var bM=["GET",...kN];new Set(bM);var ko=m.createContext(null);ko.displayName="DataRouter";var eh=m.createContext(null);eh.displayName="DataRouterState";m.createContext(!1);var NN=m.createContext({isTransitioning:!1});NN.displayName="ViewTransition";var wM=m.createContext(new Map);wM.displayName="Fetchers";var _M=m.createContext(null);_M.displayName="Await";var Tn=m.createContext(null);Tn.displayName="Navigation";var jc=m.createContext(null);jc.displayName="Location";var Dn=m.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Wy=m.createContext(null);Wy.displayName="RouteError";function jM(e,{relative:t}={}){Xe(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Tn),{hash:i,pathname:a,search:s}=Sc(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:oi([r,a])),n.createHref({pathname:o,search:s,hash:i})}function No(){return m.useContext(jc)!=null}function Gn(){return Xe(No(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(jc).location}var CN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EN(e){m.useContext(Tn).static||m.useLayoutEffect(e)}function Co(){let{isDataRoute:e}=m.useContext(Dn);return e?LM():SM()}function SM(){Xe(No(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(ko),{basename:t,navigator:r}=m.useContext(Tn),{matches:n}=m.useContext(Dn),{pathname:i}=Gn(),a=JSON.stringify(Uy(n)),s=m.useRef(!1);return EN(()=>{s.current=!0}),m.useCallback((l,u={})=>{if(Br(s.current,CN),!s.current)return;if(typeof l=="number"){r.go(l);return}let d=zy(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:oi([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}m.createContext(null);function kM(){let{matches:e}=m.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function Sc(e,{relative:t}={}){let{matches:r}=m.useContext(Dn),{pathname:n}=Gn(),i=JSON.stringify(Uy(r));return m.useMemo(()=>zy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function NM(e,t){return PN(e,t)}function PN(e,t,r,n,i){var b;Xe(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(Tn),{matches:s}=m.useContext(Dn),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";ON(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Gn(),p;if(t){let w=typeof t=="string"?So(t):t;Xe(d==="/"||((b=w.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=h;let g=p.pathname||"/",y=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=_N(e,{pathname:y});Br(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Br(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=AM(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:oi([d,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:oi([d,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,r,n,i);return t&&x?m.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function CM(){let e=MM(),t=xM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,s)}var EM=m.createElement(CM,null),PM=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(Dn.Provider,{value:this.props.routeContext},m.createElement(Wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OM({routeContext:e,match:t,children:r}){let n=m.useContext(ko);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Dn.Provider,{value:e},r)}function AM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Xe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=r&&n?(d,f)=>{var h,p;n(d,{location:r.location,params:((p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:f})}:void 0;return a.reduceRight((d,f,h)=>{let p,g=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||EM,o&&(l<0&&h===0?(ON("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),b=()=>{let w;return p?w=y:g?w=v:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(OM,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(PM,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):b()},null)}function Ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TM(e){let t=m.useContext(ko);return Xe(t,Ky(e)),t}function DM(e){let t=m.useContext(eh);return Xe(t,Ky(e)),t}function IM(e){let t=m.useContext(Dn);return Xe(t,Ky(e)),t}function Hy(e){let t=IM(e),r=t.matches[t.matches.length-1];return Xe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function RM(){return Hy("useRouteId")}function MM(){var n;let e=m.useContext(Wy),t=DM("useRouteError"),r=Hy("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function LM(){let{router:e}=TM("useNavigate"),t=Hy("useNavigate"),r=m.useRef(!1);return EN(()=>{r.current=!0}),m.useCallback(async(i,a={})=>{Br(r.current,CN),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var uw={};function ON(e,t,r){!t&&!uw[e]&&(uw[e]=!0,Br(!1,r))}m.memo($M);function $M({routes:e,future:t,state:r,unstable_onError:n}){return PN(e,void 0,r,n,t)}function Dd({to:e,replace:t,state:r,relative:n}){Xe(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(Tn);Br(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=m.useContext(Dn),{pathname:s}=Gn(),o=Co(),l=zy(e,Uy(a),s,n==="path"),u=JSON.stringify(l);return m.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Cr(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FM({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Xe(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=So(r));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=m.useMemo(()=>{let g=pi(l,s);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[s,l,u,d,f,h,n]);return Br(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement(Tn.Provider,{value:o},m.createElement(jc.Provider,{children:t,value:p}))}function BM({children:e,location:t}){return NM(Og(e),t)}function Og(e,t=[]){let r=[];return m.Children.forEach(e,(n,i)=>{if(!m.isValidElement(n))return;let a=[...t,i];if(n.type===m.Fragment){r.push.apply(r,Og(n.props.children,a));return}Xe(n.type===Cr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Og(n.props.children,a)),r.push(s)}),r}var td="get",rd="application/x-www-form-urlencoded";function th(e){return e!=null&&typeof e.tagName=="string"}function UM(e){return th(e)&&e.tagName.toLowerCase()==="button"}function zM(e){return th(e)&&e.tagName.toLowerCase()==="form"}function WM(e){return th(e)&&e.tagName.toLowerCase()==="input"}function KM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HM(e,t){return e.button===0&&(!t||t==="_self")&&!KM(e)}function Ag(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function VM(e,t){let r=Ag(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var hu=null;function qM(){if(hu===null)try{new FormData(document.createElement("form"),0),hu=!1}catch{hu=!0}return hu}var GM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yp(e){return e!=null&&!GM.has(e)?(Br(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):e}function YM(e,t){let r,n,i,a,s;if(zM(e)){let o=e.getAttribute("action");n=o?pi(o,t):null,r=e.getAttribute("method")||td,i=Yp(e.getAttribute("enctype"))||rd,a=new FormData(e)}else if(UM(e)||WM(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?pi(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||td,i=Yp(e.getAttribute("formenctype"))||Yp(o.getAttribute("enctype"))||rd,a=new FormData(o,e),!qM()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(th(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=td,n=null,i=rd,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XM(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&pi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function JM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZM(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await JM(a,r);return s.links?s.links():[]}return[]}));return n5(n.flat(1).filter(QM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dw(e,t,r,n,i,a){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function e5(e,t,{includeHydrateFallback:r}={}){return t5(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function t5(e){return[...new Set(e)]}function r5(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function n5(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(r5(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function AN(){let e=m.useContext(ko);return Vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function i5(){let e=m.useContext(eh);return Vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qy=m.createContext(void 0);qy.displayName="FrameworkContext";function TN(){let e=m.useContext(qy);return Vy(e,"You must render this element inside a <HydratedRouter> element"),e}function a5(e,t){let r=m.useContext(qy),[n,i]=m.useState(!1),[a,s]=m.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=x=>{x.forEach(b=>{s(b.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),m.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:tl(o,p),onBlur:tl(l,g),onMouseEnter:tl(u,p),onMouseLeave:tl(d,g),onTouchStart:tl(f,p)}]:[!1,h,{}]}function tl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function s5({page:e,...t}){let{router:r}=AN(),n=m.useMemo(()=>_N(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(l5,{page:e,matches:n,...t}):null}function o5(e){let{manifest:t,routeModules:r}=TN(),[n,i]=m.useState([]);return m.useEffect(()=>{let a=!1;return ZM(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function l5({page:e,matches:t,...r}){let n=Gn(),{manifest:i,routeModules:a}=TN(),{basename:s}=AN(),{loaderData:o,matches:l}=i5(),u=m.useMemo(()=>dw(e,t,l,i,n,"data"),[e,t,l,i,n]),d=m.useMemo(()=>dw(e,t,l,i,n,"assets"),[e,t,l,i,n]),f=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var w;let b=i.routes[x.route.id];!b||!b.hasLoader||(!u.some(_=>_.route.id===x.route.id)&&x.route.id in o&&((w=a[x.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let v=XM(e,s,"data");return y&&g.size>0&&v.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[s,o,n,i,u,t,e,a]),h=m.useMemo(()=>e5(d,i),[d,i]),p=o5(d);return m.createElement(m.Fragment,null,f.map(g=>m.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>m.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:y})=>m.createElement("link",{key:g,nonce:r.nonce,...y})))}function c5(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DN&&(window.__reactRouterVersion="7.9.6")}catch{}function u5({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=YR({window:r,v5Compat:!0}));let i=n.current,[a,s]=m.useState({action:i.action,location:i.location}),o=m.useCallback(l=>{m.startTransition(()=>s(l))},[s]);return m.useLayoutEffect(()=>i.listen(o),[i,o]),m.createElement(FM,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RN=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:g}=m.useContext(Tn),y=typeof u=="string"&&IN.test(u),v,x=!1;if(typeof u=="string"&&y&&(v=u,DN))try{let E=new URL(window.location.href),C=u.startsWith("//")?new URL(E.protocol+u):new URL(u),P=pi(C.pathname,g);C.origin===E.origin&&P!=null?u=P+C.search+C.hash:x=!0}catch{Br(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=jM(u,{relative:i}),[w,_,j]=a5(n,h),S=p5(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function k(E){t&&t(E),E.defaultPrevented||S(E)}let N=m.createElement("a",{...h,...j,href:v||b,onClick:x||a?t:k,ref:c5(p,_),target:l,"data-discover":!y&&r==="render"?"true":void 0});return w&&!y?m.createElement(m.Fragment,null,N,m.createElement(s5,{page:b})):N});RN.displayName="Link";var d5=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let f=Sc(s,{relative:u.relative}),h=Gn(),p=m.useContext(eh),{navigator:g,basename:y}=m.useContext(Tn),v=p!=null&&x5(f)&&o===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=pi(w,y)||w);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=b===x||!i&&b.startsWith(x)&&b.charAt(_)==="/",S=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),k={isActive:j,isPending:S,isTransitioning:v},N=j?t:void 0,E;typeof n=="function"?E=n(k):E=[n,j?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(k):a;return m.createElement(RN,{...u,"aria-current":N,className:E,ref:d,style:C,to:s,viewTransition:o},typeof l=="function"?l(k):l)});d5.displayName="NavLink";var f5=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=td,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let g=v5(),y=y5(o,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&IN.test(o),b=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||s;g(_||w.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return m.createElement("form",{ref:p,method:v,action:y,onSubmit:n?l:b,...h,"data-discover":!x&&e==="render"?"true":void 0})});f5.displayName="Form";function h5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MN(e){let t=m.useContext(ko);return Xe(t,h5(e)),t}function p5(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Co(),l=Gn(),u=Sc(e,{relative:a});return m.useCallback(d=>{if(HM(d,t)){d.preventDefault();let f=r!==void 0?r:Ql(l)===Ql(u);o(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,r,n,t,e,i,a,s])}function LN(e){Br(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Ag(e)),r=m.useRef(!1),n=Gn(),i=m.useMemo(()=>VM(n.search,r.current?null:t.current),[n.search]),a=Co(),s=m.useCallback((o,l)=>{const u=Ag(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}var m5=0,g5=()=>`__${String(++m5)}__`;function v5(){let{router:e}=MN("useSubmit"),{basename:t}=m.useContext(Tn),r=RM();return m.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=YM(n,t);if(i.navigate===!1){let d=i.fetcherKey||g5();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function y5(e,{relative:t}={}){let{basename:r}=m.useContext(Tn),n=m.useContext(Dn);Xe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Sc(e||".",{relative:t})},s=Gn();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:oi([r,a.pathname])),Ql(a)}function x5(e,{relative:t}={}){let r=m.useContext(NN);Xe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=MN("useViewTransitionState"),i=Sc(e,{relative:t});if(!r.isTransitioning)return!1;let a=pi(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=pi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Td(i.pathname,s)!=null||Td(i.pathname,a)!=null}var Tg=function(e,t){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tg(e,t)};function $N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Id=function(){return Id=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Id.apply(this,arguments)};function Eo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function FN(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function BN(e,t){return function(r,n){t(r,n,e)}}function UN(e,t,r,n,i,a){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(x||null))};var v=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[l],g);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(d.get=f),(f=s(v.set))&&(d.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(o==="field"?i.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function zN(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function WN(e){return typeof e=="symbol"?e:"".concat(e)}function KN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function HN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ce(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function VN(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var rh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function qN(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rh(t,e,r)}function Rd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function GN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gy(arguments[t]));return e}function YN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function XN(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function fo(e){return this instanceof fo?(this.v=e,this):new fo(e)}function JN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(i[p]=function(y){return new Promise(function(v,x){a.push([p,y,v,x])>1||l(p,y)})},g&&(i[p]=g(i[p])))}function l(p,g){try{u(n[p](g))}catch(y){h(a[0][3],y)}}function u(p){p.value instanceof fo?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,g){p(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function QN(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:fo(e[i](s)),done:!1}:a?a(s):s}:a}}function ZN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rd=="function"?Rd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function e2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var b5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Dg=function(e){return Dg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Dg(e)};function t2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Dg(e),n=0;n<r.length;n++)r[n]!=="default"&&rh(t,e,r[n]);return b5(t,e),t}function r2(e){return e&&e.__esModule?e:{default:e}}function n2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function i2(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function a2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function s2(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var w5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function o2(e){function t(a){e.error=e.hasError?new w5(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function l2(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const _5={__extends:$N,__assign:Id,__rest:Eo,__decorate:FN,__param:BN,__esDecorate:UN,__runInitializers:zN,__propKey:WN,__setFunctionName:KN,__metadata:HN,__awaiter:ce,__generator:VN,__createBinding:rh,__exportStar:qN,__values:Rd,__read:Gy,__spread:GN,__spreadArrays:YN,__spreadArray:XN,__await:fo,__asyncGenerator:JN,__asyncDelegator:QN,__asyncValues:ZN,__makeTemplateObject:e2,__importStar:t2,__importDefault:r2,__classPrivateFieldGet:n2,__classPrivateFieldSet:i2,__classPrivateFieldIn:a2,__addDisposableResource:s2,__disposeResources:o2,__rewriteRelativeImportExtension:l2},j5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:s2,get __assign(){return Id},__asyncDelegator:QN,__asyncGenerator:JN,__asyncValues:ZN,__await:fo,__awaiter:ce,__classPrivateFieldGet:n2,__classPrivateFieldIn:a2,__classPrivateFieldSet:i2,__createBinding:rh,__decorate:FN,__disposeResources:o2,__esDecorate:UN,__exportStar:qN,__extends:$N,__generator:VN,__importDefault:r2,__importStar:t2,__makeTemplateObject:e2,__metadata:HN,__param:BN,__propKey:WN,__read:Gy,__rest:Eo,__rewriteRelativeImportExtension:l2,__runInitializers:zN,__setFunctionName:KN,__spread:GN,__spreadArray:XN,__spreadArrays:YN,__values:Rd,default:_5},Symbol.toStringTag,{value:"Module"})),S5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class k5 extends Yy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fw extends Yy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hw extends Yy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ig;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ig||(Ig={}));class N5{constructor(t,{headers:r={},customFetch:n,region:i=Ig.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=S5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ce(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const x=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:v}).catch(j=>{throw new k5(j)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new fw(x);if(!x.ok)throw new hw(x);let w=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof hw||o instanceof fw?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var tr={};const Po=_D(j5);var pu={},mu={},gu={},vu={},yu={},xu={},pw;function c2(){if(pw)return xu;pw=1,Object.defineProperty(xu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xu.default=e,xu}var mw;function u2(){if(mw)return yu;mw=1,Object.defineProperty(yu,"__esModule",{value:!0});const t=Po.__importDefault(c2());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let p=null,g=null,y=null,v=l.status,x=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const w=await l.text();try{p=JSON.parse(w),Array.isArray(p)&&l.status===404&&(g=[],p=null,v=200,x="OK")}catch{l.status===404&&w===""?(v=204,x="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,f,h,p,g;let y="";const v=l==null?void 0:l.cause;if(v){const x=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",b=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${x}`,b&&(y+=` (${b})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return yu.default=r,yu}var gw;function d2(){if(gw)return vu;gw=1,Object.defineProperty(vu,"__esModule",{value:!0});const t=Po.__importDefault(u2());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return vu.default=r,vu}var vw;function Xy(){if(vw)return gu;vw=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=Po.__importDefault(d2()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${u}fts${d}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return gu.default=n,gu}var yw;function f2(){if(yw)return mu;yw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=Po.__importDefault(Xy());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return mu.default=r,mu}var xw;function C5(){if(xw)return pu;xw=1,Object.defineProperty(pu,"__esModule",{value:!0});const e=Po,t=e.__importDefault(f2()),r=e.__importDefault(Xy());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return pu.default=n,pu}Object.defineProperty(tr,"__esModule",{value:!0});var h2=tr.PostgrestError=j2=tr.PostgrestBuilder=w2=tr.PostgrestTransformBuilder=x2=tr.PostgrestFilterBuilder=v2=tr.PostgrestQueryBuilder=m2=tr.PostgrestClient=void 0;const Oo=Po,p2=Oo.__importDefault(C5());var m2=tr.PostgrestClient=p2.default;const g2=Oo.__importDefault(f2());var v2=tr.PostgrestQueryBuilder=g2.default;const y2=Oo.__importDefault(Xy());var x2=tr.PostgrestFilterBuilder=y2.default;const b2=Oo.__importDefault(d2());var w2=tr.PostgrestTransformBuilder=b2.default;const _2=Oo.__importDefault(u2());var j2=tr.PostgrestBuilder=_2.default;const S2=Oo.__importDefault(c2());h2=tr.PostgrestError=S2.default;var k2=tr.default={PostgrestClient:p2.default,PostgrestQueryBuilder:g2.default,PostgrestFilterBuilder:y2.default,PostgrestTransformBuilder:b2.default,PostgrestBuilder:_2.default,PostgrestError:S2.default};const E5=lS({__proto__:null,get PostgrestBuilder(){return j2},get PostgrestClient(){return m2},get PostgrestError(){return h2},get PostgrestFilterBuilder(){return x2},get PostgrestQueryBuilder(){return v2},get PostgrestTransformBuilder(){return w2},default:k2},[tr]),{PostgrestClient:P5,PostgrestQueryBuilder:zZ,PostgrestFilterBuilder:WZ,PostgrestTransformBuilder:KZ,PostgrestBuilder:HZ,PostgrestError:VZ}=k2||E5;class O5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A5="2.83.0",T5=`realtime-js/${A5}`,N2="1.0.0",D5="2.0.0",bw=N2,Rg=1e4,I5=1e3,R5=100;var Ma;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ma||(Ma={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var Qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qr||(Qr={}));var Mg;(function(e){e.websocket="websocket"})(Mg||(Mg={}));var La;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(La||(La={}));class M5{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:i,topic:a,payload:s}=t,o=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+l.length+o.length+a.length+i.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),h=0;f.setUint8(h++,this.KINDS.push),f.setUint8(h++,l.length),f.setUint8(h++,o.length),f.setUint8(h++,a.length),f.setUint8(h++,i.length),Array.from(l,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(i,g=>f.setUint8(h++,g.charCodeAt(0)));var p=new Uint8Array(d.byteLength+s.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(s),d.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,i,a;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,l.length),p.setUint8(g++,o.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,this.BINARY_ENCODING),Array.from(l,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(s,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>p.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+d.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(d),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,i,a;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,l.length),y.setUint8(v++,o.length),y.setUint8(v++,s.length),y.setUint8(v++,u.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(l,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(v++,b.charCodeAt(0)));var x=new Uint8Array(g.byteLength+h.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(h),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(t.slice(o,o+i));o=o+i;const u=n.decode(t.slice(o,o+a));o=o+a;const d=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:l,ref:null,topic:u,event:d,payload:f}}_decodeReply(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const h=n.decode(t.slice(l,l+o));l=l+o;const p=JSON.parse(n.decode(t.slice(l,t.byteLength))),g={status:h,response:p};return{join_ref:u,ref:d,topic:f,event:Qr.reply,payload:g}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:u}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class C2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const ww=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=L5(s,e,t,i),a),{}):{}},L5=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?E2(a,s):Lg(s)},E2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return U5(t,r)}switch(e){case Be.bool:return $5(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return F5(t);case Be.json:case Be.jsonb:return B5(t);case Be.timestamp:return z5(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Lg(t);default:return Lg(t)}},Lg=e=>e,$5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},U5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>E2(t,o))}return e},z5=e=>typeof e=="string"?e.replace(" ","T"):e,P2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xp{constructor(t,r,n={},i=Rg){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _w;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_w||(_w={}));class Pl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Pl.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pl.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(l[u]=y)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jw||(jw={}));var Ol;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ol||(Ol={}));var Qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class Jy{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xp(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new C2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Pl(this),this.broadcastEndpointURL=P2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ol.PRESENCE]&&this.bindings[Ol.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(Qn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,x=[];for(let b=0;b<v;b++){const w=y[b],{filter:{event:_,schema:j,table:S,filter:k}}=w,N=p&&p[b];if(N&&N.event===_&&N.schema===j&&N.table===S&&N.filter===k)x.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=bt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Qn.SUBSCRIBED);return}}).receive("error",p=>{this.state=bt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===bt.joined&&t===Ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xp(this,Qr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Qr;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var g,y,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:v,commit_timestamp:x,type:b,errors:w}=g;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jy.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qr.close,{},t)}_onError(t){this._on(Qr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ww(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ww(t.columns,t.old_record)),r}}const Jp=()=>{},bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W5=[1e3,2e3,5e3,1e4],K5=1e4,H5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rg,this.transport=null,this.heartbeatIntervalMs=bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jp,this.ref=0,this.reconnectTimer=null,this.vsn=bw,this.logger=Jp,this.conn=null,this.sendBuffer=[],this.serializer=new M5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mg.websocket}`,this.httpEndpoint=P2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ma.connecting:return La.Connecting;case Ma.open:return La.Open;case Ma.closing:return La.Closing;default:return La.Closed}}isConnected(){return this.connectionState()===La.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Jy(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(I5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ma.open||this.conn.readyState===Ma.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([H5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:T5};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new C2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Rg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:bu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Jp,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:bw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>W5[g-1]||K5,this.vsn){case N2:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,y)=>y(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case D5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Qy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class q5 extends Qy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $g extends Qy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Zy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G5=()=>Response,Fg=e=>{if(Array.isArray(e))return e.map(r=>Fg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Fg(n)}),t},Y5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},X5=(e,t,r)=>ce(void 0,void 0,void 0,function*(){const n=yield G5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new q5(Qp(i),a,s))}).catch(i=>{t(new $g(Qp(i),i))}):t(new $g(Qp(e),e))}),J5=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Y5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function kc(e,t,r,n,i,a){return ce(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,J5(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>X5(l,o,n))})})}function Zl(e,t,r,n){return ce(this,void 0,void 0,function*(){return kc(e,"GET",t,r,n)})}function yn(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return kc(e,"POST",t,n,i,r)})}function Bg(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return kc(e,"PUT",t,n,i,r)})}function Q5(e,t,r,n){return ce(this,void 0,void 0,function*(){return kc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function e0(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return kc(e,"DELETE",t,n,i,r)})}class Z5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}}var O2;class e4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[O2]="BlobDownloadBuilder",this.promise=null}asStream(){return new Z5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}}O2=Symbol.toStringTag;const t4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r4{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Zy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ce(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Sw),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Bg:yn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ce(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Sw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Bg(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield yn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Qy("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}update(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield yn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ce(this,void 0,void 0,function*(){try{const i=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>Zl(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new e4(l,this.shouldThrowOnError)}info(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}exists(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n)&&n instanceof $g){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ce(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}list(t,r,n){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},t4),r),{prefix:t||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}listV2(t,r){return ce(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const A2="2.83.0",T2={"X-Client-Info":`storage-js/${A2}`};class n4{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},T2),r),this.fetch=Zy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}createBucket(t){return ce(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Bg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class i4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},T2),r),this.fetch=Zy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}const t0={"X-Client-Info":`storage-js/${A2}`,"Content-Type":"application/json"};class D2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zp extends D2{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class a4 extends D2{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var kw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kw||(kw={}));const r0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o4=(e,t,r)=>ce(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Zp(Nw(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Zp(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Zp(o,i,s))}}else t(new a4(Nw(e),e))}),l4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(s4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function c4(e,t,r,n,i,a){return ce(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,l4(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>o4(l,o,n))})})}function Ir(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return c4(e,"POST",t,n,i,r)})}class u4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),r),this.fetch=r0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}}class d4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),r),this.fetch=r0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ir(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ir(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ir(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class f4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),r),this.fetch=r0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(){return ce(this,arguments,void 0,function*(t={}){try{return{data:yield Ir(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class h4 extends f4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new p4(this.url,this.headers,t,this.fetch)}}class p4 extends u4{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new m4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class m4 extends d4{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class g4 extends n4{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new r4(this.url,this.headers,t,this.fetch)}get vectors(){return new h4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new i4(this.url+"/iceberg",this.headers,this.fetch)}}const v4="2.83.0";let gl="";typeof Deno<"u"?gl="deno":typeof document<"u"?gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gl="react-native":gl="node";const y4={"X-Client-Info":`supabase-js-${gl}/${v4}`},x4={headers:y4},b4={schema:"public"},w4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_4={},j4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S4=()=>Headers,k4=(e,t,r)=>{const n=j4(r),i=S4();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))}};function N4(e){return e.endsWith("/")?e:e+"/"}function C4(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function E4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const I2="2.83.0",As=30*1e3,Ug=3,em=Ug*As,P4="http://localhost:9999",O4="supabase.auth.token",A4={"X-Client-Info":`gotrue-js/${I2}`},zg="X-Supabase-Api-Version",R2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D4=10*60*1e3;class ec extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I4 extends ec{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function R4(e){return fe(e)&&e.name==="AuthApiError"}class $a extends ec{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ma extends ec{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Er extends ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M4(e){return fe(e)&&e.name==="AuthSessionMissingError"}class bs extends ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wu extends ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _u extends ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L4(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cw extends ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wg extends ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class Ew extends ma{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kg extends ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pw=` 	
\r=`.split(""),$4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pw.length;t+=1)e[Pw[t].charCodeAt(0)]=-2;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=t;return e})();function Ow(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Md[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Md[n]),t.queuedBits-=6}}function M2(e,t,r){const n=$4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Aw(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{U4(s,n,r)};for(let s=0;s<e.length;s+=1)M2(e.charCodeAt(s),i,a);return t.join("")}function F4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}F4(n,t)}}function U4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Zs(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)M2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function z4(e){const t=[];return B4(e,r=>t.push(r)),new Uint8Array(t)}function za(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Ow(i,r,n)),Ow(null,r,n),t.join("")}function W4(e){return Math.round(Date.now()/1e3)+e}function K4(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},L2=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function H4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const $2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),V4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ts=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ca=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Li=async(e,t)=>{await e.removeItem(t)};class nh{constructor(){this.promise=new nh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}nh.promiseConstructor=Promise;function rm(e){const t=e.split(".");if(t.length!==3)throw new Kg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!T4.test(t[n]))throw new Kg("JWT not in base64url format");return{header:JSON.parse(Aw(t[0])),payload:JSON.parse(Aw(t[1])),signature:Zs(t[2]),raw:{header:t[0],payload:t[1]}}}async function q4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G4(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Y4(e){return("0"+e.toString(16)).substr(-2)}function X4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Y4).join("")}async function J4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Q4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await J4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ws(e,t,r=!1){const n=X4();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ts(e,`${t}-code-verifier`,i);const a=await Q4(n);return[a,n===a?"plain":"s256"]}const Z4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eL(e){const t=e.headers.get(zg);if(!t||!t.match(Z4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _s(e){if(!nL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iL(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Tw(e){return JSON.parse(JSON.stringify(e))}const Ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aL=[502,503,504];async function Dw(e){var t;if(!V4(e))throw new Wg(Ta(e),0);if(aL.includes(e.status))throw new Wg(Ta(e),e.status);let r;try{r=await e.json()}catch(a){throw new $a(Ta(a),a)}let n;const i=eL(e);if(i&&i.getTime()>=R2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ew(Ta(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Ew(Ta(r),e.status,r.weak_password.reasons);throw new I4(Ta(r),e.status||500,n)}const sL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ge(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[zg]||(a[zg]=R2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await oL(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function oL(e,t,r,n,i,a){const s=sL(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Wg(Ta(l),0)}if(o.ok||await Dw(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Dw(l)}}function gn(e){var t;let r=null;uL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=W4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Iw(e){const t=gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lL(e){return{data:e,error:null}}function cL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Eo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Rw(e){return e}function uL(e){return e.access_token&&e.refresh_token&&e.expires_in}const im=["global","local","others"];class dL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=im[0]){if(im.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Eo(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hi})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Rw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_s(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hi})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_s(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_s(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_s(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_s(t.userId),_s(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Rw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function Mw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const js={debug:!!(globalThis&&L2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fL extends F2{}async function hL(e,t,r){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(js.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function B2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mL(e){return parseInt(e,16)}function gL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function vL(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=B2(e.address),g=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${v}
${x}`}class gt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ld extends gt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function yL({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(U2(s)){if(a.rp.id!==s)return new gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xL({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(U2(n)){if(r.rpId!==n)return new gt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wL=new bL;function _L(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Eo(e,["challenge","user","excludeCredentials"]),a=Zs(t).buffer,s=Object.assign(Object.assign({},r),{id:Zs(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Zs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function jL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Eo(e,["challenge","allowCredentials"]),i=Zs(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Zs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function SL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:za(new Uint8Array(e.response.attestationObject)),clientDataJSON:za(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:za(new Uint8Array(i.authenticatorData)),clientDataJSON:za(new Uint8Array(i.clientDataJSON)),signature:za(new Uint8Array(i.signature)),userHandle:i.userHandle?za(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lw(){var e,t;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function NL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ld("Browser returned unexpected credential type",t)}:{data:null,error:new Ld("Empty credential response",t)}}catch(t){return{data:null,error:yL({error:t,options:e})}}}async function CL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ld("Browser returned unexpected credential type",t)}:{data:null,error:new Ld("Empty credential response",t)}}catch(t){return{data:null,error:xL({error:t,options:e})}}}const EL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $d(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=$d(o,s):n[a]=$d(s)}else n[a]=s}return n}function OL(e,t){return $d(EL,e,t||{})}function AL(e,t){return $d(PL,e,t||{})}class TL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??wL.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=OL(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await NL({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=AL(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await CL(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new $a("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new ec("rpId is required for WebAuthn authentication")};try{if(!Lw())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new $a("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new ec("rpId is required for WebAuthn registration")};try{if(!Lw())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new $a("Unexpected error in register",s)}}}}pL();const DL={url:P4,storageKey:O4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function $w(e,t,r){return await r()}const Ss={};class tc{get jwks(){var t,r;return(r=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ss[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},DL),t);if(this.storageKey=a.storageKey,this.instanceID=(r=tc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ft()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=$2(a.fetch),this.lock=a.lock||$w,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hL:this.lock=$w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:L2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Mw(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ft()&&(r=H4(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ft()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),L4(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?this._returnResult({error:r}):this._returnResult({error:new $a("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gn}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ws(this.storage,this.storageKey)),a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:gn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gn})}else throw new wu("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Iw})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Iw})}else throw new wu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new bs;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:x,options:b}=t;let w;if(Ft())if(typeof v=="object")w=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=B2(j[0]);let k=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const E=await w.request({method:"eth_chainId"});k=mL(E)}const N={domain:_.host,address:S,statement:x,uri:_.href,version:"1",chainId:k,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=vL(N),g=await w.request({method:"personal_sign",params:[gL(p),S]})}try{const{data:y,error:v}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gn});if(v)throw v;if(!y||!y.session||!y.user){const x=new bs;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(fe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,i,a,s,o,l,u,d,f,h,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let _;if(Ft())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:v,error:x}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:za(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gn});if(x)throw x;if(!v||!v.session||!v.user){const b=new bs;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(fe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gn});if(await Li(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gn}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new bs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ws(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new wu("You must provide either an email or phone number.")}catch(o){if(fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ws(this.storage,this.storageKey));const u=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:lL});return!((a=u.data)===null||a===void 0)&&a.url&&Ft()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(fe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Er;const{error:i}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(fe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new wu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ca(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=nm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=iL(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hi}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hi})})}catch(r){if(fe(r))return M4(r)&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Er;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await ws(this.storage,this.storageKey));const{data:u,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Hi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(fe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=rm(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Er;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ft())throw new _u("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _u(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _u("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cw("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new _u("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=As&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(fe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(R4(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=K4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ws(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(fe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(fe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new bs}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await G4(async i=>(i>0&&await q4(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&tm(a)&&Date.now()+s-n<As})}catch(n){if(this._debug(r,"error",n),fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ca(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ts(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:nm()}else if(i&&!i.user&&!i.user){const s=await Ca(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Li(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,i)):i.user=nm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<em;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${em}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),tm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Er;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),fe(a)){const s={data:null,error:a};return tm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Tw(i);await Ts(this.storage,this.storageKey,a)}else{const i=Tw(r);await Ts(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Li(this.storage,this.storageKey),await Li(this.storage,this.storageKey+"-code-verifier"),await Li(this.storage,this.storageKey+"-user"),this.userStorage&&await Li(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/As);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${As}ms, refresh threshold is ${Ug} ticks`),i<=Ug&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await ws(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?SL(t.webauthn.credential_response):kL(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:_L(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:jL(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rm(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Er});const s=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Er});const s=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ft()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Er})})}catch(t){if(fe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+D4>i)return n;const{data:a,error:s}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=rm(n);r!=null&&r.allowExpired||tL(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=rL(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,z4(`${o}.${l}`)))throw new Kg("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}}tc.nextInstanceID={};const IL=tc;class RL extends IL{constructor(t){super(t)}}class ML{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=E4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:b4,realtime:_4,auth:Object.assign(Object.assign({},w4),{storageKey:l}),global:x4},d=C4(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=k4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new P5(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new g4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new N5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RL({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new V5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LL=(e,t,r)=>new ML(e,t,r);function $L(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$L()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z2="https://gomwhbewjdcllejifdyf.supabase.co",W2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvbXdoYmV3amRjbGxlamlmZHlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MTUzNjYsImV4cCI6MjA3OTA5MTM2Nn0.fvIW61htbjtfkT5ZP4FGBTw96KSGZbr9qxSJiMDp-qQ",am=[!z2,!W2].filter(Boolean);if(am.length>0){const e=`Missing Supabase environment variable${am.length>1?"s":""}: ${am.join(", ")}. Copy .env.example to .env and provide your Supabase project credentials.`;throw new Error(e)}const X=LL(z2,W2);async function Fw(e){const{data:t}=await X.from("user_settings").select("global_role, workspace_id").eq("user_id",e).maybeSingle(),{data:r}=await X.from("user_teams").select("team_id, role").eq("user_id",e).maybeSingle();return t?{userId:e,globalRole:t.global_role,teamId:(r==null?void 0:r.team_id)||null,teamRole:(r==null?void 0:r.role)||null,workspaceId:t.workspace_id||null,isActive:t.is_active??!0}:null}function FL(e){return!!e&&e.globalRole==="admin"}function oa(e){switch(e){case"admin":return"Admin";case"sales_manager":return"Manager";case"team_lead":return"Team Lead";case"agent":default:return"Agent"}}function K2(e){return e?["admin","sales_manager","team_lead"].includes(e.globalRole):!1}function BL(e){return(e==null?void 0:e.globalRole)==="admin"}function H2(e){return(e==null?void 0:e.globalRole)==="admin"}const V2=m.createContext(void 0);function UL({children:e}){const[t,r]=m.useState(null),[n,i]=m.useState(null),[a,s]=m.useState(!0);m.useEffect(()=>{X.auth.getSession().then(async({data:{session:f}})=>{if(r((f==null?void 0:f.user)??null),f!=null&&f.user){const h=await Fw(f.user.id);i(h)}s(!1)});const{data:{subscription:d}}=X.auth.onAuthStateChange((f,h)=>{(async()=>{if(r((h==null?void 0:h.user)??null),h!=null&&h.user){const p=await Fw(h.user.id);i(p)}else i(null)})()});return()=>d.unsubscribe()},[]);const o=async(d,f,h,p)=>{if(!p)return{error:{message:"An invite code is required to create an account"}};const{data:g,error:y}=await X.auth.signUp({email:d,password:f,options:{data:{name:h}}});if(y||!g.user)return{error:y};const{error:v}=await X.rpc("accept_workspace_invite",{invite_token:p});return v?{error:{message:v.message}}:{error:null}},l=async(d,f)=>{const{error:h}=await X.auth.signInWithPassword({email:d,password:f});return{error:h}},u=async()=>{await X.auth.signOut()};return c.jsx(V2.Provider,{value:{user:t,roleInfo:n,loading:a,signUp:o,signIn:l,signOut:u},children:e})}function ct(){const e=m.useContext(V2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},d)=>m.createElement("svg",{ref:d,...zL,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${WL(e)}`,o].join(" "),...u},[...t.map(([f,h])=>m.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=le("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=le("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=le("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=le("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=le("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=le("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=le("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=le("Trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function x$(){const{user:e,roleInfo:t}=ct(),r=Co(),[n,i]=m.useState(!1),[a,s]=m.useState(""),[o,l]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{const w=_=>{p.current&&!p.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),m.useEffect(()=>{const _=setTimeout(async()=>{if(!a.trim()||a.length<2){l([]),d(!1);return}h(!0),d(!0);try{const{data:j,error:S}=await X.from("deals").select("id, client_name, property_address, client_email, client_phone, status, expected_sale_price").eq("user_id",e==null?void 0:e.id).or(`client_name.ilike.%${a}%,property_address.ilike.%${a}%,client_email.ilike.%${a}%,client_phone.ilike.%${a}%`).limit(5);if(S)throw S;l(j||[])}catch(j){console.error("Search error:",j),l([])}finally{h(!1)}},300);return()=>clearTimeout(_)},[a,e==null?void 0:e.id]);const g=w=>{s(""),d(!1),r("/pipeline"),setTimeout(()=>{const _=document.querySelector(`[data-deal-id="${w}"]`);_&&(_.scrollIntoView({behavior:"smooth",block:"center"}),_.classList.add("ring-2","ring-[rgb(0,122,255)]","ring-offset-2"),setTimeout(()=>{_.classList.remove("ring-2","ring-[rgb(0,122,255)]","ring-offset-2")},2e3))},100)},y=()=>{s(""),l([]),d(!1)},v=async()=>{await X.auth.signOut(),r("/login")},x=()=>{r("/pipeline?newDeal=true")},b=oa(t==null?void 0:t.globalRole);return c.jsx("header",{className:"sticky top-0 z-50 border-b border-white/30 bg-white/75 backdrop-blur-2xl shadow-[0_12px_30px_rgba(15,23,42,0.08)]",children:c.jsxs("div",{className:"mx-auto flex h-16 w-full items-center gap-4 px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-semibold text-gray-900 shadow-[0_2px_8px_rgba(15,23,42,0.08)]",children:c.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-8 w-auto"})}),c.jsx("div",{className:"hidden lg:flex w-96",ref:p,children:c.jsxs("div",{className:"relative w-full",children:[c.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:c.jsx(i0,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"text",value:a,onChange:w=>s(w.target.value),placeholder:"Search deals, people, addresses...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2 pl-10 pr-10 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15"}),a&&c.jsx("button",{onClick:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(Ao,{className:"h-4 w-4"})}),u&&c.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-3 rounded-2xl border border-white/70 bg-white/95 shadow-[0_15px_40px_rgba(15,23,42,0.16)]",children:f?c.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"Searching"}):o.length>0?o.map(w=>c.jsxs("button",{onClick:()=>g(w.id),className:"flex w-full items-start justify-between px-4 py-3 text-left hover:bg-gray-50",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:w.client_name}),c.jsx("p",{className:"truncate text-xs text-gray-500",children:w.property_address}),(w.client_email||w.client_phone)&&c.jsx("p",{className:"truncate text-xs text-gray-400",children:w.client_email||w.client_phone})]}),c.jsxs("div",{className:"ml-3 flex flex-col items-end gap-1",children:[c.jsx("span",{className:"rounded-full bg-blue-50 px-2 py-0.5 text-xs font-medium text-blue-700",children:w.status.replace(/_/g," ")}),c.jsxs("span",{className:"text-xs text-gray-500",children:["$",w.expected_sale_price.toLocaleString()]})]})]},w.id)):c.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:["No deals found matching ",a,"."]})})]})})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsxs("button",{onClick:x,className:"hidden sm:inline-flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-medium text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/40 hover:text-[var(--app-accent)]",children:[c.jsx(ca,{className:"h-4 w-4"}),"New deal"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>i(w=>!w),className:"flex items-center gap-2 rounded-2xl border border-white/50 bg-white/80 px-2.5 py-1.5 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30",children:[c.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:c.jsx(sh,{className:"h-4 w-4"})}),c.jsxs("div",{className:"hidden text-left sm:block",children:[c.jsx("p",{className:"text-xs font-semibold text-gray-900",children:e==null?void 0:e.email}),c.jsx("p",{className:"text-[11px] text-gray-500",children:b})]})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-3 w-64 rounded-2xl border border-white/70 bg-white/95 shadow-[0_25px_60px_rgba(15,23,42,0.16)]",children:[c.jsxs("div",{className:"border-b border-gray-100 px-4 py-3 space-y-1",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e==null?void 0:e.email}),c.jsxs("p",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-600",children:b}),"Signed in"]})]}),c.jsxs("button",{onClick:()=>{i(!1),r("/settings")},className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50",children:[c.jsx(ah,{className:"h-4 w-4"}),c.jsx("span",{children:"Personal Settings"})]}),c.jsxs("button",{onClick:v,className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-red-600 transition hover:bg-red-50",children:[c.jsx(i$,{className:"h-4 w-4"}),c.jsx("span",{children:"Sign out"})]})]})]})]})]})})}const b$=[{icon:e$,label:"Dashboard",path:"/"},{icon:v$,label:"Pipeline",path:"/pipeline"},{icon:Y2,label:"Tasks",path:"/tasks"},{icon:qL,label:"Analytics",path:"/analytics"}],w$=[{icon:ns,label:"Luma AI",path:"/luma"}],_$=[{icon:ah,label:"Settings",path:"/workspace-settings"}];function j$({isCollapsed:e,onToggle:t}){const r=Gn(),n=Co(),i=(a,s)=>c.jsxs("div",{children:[c.jsx("p",{className:`px-3 pb-2 text-[12px] font-semibold uppercase tracking-[0.35em] text-gray-400 ${e?"sr-only":""}`,children:a}),c.jsx("div",{className:"space-y-1",children:s.map(o=>{const l=o.icon,u=r.pathname===o.path,d=e?"justify-center px-2":"gap-3 px-4 text-left";return c.jsxs("button",{onClick:()=>n(o.path),"aria-label":o.label,title:o.label,className:`flex w-full items-center rounded-2xl py-3 text-[15px] font-semibold transition ${d} ${u?"bg-[rgba(10,132,255,0.12)] text-[var(--app-accent)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.2)]":"text-gray-600 hover:bg-white/70 hover:text-gray-900"}`,children:[c.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-2xl border text-gray-700 ${u?"border-[rgba(10,132,255,0.3)] bg-white/80":"border-white/60 bg-white/90"}`,children:c.jsx(l,{className:"h-[18px] w-[18px]",strokeWidth:2})}),!e&&c.jsx("span",{className:"whitespace-nowrap",children:o.label})]},o.path)})})]});return c.jsxs("nav",{className:`sticky top-24 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/80 shadow-[0_15px_40px_rgba(15,23,42,0.12)] transition-all duration-300 ${e?"p-3":"p-4"}`,children:[c.jsxs("div",{className:`mb-6 flex items-center ${e?"justify-center":"justify-between"}`,children:[!e&&c.jsx("p",{className:"text-[13px] font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Navigation"}),c.jsx("button",{type:"button",onClick:t,"aria-pressed":!e,"aria-expanded":!e,"aria-label":e?"Expand sidebar navigation":"Collapse sidebar navigation",className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-white/70 bg-white/90 text-gray-700 transition hover:text-[var(--app-accent)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-accent)]",children:e?c.jsx(X2,{className:"h-5 w-5"}):c.jsx(XL,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-6",children:[i("Primary",b$),i("Intelligence",w$)]}),c.jsx("div",{className:"mt-6 border-t border-[var(--app-border)] pt-4",children:i("Workspace",_$)})]})}function S$({children:e}){const[t,r]=m.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_var(--app-bg-start),_var(--app-bg-mid)_45%,_var(--app-bg-end))] text-[var(--app-text-primary)] overflow-x-hidden",children:[c.jsx(x$,{}),c.jsxs("div",{className:"relative mx-auto flex w-full flex-col gap-6 px-4 pb-10 pt-6 lg:flex-row lg:px-8",children:[c.jsx("div",{className:`transition-[width] duration-300 ease-in-out w-full lg:flex-shrink-0 ${t?"lg:w-20":"lg:w-64"}`,children:c.jsx(j$,{isCollapsed:t,onToggle:()=>r(n=>!n)})}),c.jsx("main",{className:"flex-1 overflow-x-hidden transition-[margin] duration-300 ease-in-out",children:c.jsx("div",{className:"min-h-[calc(100vh-10rem)] rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/85 p-4 shadow-[0_10px_50px_rgba(15,23,42,0.08)] sm:p-6 lg:p-8",children:e})})]})]})}function k$({onToggle:e}){const[t,r]=m.useState(""),[n,i]=m.useState(""),[a,s]=m.useState(!1),[o,l]=m.useState(""),u=async d=>{d.preventDefault(),s(!0),l("");const{error:f}=await X.auth.signInWithPassword({email:t,password:n});f&&l(f.message),s(!1)};return c.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),c.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Sign in to PipelineIQ"}),c.jsx("p",{className:"text-center hig-text-caption",children:"Welcome back! Please sign in to continue."})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"hig-card p-8",children:[c.jsxs("form",{onSubmit:u,className:"space-y-5",children:[o&&c.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:o}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"hig-label",children:"Email address"}),c.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:d=>r(d.target.value),className:"hig-input",placeholder:"you@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),c.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:d=>i(d.target.value),className:"hig-input",placeholder:"Enter your password"})]}),c.jsx("button",{type:"submit",disabled:a,className:"hig-btn-primary w-full",children:a?"Signing in...":"Sign in"})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200/60"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to PipelineIQ?"})})]}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Create an account"})})]})]})})]})}function lC({onToggle:e,presetToken:t}){const{signUp:r}=ct(),[n]=LN(),[i,a]=m.useState(""),[s,o]=m.useState(t||n.get("invite")||""),[l,u]=m.useState(null),[d,f]=m.useState(""),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(""),[b,w]=m.useState(!1),[_,j]=m.useState(!1);m.useEffect(()=>{t&&t!==s&&o(t)},[t]);const S=l&&!_&&!b,k=async C=>{if(!C){u(null),f(""),p("");return}j(!0),f(""),u(null),x("");const{data:P,error:D}=await X.rpc("get_invite_preview",{invite_token:C});if(D){f("Unable to validate invite. Please check the code or contact your admin."),j(!1);return}const V=Array.isArray(P)?P[0]:P;if(!V){f("No invitation found for this code."),j(!1);return}if(V.status!=="pending"){f("This invitation has already been used or canceled."),j(!1);return}if(new Date(V.expires_at).getTime()<Date.now()){f("This invitation has expired. Please ask your admin to resend."),j(!1);return}u(V),p(V.email),f(""),j(!1)};m.useEffect(()=>{const C=setTimeout(()=>{s&&s.length>=6?k(s.trim()):(u(null),p(""))},300);return()=>clearTimeout(C)},[s]);const N=async C=>{if(C.preventDefault(),x(""),w(!0),!l||!s){x("A valid invite code is required to join the workspace."),w(!1);return}if(g.length<6){x("Password must be at least 6 characters"),w(!1);return}const{error:P}=await r(h,g,i,s.trim());P&&x(P.message),w(!1)},E=m.useMemo(()=>l?l.workspace_name||"Workspace":"",[l]);return c.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),c.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Accept your invitation"}),c.jsx("p",{className:"text-center hig-text-caption",children:"PipelineIQ access is invite-only. Paste the invite code from your email to continue."})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"hig-card p-8",children:[c.jsxs("form",{onSubmit:N,className:"space-y-5",children:[v&&c.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:v}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"invite",className:"hig-label flex items-center justify-between",children:["Invitation code",t&&c.jsx("span",{className:"text-[11px] text-gray-500",children:"Autofilled from your link"})]}),c.jsx("input",{id:"invite",type:"text",required:!0,value:s,onChange:C=>o(C.target.value),className:"hig-input uppercase tracking-[0.3em]",placeholder:"Paste your invite code"}),d&&c.jsx("p",{className:"text-xs text-red-600 mt-1",children:d})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Email"}),c.jsx("input",{type:"email",value:h,readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Role"}),c.jsx("input",{type:"text",value:l?oa(l.intended_role):"",readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]})]}),l&&c.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/70 px-4 py-3 text-sm text-gray-600",children:["Joining ",c.jsx("span",{className:"font-semibold text-gray-900",children:E})," as"," ",c.jsx("span",{className:"font-semibold text-gray-900",children:oa(l.intended_role)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"hig-label",children:"Full name"}),c.jsx("input",{id:"name",type:"text",required:!0,value:i,onChange:C=>a(C.target.value),className:"hig-input",placeholder:"John Doe",disabled:!l})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),c.jsx("input",{id:"password",type:"password",required:!0,value:g,onChange:C=>y(C.target.value),className:"hig-input",placeholder:"At least 6 characters",disabled:!l})]}),c.jsx("button",{type:"submit",disabled:!S,className:"hig-btn-primary w-full",children:b?"Creating account...":"Join workspace"})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200/60"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Back to sign in"}),c.jsx("p",{className:"mt-3 text-center text-xs text-gray-500",children:"Dont have an invite? Contact an admin in your workspace."})]})]})]})})]})}function N$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function To(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function a0(e){return"nodeType"in e}function lr(e){var t,r;return e?To(e)?e:a0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function s0(e){const{Document:t}=lr(e);return e instanceof t}function Nc(e){return To(e)?!1:e instanceof lr(e).HTMLElement}function cC(e){return e instanceof lr(e).SVGElement}function Do(e){return e?To(e)?e.document:a0(e)?s0(e)?e:Nc(e)||cC(e)?e.ownerDocument:document:document:document}const Nn=oh?m.useLayoutEffect:m.useEffect;function lh(e){const t=m.useRef(e);return Nn(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function C$(){const e=m.useRef(null),t=m.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function ic(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return Nn(()=>{r.current!==e&&(r.current=e)},t),r}function Cc(e,t){const r=m.useRef();return m.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Bd(e){const t=lh(e),r=m.useRef(null),n=m.useCallback(i=>{i!==r.current&&(t==null||t(i,r.current)),r.current=i},[]);return[r,n]}function Ud(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let sm={};function Ec(e,t){return m.useMemo(()=>{if(t)return t;const r=sm[e]==null?0:sm[e]+1;return sm[e]=r,e+"-"+r},[e,t])}function uC(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,s)=>{const o=Object.entries(s);for(const[l,u]of o){const d=a[l];d!=null&&(a[l]=d+e*u)}return a},{...t})}}const eo=uC(1),zd=uC(-1);function E$(e){return"clientX"in e&&"clientY"in e}function ch(e){if(!e)return!1;const{KeyboardEvent:t}=lr(e.target);return t&&e instanceof t}function P$(e){if(!e)return!1;const{TouchEvent:t}=lr(e.target);return t&&e instanceof t}function Wd(e){if(P$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return E$(e)?{x:e.clientX,y:e.clientY}:null}const Cn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Cn.Translate.toString(e),Cn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Uw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O$(e){return e.matches(Uw)?e:e.querySelector(Uw)}const A$={display:"none"};function T$(e){let{id:t,value:r}=e;return qe.createElement("div",{id:t,style:A$},r)}function D$(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return qe.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function I$(){const[e,t]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const dC=m.createContext(null);function R$(e){const t=m.useContext(dC);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function M$(){const[e]=m.useState(()=>new Set),t=m.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[m.useCallback(n=>{let{type:i,event:a}=n;e.forEach(s=>{var o;return(o=s[i])==null?void 0:o.call(s,a)})},[e]),t]}const L$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function F$(e){let{announcements:t=$$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=L$}=e;const{announce:a,announcement:s}=I$(),o=Ec("DndLiveRegion"),[l,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),R$(m.useMemo(()=>({onDragStart(f){let{active:h}=f;a(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&a(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;a(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;a(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;a(t.onDragCancel({active:h,over:p}))}}),[a,t])),!l)return null;const d=qe.createElement(qe.Fragment,null,qe.createElement(T$,{id:n,value:i.draggable}),qe.createElement(D$,{id:o,announcement:s}));return r?Yi.createPortal(d,r):d}var jt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(jt||(jt={}));function Kd(){}function uh(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function dh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const En=Object.freeze({x:0,y:0});function fC(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function B$(e,t){const r=Wd(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function hC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function U$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function z$(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function W$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function zw(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const o0=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=zw(t,t.left,t.top),a=[];for(const s of n){const{id:o}=s,l=r.get(o);if(l){const u=fC(zw(l),i);a.push({id:o,data:{droppableContainer:s,value:u}})}}return a.sort(hC)};function K$(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=i-n,o=a-r;if(n<i&&r<a){const l=t.width*t.height,u=e.width*e.height,d=s*o,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const H$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:s}=a,o=r.get(s);if(o){const l=K$(o,t);l>0&&i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(U$)};function V$(e,t){const{top:r,left:n,bottom:i,right:a}=t;return r<=e.y&&e.y<=i&&n<=e.x&&e.x<=a}const q$=e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:n}=e;if(!n)return[];const i=[];for(const a of t){const{id:s}=a,o=r.get(s);if(o&&V$(n,o)){const u=z$(o).reduce((f,h)=>f+fC(n,h),0),d=Number((u/4).toFixed(4));i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(hC)};function G$(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function pC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:En}function Y$(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((s,o)=>({...s,top:s.top+e*o.y,bottom:s.bottom+e*o.y,left:s.left+e*o.x,right:s.right+e*o.x}),{...r})}}const X$=Y$(1);function mC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function J$(e,t,r){const n=mC(t);if(!n)return e;const{scaleX:i,scaleY:a,x:s,y:o}=n,l=e.left-s-(1-i)*parseFloat(r),u=e.top-o-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const Q$={ignoreTransform:!1};function Io(e,t){t===void 0&&(t=Q$);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=lr(e).getComputedStyle(e);u&&(r=J$(r,u,d))}const{top:n,left:i,width:a,height:s,bottom:o,right:l}=r;return{top:n,left:i,width:a,height:s,bottom:o,right:l}}function Ww(e){return Io(e,{ignoreTransform:!0})}function Z$(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function e3(e,t){return t===void 0&&(t=lr(e).getComputedStyle(e)),t.position==="fixed"}function t3(e,t){t===void 0&&(t=lr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function l0(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(s0(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Nc(i)||cC(i)||r.includes(i))return r;const a=lr(e).getComputedStyle(i);return i!==e&&t3(i,a)&&r.push(i),e3(i,a)?r:n(i.parentNode)}return e?n(e):r}function gC(e){const[t]=l0(e,1);return t??null}function om(e){return!oh||!e?null:To(e)?e:a0(e)?s0(e)||e===Do(e).scrollingElement?window:Nc(e)?e:null:null}function vC(e){return To(e)?e.scrollX:e.scrollLeft}function yC(e){return To(e)?e.scrollY:e.scrollTop}function Vg(e){return{x:vC(e),y:yC(e)}}var Tt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Tt||(Tt={}));function xC(e){return!oh||!e?!1:e===document.scrollingElement}function bC(e){const t={x:0,y:0},r=xC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,o=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:s,isRight:o,maxScroll:n,minScroll:t}}const r3={x:.2,y:.2};function n3(e,t,r,n,i){let{top:a,left:s,right:o,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=r3);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=bC(e),p={x:0,y:0},g={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+y.height?(p.y=Tt.Backward,g.y=n*Math.abs((t.top+y.height-a)/y.height)):!d&&l>=t.bottom-y.height&&(p.y=Tt.Forward,g.y=n*Math.abs((t.bottom-y.height-l)/y.height)),!h&&o>=t.right-y.width?(p.x=Tt.Forward,g.x=n*Math.abs((t.right-y.width-o)/y.width)):!f&&s<=t.left+y.width&&(p.x=Tt.Backward,g.x=n*Math.abs((t.left+y.width-s)/y.width)),{direction:p,speed:g}}function i3(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function wC(e){return e.reduce((t,r)=>eo(t,Vg(r)),En)}function a3(e){return e.reduce((t,r)=>t+vC(r),0)}function s3(e){return e.reduce((t,r)=>t+yC(r),0)}function _C(e,t){if(t===void 0&&(t=Io),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);gC(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const o3=[["x",["left","right"],a3],["y",["top","bottom"],s3]];class c0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=l0(r),i=wC(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,s,o]of o3)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=o(n),d=i[a]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Al{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function l3(e){const{EventTarget:t}=lr(e);return e instanceof t?e:Do(e)}function lm(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Zr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Zr||(Zr={}));function Kw(e){e.preventDefault()}function c3(e){e.stopPropagation()}var De;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(De||(De={}));const jC={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},u3=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case De.Right:return{...r,x:r.x+25};case De.Left:return{...r,x:r.x-25};case De.Down:return{...r,y:r.y+25};case De.Up:return{...r,y:r.y-25}}};class SC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Al(Do(r)),this.windowListeners=new Al(lr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zr.Resize,this.handleCancel),this.windowListeners.add(Zr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&_C(n),r(En)}handleKeyDown(t){if(ch(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=jC,coordinateGetter:s=u3,scrollBehavior:o="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:En;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=zd(f,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const y of g){const v=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:_,maxScroll:j,minScroll:S}=bC(y),k=i3(y),N={x:Math.min(v===De.Right?k.right-k.width/2:k.right,Math.max(v===De.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(v===De.Down?k.bottom-k.height/2:k.bottom,Math.max(v===De.Down?k.top:k.top+k.height/2,f.y))},E=v===De.Right&&!b||v===De.Left&&!w,C=v===De.Down&&!_||v===De.Up&&!x;if(E&&N.x!==f.x){const P=y.scrollLeft+h.x,D=v===De.Right&&P<=j.x||v===De.Left&&P>=S.x;if(D&&!h.y){y.scrollTo({left:P,behavior:o});return}D?p.x=y.scrollLeft-P:p.x=v===De.Right?y.scrollLeft-j.x:y.scrollLeft-S.x,p.x&&y.scrollBy({left:-p.x,behavior:o});break}else if(C&&N.y!==f.y){const P=y.scrollTop+h.y,D=v===De.Down&&P<=j.y||v===De.Up&&P>=S.y;if(D&&!h.x){y.scrollTo({top:P,behavior:o});return}D?p.y=y.scrollTop-P:p.y=v===De.Down?y.scrollTop-j.y:y.scrollTop-S.y,p.y&&y.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(t,eo(zd(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}SC.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=jC,onActivation:i}=t,{active:a}=r;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const o=a.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Hw(e){return!!(e&&"distance"in e)}function Vw(e){return!!(e&&"delay"in e)}class u0{constructor(t,r,n){var i;n===void 0&&(n=l3(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:s}=a;this.props=t,this.events=r,this.document=Do(s),this.documentListeners=new Al(this.document),this.listeners=new Al(n),this.windowListeners=new Al(lr(s)),this.initialCoordinates=(i=Wd(a))!=null?i:En,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Zr.Resize,this.handleCancel),this.windowListeners.add(Zr.DragStart,Kw),this.windowListeners.add(Zr.VisibilityChange,this.handleCancel),this.windowListeners.add(Zr.ContextMenu,Kw),this.documentListeners.add(Zr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vw(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Hw(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Zr.Click,c3,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!i)return;const l=(r=Wd(t))!=null?r:En,u=zd(i,l);if(!n&&o){if(Hw(o)){if(o.tolerance!=null&&lm(u,o.tolerance))return this.handleCancel();if(lm(u,o.distance))return this.handleStart()}if(Vw(o)&&lm(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===De.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const d3={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ro extends u0{constructor(t){const{event:r}=t,n=Do(r.target);super(t,d3,n)}}Ro.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const f3={move:{name:"mousemove"},end:{name:"mouseup"}};var qg;(function(e){e[e.RightClick=2]="RightClick"})(qg||(qg={}));class h3 extends u0{constructor(t){super(t,f3,Do(t.event.target))}}h3.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===qg.RightClick?!1:(n==null||n({event:r}),!0)}}];const cm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class p3 extends u0{constructor(t){super(t,cm)}static setup(){return window.addEventListener(cm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(cm.move.name,t)};function t(){}}}p3.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var Tl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Tl||(Tl={}));var Hd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hd||(Hd={}));function m3(e){let{acceleration:t,activator:r=Tl.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:s=5,order:o=Hd.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=v3({delta:f,disabled:!a}),[g,y]=C$(),v=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),b=m.useMemo(()=>{switch(r){case Tl.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Tl.DraggableRect:return i}},[r,i,l]),w=m.useRef(null),_=m.useCallback(()=>{const S=w.current;if(!S)return;const k=v.current.x*x.current.x,N=v.current.y*x.current.y;S.scrollBy(k,N)},[]),j=m.useMemo(()=>o===Hd.TreeOrder?[...u].reverse():u,[o,u]);m.useEffect(()=>{if(!a||!u.length||!b){y();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const k=u.indexOf(S),N=d[k];if(!N)continue;const{direction:E,speed:C}=n3(S,N,b,t,h);for(const P of["x","y"])p[P][E[P]]||(C[P]=0,E[P]=0);if(C.x>0||C.y>0){y(),w.current=S,g(_,s),v.current=C,x.current=E;return}}v.current={x:0,y:0},x.current={x:0,y:0},y()},[t,_,n,y,a,s,JSON.stringify(b),JSON.stringify(p),g,u,j,d,JSON.stringify(h)])}const g3={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function v3(e){let{delta:t,disabled:r}=e;const n=Ud(t);return Cc(i=>{if(r||!n||!i)return g3;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Tt.Backward]:i.x[Tt.Backward]||a.x===-1,[Tt.Forward]:i.x[Tt.Forward]||a.x===1},y:{[Tt.Backward]:i.y[Tt.Backward]||a.y===-1,[Tt.Forward]:i.y[Tt.Forward]||a.y===1}}},[r,t,n])}function y3(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Cc(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function x3(e,t){return m.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...r,...a]},[]),[e,t])}var ac;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ac||(ac={}));var Gg;(function(e){e.Optimized="optimized"})(Gg||(Gg={}));const qw=new Map;function b3(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,s]=m.useState(null),{frequency:o,measure:l,strategy:u}=i,d=m.useRef(e),f=v(),h=ic(f),p=m.useCallback(function(x){x===void 0&&(x=[]),!h.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[h]),g=m.useRef(null),y=Cc(x=>{if(f&&!r)return qw;if(!x||x===qw||d.current!==e||a!=null){const b=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const _=w.node.current,j=_?new c0(l(_),_):null;w.rect.current=j,j&&b.set(w.id,j)}return b}return x},[e,a,r,f,l]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{f||p()},[r,f]),m.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),m.useEffect(()=>{f||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,f,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:a!=null};function v(){switch(u){case ac.Always:return!1;case ac.BeforeDragging:return r;default:return!r}}}function d0(e,t){return Cc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function w3(e,t){return d0(e,t)}function _3(e){let{callback:t,disabled:r}=e;const n=lh(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fh(e){let{callback:t,disabled:r}=e;const n=lh(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function j3(e){return new c0(Io(e),e)}function Gw(e,t,r){t===void 0&&(t=j3);const[n,i]=m.useState(null);function a(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??r)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const s=_3({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),o=fh({callback:a});return Nn(()=>{a(),e?(o==null||o.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[e]),n}function S3(e){const t=d0(e);return pC(e,t)}const Yw=[];function k3(e){const t=m.useRef(e),r=Cc(n=>e?n&&n!==Yw&&e&&t.current&&e.parentNode===t.current.parentNode?n:l0(e):Yw,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function N3(e){const[t,r]=m.useState(null),n=m.useRef(e),i=m.useCallback(a=>{const s=om(a.target);s&&r(o=>o?(o.set(s,Vg(s)),new Map(o)):null)},[]);return m.useEffect(()=>{const a=n.current;if(e!==a){s(a);const o=e.map(l=>{const u=om(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Vg(u)]):null}).filter(l=>l!=null);r(o.length?new Map(o):null),n.current=e}return()=>{s(e),s(a)};function s(o){o.forEach(l=>{const u=om(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>eo(a,s),En):wC(e):En,[e,t])}function Xw(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const n=e!==En;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?zd(e,r.current):En}function C3(e){m.useEffect(()=>{if(!oh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function E3(e,t){return m.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=s=>{a(s,t)},r},{}),[e,t])}function kC(e){return m.useMemo(()=>e?Z$(e):null,[e])}const Jw=[];function P3(e,t){t===void 0&&(t=Io);const[r]=e,n=kC(r?lr(r):null),[i,a]=m.useState(Jw);function s(){a(()=>e.length?e.map(l=>xC(l)?n:new c0(t(l),l)):Jw)}const o=fh({callback:s});return Nn(()=>{o==null||o.disconnect(),s(),e.forEach(l=>o==null?void 0:o.observe(l))},[e]),i}function NC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Nc(t)?t:e}function O3(e){let{measure:t}=e;const[r,n]=m.useState(null),i=m.useCallback(u=>{for(const{target:d}of u)if(Nc(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),a=fh({callback:i}),s=m.useCallback(u=>{const d=NC(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[o,l]=Bd(s);return m.useMemo(()=>({nodeRef:o,rect:r,setRef:l}),[r,o,l])}const A3=[{sensor:Ro,options:{}},{sensor:SC,options:{}}],T3={current:{}},nd={draggable:{measure:Ww},droppable:{measure:Ww,strategy:ac.WhileDragging,frequency:Gg.Optimized},dragOverlay:{measure:Io}};class Dl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const D3={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nd,measureDroppableContainers:Kd,windowRect:null,measuringScheduled:!1},CC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kd,draggableNodes:new Map,over:null,measureDroppableContainers:Kd},Pc=m.createContext(CC),EC=m.createContext(D3);function I3(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dl}}}function R3(e,t){switch(t.type){case jt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case jt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case jt.DragEnd:case jt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jt.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new Dl(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case jt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const s=new Dl(e.droppable.containers);return s.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case jt.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new Dl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function M3(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=m.useContext(Pc),a=Ud(n),s=Ud(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!n&&a&&s!=null){if(!ch(a)||document.activeElement===a.target)return;const o=i.get(s);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=O$(d);if(f){f.focus();break}}})}},[n,t,i,s,a]),null}function PC(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function L3(e){return m.useMemo(()=>({draggable:{...nd.draggable,...e==null?void 0:e.draggable},droppable:{...nd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $3(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=m.useRef(!1),{x:s,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Nn(()=>{if(!s&&!o||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=pC(d,n);if(s||(f.x=0),o||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=gC(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,s,o,n,r])}const hh=m.createContext({...En,scaleX:1,scaleY:1});var Bi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Bi||(Bi={}));const ph=m.memo(function(t){var r,n,i,a;let{id:s,accessibility:o,autoScroll:l=!0,children:u,sensors:d=A3,collisionDetection:f=H$,measuring:h,modifiers:p,...g}=t;const y=m.useReducer(R3,void 0,I3),[v,x]=y,[b,w]=M$(),[_,j]=m.useState(Bi.Uninitialized),S=_===Bi.Initialized,{draggable:{active:k,nodes:N,translate:E},droppable:{containers:C}}=v,P=k!=null?N.get(k):null,D=m.useRef({initial:null,translated:null}),V=m.useMemo(()=>{var Qe;return k!=null?{id:k,data:(Qe=P==null?void 0:P.data)!=null?Qe:T3,rect:D}:null},[k,P]),K=m.useRef(null),[Q,I]=m.useState(null),[W,L]=m.useState(null),B=ic(g,Object.values(g)),H=Ec("DndDescribedBy",s),te=m.useMemo(()=>C.getEnabled(),[C]),ee=L3(h),{droppableRects:we,measureDroppableContainers:T,measuringScheduled:Y}=b3(te,{dragging:S,dependencies:[E.x,E.y],config:ee.droppable}),re=y3(N,k),ve=m.useMemo(()=>W?Wd(W):null,[W]),Ne=Ii(),O=w3(re,ee.draggable.measure);$3({activeNode:k!=null?N.get(k):null,config:Ne.layoutShiftCompensation,initialRect:O,measure:ee.draggable.measure});const z=Gw(re,ee.draggable.measure,O),Z=Gw(re?re.parentElement:null),$=m.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:we,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=C.getNodeFor((r=$.current.over)==null?void 0:r.id),R=O3({measure:ee.dragOverlay.measure}),de=(n=R.nodeRef.current)!=null?n:re,be=S?(i=R.rect)!=null?i:z:null,Ce=!!(R.nodeRef.current&&R.rect),dt=S3(Ce?null:z),ba=kC(de?lr(de):null),jr=k3(S?Se??re:null),Rn=P3(jr),Kr=PC(p,{transform:{x:E.x-dt.x,y:E.y-dt.y,scaleX:1,scaleY:1},activatorEvent:W,active:V,activeNodeRect:z,containerNodeRect:Z,draggingNodeRect:be,over:$.current.over,overlayNodeRect:R.rect,scrollableAncestors:jr,scrollableAncestorRects:Rn,windowRect:ba}),Yn=ve?eo(ve,E):null,Ai=N3(jr),Hr=Xw(Ai),Sr=Xw(Ai,[z]),nt=eo(Kr,Hr),kr=be?X$(be,Kr):null,ft=V&&kr?f({active:V,collisionRect:kr,droppableRects:we,droppableContainers:te,pointerCoordinates:Yn}):null,vs=W$(ft,"id"),[Vr,ys]=m.useState(null),Ti=Ce?Kr:eo(Kr,Sr),qr=G$(Ti,(a=Vr==null?void 0:Vr.rect)!=null?a:null,z),Nr=m.useRef(null),wa=m.useCallback((Qe,ht)=>{let{sensor:pt,options:pn}=ht;if(K.current==null)return;const Vt=N.get(K.current);if(!Vt)return;const $t=Qe.nativeEvent,F=new pt({active:K.current,activeNode:Vt,event:$t,options:pn,context:$,onAbort(ye){if(!N.get(ye))return;const{onDragAbort:Pe}=B.current,A={id:ye};Pe==null||Pe(A),b({type:"onDragAbort",event:A})},onPending(ye,Te,Pe,A){if(!N.get(ye))return;const{onDragPending:q}=B.current,ae={id:ye,constraint:Te,initialCoordinates:Pe,offset:A};q==null||q(ae),b({type:"onDragPending",event:ae})},onStart(ye){const Te=K.current;if(Te==null)return;const Pe=N.get(Te);if(!Pe)return;const{onDragStart:A}=B.current,U={activatorEvent:$t,active:{id:Te,data:Pe.data,rect:D}};Yi.unstable_batchedUpdates(()=>{A==null||A(U),j(Bi.Initializing),x({type:jt.DragStart,initialCoordinates:ye,active:Te}),b({type:"onDragStart",event:U}),I(Nr.current),L($t)})},onMove(ye){x({type:jt.DragMove,coordinates:ye})},onEnd:oe(jt.DragEnd),onCancel:oe(jt.DragCancel)});Nr.current=F;function oe(ye){return async function(){const{active:Pe,collisions:A,over:U,scrollAdjustedTranslate:q}=$.current;let ae=null;if(Pe&&q){const{cancelDrop:J}=B.current;ae={activatorEvent:$t,active:Pe,collisions:A,delta:q,over:U},ye===jt.DragEnd&&typeof J=="function"&&await Promise.resolve(J(ae))&&(ye=jt.DragCancel)}K.current=null,Yi.unstable_batchedUpdates(()=>{x({type:ye}),j(Bi.Uninitialized),ys(null),I(null),L(null),Nr.current=null;const J=ye===jt.DragEnd?"onDragEnd":"onDragCancel";if(ae){const se=B.current[J];se==null||se(ae),b({type:J,event:ae})}})}}},[N]),Ho=m.useCallback((Qe,ht)=>(pt,pn)=>{const Vt=pt.nativeEvent,$t=N.get(pn);if(K.current!==null||!$t||Vt.dndKit||Vt.defaultPrevented)return;const F={active:$t};Qe(pt,ht.options,F)===!0&&(Vt.dndKit={capturedBy:ht.sensor},K.current=pn,wa(pt,ht))},[N,wa]),Di=x3(d,Ho);C3(d),Nn(()=>{z&&_===Bi.Initializing&&j(Bi.Initialized)},[z,_]),m.useEffect(()=>{const{onDragMove:Qe}=B.current,{active:ht,activatorEvent:pt,collisions:pn,over:Vt}=$.current;if(!ht||!pt)return;const $t={active:ht,activatorEvent:pt,collisions:pn,delta:{x:nt.x,y:nt.y},over:Vt};Yi.unstable_batchedUpdates(()=>{Qe==null||Qe($t),b({type:"onDragMove",event:$t})})},[nt.x,nt.y]),m.useEffect(()=>{const{active:Qe,activatorEvent:ht,collisions:pt,droppableContainers:pn,scrollAdjustedTranslate:Vt}=$.current;if(!Qe||K.current==null||!ht||!Vt)return;const{onDragOver:$t}=B.current,F=pn.get(vs),oe=F&&F.rect.current?{id:F.id,rect:F.rect.current,data:F.data,disabled:F.disabled}:null,ye={active:Qe,activatorEvent:ht,collisions:pt,delta:{x:Vt.x,y:Vt.y},over:oe};Yi.unstable_batchedUpdates(()=>{ys(oe),$t==null||$t(ye),b({type:"onDragOver",event:ye})})},[vs]),Nn(()=>{$.current={activatorEvent:W,active:V,activeNode:re,collisionRect:kr,collisions:ft,droppableRects:we,draggableNodes:N,draggingNode:de,draggingNodeRect:be,droppableContainers:C,over:Vr,scrollableAncestors:jr,scrollAdjustedTranslate:nt},D.current={initial:be,translated:kr}},[V,re,ft,kr,N,de,be,we,C,Vr,jr,nt]),m3({...Ne,delta:E,draggingRect:kr,pointerCoordinates:Yn,scrollableAncestors:jr,scrollableAncestorRects:Rn});const _a=m.useMemo(()=>({active:V,activeNode:re,activeNodeRect:z,activatorEvent:W,collisions:ft,containerNodeRect:Z,dragOverlay:R,draggableNodes:N,droppableContainers:C,droppableRects:we,over:Vr,measureDroppableContainers:T,scrollableAncestors:jr,scrollableAncestorRects:Rn,measuringConfiguration:ee,measuringScheduled:Y,windowRect:ba}),[V,re,z,W,ft,Z,R,N,C,we,Vr,T,jr,Rn,ee,Y,ba]),dr=m.useMemo(()=>({activatorEvent:W,activators:Di,active:V,activeNodeRect:z,ariaDescribedById:{draggable:H},dispatch:x,draggableNodes:N,over:Vr,measureDroppableContainers:T}),[W,Di,V,z,x,H,N,Vr,T]);return qe.createElement(dC.Provider,{value:w},qe.createElement(Pc.Provider,{value:dr},qe.createElement(EC.Provider,{value:_a},qe.createElement(hh.Provider,{value:qr},u)),qe.createElement(M3,{disabled:(o==null?void 0:o.restoreFocus)===!1})),qe.createElement(F$,{...o,hiddenTextDescribedById:H}));function Ii(){const Qe=(Q==null?void 0:Q.autoScrollEnabled)===!1,ht=typeof l=="object"?l.enabled===!1:l===!1,pt=S&&!Qe&&!ht;return typeof l=="object"?{...l,enabled:pt}:{enabled:pt}}}),F3=m.createContext(null),Qw="button",B3="Draggable";function U3(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Ec(B3),{activators:s,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=m.useContext(Pc),{role:p=Qw,roleDescription:g="draggable",tabIndex:y=0}=i??{},v=(l==null?void 0:l.id)===t,x=m.useContext(v?hh:F3),[b,w]=Bd(),[_,j]=Bd(),S=E3(s,t),k=ic(r);Nn(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:_,data:k}),()=>{const E=f.get(t);E&&E.key===a&&f.delete(t)}),[f,t]);const N=m.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":v&&p===Qw?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,y,v,g,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:N,isDragging:v,listeners:n?void 0:S,node:b,over:h,setNodeRef:w,setActivatorNodeRef:j,transform:x}}function OC(){return m.useContext(EC)}const z3="Droppable",W3={timeout:25};function AC(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Ec(z3),{active:s,dispatch:o,over:l,measureDroppableContainers:u}=m.useContext(Pc),d=m.useRef({disabled:r}),f=m.useRef(!1),h=m.useRef(null),p=m.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...W3,...i},x=ic(y??n),b=m.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),w=fh({callback:b,disabled:g||!s}),_=m.useCallback((N,E)=>{w&&(E&&(w.unobserve(E),f.current=!1),N&&w.observe(N))},[w]),[j,S]=Bd(_),k=ic(t);return m.useEffect(()=>{!w||!j.current||(w.disconnect(),f.current=!1,w.observe(j.current))},[j,w]),m.useEffect(()=>(o({type:jt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:j,rect:h,data:k}}),()=>o({type:jt.UnregisterDroppable,key:a,id:n})),[n]),m.useEffect(()=>{r!==d.current.disabled&&(o({type:jt.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,o]),{active:s,rect:h,isOver:(l==null?void 0:l.id)===n,node:j,over:l,setNodeRef:S}}function K3(e){let{animation:t,children:r}=e;const[n,i]=m.useState(null),[a,s]=m.useState(null),o=Ud(r);return!r&&!n&&o&&i(o),Nn(()=>{if(!a)return;const l=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,n,a]),qe.createElement(qe.Fragment,null,r,n?m.cloneElement(n,{ref:s}):null)}const H3={x:0,y:0,scaleX:1,scaleY:1};function V3(e){let{children:t}=e;return qe.createElement(Pc.Provider,{value:CC},qe.createElement(hh.Provider,{value:H3},t))}const q3={position:"fixed",touchAction:"none"},G3=e=>ch(e)?"transform 250ms ease":void 0,Y3=m.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:s,rect:o,style:l,transform:u,transition:d=G3}=e;if(!o)return null;const f=i?u:{...u,scaleX:1,scaleY:1},h={...q3,width:o.width,height:o.height,top:o.top,left:o.left,transform:Cn.Transform.toString(f),transformOrigin:i&&n?B$(n,o):void 0,transition:typeof d=="function"?d(n):d,...l};return qe.createElement(r,{className:s,style:h,ref:t},a)}),X3=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:a,className:s}=e;if(a!=null&&a.active)for(const[o,l]of Object.entries(a.active))l!==void 0&&(i[o]=r.node.style.getPropertyValue(o),r.node.style.setProperty(o,l));if(a!=null&&a.dragOverlay)for(const[o,l]of Object.entries(a.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))r.node.style.setProperty(l,u);s!=null&&s.active&&r.node.classList.remove(s.active)}},J3=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Cn.Transform.toString(t)},{transform:Cn.Transform.toString(r)}]},Q3={duration:250,easing:"ease",keyframes:J3,sideEffects:X3({styles:{active:{opacity:"0"}}})};function Z3(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return lh((a,s)=>{if(t===null)return;const o=r.get(a);if(!o)return;const l=o.node.current;if(!l)return;const u=NC(s);if(!u)return;const{transform:d}=lr(s).getComputedStyle(s),f=mC(d);if(!f)return;const h=typeof t=="function"?t:e6(t);return _C(l,i.draggable.measure),h({active:{id:a,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function e6(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...Q3,...e};return a=>{let{active:s,dragOverlay:o,transform:l,...u}=a;if(!t)return;const d={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/o.rect.height:1},h={x:l.x-d.x,y:l.y-d.y,...f},p=i({...u,active:s,dragOverlay:o,transform:{initial:l,final:h}}),[g]=p,y=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(y))return;const v=n==null?void 0:n({active:s,dragOverlay:o,...u}),x=o.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{v==null||v(),b()}})}}let Zw=0;function t6(e){return m.useMemo(()=>{if(e!=null)return Zw++,Zw},[e])}const TC=qe.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:i,transition:a,modifiers:s,wrapperElement:o="div",className:l,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:y,dragOverlay:v,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:j}=OC(),S=m.useContext(hh),k=t6(f==null?void 0:f.id),N=PC(s,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:j}),E=d0(h),C=Z3({config:n,draggableNodes:g,droppableContainers:y,measuringConfiguration:b}),P=E?v.setRef:void 0;return qe.createElement(V3,null,qe.createElement(K3,{animation:C},f&&k?qe.createElement(Y3,{key:k,id:f.id,ref:P,as:o,activatorEvent:d,adjustScale:t,className:l,transition:a,rect:E,style:{zIndex:u,...i},transform:N},r):null))});function mh(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function r6(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function ju(e){return e!==null&&e>=0}function n6(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i6(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const gh=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=mh(t,n,r),s=t[i],o=a[i];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},Su={scaleX:1,scaleY:1},DC=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:s}=e;const o=(t=a[r])!=null?t:n;if(!o)return null;if(i===r){const u=a[s];return u?{x:0,y:r<s?u.top+u.height-(o.top+o.height):u.top-o.top,...Su}:null}const l=a6(a,i,r);return i>r&&i<=s?{x:0,y:-o.height-l,...Su}:i<r&&i>=s?{x:0,y:o.height+l,...Su}:{x:0,y:0,...Su}};function a6(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const IC="Sortable",RC=qe.createContext({activeIndex:-1,containerId:IC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gh,disabled:{draggable:!1,droppable:!1}});function vh(e){let{children:t,id:r,items:n,strategy:i=gh,disabled:a=!1}=e;const{active:s,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=OC(),f=Ec(IC,r),h=o.rect!==null,p=m.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),g=s!=null,y=s?p.indexOf(s.id):-1,v=u?p.indexOf(u.id):-1,x=m.useRef(p),b=!n6(p,x.current),w=v!==-1&&y===-1||b,_=i6(a);Nn(()=>{b&&g&&d(p)},[b,p,g,d]),m.useEffect(()=>{x.current=p},[p]);const j=m.useMemo(()=>({activeIndex:y,containerId:f,disabled:_,disableTransforms:w,items:p,overIndex:v,useDragOverlay:h,sortedRects:r6(p,l),strategy:i}),[y,f,_.draggable,_.droppable,w,p,v,l,h,i]);return qe.createElement(RC.Provider,{value:j},t)}const s6=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return mh(r,n,i).indexOf(t)},o6=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:u}=e;return!u||!n||o!==a&&i===s?!1:r?!0:s!==i&&t===l},l6={duration:200,easing:"ease"},MC="transform",c6=Cn.Transition.toString({property:MC,duration:0,easing:"linear"}),u6={roleDescription:"sortable"};function d6(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,s]=m.useState(null),o=m.useRef(r);return Nn(()=>{if(!t&&r!==o.current&&n.current){const l=i.current;if(l){const u=Io(n.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&s(d)}}r!==o.current&&(o.current=r)},[t,r,n,i]),m.useEffect(()=>{a&&s(null)},[a]),a}function yh(e){let{animateLayoutChanges:t=o6,attributes:r,disabled:n,data:i,getNewIndex:a=s6,id:s,strategy:o,resizeObserverConfig:l,transition:u=l6}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:y,overIndex:v,useDragOverlay:x,strategy:b}=m.useContext(RC),w=f6(n,p),_=d.indexOf(s),j=m.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...i}),[f,i,_,d]),S=m.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:k,node:N,isOver:E,setNodeRef:C}=AC({id:s,data:j,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:P,activatorEvent:D,activeNodeRect:V,attributes:K,setNodeRef:Q,listeners:I,isDragging:W,over:L,setActivatorNodeRef:B,transform:H}=U3({id:s,data:j,attributes:{...u6,...r},disabled:w.draggable}),te=N$(C,Q),ee=!!P,we=ee&&!g&&ju(h)&&ju(v),T=!x&&W,Y=T&&we?H:null,ve=we?Y??(o??b)({rects:y,activeNodeRect:V,activeIndex:h,overIndex:v,index:_}):null,Ne=ju(h)&&ju(v)?a({id:s,items:d,activeIndex:h,overIndex:v}):_,O=P==null?void 0:P.id,z=m.useRef({activeId:O,items:d,newIndex:Ne,containerId:f}),Z=d!==z.current.items,$=t({active:P,containerId:f,isDragging:W,isSorting:ee,id:s,index:_,items:d,newIndex:z.current.newIndex,previousItems:z.current.items,previousContainerId:z.current.containerId,transition:u,wasDragging:z.current.activeId!=null}),Se=d6({disabled:!$,index:_,node:N,rect:k});return m.useEffect(()=>{ee&&z.current.newIndex!==Ne&&(z.current.newIndex=Ne),f!==z.current.containerId&&(z.current.containerId=f),d!==z.current.items&&(z.current.items=d)},[ee,Ne,f,d]),m.useEffect(()=>{if(O===z.current.activeId)return;if(O!=null&&z.current.activeId==null){z.current.activeId=O;return}const de=setTimeout(()=>{z.current.activeId=O},50);return()=>clearTimeout(de)},[O]),{active:P,activeIndex:h,attributes:K,data:j,rect:k,index:_,newIndex:Ne,items:d,isOver:E,isSorting:ee,isDragging:W,listeners:I,node:N,overIndex:v,over:L,setNodeRef:te,setActivatorNodeRef:B,setDroppableNodeRef:C,setDraggableNodeRef:Q,transform:Se??ve,transition:R()};function R(){if(Se||Z&&z.current.newIndex===_)return c6;if(!(T&&!ch(D)||!u)&&(ee||$))return Cn.Transition.toString({...u,property:MC})}}function f6(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}De.Down,De.Right,De.Up,De.Left;function hr(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ku(e){return`${(e*100).toFixed(1)}%`}function h6(e){const t=new Date().getHours(),r=t<12?"Good morning":t<18?"Good afternoon":"Good evening",n=["Let's close some deals","Time to crush your goals","Ready to dominate the market","Another day, another opportunity","Let's make it a winning day","Time to turn leads into gold","Your next closing is waiting","Great things happen to closers","Let's build your empire","Success is calling your name","Time to level up your game","Let's make today count"],i=e?e.split(" ")[0]:"",a=i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",s=a?`, ${a}`:"",o=n[Math.floor(Math.random()*n.length)];return`${r}${s}. ${o}!`}function p6(){return new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(new Date)}function m6(e,t,r){const n=new Date,i=n.getFullYear(),a=n.getMonth(),s=Math.floor(a/3);switch(e){case"this_month":return{start:new Date(i,a,1),end:new Date(i,a+1,0,23,59,59)};case"last_30_days":const o=new Date(n);return o.setDate(o.getDate()-30),{start:o,end:n};case"this_quarter":return{start:new Date(i,s*3,1),end:new Date(i,(s+1)*3,0,23,59,59)};case"ytd":return{start:new Date(i,0,1),end:n};case"custom":return{start:t||new Date(i,0,1),end:r||n};default:return{start:new Date(i,0,1),end:n}}}function Ea(e){const n=(e.actual_sale_price||e.expected_sale_price)*e.gross_commission_rate*(1-e.brokerage_split_rate);return(e.referral_out_rate?n*(1-e.referral_out_rate):n)-e.transaction_fee}function LC(e){const t=new Date(e),n=new Date().getTime()-t.getTime();return Math.floor(n/(1e3*60*60*24))}function e_(e,t=30){return LC(e)>t}function g6(e){if(!e||!e.startsWith("hsl("))return null;const t=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return t?{h:parseInt(t[1],10),s:parseInt(t[2],10),l:parseInt(t[3],10)}:null}function v6(e){if(!e||!e.toLowerCase().startsWith("rgb("))return null;const t=e.match(/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/i);if(!t)return null;const[r,n,i]=t.slice(1).map(a=>parseInt(a,10));return[r,n,i].some(a=>Number.isNaN(a)||a<0||a>255)?null:{r,g:n,b:i}}function y6(e){if(!e||!e.startsWith("#"))return null;const r=e.trim().match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(!r)return null;let n=r[1];n.length===3&&(n=n.split("").map(o=>o+o).join(""));const i=parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),s=parseInt(n.slice(4,6),16);return{r:i,g:a,b:s}}function x6(e){if(!e)return"#ffffff";const t=y6(e);if(t)return(.2126*t.r+.7152*t.g+.0722*t.b)/255>.6?"#000000":"#ffffff";const r=g6(e);if(r)return r.l>60?"#000000":"#ffffff";const n=v6(e);return n&&(.2126*n.r+.7152*n.g+.0722*n.b)/255>.6?"#000000":"#ffffff"}function xh(e){if(!e)return"hsl(220, 70%, 50%)";const t=e.toLowerCase(),r=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);return r?r[0]:t.startsWith("hsl(")||t.startsWith("rgb(")?e:{blue:"hsl(220, 70%, 50%)",cyan:"hsl(190, 65%, 48%)",teal:"hsl(165, 60%, 45%)",green:"hsl(145, 65%, 45%)",lime:"hsl(80, 60%, 50%)",yellow:"hsl(45, 100%, 50%)",orange:"hsl(25, 95%, 55%)",red:"hsl(5, 75%, 55%)",pink:"hsl(340, 70%, 55%)",purple:"hsl(280, 65%, 55%)",violet:"hsl(260, 60%, 55%)",indigo:"hsl(240, 65%, 55%)",slate:"hsl(200, 20%, 50%)",gray:"hsl(0, 0%, 50%)",brown:"hsl(30, 40%, 45%)",amber:"hsl(40, 95%, 50%)",emerald:"hsl(160, 70%, 45%)",sky:"hsl(200, 90%, 50%)",rose:"hsl(350, 80%, 55%)",mint:"hsl(175, 60%, 45%)"}[t]||"hsl(220, 70%, 50%)"}function bh(e){const t=xh(e),r=x6(t);return{bg:t,text:r}}function $C(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$C(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$C(e))&&(n&&(n+=" "),n+=t);return n}var b6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function f0(e){if(typeof e!="string")return!1;var t=b6;return t.includes(e)}var w6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function FC(e){if(typeof e!="string")return!1;var t=w6;return t.includes(e)}function BC(e){return typeof e=="string"&&e.startsWith("data-")}function Pn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return FC(n)||BC(n)});return Object.fromEntries(t)}function Oc(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Pn(t)}return typeof e=="object"&&!Array.isArray(e)?Pn(e):null}function ar(e){var t=Object.entries(e).filter(r=>{var[n]=r;return FC(n)||BC(n)||f0(n)});return Object.fromEntries(t)}function _6(e){return e==null?null:m.isValidElement(e)?ar(e.props):typeof e=="object"&&!Array.isArray(e)?ar(e):null}var j6=["children","width","height","viewBox","className","style","title","desc"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function S6(e,t){if(e==null)return{};var r,n,i=k6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UC=m.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=S6(e,j6),f=a||{width:n,height:i,x:0,y:0},h=Le("recharts-surface",s);return m.createElement("svg",Yg({},ar(d),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,u),r)}),N6=["children","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function C6(e,t){if(e==null)return{};var r,n,i=E6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ln=m.forwardRef((e,t)=>{var{children:r,className:n}=e,i=C6(e,N6),a=Le("recharts-layer",n);return m.createElement("g",Xg({className:a},ar(i),{ref:t}),r)}),P6=m.createContext(null);function Ue(e){return function(){return e}}const zC=Math.cos,Vd=Math.sin,In=Math.sqrt,qd=Math.PI,wh=2*qd,Jg=Math.PI,Qg=2*Jg,Da=1e-6,O6=Qg-Da;function WC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function A6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WC;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class T6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WC:A6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Da)if(!(Math.abs(f*l-u*d)>Da)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=i-o,y=l*l+u*u,v=p*p+g*g,x=Math.sqrt(y),b=Math.sqrt(h),w=a*Math.tan((Jg-Math.acos((y+h-v)/(2*x*b)))/2),_=w/b,j=w/x;Math.abs(_-1)>Da&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=t+j*l},${this._y1=r+j*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Da||Math.abs(this._y1-d)>Da)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Qg+Qg),h>O6?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Da&&this._append`A${n},${n},0,${+(h>=Jg)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function h0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new T6(t)}function p0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KC(e){this._context=e}KC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _h(e){return new KC(e)}function HC(e){return e[0]}function VC(e){return e[1]}function qC(e,t){var r=Ue(!0),n=null,i=_h,a=null,s=h0(o);e=typeof e=="function"?e:e===void 0?HC:Ue(e),t=typeof t=="function"?t:t===void 0?VC:Ue(t);function o(l){var u,d=(l=p0(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ue(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ue(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ue(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Nu(e,t,r){var n=null,i=Ue(!0),a=null,s=_h,o=null,l=h0(u);e=typeof e=="function"?e:e===void 0?HC:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VC:Ue(+r);function u(f){var h,p,g,y=(f=p0(f)).length,v,x=!1,b,w=new Array(y),_=new Array(y);for(a==null&&(o=s(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],_[g]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return o=null,b+""||null}function d(){return qC().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ue(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ue(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ue(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class GC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function D6(e){return new GC(e,!0)}function I6(e){return new GC(e,!1)}const m0={draw(e,t){const r=In(t/qd);e.moveTo(r,0),e.arc(0,0,r,0,wh)}},R6={draw(e,t){const r=In(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YC=In(1/3),M6=YC*2,L6={draw(e,t){const r=In(t/M6),n=r*YC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$6={draw(e,t){const r=In(t),n=-r/2;e.rect(n,n,r,r)}},F6=.8908130915292852,XC=Vd(qd/10)/Vd(7*qd/10),B6=Vd(wh/10)*XC,U6=-zC(wh/10)*XC,z6={draw(e,t){const r=In(t*F6),n=B6*r,i=U6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=wh*a/5,o=zC(s),l=Vd(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},um=In(3),W6={draw(e,t){const r=-In(t/(um*3));e.moveTo(0,r*2),e.lineTo(-um*r,-r),e.lineTo(um*r,-r),e.closePath()}},Yr=-.5,Xr=In(3)/2,Zg=1/In(12),K6=(Zg/2+1)*3,H6={draw(e,t){const r=In(t/K6),n=r/2,i=r*Zg,a=n,s=r*Zg+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Yr*n-Xr*i,Xr*n+Yr*i),e.lineTo(Yr*a-Xr*s,Xr*a+Yr*s),e.lineTo(Yr*o-Xr*l,Xr*o+Yr*l),e.lineTo(Yr*n+Xr*i,Yr*i-Xr*n),e.lineTo(Yr*a+Xr*s,Yr*s-Xr*a),e.lineTo(Yr*o+Xr*l,Yr*l-Xr*o),e.closePath()}};function V6(e,t){let r=null,n=h0(i);e=typeof e=="function"?e:Ue(e||m0),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ue(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ue(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Gd(){}function Yd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function JC(e){this._context=e}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q6(e){return new JC(e)}function QC(e){this._context=e}QC.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G6(e){return new QC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y6(e){return new ZC(e)}function eE(e){this._context=e}eE.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function X6(e){return new eE(e)}function t_(e){return e<0?-1:1}function r_(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(t_(a)+t_(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function n_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dm(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Xd(e){this._context=e}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dm(this,this._t0,n_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dm(this,n_(this,r=r_(this,e,t)),r);break;default:dm(this,this._t0,r=r_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tE(e){this._context=new rE(e)}(tE.prototype=Object.create(Xd.prototype)).point=function(e,t){Xd.prototype.point.call(this,t,e)};function rE(e){this._context=e}rE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function J6(e){return new Xd(e)}function Q6(e){return new tE(e)}function nE(e){this._context=e}nE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=i_(e),i=i_(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function i_(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Z6(e){return new nE(e)}function jh(e,t){this._context=e,this._t=t}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eF(e){return new jh(e,.5)}function tF(e){return new jh(e,0)}function rF(e){return new jh(e,1)}function ho(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ev(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nF(e,t){return e[t]}function iF(e){const t=[];return t.key=e,t}function aF(){var e=Ue([]),t=ev,r=ho,n=nF;function i(a){var s=Array.from(e.apply(this,arguments),iF),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=p0(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ue(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ue(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ev:typeof a=="function"?a:Ue(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ho,i):r},i}function sF(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}ho(e,t)}}function oF(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}ho(e,t)}}function lF(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var y=e[t[g]],v=y[n][1]||0,x=y[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,ho(e,t)}}var Sh={},iE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(iE);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(g0);var kh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(kh);var Nh={},aE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(aE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aE,r=kh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Nh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iE,r=g0,n=kh,i=Nh;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(Sh);var cF=Sh.get;const po=ji(cF);var vr=e=>e===0?0:e>0?1:-1,On=e=>typeof e=="number"&&e!=+e,gi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!On(e),Hn=e=>ue(e)||typeof e=="string",uF=0,sc=e=>{var t=++uF;return"".concat(e||"").concat(t)},An=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var a;if(gi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return On(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},sE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function at(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function oE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):po(n,t))===r)}var Je=e=>e===null||typeof e>"u",Ac=e=>Je(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function dF(e){return e!=null}function Mo(){}var fF=["type","size","sizeType"];function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return(t=pF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gF(e,t){if(e==null)return{};var r,n,i=vF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lE={symbolCircle:m0,symbolCross:R6,symbolDiamond:L6,symbolSquare:$6,symbolStar:z6,symbolTriangle:W6,symbolWye:H6},yF=Math.PI/180,xF=e=>{var t="symbol".concat(Ac(e));return lE[t]||m0},bF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*yF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wF=(e,t)=>{lE["symbol".concat(Ac(e))]=t},cE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=gF(e,fF),a=s_(s_({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=xF(s),p=V6().type(h).size(bF(r,n,s)),g=p();if(g!==null)return g},{className:l,cx:u,cy:d}=a,f=ar(a);return ue(u)&&ue(d)&&ue(r)?m.createElement("path",tv({},f,{className:Le("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};cE.registerSymbol=wF;var uE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,v0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{f0(i)&&(n[i]=a=>r[i](r,a))}),n},_F=(e,t,r)=>n=>(e(t,r,n),null),y0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];f0(i)&&typeof a=="function"&&(n||(n={}),n[i]=_F(a,t,r))}),n};function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){SF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SF(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t){var r=jF({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var dE={},fE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(fE);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(x0);var hE={},Ch={},pE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(pE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ch);var mE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(mE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ch,r=mE;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(hE);var gE={},vE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(vE);var yE={},b0={},xE={},w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(w0);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_0);var j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(j0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0,r=_0,n=j0;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function p(g,y,v,x,b,w){const _=h(g,y,v,x,b,w);return _!==void 0?!!_:a(g,y,p,w)},new Map)}function a(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,p);case"function":return Object.keys(f).length>0?a(d,{...f},h,p):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,p);if(f instanceof Map)return o(d,f,h,p);if(f instanceof Set)return u(d,f,h,p);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===d;p==null||p.set(f,d);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const v=d.get(g);if(h(v,y,g,d,f,p)===!1)return!1}return!0}function l(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const v=f[y];let x=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const w=d[b];let _=!1;if(h(w,v,y,d,f,p)&&(_=!0),_){g.add(b),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,p){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(xE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xE;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(b0);var bE={},S0={},wE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(wE);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(k0);var N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",N="[object BigInt64Array]",E="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(N0);var _E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE,r=k0,n=N0,i=_0,a=_E;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,g=void 0){const y=g==null?void 0:g(d,f,h,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[x,b]of d)v.set(x,o(b,x,h,p,g));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const x of d)v.add(o(x,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),l(v,d,h,p,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),l(v,d,h,p,g),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),l(v,d,h,p,g),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,l(v,d,h,p,g),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return p.set(d,v),l(v,d,h,p,g),v}if(d instanceof Number){const v=new Number(d.valueOf());return p.set(d,v),l(v,d,h,p,g),v}if(d instanceof String){const v=new String(d.valueOf());return p.set(d,v),l(v,d,h,p,g),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),l(v,d,h,p,g),v}return d}function l(d,f,h=d,p,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const x=y[v],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(S0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,r=bE;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(yE);var jE={},SE={},kE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,r=N0;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const d=a==null?void 0:a(s,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(kE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(SE);var NE={},C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(C0);var CE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(CE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,r=C0,n=CE,i=Nh;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(NE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,r=kh,n=SE,i=Sh,a=NE;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(jE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0,r=vE,n=yE,i=jE;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(gE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fE,r=x0,n=hE,i=gE;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(dE);var CF=dE.uniqBy;const l_=ji(CF);function EF(e,t,r){return t===!0?l_(e,r):typeof t=="function"?l_(e,t):e}var EE={exports:{}},PE={},OE={exports:{}},AE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=m;function PF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OF=typeof Object.is=="function"?Object.is:PF,AF=mo.useState,TF=mo.useEffect,DF=mo.useLayoutEffect,IF=mo.useDebugValue;function RF(e,t){var r=t(),n=AF({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return DF(function(){i.value=r,i.getSnapshot=t,fm(i)&&a({inst:i})},[e,r,t]),TF(function(){return fm(i)&&a({inst:i}),e(function(){fm(i)&&a({inst:i})})},[e]),IF(r),r}function fm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!OF(e,r)}catch{return!0}}function MF(e,t){return t()}var LF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MF:RF;AE.useSyncExternalStore=mo.useSyncExternalStore!==void 0?mo.useSyncExternalStore:LF;OE.exports=AE;var $F=OE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=m,FF=$F;function BF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UF=typeof Object.is=="function"?Object.is:BF,zF=FF.useSyncExternalStore,WF=Eh.useRef,KF=Eh.useEffect,HF=Eh.useMemo,VF=Eh.useDebugValue;PE.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=WF(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=HF(function(){function l(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,UF(d,p))return g;var y=n(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=zF(e,a[0],a[1]);return KF(function(){s.hasValue=!0,s.value=o},[o]),VF(o),o};EE.exports=PE;var qF=EE.exports,E0=m.createContext(null),GF=e=>e,ut=()=>{var e=m.useContext(E0);return e?e.store.dispatch:GF},id=()=>{},YF=()=>id,XF=(e,t)=>e===t;function he(e){var t=m.useContext(E0);return qF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YF,t?t.store.getState:id,t?t.store.getState:id,t?e:id,XF)}function JF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function QF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var c_=e=>Array.isArray(e)?e:[e];function eB(e){const t=Array.isArray(e[0])?e[0]:e;return ZF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tB(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var rB=class{constructor(e){this.value=e}deref(){return this.value}},nB=typeof WeakRef<"u"?WeakRef:rB,iB=0,u_=1;function Cu(){return{s:iB,v:void 0,o:null,p:null}}function TE(e,t={}){let r=Cu();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(g);v===void 0?(o=Cu(),y.set(g,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(g);v===void 0?(o=Cu(),y.set(g,o)):o=v}}const u=o;let d;if(o.s===u_)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new nB(d):d}return u.s=u_,u.v=d,d}return s.clearCache=()=>{r=Cu(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function aB(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),JF(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=TE,argsMemoizeOptions:g=[]}=d,y=c_(h),v=c_(g),x=eB(i),b=f(function(){return a++,u.apply(null,arguments)},...y),w=p(function(){s++;const j=tB(x,arguments);return o=b.apply(null,j),o},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var M=aB(TE),sB=Object.assign((e,t=M)=>{QF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>sB}),DE={},IE={},RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(RE);var ME={},P0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(P0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RE,r=ME,n=Nh;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let y=p;for(let v=0;v<g.length&&y!=null;++v)y=y[g[v]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(p.criteria[y],g.criteria[y],o[y]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(IE);var LE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(r,0),i}e.flatten=t})(LE);var O0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0,r=Ch,n=w0,i=j0;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(O0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IE,r=LE,n=O0;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(DE);var oB=DE.sortBy;const Ph=ji(oB);var $E=e=>e.legend.settings,lB=e=>e.legend.size,cB=e=>e.legend.payload;M([cB,$E],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ph(n,r):n});var Eu=1;function uB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Eu||Math.abs(s.left-t.left)>Eu||Math.abs(s.top-t.top)>Eu||Math.abs(s.width-t.width)>Eu)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dB=typeof Symbol=="function"&&Symbol.observable||"@@observable",d_=dB,hm=()=>Math.random().toString(36).substring(7).split("").join("."),fB={INIT:`@@redux/INIT${hm()}`,REPLACE:`@@redux/REPLACE${hm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hm()}`},Jd=fB;function A0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function FE(e,t,r){if(typeof e!="function")throw new Error(Bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(FE)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((v,x)=>{s.set(x,v)}))}function d(){if(l)throw new Error(Bt(3));return i}function f(v){if(typeof v!="function")throw new Error(Bt(4));if(l)throw new Error(Bt(5));let x=!0;u();const b=o++;return s.set(b,v),function(){if(x){if(l)throw new Error(Bt(6));x=!1,u(),s.delete(b),a=null}}}function h(v){if(!A0(v))throw new Error(Bt(7));if(typeof v.type>"u")throw new Error(Bt(8));if(typeof v.type!="string")throw new Error(Bt(17));if(l)throw new Error(Bt(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=s).forEach(b=>{b()}),v}function p(v){if(typeof v!="function")throw new Error(Bt(10));n=v,h({type:Jd.REPLACE})}function g(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Bt(11));function b(){const _=x;_.next&&_.next(d())}return b(),{unsubscribe:v(b)}},[d_](){return this}}}return h({type:Jd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[d_]:g}}function hB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Jd.INIT})>"u")throw new Error(Bt(12));if(typeof r(void 0,{type:Jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function BE(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{hB(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Bt(14));u[f]=g,l=l||g!==p}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function pB(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Bt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Qd(...o)(i.dispatch),{...i,dispatch:a}}}function UE(e){return A0(e)&&"type"in e&&typeof e.type=="string"}var zE=Symbol.for("immer-nothing"),f_=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var oc=Object.getPrototypeOf;function as(e){return!!e&&!!e[Ur]}function vi(e){var t;return e?WE(e)||Array.isArray(e)||!!e[f_]||!!((t=e.constructor)!=null&&t[f_])||Tc(e)||Ah(e):!1}var mB=Object.prototype.constructor.toString(),h_=new WeakMap;function WE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=h_.get(r);return n===void 0&&(n=Function.toString.call(r),h_.set(r,n)),n===mB}function Zd(e,t,r=!0){Oh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Oh(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:Tc(e)?2:Ah(e)?3:0}function rv(e,t){return Oh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KE(e,t,r){const n=Oh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function gB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tc(e){return e instanceof Map}function Ah(e){return e instanceof Set}function Ia(e){return e.copy_||e.base_}function nv(e,t){if(Tc(e))return new Map(e);if(Ah(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(oc(e),n)}else{const n=oc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function T0(e,t=!1){return Th(e)||as(e)||!vi(e)||(Oh(e)>1&&Object.defineProperties(e,{set:Pu,add:Pu,clear:Pu,delete:Pu}),Object.freeze(e),t&&Object.values(e).forEach(r=>T0(r,!0))),e}function vB(){wn(2)}var Pu={value:vB};function Th(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var yB={};function ss(e){const t=yB[e];return t||wn(0,e),t}var lc;function HE(){return lc}function xB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function p_(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iv(e){av(e),e.drafts_.forEach(bB),e.drafts_=null}function av(e){e===lc&&(lc=e.parent_)}function m_(e){return lc=xB(lc,e)}function bB(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function g_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(iv(t),wn(4)),vi(e)&&(e=ef(t,e),t.parent_||tf(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=ef(t,r,[]),iv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zE?e:void 0}function ef(e,t,r){if(Th(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ur];if(!i)return Zd(t,(a,s)=>v_(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return tf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Zd(s,(l,u)=>v_(e,i,a,l,u,r,o),n),tf(e,a,!1),r&&e.patches_&&ss("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function v_(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Th(i);if(!(o&&!s)){if(as(i)){const l=a&&t&&t.type_!==3&&!rv(t.assigned_,n)?a.concat(n):void 0,u=ef(e,i,l);if(KE(r,n,u),as(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(vi(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;ef(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Tc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&tf(e,i)}}}function tf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&T0(t,r)}function wB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:HE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=D0;r&&(i=[n],a=cc);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var D0={get(e,t){if(t===Ur)return e;const r=Ia(e);if(!rv(r,t))return _B(e,r,t);const n=r[t];return e.finalized_||!vi(n)?n:n===pm(e.base_,t)?(mm(e),e.copy_[t]=ov(n,e)):n},has(e,t){return t in Ia(e)},ownKeys(e){return Reflect.ownKeys(Ia(e))},set(e,t,r){const n=VE(Ia(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=pm(Ia(e),t),a=i==null?void 0:i[Ur];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(gB(r,i)&&(r!==void 0||rv(e.base_,t)))return!0;mm(e),sv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return pm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mm(e),sv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ia(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return oc(e.base_)},setPrototypeOf(){wn(12)}},cc={};Zd(D0,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,r){return D0.set.call(this,e[0],t,r,e[0])};function pm(e,t){const r=e[Ur];return(r?Ia(r):e)[t]}function _B(e,t,r){var i;const n=VE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function VE(e,t){if(!(t in e))return;let r=oc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=oc(r)}}function sv(e){e.modified_||(e.modified_=!0,e.parent_&&sv(e.parent_))}function mm(e){e.copy_||(e.copy_=nv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&wn(6),n!==void 0&&typeof n!="function"&&wn(7);let i;if(vi(t)){const a=m_(this),s=ov(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?iv(a):av(a)}return p_(a,n),g_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===zE&&(i=void 0),this.autoFreeze_&&T0(i,!0),n){const a=[],s=[];ss("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vi(e)||wn(8),as(e)&&(e=li(e));const t=m_(this),r=ov(e,void 0);return r[Ur].isManual_=!0,av(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&wn(9);const{scope_:n}=r;return p_(n,t),g_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ss("Patches").applyPatches_;return as(e)?n(e,t):this.produce(e,i=>n(i,t))}};function ov(e,t){const r=Tc(e)?ss("MapSet").proxyMap_(e,t):Ah(e)?ss("MapSet").proxySet_(e,t):wB(e,t);return(t?t.scope_:HE()).drafts_.push(r),r}function li(e){return as(e)||wn(10,e),qE(e)}function qE(e){if(!vi(e)||Th(e))return e;const t=e[Ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=nv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=nv(e,!0);return Zd(r,(i,a)=>{KE(r,i,qE(a))},n),t&&(t.finalized_=!1),r}var lv=new jB,GE=lv.produce,SB=lv.setUseStrictIteration.bind(lv);function YE(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var kB=YE(),NB=YE,CB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qd:Qd.apply(null,arguments)};function cn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($r(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>UE(n)&&n.type===e,r}var XE=class vl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vl.prototype)}static get[Symbol.species](){return vl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vl(...t[0].concat(this)):new vl(...t.concat(this))}};function y_(e){return vi(e)?GE(e,()=>{}):e}function Ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function EB(e){return typeof e=="boolean"}var PB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new XE;return r&&(EB(r)?s.push(kB):s.push(NB(r.extraArgument))),s},JE="RTK_autoBatch",St=()=>e=>({payload:e,meta:{[JE]:!0}}),x_=e=>t=>{setTimeout(t,e)},QE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x_(10):e.type==="callback"?e.queueNotification:x_(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[JE]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(d)}finally{i=!0}}})},OB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new XE(e);return n&&i.push(QE(typeof n=="object"?n:void 0)),i};function AB(e){const t=PB(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(A0(r))o=BE(r);else throw new Error($r(1));let l;typeof n=="function"?l=n(t):l=t();let u=Qd;i&&(u=CB({trace:!1,...typeof i=="object"&&i}));const d=pB(...l),f=OB(d);let h=typeof s=="function"?s(f):f();const p=u(...h);return FE(o,a,p)}function ZE(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error($r(28));if(o in t)throw new Error($r(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}SB(!1);function TB(e){return typeof e=="function"}function DB(e,t){let[r,n,i]=ZE(t),a;if(TB(e))a=()=>y_(e());else{const o=y_(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(as(d)){const p=f(d,l);return p===void 0?d:p}else{if(vi(d))return GE(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var IB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RB=(e=21)=>{let t="",r=e;for(;r--;)t+=IB[Math.random()*64|0];return t},MB=Symbol.for("rtk-slice-createasyncthunk");function LB(e,t){return`${e}/${t}`}function $B({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[MB];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error($r(11));const o=(typeof i.reducers=="function"?i.reducers(BB()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error($r(12));if(S in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};l.forEach(_=>{const j=o[_],S={reducerName:_,type:LB(a,_),createNotation:typeof i.reducers=="function"};zB(j)?KB(S,j,d,t):UB(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof i.extraReducers=="function"?ZE(i.extraReducers):[i.extraReducers],k={..._,...u.sliceCaseReducersByType};return DB(i.initialState,N=>{for(let E in k)N.addCase(E,k[E]);for(let E of u.sliceMatchers)N.addMatcher(E.matcher,E.reducer);for(let E of j)N.addMatcher(E.matcher,E.reducer);S&&N.addDefaultCase(S)})}const h=_=>_,p=new Map,g=new WeakMap;let y;function v(_,j){return y||(y=f()),y(_,j)}function x(){return y||(y=f()),y.getInitialState()}function b(_,j=!1){function S(N){let E=N[_];return typeof E>"u"&&j&&(E=Ou(g,S,x)),E}function k(N=h){const E=Ou(p,j,()=>new WeakMap);return Ou(E,N,()=>{const C={};for(const[P,D]of Object.entries(i.selectors??{}))C[P]=FB(D,N,()=>Ou(g,N,x),j);return C})}return{reducerPath:_,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const w={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(_,{reducerPath:j,...S}={}){const k=j??s;return _.inject({reducerPath:k,reducer:v},S),{...w,...b(k,!0)}}};return w}}function FB(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var _r=$B();function BB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function UB({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!WB(n))throw new Error($r(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?cn(e,s):cn(e))}function zB(e){return e._reducerDefinitionType==="asyncThunk"}function WB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function KB({type:e,reducerName:t},r,n,i){if(!i)throw new Error($r(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Au,pending:o||Au,rejected:l||Au,settled:u||Au})}function Au(){}var HB="task",eP="listener",tP="completed",I0="cancelled",VB=`task-${I0}`,qB=`task-${tP}`,cv=`${eP}-${I0}`,GB=`${eP}-${tP}`,Dh=class{constructor(e){wp(this,"name","TaskAbortError");wp(this,"message");this.code=e,this.message=`${HB} ${I0} (reason: ${e})`}},R0=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},rf=()=>{},rP=(e,t=rf)=>(e.catch(t),e),nP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ga=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ya=e=>{if(e.aborted){const{reason:t}=e;throw new Dh(t)}};function iP(e,t){let r=rf;return new Promise((n,i)=>{const a=()=>i(new Dh(e.reason));if(e.aborted){a();return}r=nP(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=rf})}var YB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Dh?"cancelled":"rejected",error:r}}finally{t==null||t()}},nf=e=>t=>rP(iP(e,t).then(r=>(Ya(e),r))),aP=e=>{const t=nf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:to}=Object,b_={},Ih="listenerMiddleware",XB=(e,t)=>{const r=n=>nP(e,()=>Ga(n,e.reason));return(n,i)=>{R0(n);const a=new AbortController;r(a);const s=YB(async()=>{Ya(e),Ya(a.signal);const o=await n({pause:nf(a.signal),delay:aP(a.signal),signal:a.signal});return Ya(a.signal),o},()=>Ga(a,qB));return i!=null&&i.autoJoin&&t.push(s.catch(rf)),{result:nf(e)(s),cancel(){Ga(a,VB)}}}},JB=(e,t)=>{const r=async(n,i)=>{Ya(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await iP(t,Promise.race(o));return Ya(t),l}finally{a()}};return(n,i)=>rP(r(n,i))},sP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=cn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($r(21));return R0(a),{predicate:i,type:t,effect:a}},oP=to(e=>{const{type:t,predicate:r,effect:n}=sP(e);return{id:RB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>oP}),w_=(e,t)=>{const{type:r,effect:n,predicate:i}=sP(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},uv=e=>{e.pending.forEach(t=>{Ga(t,cv)})},QB=(e,t)=>()=>{for(const r of t.keys())uv(r);e.clear()},__=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},lP=to(cn(`${Ih}/add`),{withTypes:()=>lP}),ZB=cn(`${Ih}/removeAll`),cP=to(cn(`${Ih}/remove`),{withTypes:()=>cP}),eU=(...e)=>{console.error(`${Ih}/error`,...e)},Dc=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:a,onError:s=eU}=e;R0(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&uv(p)}),l=p=>{const g=w_(t,p)??oP(p);return o(g)};to(l,{withTypes:()=>l});const u=p=>{const g=w_(t,p);return g&&(g.unsubscribe(),p.cancelActive&&uv(g)),!!g};to(u,{withTypes:()=>u});const d=async(p,g,y,v)=>{const x=new AbortController,b=JB(l,x.signal),w=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(g,to({},y,{getOriginalState:v,condition:(_,j)=>b(_,j).then(Boolean),take:b,delay:aP(x.signal),pause:nf(x.signal),extra:a,signal:x.signal,fork:XB(x.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,S)=>{_!==x&&(Ga(_,cv),S.delete(_))})},cancel:()=>{Ga(x,cv),p.pending.delete(x)},throwIfCancelled:()=>{Ya(x.signal)}})))}catch(_){_ instanceof Dh||__(s,_,{raisedBy:"effect"})}finally{await Promise.all(w),Ga(x,GB),i(p),p.pending.delete(x)}},f=QB(t,r);return{middleware:p=>g=>y=>{if(!UE(y))return g(y);if(lP.match(y))return l(y.payload);if(ZB.match(y)){f();return}if(cP.match(y))return u(y.payload);let v=p.getState();const x=()=>{if(v===b_)throw new Error($r(23));return v};let b;try{if(b=g(y),t.size>0){const w=p.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(y,w,v)}catch(k){S=!1,__(s,k,{raisedBy:"predicate"})}S&&d(j,y,p,x)}}}finally{v=b_}return b},startListening:l,stopListening:u,clearListeners:f}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uP=_r({name:"chartLayout",initialState:tU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:rU,setLayout:nU,setChartSize:iU,setScale:aU}=uP.actions,sU=uP.reducer;function dP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return Je(e)||Je(t)?r:Hn(t)?po(e,t,r):typeof t=="function"?t(e):r}var uU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ue(e[a]))return Hs(Hs({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ue(e[s]))return Hs(Hs({},e),{},{[s]:e[s]+(i||0)})}return e},ga=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",fP=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},hP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=p==="angleAxis"&&a&&a.length>=2?vr(a[0]-a[1])*2*y:y,f||h){var v=(f||h||[]).map((x,b)=>{var w=n?n.indexOf(x):x;return{coordinate:s(w)+y,value:x,offset:y,index:b}});return v.filter(x=>!On(x.coordinate))}return l&&u?u.map((x,b)=>({coordinate:s(x)+y,value:x,index:b,offset:y})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+y,value:x,offset:y,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+y,value:n?n[x]:x,index:b,offset:y}))},S_=1e-4,dU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-S_,a=Math.max(n[0],n[1])+S_,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},fU=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(i[0]=r),(!ue(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},hU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=On(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},pU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=On(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},mU={sign:hU,expand:sF,none:ho,silhouette:oF,wiggle:lF,positive:pU},gU=(e,t,r)=>{var n=mU[r],i=aF().keys(t).value((a,s)=>Number(Rt(a,s,0))).order(ev).offset(n);return i(e)};function vU(e){return e==null?void 0:String(e)}function k_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Je(i[t.dataKey])){var o=oE(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Rt(i,Je(s)?t.dataKey:s);return Je(l)?null:t.scale(l)}var N_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Rt(a,t.dataKey,t.scale.domain()[s]);return Je(o)?null:t.scale(o)-i/2+n},yU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},xU=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},bU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wU=(e,t,r)=>{if(e!=null)return bU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var d=dP(u,t,r),f=xU(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},C_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,go=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Ph(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function P_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Hs(Hs({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Rh(e,t){if(e)return String(e);if(typeof t=="string")return t}var _U=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},jU=(e,t)=>t==="centric"?e.angle:e.radius,ki=e=>e.layout.width,Ni=e=>e.layout.height,SU=e=>e.layout.scale,pP=e=>e.layout.margin,Mh=M(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lh=M(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kU="data-recharts-item-index",NU="data-recharts-item-data-key",Ic=60;function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=EU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=PU(e,"string");return typeof t=="symbol"?t:t+""}function PU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OU=e=>e.brush.height;function AU(e){var t=Lh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ic;return r+i}return r},0)}function TU(e){var t=Lh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ic;return r+i}return r},0)}function DU(e){var t=Mh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function IU(e){var t=Mh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Mt=M([ki,Ni,pP,OU,AU,TU,DU,IU,$E,lB],(e,t,r,n,i,a,s,o,l,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Tu(Tu({},f),d),p=h.bottom;h.bottom+=n,h=uU(h,l,u);var g=e-h.left-h.right,y=t-h.top-h.bottom;return Tu(Tu({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),RU=M(Mt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),M0=M(ki,Ni,(e,t)=>({x:0,y:0,width:e,height:t})),MU=m.createContext(null),Zt=()=>m.useContext(MU)!=null,$h=e=>e.brush,Fh=M([$h,Mt,pP],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),mP={},gP={},vP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),s=void 0,o=null},v=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;p(),l&&w&&d()};return x.schedule=p,x.cancel=y,x.flush=v,i==null||i.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:u}),p=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(gP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(mP);var LU=mP.throttle;const $U=ji(LU);var af=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},yP=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=gi(n)?e:Number(n),l=gi(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},FU={width:0,height:0,overflow:"visible"},BU={width:0,overflowX:"visible"},UU={height:0,overflowY:"visible"},zU={},WU=e=>{var{width:t,height:r}=e,n=gi(t),i=gi(r);return n&&i?FU:n?BU:i?UU:zU};function KU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function lt(e){return Number.isFinite(e)}function Vn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){HU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=qU(e,"string");return typeof t=="symbol"?t:t+""}function qU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xP=m.createContext({width:-1,height:-1});function GU(e){return Vn(e.width)&&Vn(e.height)}function bP(e){var{children:t,width:r,height:n}=e,i=m.useMemo(()=>({width:r,height:n}),[r,n]);return GU(i)?m.createElement(xP.Provider,{value:i},t):null}var L0=()=>m.useContext(xP),YU=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,y=m.useRef(null),v=m.useRef();v.current=p,m.useImperativeHandle(t,()=>y.current);var[x,b]=m.useState({containerWidth:n.width,containerHeight:n.height}),w=m.useCallback((N,E)=>{b(C=>{var P=Math.round(N),D=Math.round(E);return C.containerWidth===P&&C.containerHeight===D?C:{containerWidth:P,containerHeight:D}})},[]);m.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Mo;var N=D=>{var V,{width:K,height:Q}=D[0].contentRect;w(K,Q),(V=v.current)===null||V===void 0||V.call(v,K,Q)};d>0&&(N=$U(N,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(N),{width:C,height:P}=y.current.getBoundingClientRect();return w(C,P),E.observe(y.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:j}=x;af(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:k}=yP(_,j,{width:i,height:a,aspect:r,maxHeight:l});return af(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,i,a,s,o,r),m.createElement("div",{id:f?"".concat(f):void 0,className:Le("recharts-responsive-container",h),style:T_(T_({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},m.createElement("div",{style:WU({width:i,height:a})},m.createElement(bP,{width:S,height:k},u)))}),D_=m.forwardRef((e,t)=>{var r=L0();if(Vn(r.width)&&Vn(r.height))return e.children;var{width:n,height:i}=KU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=yP(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ue(a)&&ue(s)?m.createElement(bP,{width:a,height:s},e.children):m.createElement(YU,dv({},e,{width:n,height:i,ref:t}))});function wP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Bh=()=>{var e,t=Zt(),r=he(RU),n=he(Fh),i=(e=he($h))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},XU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_P=()=>{var e;return(e=he(Mt))!==null&&e!==void 0?e:XU},jP=()=>he(ki),SP=()=>he(Ni),Ie=e=>e.layout.layoutType,Rc=()=>he(Ie),JU=()=>{var e=Rc();return e!==void 0},Uh=e=>{var t=ut(),r=Zt(),{width:n,height:i}=e,a=L0(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),m.useEffect(()=>{!r&&Vn(s)&&Vn(o)&&t(iU({width:s,height:o}))},[t,r,s,o]),null},QU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kP=_r({name:"legend",initialState:QU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:St()},removeLegendPayload:{reducer(e,t){var r=li(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:St()}}}),{setLegendSize:qZ,setLegendSettings:GZ,addLegendPayload:ZU,removeLegendPayload:ez}=kP.actions,tz=kP.reducer;function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function az(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var sz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},S=(o?Ph(a,o):a).map((k,N)=>{if(k.type==="none")return null;var E=k.formatter||s||az,{value:C,name:P}=k,D=C,V=P;if(E){var K=E(C,P,k,N,a);if(Array.isArray(K))[D,V]=K;else if(K!=null)D=K;else return null}var Q=gm({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Q},Hn(V)?m.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Hn(V)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},D),m.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=gm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=gm({margin:0},i),v=!Je(d),x=v?d:"",b=Le("recharts-default-tooltip",l),w=Le("recharts-tooltip-label",u);v&&f&&a!==void 0&&a!==null&&(x=f(d,a));var _=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",fv({className:b,style:g},_),m.createElement("p",{className:w,style:y},m.isValidElement(x)?x:"".concat(x)),p())},rl="recharts-tooltip-wrapper",oz={visibility:"hidden"};function lz(e){var{coordinate:t,translateX:r,translateY:n}=e;return Le(rl,{["".concat(rl,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(rl,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(rl,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(rl,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function R_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&ue(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=l[n];if(h==null)return 0;if(s[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+o,v=h+u;return y>v?Math.max(d,h):Math.max(f,h)}function cz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=R_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=R_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=cz({translateX:d,translateY:f,useTranslate3d:o})):u=oz,{cssProperties:u,cssClasses:lz({translateX:d,translateY:f,coordinate:r})}}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hv(e,t,r){return(t=dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hz extends m.PureComponent{constructor(){super(...arguments),hv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=uz({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),_=x?{}:Du(Du({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Du(Du({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:v},a)}}var pz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ps={devToolsEnabled:!1,isSsr:pz()},NP=()=>{var e;return(e=he(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=vz(e,"string");return typeof t=="symbol"?t:t+""}function vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F_={curveBasisClosed:G6,curveBasisOpen:Y6,curveBasis:q6,curveBumpX:D6,curveBumpY:I6,curveLinearClosed:X6,curveLinear:_h,curveMonotoneX:J6,curveMonotoneY:Q6,curveNatural:Z6,curveStep:eF,curveStepAfter:rF,curveStepBefore:tF},sf=e=>lt(e.x)&&lt(e.y),B_=e=>e.base!=null&&sf(e.base)&&sf(e),nl=e=>e.x,il=e=>e.y,yz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ac(e));return(r==="curveMonotone"||r==="curveBump")&&t?F_["".concat(r).concat(t==="vertical"?"Y":"X")]:F_[r]||_h},xz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=yz(t,i),o=a?r.filter(sf):r,l;if(Array.isArray(n)){var u=r.map((p,g)=>$_($_({},p),{},{base:n[g]}));i==="vertical"?l=Nu().y(il).x1(nl).x0(p=>p.base.x):l=Nu().x(nl).y1(il).y0(p=>p.base.y);var d=l.defined(B_).curve(s),f=a?u.filter(B_):u;return d(f)}i==="vertical"&&ue(n)?l=Nu().y(il).x1(nl).x0(n):ue(n)?l=Nu().x(nl).y1(il).y0(n):l=qC().x(nl).y(il);var h=l.defined(sf).curve(s);return h(o)},CP=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?xz(e):n;return m.createElement("path",pv({},Pn(e),v0(e),{className:Le("recharts-curve",t),d:a===null?void 0:a,ref:i}))},bz=["x","y","top","left","width","height","className"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return(t=jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kz(e,t){if(e==null)return{};var r,n,i=Nz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cz=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),Ez=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=kz(e,bz),u=wz({x:t,y:r,top:n,left:i,width:a,height:s},l);return!ue(t)||!ue(r)||!ue(a)||!ue(s)||!ue(n)||!ue(i)?null:m.createElement("path",mv({},ar(u),{className:Le("recharts-cross",o),d:Cz(t,r,a,s,n,i)}))};function Pz(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){Oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oz(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),EP=(e,t,r)=>e.map(n=>"".concat(Dz(n)," ").concat(t,"ms ").concat(r)).join(","),Iz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),uc=(e,t)=>Object.keys(t).reduce((r,n)=>W_(W_({},r),{},{[n]:e(n,t[n])}),{});function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){Rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of=(e,t,r)=>e+(t-e)*r,gv=e=>{var{from:t,to:r}=e;return t!==r},PP=(e,t,r)=>{var n=uc((i,a)=>{if(gv(a)){var[s,o]=e(a.from,a.to,a.velocity);return _t(_t({},a),{},{from:s,velocity:o})}return a},t);return r<1?uc((i,a)=>gv(a)?_t(_t({},a),{},{velocity:of(a.velocity,n[i].velocity,r),from:of(a.from,n[i].from,r)}):a,t):PP(e,n,r-1)};function $z(e,t,r,n,i,a){var s,o=n.reduce((h,p)=>_t(_t({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>uc((h,p)=>p.from,o),u=()=>!Object.values(o).filter(gv).length,d=null,f=h=>{s||(s=h);var p=h-s,g=p/r.dt;o=PP(r,o,g),i(_t(_t(_t({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Fz(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>_t(_t({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=uc((y,v)=>of(...v,r(h)),l);if(a(_t(_t(_t({},e),t),p)),h<1)o=s.setTimeout(d);else{var g=uc((y,v)=>of(...v,r(1)),l);a(_t(_t(_t({},e),t),g))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const Bz=(e,t,r,n,i,a)=>{var s=Iz(e,t);return r==null?()=>(i(_t(_t({},e),t)),()=>{}):r.isStepper===!0?$z(e,t,r,s,i,a):Fz(e,t,r,n,s,i,a)};var lf=1e-4,OP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),H_=(e,t)=>r=>{var n=OP(e,t);return AP(n,r)},Uz=(e,t)=>r=>{var n=OP(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return AP(i,r)},zz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},Wz=(e,t,r,n)=>{var i=H_(e,r),a=H_(t,n),s=Uz(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var p=i(f)-d,g=s(f);if(Math.abs(p-d)<lf||g<lf)return a(f);f=o(f-p/g)}return a(f)};return l.isStepper=!1,l},V_=function(){return Wz(...zz(...arguments))},Kz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,d=l*n,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<lf&&Math.abs(f)<lf?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},Hz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return V_(e);case"spring":return Kz();default:if(e.split("(")[0]==="cubic-bezier")return V_(e)}return typeof e=="function"?e:null};function Vz(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class qz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Gz(){return Vz(new qz)}var Yz=m.createContext(Gz);function Xz(e,t){var r=m.useContext(Yz);return m.useMemo(()=>t??r(e),[e,t,r])}var Jz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},q_={t:0},vm={t:1};function zh(e){var t=cr(e,Jz),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=Xz(t.animationId,t.animationManager),[f,h]=m.useState(r?q_:vm),p=m.useRef(null);return m.useEffect(()=>{r||h(vm)},[r]),m.useEffect(()=>{if(!r||!n)return Mo;var g=Bz(q_,vm,Hz(a),i,h,d.getTimeoutController()),y=()=>{p.current=g()};return d.start([l,s,y,i,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,i,a,s,l,o,d]),u(f.t)}function Wh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(sc(t)),n=m.useRef(e);return n.current!==e&&(r.current=sc(t),n.current=e),r.current}var Qz=["radius"],Zz=["radius"];function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){e8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function X_(e,t){if(e==null)return{};var r,n,i=n8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function n8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J_=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Q_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TP=e=>{var t=cr(e,Q_),r=m.useRef(null),[n,i]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=t,v=m.useRef(o),x=m.useRef(l),b=m.useRef(a),w=m.useRef(s),_=m.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),j=Wh(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=Le("recharts-rectangle",d);if(!y){var k=ar(t),{radius:N}=k,E=X_(k,Qz);return m.createElement("path",cf({},E,{radius:typeof u=="number"?u:void 0,className:S,d:J_(a,s,o,l,u)}))}var C=v.current,P=x.current,D=b.current,V=w.current,K="0px ".concat(n===-1?1:n,"px"),Q="".concat(n,"px 0px"),I=EP(["strokeDasharray"],h,typeof f=="string"?f:Q_.animationEasing);return m.createElement(zh,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:y,begin:p},W=>{var L=at(C,o,W),B=at(P,l,W),H=at(D,a,W),te=at(V,s,W);r.current&&(v.current=L,x.current=B,b.current=H,w.current=te);var ee;g?W>0?ee={transition:I,strokeDasharray:Q}:ee={strokeDasharray:K}:ee={strokeDasharray:Q};var we=ar(t),{radius:T}=we,Y=X_(we,Zz);return m.createElement("path",cf({},Y,{radius:typeof u=="number"?u:void 0,className:S,d:J_(H,te,L,B,u),ref:r,style:Y_(Y_({},ee),t.style)}))})};function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){i8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=s8(e,"string");return typeof t=="symbol"?t:t+""}function s8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=Math.PI/180,o8=e=>e*180/Math.PI,zt=(e,t,r,n)=>({x:e+Math.cos(-uf*n)*r,y:t+Math.sin(-uf*n)*r}),l8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},c8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},u8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=c8({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:o8(l),angleInRadian:l}},d8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},f8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},h8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=u8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=d8(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?e1(e1({},t),{},{radius:i,angle:f8(d,t)}):null};function DP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=zt(t,r,n,i),o=zt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}var p8=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Iu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/uf,f=l?i:i+a*d,h=zt(t,r,u,f),p=zt(t,r,n,f),g=l?i-a*d:i,y=zt(t,r,u*Math.cos(d*uf),g);return{center:h,circleTangency:p,lineTangency:y,theta:d}},IP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=p8(a,s),l=a+o,u=zt(t,r,i,a),d=zt(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=zt(t,r,n,a),p=zt(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},m8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=vr(u-l),{circleTangency:f,lineTangency:h,theta:p}=Iu({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:v}=Iu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-p-v;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):IP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:_,theta:j}=Iu({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:N}=Iu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(l-u):Math.abs(l-u)-j-N;if(E<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},g8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RP=e=>{var t=cr(e,g8),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=Le("recharts-sector",f),p=a-i,g=An(s,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=m8({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):y=IP({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),m.createElement("path",vv({},ar(t),{className:h,d:y}))};function v8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(uE(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=zt(n,i,a,o),u=zt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return DP(t)}}var MP={},LP={},$P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})($P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$P;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O0,r=LP;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(MP);var y8=MP.range;const FP=ji(y8);function ia(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $0(e){let t,r,n;e.length!==2?(t=ia,r=(o,l)=>ia(e(o),l),n=(o,l)=>e(o)-l):(t=e===ia||e===x8?e:b8,r=e,n=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function b8(){return 0}function BP(e){return e===null?NaN:+e}function*w8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _8=$0(ia),Mc=_8.right;$0(BP).center;class t1 extends Map{constructor(t,r=k8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(r1(this,t))}has(t){return super.has(r1(this,t))}set(t,r){return super.set(j8(this,t),r)}delete(t){return super.delete(S8(this,t))}}function r1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function j8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function S8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function k8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N8(e=ia){if(e===ia)return UP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C8=Math.sqrt(50),E8=Math.sqrt(10),P8=Math.sqrt(2);function df(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=C8?10:a>=E8?5:a>=P8?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?df(e,t,r*2):[o,l,u]}function yv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?df(t,e,r):df(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function xv(e,t,r){return t=+t,e=+e,r=+r,df(e,t,r)[2]}function bv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?xv(t,e,r):xv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function n1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?UP:N8(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),g=Math.min(n,Math.floor(t+(l-u)*f/l+h));zP(e,t,p,g,i)}const a=e[t];let s=r,o=n;for(al(e,r,t),i(e[n],a)>0&&al(e,r,n);s<o;){for(al(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?al(e,r,o):(++o,al(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function al(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function O8(e,t,r){if(e=Float64Array.from(w8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return i1(e);if(t>=1)return n1(e);var n,i=(n-1)*t,a=Math.floor(i),s=n1(zP(e,a).subarray(0,a+1)),o=i1(e.subarray(a+1));return s+(o-s)*(i-a)}}function A8(e,t,r=BP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function T8(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function dn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wv=Symbol("implicit");function F0(){var e=new t1,t=[],r=[],n=wv;function i(a){let s=e.get(a);if(s===void 0){if(n!==wv)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new t1;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F0(t,r).unknown(n)},dn.apply(i,arguments),i}function B0(){var e=F0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,g=p?i:n,y=p?n:i;a=(y-g)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*d,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=T8(h).map(function(x){return g+a*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return B0(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},dn.apply(f(),arguments)}function WP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WP(t())},e}function D8(){return WP(B0.apply(null,arguments).paddingInner(1))}function U0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var dc=.7,ff=1/dc,ro="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I8=/^#([0-9a-f]{3,8})$/,R8=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),M8=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),L8=new RegExp(`^rgba\\(${ro},${ro},${ro},${fc}\\)$`),$8=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${fc}\\)$`),F8=new RegExp(`^hsl\\(${fc},${Kn},${Kn}\\)$`),B8=new RegExp(`^hsla\\(${fc},${Kn},${Kn},${fc}\\)$`),a1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U0(Lc,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s1,formatHex:s1,formatHex8:U8,formatHsl:z8,formatRgb:o1,toString:o1});function s1(){return this.rgb().formatHex()}function U8(){return this.rgb().formatHex8()}function z8(){return HP(this).formatHsl()}function o1(){return this.rgb().formatRgb()}function hc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=I8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?l1(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=R8.exec(e))?new yr(t[1],t[2],t[3],1):(t=M8.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=L8.exec(e))?Ru(t[1],t[2],t[3],t[4]):(t=$8.exec(e))?Ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F8.exec(e))?d1(t[1],t[2]/100,t[3]/100,1):(t=B8.exec(e))?d1(t[1],t[2]/100,t[3]/100,t[4]):a1.hasOwnProperty(e)?l1(a1[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function l1(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function W8(e){return e instanceof Lc||(e=hc(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function _v(e,t,r,n){return arguments.length===1?W8(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}U0(yr,_v,KP(Lc,{brighter(e){return e=e==null?ff:Math.pow(ff,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Xa(this.r),Xa(this.g),Xa(this.b),hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c1,formatHex:c1,formatHex8:K8,formatRgb:u1,toString:u1}));function c1(){return`#${Wa(this.r)}${Wa(this.g)}${Wa(this.b)}`}function K8(){return`#${Wa(this.r)}${Wa(this.g)}${Wa(this.b)}${Wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function u1(){const e=hf(this.opacity);return`${e===1?"rgb(":"rgba("}${Xa(this.r)}, ${Xa(this.g)}, ${Xa(this.b)}${e===1?")":`, ${e})`}`}function hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wa(e){return e=Xa(e),(e<16?"0":"")+e.toString(16)}function d1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _n(e,t,r,n)}function HP(e){if(e instanceof _n)return new _n(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=hc(e)),!e)return new _n;if(e instanceof _n)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new _n(s,o,l,e.opacity)}function H8(e,t,r,n){return arguments.length===1?HP(e):new _n(e,t,r,n??1)}function _n(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}U0(_n,H8,KP(Lc,{brighter(e){return e=e==null?ff:Math.pow(ff,e),new _n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new _n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new yr(ym(e>=240?e-240:e+120,i,n),ym(e,i,n),ym(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new _n(f1(this.h),Mu(this.s),Mu(this.l),hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hf(this.opacity);return`${e===1?"hsl(":"hsla("}${f1(this.h)}, ${Mu(this.s)*100}%, ${Mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function f1(e){return e=(e||0)%360,e<0?e+360:e}function Mu(e){return Math.max(0,Math.min(1,e||0))}function ym(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const z0=e=>()=>e;function V8(e,t){return function(r){return e+r*t}}function q8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function G8(e){return(e=+e)==1?VP:function(t,r){return r-t?q8(t,r,e):z0(isNaN(t)?r:t)}}function VP(e,t){var r=t-e;return r?V8(e,r):z0(isNaN(e)?t:e)}const h1=function e(t){var r=G8(t);function n(i,a){var s=r((i=_v(i)).r,(a=_v(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=VP(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Y8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function X8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Lo(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Q8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Z8(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Lo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var jv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xm=new RegExp(jv.source,"g");function e9(e){return function(){return e}}function t9(e){return function(t){return e(t)+""}}function r9(e,t){var r=jv.lastIndex=xm.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=jv.exec(e))&&(i=xm.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:pf(n,i)})),r=xm.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?t9(l[0].x):e9(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Lo(e,t){var r=typeof t,n;return t==null||r==="boolean"?z0(t):(r==="number"?pf:r==="string"?(n=hc(t))?(t=n,h1):r9:t instanceof hc?h1:t instanceof Date?Q8:X8(t)?Y8:Array.isArray(t)?J8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z8:pf)(e,t)}function W0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function n9(e,t){t===void 0&&(t=e,e=Lo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function i9(e){return function(){return e}}function mf(e){return+e}var p1=[0,1];function nr(e){return e}function Sv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:i9(isNaN(t)?NaN:.5)}function a9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function s9(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Sv(i,n),a=r(s,a)):(n=Sv(n,i),a=r(a,s)),function(o){return a(n(o))}}function o9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Sv(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Mc(e,o,1,n)-1;return a[l](i[l](o))}}function $c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kh(){var e=p1,t=p1,r=Lo,n,i,a,s=nr,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==nr&&(s=a9(e[0],e[h-1])),o=h>2?o9:s9,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),pf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,mf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=W0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:nr,d()):s!==nr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function K0(){return Kh()(nr,nr)}function l9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vo(e){return e=gf(Math.abs(e)),e?e[1]:NaN}function c9(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function u9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var d9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=d9.exec(e)))throw new Error("invalid format: "+e);var t;return new H0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=H0.prototype;function H0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}H0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var qP;function h9(e,t){var r=gf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(qP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gf(e,Math.max(0,t+a-1))[0]}function m1(e,t){var r=gf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const g1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:l9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>m1(e*100,t),r:m1,s:h9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v1(e){return e}var y1=Array.prototype.map,x1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p9(e){var t=e.grouping===void 0||e.thousands===void 0?v1:c9(y1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?v1:u9(y1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pc(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(b=!0,j="g"):g1[j]||(w===void 0&&(w=12),_=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=y==="$"?n:/[%p]/.test(j)?s:"",N=g1[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(P){var D=S,V=k,K,Q,I;if(j==="c")V=N(P)+V,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?l:N(Math.abs(P),w),_&&(P=f9(P)),W&&+P==0&&g!=="+"&&(W=!1),D=(W?g==="("?g:o:g==="-"||g==="("?"":g)+D,V=(j==="s"?x1[8+qP/3]:"")+V+(W&&g==="("?")":""),E){for(K=-1,Q=P.length;++K<Q;)if(I=P.charCodeAt(K),48>I||I>57){V=(I===46?i+P.slice(K+1):P.slice(K))+V,P=P.slice(0,K);break}}}b&&!v&&(P=t(P,1/0));var L=D.length+P.length+V.length,B=L<x?new Array(x-L+1).join(h):"";switch(b&&v&&(P=t(B+P,B.length?x-V.length:1/0),B=""),p){case"<":P=D+P+V+B;break;case"=":P=D+B+P+V;break;case"^":P=B.slice(0,L=B.length>>1)+D+P+V+B.slice(L);break;default:P=B+D+P+V;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=pc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(vo(h)/3)))*3,y=Math.pow(10,-g),v=x1[8+g/3];return function(x){return p(y*x)+v}}return{format:u,formatPrefix:d}}var Lu,V0,GP;m9({thousands:",",grouping:[3],currency:["$",""]});function m9(e){return Lu=p9(e),V0=Lu.format,GP=Lu.formatPrefix,Lu}function g9(e){return Math.max(0,-vo(Math.abs(e)))}function v9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vo(t)/3)))*3-vo(Math.abs(e)))}function y9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vo(t)-vo(e))+1}function YP(e,t,r,n){var i=bv(e,t,r),a;switch(n=pc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=v9(i,s))&&(n.precision=a),GP(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=y9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=g9(i))&&(n.precision=a-(n.type==="%")*2);break}}return V0(n)}function va(e){var t=e.domain;return e.ticks=function(r){var n=t();return yv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return YP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=xv(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function XP(){var e=K0();return e.copy=function(){return $c(e,XP())},dn.apply(e,arguments),va(e)}function JP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JP(e).unknown(t)},e=arguments.length?Array.from(e,mf):[0,1],va(r)}function QP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function b1(e){return Math.log(e)}function w1(e){return Math.exp(e)}function x9(e){return-Math.log(-e)}function b9(e){return-Math.exp(-e)}function w9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _9(e){return e===10?w9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function j9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _1(e){return(t,r)=>-e(-t,r)}function q0(e){const t=e(b1,w1),r=t.domain;let n=10,i,a;function s(){return i=j9(n),a=_9(n),r()[0]<0?(i=_1(i),a=_1(a),e(x9,b9)):e(b1,w1),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,y;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=yv(u,d,v))}else x=yv(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=pc(l)).precision==null&&(l.trim=!0),l=V0(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(QP(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function ZP(){const e=q0(Kh()).domain([1,10]);return e.copy=()=>$c(e,ZP()).base(e.base()),dn.apply(e,arguments),e}function j1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function G0(e){var t=1,r=e(j1(t),S1(t));return r.constant=function(n){return arguments.length?e(j1(t=+n),S1(t)):t},va(r)}function eO(){var e=G0(Kh());return e.copy=function(){return $c(e,eO()).constant(e.constant())},dn.apply(e,arguments)}function k1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function S9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function k9(e){return e<0?-e*e:e*e}function Y0(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(S9,k9):e(k1(r),k1(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},va(t)}function X0(){var e=Y0(Kh());return e.copy=function(){return $c(e,X0()).exponent(e.exponent())},dn.apply(e,arguments),e}function N9(){return X0.apply(null,arguments).exponent(.5)}function N1(e){return Math.sign(e)*e*e}function C9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tO(){var e=K0(),t=[0,1],r=!1,n;function i(a){var s=C9(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(N1(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,mf)).map(N1)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},dn.apply(i,arguments),va(i)}function rO(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=A8(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Mc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ia),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return rO().domain(e).range(t).unknown(n)},dn.apply(a,arguments)}function nO(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Mc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return nO().domain([e,t]).range(i).unknown(a)},dn.apply(va(s),arguments)}function iO(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Mc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iO().domain(e).range(t).unknown(r)},dn.apply(i,arguments)}const bm=new Date,wm=new Date;function Nt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Nt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(bm.setTime(+a),wm.setTime(+s),e(bm),e(wm),Math.floor(r(bm,wm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const vf=Nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vf);vf.range;const ii=1e3,nn=ii*60,ai=nn*60,yi=ai*24,J0=yi*7,C1=yi*30,_m=yi*365,Ka=Nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());Ka.range;const Q0=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getMinutes());Q0.range;const Z0=Nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getUTCMinutes());Z0.range;const ex=Nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*nn)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());ex.range;const tx=Nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());tx.range;const Fc=Nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nn)/yi,e=>e.getDate()-1);Fc.range;const Hh=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yi,e=>e.getUTCDate()-1);Hh.range;const aO=Nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yi,e=>Math.floor(e/yi));aO.range;function ms(e){return Nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nn)/J0)}const Vh=ms(0),yf=ms(1),E9=ms(2),P9=ms(3),yo=ms(4),O9=ms(5),A9=ms(6);Vh.range;yf.range;E9.range;P9.range;yo.range;O9.range;A9.range;function gs(e){return Nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/J0)}const qh=gs(0),xf=gs(1),T9=gs(2),D9=gs(3),xo=gs(4),I9=gs(5),R9=gs(6);qh.range;xf.range;T9.range;D9.range;xo.range;I9.range;R9.range;const rx=Nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rx.range;const nx=Nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nx.range;const xi=Nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xi.range;const bi=Nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bi.range;function sO(e,t,r,n,i,a){const s=[[Ka,1,ii],[Ka,5,5*ii],[Ka,15,15*ii],[Ka,30,30*ii],[a,1,nn],[a,5,5*nn],[a,15,15*nn],[a,30,30*nn],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[n,1,yi],[n,2,2*yi],[r,1,J0],[t,1,C1],[t,3,3*C1],[e,1,_m]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=$0(([,,v])=>v).right(s,h);if(p===s.length)return e.every(bv(u/_m,d/_m,f));if(p===0)return vf.every(Math.max(bv(u,d,f),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,l]}const[M9,L9]=sO(bi,nx,qh,aO,tx,Z0),[$9,F9]=sO(xi,rx,Vh,Fc,ex,Q0);function jm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function B9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=ol(i),d=ll(i),f=ol(a),h=ll(a),p=ol(s),g=ll(s),y=ol(o),v=ll(o),x=ol(l),b=ll(l),w={a:W,A:L,b:B,B:H,c:null,d:D1,e:D1,f:c7,g:x7,G:w7,H:s7,I:o7,j:l7,L:oO,m:u7,M:d7,p:te,q:ee,Q:M1,s:L1,S:f7,u:h7,U:p7,V:m7,w:g7,W:v7,x:null,X:null,y:y7,Y:b7,Z:_7,"%":R1},_={a:we,A:T,b:Y,B:re,c:null,d:I1,e:I1,f:N7,g:M7,G:$7,H:j7,I:S7,j:k7,L:cO,m:C7,M:E7,p:ve,q:Ne,Q:M1,s:L1,S:P7,u:O7,U:A7,V:T7,w:D7,W:I7,x:null,X:null,y:R7,Y:L7,Z:F7,"%":R1},j={a:C,A:P,b:D,B:V,c:K,d:A1,e:A1,f:r7,g:O1,G:P1,H:T1,I:T1,j:Q9,L:t7,m:J9,M:Z9,p:E,q:X9,Q:i7,s:a7,S:e7,u:H9,U:V9,V:q9,w:K9,W:G9,x:Q,X:I,y:O1,Y:P1,Z:Y9,"%":n7};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(O,z){return function(Z){var $=[],Se=-1,R=0,de=O.length,be,Ce,dt;for(Z instanceof Date||(Z=new Date(+Z));++Se<de;)O.charCodeAt(Se)===37&&($.push(O.slice(R,Se)),(Ce=E1[be=O.charAt(++Se)])!=null?be=O.charAt(++Se):Ce=be==="e"?" ":"0",(dt=z[be])&&(be=dt(Z,Ce)),$.push(be),R=Se+1);return $.push(O.slice(R,Se)),$.join("")}}function k(O,z){return function(Z){var $=sl(1900,void 0,1),Se=N($,O,Z+="",0),R,de;if(Se!=Z.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(z&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(R=Sm(sl($.y,0,1)),de=R.getUTCDay(),R=de>4||de===0?xf.ceil(R):xf(R),R=Hh.offset(R,($.V-1)*7),$.y=R.getUTCFullYear(),$.m=R.getUTCMonth(),$.d=R.getUTCDate()+($.w+6)%7):(R=jm(sl($.y,0,1)),de=R.getDay(),R=de>4||de===0?yf.ceil(R):yf(R),R=Fc.offset(R,($.V-1)*7),$.y=R.getFullYear(),$.m=R.getMonth(),$.d=R.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),de="Z"in $?Sm(sl($.y,0,1)).getUTCDay():jm(sl($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(de+5)%7:$.w+$.U*7-(de+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Sm($)):jm($)}}function N(O,z,Z,$){for(var Se=0,R=z.length,de=Z.length,be,Ce;Se<R;){if($>=de)return-1;if(be=z.charCodeAt(Se++),be===37){if(be=z.charAt(Se++),Ce=j[be in E1?z.charAt(Se++):be],!Ce||($=Ce(O,Z,$))<0)return-1}else if(be!=Z.charCodeAt($++))return-1}return $}function E(O,z,Z){var $=u.exec(z.slice(Z));return $?(O.p=d.get($[0].toLowerCase()),Z+$[0].length):-1}function C(O,z,Z){var $=p.exec(z.slice(Z));return $?(O.w=g.get($[0].toLowerCase()),Z+$[0].length):-1}function P(O,z,Z){var $=f.exec(z.slice(Z));return $?(O.w=h.get($[0].toLowerCase()),Z+$[0].length):-1}function D(O,z,Z){var $=x.exec(z.slice(Z));return $?(O.m=b.get($[0].toLowerCase()),Z+$[0].length):-1}function V(O,z,Z){var $=y.exec(z.slice(Z));return $?(O.m=v.get($[0].toLowerCase()),Z+$[0].length):-1}function K(O,z,Z){return N(O,t,z,Z)}function Q(O,z,Z){return N(O,r,z,Z)}function I(O,z,Z){return N(O,n,z,Z)}function W(O){return s[O.getDay()]}function L(O){return a[O.getDay()]}function B(O){return l[O.getMonth()]}function H(O){return o[O.getMonth()]}function te(O){return i[+(O.getHours()>=12)]}function ee(O){return 1+~~(O.getMonth()/3)}function we(O){return s[O.getUTCDay()]}function T(O){return a[O.getUTCDay()]}function Y(O){return l[O.getUTCMonth()]}function re(O){return o[O.getUTCMonth()]}function ve(O){return i[+(O.getUTCHours()>=12)]}function Ne(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var z=S(O+="",w);return z.toString=function(){return O},z},parse:function(O){var z=k(O+="",!1);return z.toString=function(){return O},z},utcFormat:function(O){var z=S(O+="",_);return z.toString=function(){return O},z},utcParse:function(O){var z=k(O+="",!0);return z.toString=function(){return O},z}}}var E1={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,U9=/^%/,z9=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function W9(e){return e.replace(z9,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(W9).join("|")+")","i")}function ll(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function K9(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function H9(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function V9(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function q9(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function G9(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function P1(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Y9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function X9(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function J9(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function A1(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Q9(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Z9(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function e7(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function t7(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function r7(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n7(e,t,r){var n=U9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function i7(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D1(e,t){return Ae(e.getDate(),t,2)}function s7(e,t){return Ae(e.getHours(),t,2)}function o7(e,t){return Ae(e.getHours()%12||12,t,2)}function l7(e,t){return Ae(1+Fc.count(xi(e),e),t,3)}function oO(e,t){return Ae(e.getMilliseconds(),t,3)}function c7(e,t){return oO(e,t)+"000"}function u7(e,t){return Ae(e.getMonth()+1,t,2)}function d7(e,t){return Ae(e.getMinutes(),t,2)}function f7(e,t){return Ae(e.getSeconds(),t,2)}function h7(e){var t=e.getDay();return t===0?7:t}function p7(e,t){return Ae(Vh.count(xi(e)-1,e),t,2)}function lO(e){var t=e.getDay();return t>=4||t===0?yo(e):yo.ceil(e)}function m7(e,t){return e=lO(e),Ae(yo.count(xi(e),e)+(xi(e).getDay()===4),t,2)}function g7(e){return e.getDay()}function v7(e,t){return Ae(yf.count(xi(e)-1,e),t,2)}function y7(e,t){return Ae(e.getFullYear()%100,t,2)}function x7(e,t){return e=lO(e),Ae(e.getFullYear()%100,t,2)}function b7(e,t){return Ae(e.getFullYear()%1e4,t,4)}function w7(e,t){var r=e.getDay();return e=r>=4||r===0?yo(e):yo.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function _7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function I1(e,t){return Ae(e.getUTCDate(),t,2)}function j7(e,t){return Ae(e.getUTCHours(),t,2)}function S7(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function k7(e,t){return Ae(1+Hh.count(bi(e),e),t,3)}function cO(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function N7(e,t){return cO(e,t)+"000"}function C7(e,t){return Ae(e.getUTCMonth()+1,t,2)}function E7(e,t){return Ae(e.getUTCMinutes(),t,2)}function P7(e,t){return Ae(e.getUTCSeconds(),t,2)}function O7(e){var t=e.getUTCDay();return t===0?7:t}function A7(e,t){return Ae(qh.count(bi(e)-1,e),t,2)}function uO(e){var t=e.getUTCDay();return t>=4||t===0?xo(e):xo.ceil(e)}function T7(e,t){return e=uO(e),Ae(xo.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function D7(e){return e.getUTCDay()}function I7(e,t){return Ae(xf.count(bi(e)-1,e),t,2)}function R7(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function M7(e,t){return e=uO(e),Ae(e.getUTCFullYear()%100,t,2)}function L7(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function $7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xo(e):xo.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function F7(){return"+0000"}function R1(){return"%"}function M1(e){return+e}function L1(e){return Math.floor(+e/1e3)}var ks,dO,fO;B7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B7(e){return ks=B9(e),dO=ks.format,ks.parse,fO=ks.utcFormat,ks.utcParse,ks}function U7(e){return new Date(e)}function z7(e){return e instanceof Date?+e:+new Date(+e)}function ix(e,t,r,n,i,a,s,o,l,u){var d=K0(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(l(S)<S?p:o(S)<S?g:s(S)<S?y:a(S)<S?v:n(S)<S?i(S)<S?x:b:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,z7)):h().map(U7)},d.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?j:u(k)},d.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(QP(k,S)):d},d.copy=function(){return $c(d,ix(e,t,r,n,i,a,s,o,l,u))},d}function W7(){return dn.apply(ix($9,F9,xi,rx,Vh,Fc,ex,Q0,Ka,dO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K7(){return dn.apply(ix(M9,L9,bi,nx,qh,Hh,tx,Z0,Ka,fO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gh(){var e=0,t=1,r,n,i,a,s=nr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(Lo),u.rangeRound=d(W0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function ya(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hO(){var e=va(Gh()(nr));return e.copy=function(){return ya(e,hO())},Ci.apply(e,arguments)}function pO(){var e=q0(Gh()).domain([1,10]);return e.copy=function(){return ya(e,pO()).base(e.base())},Ci.apply(e,arguments)}function mO(){var e=G0(Gh());return e.copy=function(){return ya(e,mO()).constant(e.constant())},Ci.apply(e,arguments)}function ax(){var e=Y0(Gh());return e.copy=function(){return ya(e,ax()).exponent(e.exponent())},Ci.apply(e,arguments)}function H7(){return ax.apply(null,arguments).exponent(.5)}function gO(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ia),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>O8(e,a/n))},r.copy=function(){return gO(t).domain(e)},Ci.apply(r,arguments)}function Yh(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=nr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(n*y<n*a?o:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=n9(y,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(Lo),p.rangeRound=g(W0),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,i=y(e),a=y(t),s=y(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function vO(){var e=va(Yh()(nr));return e.copy=function(){return ya(e,vO())},Ci.apply(e,arguments)}function yO(){var e=q0(Yh()).domain([.1,1,10]);return e.copy=function(){return ya(e,yO()).base(e.base())},Ci.apply(e,arguments)}function xO(){var e=G0(Yh());return e.copy=function(){return ya(e,xO()).constant(e.constant())},Ci.apply(e,arguments)}function sx(){var e=Y0(Yh());return e.copy=function(){return ya(e,sx()).exponent(e.exponent())},Ci.apply(e,arguments)}function V7(){return sx.apply(null,arguments).exponent(.5)}const yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B0,scaleDiverging:vO,scaleDivergingLog:yO,scaleDivergingPow:sx,scaleDivergingSqrt:V7,scaleDivergingSymlog:xO,scaleIdentity:JP,scaleImplicit:wv,scaleLinear:XP,scaleLog:ZP,scaleOrdinal:F0,scalePoint:D8,scalePow:X0,scaleQuantile:rO,scaleQuantize:nO,scaleRadial:tO,scaleSequential:hO,scaleSequentialLog:pO,scaleSequentialPow:ax,scaleSequentialQuantile:gO,scaleSequentialSqrt:H7,scaleSequentialSymlog:mO,scaleSqrt:N9,scaleSymlog:eO,scaleThreshold:iO,scaleTime:W7,scaleUtc:K7,tickFormat:YP},Symbol.toStringTag,{value:"Module"}));var xa=e=>e.chartData,q7=M([xa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xh=(e,t,r,n)=>n?q7(e):xa(e);function os(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lt(t)&&lt(r))return!0}return!1}function $1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(lt(r))i=r;else if(typeof r=="function")return;if(lt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(os(s))return s}}function G7(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(os(n))return $1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ue(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&C_.test(i)){var l=C_.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(ue(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&E_.test(a)){var d=E_.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(os(h))return t==null?h:$1(h,t,r)}}}var $o=1e9,Y7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lx,Ye=!0,un="[DecimalError] ",Ja=un+"Invalid argument: ",ox=un+"Exponent out of range: ",Fo=Math.floor,Ra=Math.pow,X7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Ot=1e7,Ke=7,wO=9007199254740991,bf=Fo(wO/Ke),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return ci(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return $e(ci(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return xt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Rr))throw Error(un+"NaN");if(r.s<1)throw Error(un+(r.s?"NaN":"-Infinity"));return r.eq(Rr)?new n(0):(Ye=!1,t=ci(mc(r,a),mc(e,a),a),Ye=!0,$e(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SO(t,e):_O(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(un+"NaN");return r.s?(Ye=!1,t=ci(r,e,0,1).times(e),Ye=!0,r.minus(t)):$e(new n(r),i)};ie.naturalExponential=ie.exp=function(){return jO(this)};ie.naturalLogarithm=ie.ln=function(){return mc(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_O(t,e):SO(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ja+e);if(t=xt(i)+1,n=i.d.length-1,r=n*Ke+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(un+"NaN")}for(e=xt(o),Ye=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Un(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ci(o,a,s+2)).times(.5),Un(a.d).slice(0,s)===(t=Un(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if($e(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Ye=!0,$e(n,r)};ie.times=ie.mul=function(e){var t,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%Ot|0,t=o/Ot|0;a[i]=(a[i]+t)%Ot|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ye?$e(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,$o),t===void 0?t=n.rounding:qn(t,0,8),$e(r,e+xt(r)+1,t))};ie.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ls(n,!0):(qn(e,0,$o),t===void 0?t=i.rounding:qn(t,0,8),n=$e(new i(n),e+1,t),r=ls(n,!0,e+1)),r};ie.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ls(i):(qn(e,0,$o),t===void 0?t=a.rounding:qn(t,0,8),n=$e(new a(i),e+xt(i)+1,t),r=ls(n.abs(),!1,e+xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return $e(new t(e),xt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Rr);if(o=new l(o),!o.s){if(e.s<1)throw Error(un+"Infinity");return o}if(o.eq(Rr))return o;if(n=l.precision,e.eq(Rr))return $e(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=wO){for(i=new l(Rr),t=Math.ceil(n/Ke+4),Ye=!1;r%2&&(i=i.times(o),B1(i.d,t)),r=Fo(r/2),r!==0;)o=o.times(o),B1(o.d,t);return Ye=!0,e.s<0?new l(Rr).div(i):$e(i,n)}}else if(a<0)throw Error(un+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ye=!1,i=e.times(mc(o,n+u)),Ye=!0,i=jO(i),i.s=a,i};ie.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=xt(i),n=ls(i,r<=a.toExpNeg||r>=a.toExpPos)):(qn(e,1,$o),t===void 0?t=a.rounding:qn(t,0,8),i=$e(new a(i),e,t),r=xt(i),n=ls(i,e<=r||r<=a.toExpNeg,e)),n};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,$o),t===void 0?t=n.rounding:qn(t,0,8)),$e(new n(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xt(e),r=e.constructor;return ls(e,t<=r.toExpNeg||t>=r.toExpPos)};function _O(e,t){var r,n,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ye?$e(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/Ke),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Ot|0,l[a]%=Ot;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ye?$e(t,f):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ja+e)}function Un(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ke-n.length,r&&(a+=Ui(r)),a+=n;s=e[t],n=s+"",r=Ke-n.length,r&&(a+=Ui(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ci=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ot|0,s=a/Ot|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ot+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,p,g,y,v,x,b,w,_,j,S,k,N,E=n.constructor,C=n.s==i.s?1:-1,P=n.d,D=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(un+"Division by zero");for(l=n.e-i.e,k=D.length,j=P.length,p=new E(C),g=p.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--l,a==null?b=a=E.precision:s?b=a+(xt(n)-xt(i))+1:b=a,b<0)return new E(0);if(b=b/Ke+2|0,u=0,k==1)for(d=0,D=D[0],b++;(u<j||d)&&b--;u++)w=d*Ot+(P[u]||0),g[u]=w/D|0,d=w%D|0;else{for(d=Ot/(D[0]+1)|0,d>1&&(D=e(D,d),P=e(P,d),k=D.length,j=P.length),_=k,y=P.slice(0,k),v=y.length;v<k;)y[v++]=0;N=D.slice(),N.unshift(0),S=D[0],D[1]>=Ot/2&&++S;do d=0,o=t(D,y,k,v),o<0?(x=y[0],k!=v&&(x=x*Ot+(y[1]||0)),d=x/S|0,d>1?(d>=Ot&&(d=Ot-1),f=e(D,d),h=f.length,v=y.length,o=t(f,y,h,v),o==1&&(d--,r(f,k<h?N:D,h))):(d==0&&(o=d=1),f=D.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),o==-1&&(v=y.length,o=t(D,y,k,v),o<1&&(d++,r(y,k<v?N:D,v))),v=y.length):o===0&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=P[_]||0:(y=[P[_]],v=1);while((_++<j||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,$e(p,s?a+xt(p)+1:a)}}();function jO(e,t){var r,n,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(xt(e)>16)throw Error(ox+xt(e));if(!e.s)return new d(Rr);for(Ye=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ra(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Rr),d.precision=o;;){if(i=$e(i.times(e),o),r=r.times(++l),s=a.plus(ci(i,r,o)),Un(s.d).slice(0,o)===Un(a.d).slice(0,o)){for(;u--;)a=$e(a.times(a),o);return d.precision=f,t==null?(Ye=!0,$e(a,f)):a}a=s}}function xt(e){for(var t=e.e*Ke,r=e.d[0];r>=10;r/=10)t++;return t}function km(e,t,r){if(t>e.LN10.sd())throw Ye=!0,r&&(e.precision=r),Error(un+"LN10 precision limit exceeded");return $e(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function mc(e,t){var r,n,i,a,s,o,l,u,d,f=1,h=10,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(un+(p.s?"NaN":"-Infinity"));if(p.eq(Rr))return new y(0);if(t==null?(Ye=!1,u=v):u=t,p.eq(10))return t==null&&(Ye=!0),km(y,u);if(u+=h,y.precision=u,r=Un(g),n=r.charAt(0),a=xt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Un(p.d),n=r.charAt(0),f++;a=xt(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return l=km(y,u+2,v).times(a+""),p=mc(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=v,t==null?(Ye=!0,$e(p,v)):p;for(o=s=p=ci(p.minus(Rr),p.plus(Rr),u),d=$e(p.times(p),u),i=3;;){if(s=$e(s.times(d),u),l=o.plus(ci(s,new y(i),u)),Un(l.d).slice(0,u)===Un(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(km(y,u+2,v).times(a+""))),o=ci(o,new y(f),u),y.precision=v,t==null?(Ye=!0,$e(o,v)):o;o=l,i+=2}}function F1(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Fo(r/Ke),e.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ke;n<i;)e.d.push(+t.slice(n,n+=Ke));t=t.slice(n),n=Ke-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ye&&(e.e>bf||e.e<-bf))throw Error(ox+r)}else e.s=0,e.e=0,e.d=[0];return e}function $e(e,t,r){var n,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ke,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ke),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Ke,i=n-Ke+s}if(r!==void 0&&(a=Ra(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ra(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=xt(e),f.length=1,t=t-a-1,f[0]=Ra(10,(Ke-t%Ke)%Ke),e.e=Fo(-t/Ke)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ra(10,Ke-n),f[d]=i>0?(u/Ra(10,s-i)%Ra(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Ot&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Ot)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ye&&(e.e>bf||e.e<-bf))throw Error(ox+xt(e));return e}function SO(e,t){var r,n,i,a,s,o,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ye?$e(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/Ke),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ot-1;--l[a],l[i]+=Ot}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ye?$e(t,p):t):new h(0)}function ls(e,t,r){var n,i=xt(e),a=Un(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ui(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ui(-i-1)+a,r&&(n=r-s)>0&&(a+=Ui(n))):i>=s?(a+=Ui(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ui(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ui(n))),e.s<0?"-"+a:a}function B1(e,t){if(e.length>t)return e.length=t,!0}function kO(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ja+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return F1(s,a.toString())}else if(typeof a!="string")throw Error(Ja+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,X7.test(a))F1(s,a);else throw Error(Ja+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kO,i.config=i.set=J7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function J7(e){if(!e||typeof e!="object")throw Error(un+"Object expected");var t,r,n,i=["precision",1,$o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Fo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ja+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ja+r+": "+n);return this}var lx=kO(Y7);Rr=new lx(1);const Re=lx;var Q7=e=>e,NO={},CO=e=>e===NO,U1=e=>function t(){return arguments.length===0||arguments.length===1&&CO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},EO=(e,t)=>e===1?t:U1(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==NO).length;return a>=e?t(...n):EO(e-a,U1(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(d=>CO(d)?o.shift():d);return t(...u,...o)}))}),Jh=e=>EO(e.length,e),kv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Z7=Jh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),eW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Q7;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},Nv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),PO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,r=e(...i)),r}};function OO(e){var t;return e===0?t=1:t=Math.floor(new Re(e).abs().log(10).toNumber())+1,t}function AO(e,t,r){for(var n=new Re(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Jh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Jh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Jh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var TO=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},DO=(e,t,r)=>{if(e.lte(0))return new Re(0);var n=OO(e.toNumber()),i=new Re(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Re(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Re(l.toNumber()):new Re(Math.ceil(l.toNumber()))},tW=(e,t,r)=>{var n=new Re(1),i=new Re(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Re(10).pow(OO(e)-1),i=new Re(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Re(Math.floor(e)))}else e===0?i=new Re(Math.floor((t-1)/2)):r||(i=new Re(Math.floor(e)));var s=Math.floor((t-1)/2),o=eW(Z7(l=>i.add(new Re(l-s).mul(n)).toNumber()),kv);return o(0,t)},IO=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var s=DO(new Re(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Re(0):(o=new Re(t).add(r).div(2),o=o.sub(new Re(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Re(r).sub(o).div(s).toNumber()),d=l+u+1;return d>n?IO(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new Re(l).mul(s)),tickMax:o.add(new Re(u).mul(s))})};function rW(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=TO([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...kv(0,n-1).map(()=>1/0)]:[...kv(0,n-1).map(()=>-1/0),o];return t>r?Nv(l):l}if(s===o)return tW(s,n,i);var{step:u,tickMin:d,tickMax:f}=IO(s,o,a,i,0),h=AO(d,f.add(new Re(.1).mul(u)),u);return t>r?Nv(h):h}function nW(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=TO([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=DO(new Re(s).sub(a).div(o-1),i,0),u=[...AO(new Re(a),new Re(s),l),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Nv(u):u}var iW=PO(rW),aW=PO(nW),RO=e=>e.rootProps.maxBarSize,sW=e=>e.rootProps.barGap,MO=e=>e.rootProps.barCategoryGap,oW=e=>e.rootProps.barSize,Qh=e=>e.rootProps.stackOffset,cx=e=>e.options.chartName,ux=e=>e.rootProps.syncId,LO=e=>e.rootProps.syncMethod,dx=e=>e.options.eventEmitter,Dt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:ei.type,unit:void 0},cW={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:Tr.type,unit:void 0},uW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dW={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:"category",unit:void 0},fx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uW:lW,hx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dW:cW,ep=e=>e.polarOptions,px=M([ki,Ni,Mt],l8),$O=M([ep,px],(e,t)=>{if(e!=null)return An(e.innerRadius,t,0)}),FO=M([ep,px],(e,t)=>{if(e!=null)return An(e.outerRadius,t,t*.8)}),fW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BO=M([ep],fW);M([fx,BO],Zh);var UO=M([px,$O,FO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});M([hx,UO],Zh);var zO=M([Ie,ep,$O,FO,ki,Ni],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:An(s,i,i/2),cy:An(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ct=(e,t)=>t,tp=(e,t,r)=>r;function mx(e){return e==null?void 0:e.id}function WO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=mx(o);u.forEach((f,h)=>{var p=a==null||i?h:String(Rt(f,a,null)),g=Rt(f,o.dataKey,0),y;s.has(p)?y=s.get(p):y={},Object.assign(y,{[d]:g}),s.set(p,y)})}}),Array.from(s.values())}function rp(e){return e.stackId!=null&&e.dataKey!=null}var np=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ip(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Et=e=>{var t=Ie(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bo=e=>e.tooltip.settings.axisId;function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cv=[0,"auto"],Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KO=(e,t)=>e.cartesianAxis.xAxis[t],Ei=(e,t)=>{var r=KO(e,t);return r??Pr},Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Cv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},HO=(e,t)=>e.cartesianAxis.yAxis[t],Pi=(e,t)=>{var r=HO(e,t);return r??Or},vW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??vW},ur=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Pi(e,r);case"zAxis":return gx(e,r);case"angleAxis":return fx(e,r);case"radiusAxis":return hx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yW=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Pi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bc=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Pi(e,r);case"angleAxis":return fx(e,r);case"radiusAxis":return hx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qO(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ap=e=>e.graphicalItems.cartesianItems,xW=M([Ct,tp],qO),GO=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Uc=M([ap,ur,xW],GO,{memoizeOptions:{resultEqualityCheck:ip}}),YO=M([Uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rp)),XO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bW=M([Uc],XO),JO=e=>e.map(t=>t.data).filter(Boolean).flat(1),wW=M([Uc],JO,{memoizeOptions:{resultEqualityCheck:ip}}),QO=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},vx=M([wW,Xh],QO),ZO=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Rt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Rt(i,n)}))):e.map(n=>({value:n})),sp=M([vx,ur,Uc],ZO);function eA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ad(e){if(Hn(e)||e instanceof Date){var t=Number(e);if(lt(t))return t}}function W1(e){if(Array.isArray(e)){var t=[ad(e[0]),ad(e[1])];return os(t)?t:void 0}var r=ad(e);if(r!=null)return[r,r]}function wi(e){return e.map(ad).filter(dF)}function _W(e,t,r){return!r||typeof t!="number"||On(t)?[]:r.length?wi(r.flatMap(n=>{var i=Rt(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!lt(a)||!lt(s)))return[t-a,t+s]})):[]}var Pt=e=>{var t=Et(e),r=Bo(e);return Bc(e,t,r)},tA=M([Pt],e=>e==null?void 0:e.dataKey),jW=M([YO,Xh,Pt],WO),rA=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(mx);return[s,{stackedData:gU(e,l,r),graphicalItems:o}]}))},Ev=M([jW,YO,Qh],rA),nA=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=wU(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},SW=M([ur],e=>e.allowDataOverflow),yx=e=>{var t;if(e==null||!("domain"in e))return Cv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=wi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Cv},iA=M([ur],yx),aA=M([iA,SW],bO),kW=M([Ev,xa,Ct,aA],nA,{memoizeOptions:{resultEqualityCheck:np}}),xx=e=>e.errorBars,NW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>eA(r,n)),_f=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},sA=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,d,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>eA(i,x)),h=Rt(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),p=_W(o,h,f);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var v=W1(h);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=W1(Rt(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),lt(a)&&lt(s))return[a,s]},CW=M([vx,ur,bW,xx,Ct],sA,{memoizeOptions:{resultEqualityCheck:np}});function EW(e){var{value:t}=e;if(Hn(t)||t instanceof Date)return t}var PW=(e,t,r)=>{var n=e.map(EW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sE(n))?FP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},oA=e=>e.referenceElements.dots,Uo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),OW=M([oA,Ct,tp],Uo),lA=e=>e.referenceElements.areas,AW=M([lA,Ct,tp],Uo),cA=e=>e.referenceElements.lines,TW=M([cA,Ct,tp],Uo),uA=(e,t)=>{var r=wi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DW=M(OW,Ct,uA),dA=(e,t)=>{var r=wi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},IW=M([AW,Ct],dA);function RW(e){var t;if(e.x!=null)return wi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:wi(r)}function MW(e){var t;if(e.y!=null)return wi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:wi(r)}var fA=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?RW(n):MW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LW=M([TW,Ct],fA),$W=M(DW,LW,IW,(e,t,r)=>_f(e,r,t)),hA=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?_f(n,a,i):_f(a,i);return G7(t,u,e.allowDataOverflow)},FW=M([ur,iA,aA,kW,CW,$W,Ie,Ct],hA,{memoizeOptions:{resultEqualityCheck:np}}),BW=[0,1],pA=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=ga(t,a);if(u&&o==null){var d;return FP(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?PW(n,e,u):i==="expand"?BW:s}},bx=M([ur,Ie,vx,sp,Qh,Ct,FW],pA),mA=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ac(a));return o in yl?o:"point"}}},zc=M([ur,Ie,VO,cx,Ct],mA);function UW(e){if(e!=null){if(e in yl)return yl[e]();var t="scale".concat(Ac(e));if(t in yl)return yl[t]()}}function wx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=UW(t);if(i!=null){var a=i.domain(r).range(n);return dU(a),a}}}var gA=(e,t,r)=>{var n=yx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&os(e))return iW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&os(e))return aW(e,t.tickCount,t.allowDecimals)}},_x=M([bx,Bc,zc],gA),vA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&os(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},zW=M([ur,bx,_x,Ct],vA),WW=M(sp,ur,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wi(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),yA=M(WW,Ie,MO,Mt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!lt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=An(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),KW=(e,t)=>{var r=Ei(e,t);return r==null||typeof r.padding!="string"?0:yA(e,"xAxis",t,r.padding)},HW=(e,t)=>{var r=Pi(e,t);return r==null||typeof r.padding!="string"?0:yA(e,"yAxis",t,r.padding)},VW=M(Ei,KW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),qW=M(Pi,HW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),GW=M([Mt,VW,Fh,$h,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),YW=M([Mt,Ie,qW,Fh,$h,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return GW(e,r,n);case"yAxis":return YW(e,r,n);case"zAxis":return(i=gx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return BO(e);case"radiusAxis":return UO(e,r);default:return}},xA=M([ur,Wc],Zh),zo=M([ur,zc,zW,xA],wx);M([Uc,xx,Ct],NW);function bA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var op=(e,t)=>t,lp=(e,t,r)=>r,XW=M(Mh,op,lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bA)),JW=M(Lh,op,lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bA)),wA=(e,t)=>({width:e.width,height:t.height}),QW=(e,t)=>{var r=typeof t.width=="number"?t.width:Ic;return{width:r,height:e.height}},_A=M(Mt,Ei,wA),ZW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},eK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tK=M(Ni,Mt,XW,op,lp,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=wA(t,o);s==null&&(s=ZW(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),rK=M(ki,Mt,JW,op,lp,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=QW(t,o);s==null&&(s=eK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),nK=(e,t)=>{var r=Ei(e,t);if(r!=null)return tK(e,r.orientation,r.mirror)},iK=M([Mt,Ei,nK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),aK=(e,t)=>{var r=Pi(e,t);if(r!=null)return rK(e,r.orientation,r.mirror)},sK=M([Mt,Pi,aK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),jA=M(Mt,Pi,(e,t)=>{var r=typeof t.width=="number"?t.width:Ic;return{width:r,height:e.height}}),K1=(e,t,r)=>{switch(t){case"xAxis":return _A(e,r).width;case"yAxis":return jA(e,r).height;default:return}},SA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=ga(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&sE(l))return l}},jx=M([Ie,sp,ur,Ct],SA),kA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=ga(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},Sx=M([Ie,sp,Bc,Ct],kA),H1=M([Ie,yW,zc,zo,jx,Sx,Wc,_x,Ct],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=ga(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),oK=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=ga(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?vr(a[0]-a[1])*2*g:g;var y=f||i;if(y){var v=y.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:n(w)+g,value:x,offset:g}});return v.filter(x=>lt(x.coordinate))}return u&&o?o.map((x,b)=>({coordinate:n(x)+g,value:x,index:b,offset:g})).filter(x=>lt(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,b)=>({coordinate:n(x)+g,value:s?s[x]:x,index:b,offset:g}))}},NA=M([Ie,Bc,zc,zo,_x,Wc,jx,Sx,Ct],oK),lK=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ga(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?vr(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},ua=M([Ie,Bc,zo,Wc,jx,Sx,Ct],lK),da=M(ur,zo,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})}),cK=M([ur,zc,bx,xA],wx);M((e,t,r)=>gx(e,r),cK,(e,t)=>{if(!(e==null||t==null))return wf(wf({},e),{},{scale:t})});var uK=M([Ie,Mh,Lh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CA=e=>e.options.defaultTooltipEventType,EA=e=>e.options.validateTooltipEventTypes;function PA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kx(e,t){var r=CA(e),n=EA(e);return PA(t,r,n)}function dK(e){return he(t=>kx(t,e))}var OA=(e,t)=>{var r,n=Number(t);if(!(On(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},fK=e=>e.tooltip.settings,Vi={active:!1,index:null,dataKey:void 0,coordinate:void 0},hK={itemInteraction:{click:Vi,hover:Vi},axisInteraction:{click:Vi,hover:Vi},keyboardInteraction:Vi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AA=_r({name:"tooltip",initialState:hK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:St()},removeTooltipEntrySettings:{reducer(e,t){var r=li(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:St()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pK,removeTooltipEntrySettings:mK,setTooltipSettingsState:gK,setActiveMouseOverItemIndex:TA,mouseLeaveItem:vK,mouseLeaveChart:DA,setActiveClickItemIndex:yK,setMouseOverAxisIndex:IA,setMouseClickAxisIndex:xK,setSyncInteraction:Pv,setKeyboardInteraction:Ov}=AA.actions,bK=AA.reducer;function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){wK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kK(e){return e.index!=null}var RA=(e,t,r,n)=>{if(t==null)return Vi;var i=SK(e,t,r);if(i==null)return Vi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(kK(i)){if(a)return $u($u({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return $u($u({},Vi),{},{coordinate:i.coordinate})},Nx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!lt(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},MA=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},LA=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Kc=e=>e.options.tooltipPayloadSearcher,Wo=e=>e.tooltip;function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e,t){return e??t}var $A=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:y,settings:v}=p,x=PK(y,o),b=Array.isArray(x)?dP(x,u,d):x,w=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,_=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?j=oE(b,n,i):j=a(b,t,l,_),Array.isArray(j))j.forEach(k=>{var N=G1(G1({},v),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(P_({tooltipEntrySettings:N,dataKey:k.dataKey,payload:k.payload,value:Rt(k.payload,k.dataKey),name:k.name}))});else{var S;h.push(P_({tooltipEntrySettings:v,dataKey:w,payload:j,value:Rt(j,w),name:(S=Rt(j,_))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},f)}},Cx=M([Pt,Ie,VO,cx,Et],mA),OK=M([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),AK=M([Et,Bo],qO),Hc=M([OK,Pt,AK],GO,{memoizeOptions:{resultEqualityCheck:ip}}),TK=M([Hc],e=>e.filter(rp)),DK=M([Hc],JO,{memoizeOptions:{resultEqualityCheck:ip}}),Ko=M([DK,xa],QO),IK=M([TK,xa,Pt],WO),Ex=M([Ko,Pt,Hc],ZO),FA=M([Pt],yx),RK=M([Pt],e=>e.allowDataOverflow),BA=M([FA,RK],bO),MK=M([Hc],e=>e.filter(rp)),LK=M([IK,MK,Qh],rA),$K=M([LK,xa,Et,BA],nA),FK=M([Hc],XO),BK=M([Ko,Pt,FK,xx,Et],sA,{memoizeOptions:{resultEqualityCheck:np}}),UK=M([oA,Et,Bo],Uo),zK=M([UK,Et],uA),WK=M([lA,Et,Bo],Uo),KK=M([WK,Et],dA),HK=M([cA,Et,Bo],Uo),VK=M([HK,Et],fA),qK=M([zK,VK,KK],_f),GK=M([Pt,FA,BA,$K,BK,qK,Ie,Et],hA),UA=M([Pt,Ie,Ko,Ex,Qh,Et,GK],pA),YK=M([UA,Pt,Cx],gA),XK=M([Pt,UA,YK,Et],vA),zA=e=>{var t=Et(e),r=Bo(e),n=!1;return Wc(e,t,r,n)},WA=M([Pt,zA],Zh),KA=M([Pt,Cx,XK,WA],wx),JK=M([Ie,Ex,Pt,Et],SA),QK=M([Ie,Ex,Pt,Et],kA),ZK=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=ga(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?vr(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},Oi=M([Ie,Pt,Cx,KA,zA,JK,QK,Et],ZK),Px=M([CA,EA,fK],(e,t,r)=>PA(r.shared,e,t)),HA=e=>e.tooltip.settings.trigger,Ox=e=>e.tooltip.settings.defaultIndex,cp=M([Wo,Px,HA,Ox],RA),cs=M([cp,Ko],Nx),VA=M([Oi,cs],OA),qA=M([cp],e=>{if(e)return e.dataKey}),GA=M([Wo,Px,HA,Ox],LA),eH=M([ki,Ni,Ie,Mt,Oi,Ox,GA,Kc],MA),tH=M([cp,eH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rH=M([cp],e=>e.active),nH=M([GA,cs,xa,tA,VA,Kc,Px],$A),iH=M([nH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){aH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lH=()=>he(Pt),cH=()=>{var e=lH(),t=he(Oi),r=he(KA);return go(!e||!r?void 0:X1(X1({},e),{},{scale:r}),t)};function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hH=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},pH=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ns(Ns(Ns({},n),zt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ns(Ns(Ns({},n),zt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var YA=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(vr(d-u)!==vr(f-d)){var p=[];if(vr(f-d)===vr(i[1]-i[0])){h=f;var g=d+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var y=f+i[1]-i[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[l]);break}}else{var x=Math.min(u,f),b=Math.max(u,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},gH=()=>he(cx),Ax=(e,t)=>t,XA=(e,t,r)=>r,Tx=(e,t,r,n)=>n,vH=M(Oi,e=>Ph(e,t=>t.coordinate)),Dx=M([Wo,Ax,XA,Tx],RA),JA=M([Dx,Ko],Nx),yH=(e,t,r)=>{if(t!=null){var n=Wo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},QA=M([Wo,Ax,XA,Tx],LA),jf=M([ki,Ni,Ie,Mt,Oi,Tx,QA,Kc],MA),xH=M([Dx,jf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ZA=M([Oi,JA],OA),bH=M([QA,JA,xa,tA,ZA,Kc,Ax],$A),wH=M([Dx],e=>({isActive:e.active,activeIndex:e.index})),_H=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&mH(e,s)){var o=_U(e,t),l=YA(o,a,i,r,n),u=hH(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},jH=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=h8(e,r);if(o){var l=jU(o,t),u=YA(l,s,a,n,i),d=pH(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},SH=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?_H(e,t,n,i,a,s,o):jH(e,t,r,n,i,a,s)},kH=M(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),NH=M(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Dt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:hW}});function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OH={},AH={zIndexMap:Object.values(Dt).reduce((e,t)=>Z1(Z1({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),OH)},TH=new Set(Object.values(Dt));function DH(e){return TH.has(e)}var eT=_r({name:"zIndex",initialState:AH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:St()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!DH(r)&&delete e.zIndexMap[r])},prepare:St()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:St()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:St()}}}),{registerZIndexPortal:IH,unregisterZIndexPortal:RH,registerZIndexPortalId:MH,unregisterZIndexPortalId:LH}=eT.actions,$H=eT.reducer;function fn(e){var{zIndex:t,children:r}=e,n=JU(),i=n&&t!==void 0&&t!==0,a=Zt(),s=ut();m.useLayoutEffect(()=>i?(s(IH({zIndex:t})),()=>{s(RH({zIndex:t}))}):Mo,[s,t,i]);var o=he(u=>kH(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Yi.createPortal(r,l):null}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){FH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t,r){return(t=BH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function WH(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=r,h=n,p=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,y,v;if(d==="ScatterChart")g=f,y=Ez,v=Dt.cursorLine;else if(d==="BarChart")g=Pz(o,f,a,s),y=TP,v=Dt.cursorRectangle;else if(o==="radial"&&uE(f)){var{cx:x,cy:b,radius:w,startAngle:_,endAngle:j}=DP(f);g={cx:x,cy:b,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},y=RP,v=Dt.cursorLine}else g={points:v8(o,f,a)},y=CP,v=Dt.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,k=Fu(Fu(Fu(Fu({stroke:"#ccc",pointerEvents:"none"},a),g),Oc(l)),{},{payload:h,payloadIndex:p,className:Le("recharts-tooltip-cursor",S)});return m.createElement(fn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},m.createElement(zH,{cursor:l,cursorComp:y,cursorProps:k}))}function KH(e){var t=cH(),r=_P(),n=Rc(),i=gH();return t==null||r==null||n==null||i==null?null:m.createElement(WH,Av({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var tT=m.createContext(null),HH=()=>m.useContext(tT),rT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,j;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(rT);var VH=rT.exports;const qH=ji(VH);var gc=new qH,Tv="recharts.syncEvent.tooltip",tj="recharts.syncEvent.brush";function nT(e,t){if(t){var r=Number.parseInt(t,10);if(!On(r))return e==null?void 0:e[r]}}var GH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iT=_r({name:"options",initialState:GH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YH=iT.reducer,{createEventEmitter:XH}=iT.actions;function JH(e){return e.tooltip.syncInteraction}var QH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aT=_r({name:"chartData",initialState:QH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:rj,setDataStartEndIndexes:ZH,setComputedData:YZ}=aT.actions,eV=aT.reducer,tV=["x","y"];function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){if(e==null)return{};var r,n,i=sV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oV(){var e=he(ux),t=he(dx),r=ut(),n=he(LO),i=he(Oi),a=Rc(),s=Bh(),o=he(l=>l.rootProps.className);m.useEffect(()=>{if(e==null)return Mo;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,v=aV(p,tV),{x,y:b,width:w,height:_}=d.payload.sourceViewBox,j=Cs(Cs({},v),{},{x:s.x+(w?(g-x)/w:0)*s.width,y:s.y+(_?(y-b)/_:0)*s.height});r(Cs(Cs({},d),{},{payload:Cs(Cs({},d.payload),{},{coordinate:j})}))}else r(d);return}if(i!=null){var S;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(i,k);S=i[N]}else n==="value"&&(S=i.find(I=>String(I.value)===d.payload.label));var{coordinate:E}=d.payload;if(S==null||d.payload.active===!1||E==null||s==null){r(Pv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:P}=E,D=Math.min(C,s.x+s.width),V=Math.min(P,s.y+s.height),K={x:a==="horizontal"?S.coordinate:D,y:a==="horizontal"?V:S.coordinate},Q=Pv({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(Q)}}};return gc.on(Tv,l),()=>{gc.off(Tv,l)}},[o,r,t,e,n,i,a,s])}function lV(){var e=he(ux),t=he(dx),r=ut();m.useEffect(()=>{if(e==null)return Mo;var n=(i,a,s)=>{t!==s&&e===i&&r(ZH(a))};return gc.on(tj,n),()=>{gc.off(tj,n)}},[r,t,e])}function cV(){var e=ut();m.useEffect(()=>{e(XH())},[e]),oV(),lV()}function uV(e,t,r,n,i,a){var s=he(p=>yH(p,e,t)),o=he(dx),l=he(ux),u=he(LO),d=he(JH),f=d==null?void 0:d.active,h=Bh();m.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Pv({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h});gc.emit(Tv,l,p,o)}},[f,r,s,i,n,o,l,u,a,h])}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return(t=fV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pV(e){return e.dataKey}function mV(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(sz,t)}var sj=[],gV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ps.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oj(e){var t,r,n=cr(e,gV),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:v,cursor:x,shared:b,trigger:w,defaultIndex:_,portal:j,axisId:S}=n,k=ut(),N=typeof _=="number"?String(_):_;m.useEffect(()=>{k(gK({shared:b,trigger:w,axisId:S,active:i,defaultIndex:N}))},[k,b,w,S,i,N]);var E=Bh(),C=NP(),P=dK(b),{activeIndex:D,isActive:V}=(t=he(ve=>wH(ve,P,w,N)))!==null&&t!==void 0?t:{},K=he(ve=>bH(ve,P,w,N)),Q=he(ve=>ZA(ve,P,w,N)),I=he(ve=>xH(ve,P,w,N)),W=K,L=HH(),B=(r=i??V)!==null&&r!==void 0?r:!1,[H,te]=uB([W,B]),ee=P==="axis"?Q:void 0;uV(P,w,I,ee,D,B);var we=j??L;if(we==null||E==null||P==null)return null;var T=W??sj;B||(T=sj),u&&T.length&&(T=EF(T.filter(ve=>ve.value!=null&&(ve.hide!==!0||n.includeHidden)),h,pV));var Y=T.length>0,re=m.createElement(hz,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:B,coordinate:I,hasPayload:Y,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:v,lastBoundingBox:H,innerRef:te,hasPortalFromProps:!!j},mV(l,aj(aj({},n),{},{payload:T,label:ee,active:B,activeIndex:D,coordinate:I,accessibilityLayer:C})));return m.createElement(m.Fragment,null,Yi.createPortal(re,we),B&&m.createElement(KH,{cursor:x,tooltipEventType:P,coordinate:I,payload:T,index:D}))}var sT=e=>null;sT.displayName="Cell";function vV(e,t,r){return(t=yV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bV{constructor(t){vV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){_V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _V(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV={cacheSize:2e3,enableCache:!0},oT=wV({},kV),cj=new bV(oT.cacheSize),NV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uj="recharts_measurement_span";function CV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var dj=(e,t)=>{try{var r=document.getElementById(uj);r||(r=document.createElement("span"),r.setAttribute("id",uj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,NV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Il=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ps.isSsr)return{width:0,height:0};if(!oT.enableCache)return dj(t,r);var n=CV(t,r),i=cj.get(n);if(i)return i;var a=dj(t,r);return cj.set(n,a),a},fj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OV=Object.keys(lT),Vs="NaN";function AV(e,t){return e*lT[t]}class pr{static parse(t){var r,[,n,i]=(r=PV.exec(t))!==null&&r!==void 0?r:[];return new pr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,On(t)&&(this.unit=""),r!==""&&!EV.test(r)&&(this.num=NaN,this.unit=""),OV.includes(r)&&(this.num=AV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return On(this.num)}}function cT(e){if(e.includes(Vs))return Vs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=fj.exec(t))!==null&&r!==void 0?r:[],s=pr.parse(n??""),o=pr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Vs;t=t.replace(fj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=hj.exec(t))!==null&&u!==void 0?u:[],p=pr.parse(d??""),g=pr.parse(h??""),y=f==="+"?p.add(g):p.subtract(g);if(y.isNaN())return Vs;t=t.replace(hj,y.toString())}return t}var pj=/\(([^()]*)\)/;function TV(e){for(var t=e,r;(r=pj.exec(t))!=null;){var[,n]=r;t=t.replace(pj,cT(n))}return t}function DV(e){var t=e.replace(/\s+/g,"");return t=TV(t),t=cT(t),t}function IV(e){try{return DV(e)}catch{return Vs}}function Nm(e){var t=IV(e.slice(5,-1));return t===Vs?"":t}var RV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],MV=["dx","dy","angle","className","breakAll"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function mj(e,t){if(e==null)return{};var r,n,i=LV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uT=/[ \f\n\r\t\v\u2028\u2029]+/,dT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Je(t)||(r?i=t.toString().split(""):i=t.toString().split(uT));var a=i.map(o=>({word:o,width:Il(o,n).width})),s=r?0:Il("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function $V(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var fT=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),hT=e=>e.reduce((t,r)=>t.width>r.width?t:r),FV="",gj=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=dT({breakAll:r,style:n,children:l+FV});if(!u)return[!1,[]];var d=fT(u.wordsWithComputedWidth,a,s,o),f=d.length>i||hT(d).width>Number(a);return[f,d]},BV=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=ue(a),d=String(s),f=fT(t,n,r,i);if(!u||i)return f;var h=f.length>a||hT(f).width>Number(n);if(!h)return f;for(var p=0,g=d.length-1,y=0,v;p<=g&&y<=d.length-1;){var x=Math.floor((p+g)/2),b=x-1,[w,_]=gj(d,b,l,o,a,n,r,i),[j]=gj(d,x,l,o,a,n,r,i);if(!w&&!j&&(p=x+1),w&&j&&(g=x-1),!w&&j){v=_;break}y++}return v||f},vj=e=>{var t=Je(e)?[]:e.toString().split(uT);return[{words:t,width:void 0}]},UV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!ps.isSsr){var o,l,u=dT({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return vj(n);return BV({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return vj(n)},pT="#808080",zV={breakAll:!1,capHeight:"0.71em",fill:pT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ix=m.forwardRef((e,t)=>{var r=cr(e,zV),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=r,f=mj(r,RV),h=m.useMemo(()=>UV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:g,angle:y,className:v,breakAll:x}=f,b=mj(f,MV);if(!Hn(n)||!Hn(i)||h.length===0)return null;var w=Number(n)+(ue(p)?p:0),_=Number(i)+(ue(g)?g:0);if(!lt(w)||!lt(_))return null;var j;switch(d){case"start":j=Nm("calc(".concat(s,")"));break;case"middle":j=Nm("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=Nm("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var k=h[0].width,{width:N}=f;S.push("scale(".concat(ue(N)&&ue(k)?N/k:1,")"))}return y&&S.push("rotate(".concat(y,", ").concat(w,", ").concat(_,")")),S.length&&(b.transform=S.join(" ")),m.createElement("text",Dv({},ar(b),{ref:t,x:w,y:_,className:Le("recharts-text",v),textAnchor:u,fill:o.includes("url")?pT:o}),h.map((E,C)=>{var P=E.words.join(x?"":" ");return m.createElement("tspan",{x:w,dy:C===0?j:a,key:"".concat(P,"-").concat(C)},P)}))});Ix.displayName="Text";var WV=["labelRef"];function KV(e,t){if(e==null)return{};var r,n,i=HV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var mT=m.createContext(null),YV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return m.createElement(mT.Provider,{value:l},o)},gT=()=>{var e=m.useContext(mT),t=Bh();return e||wP(t)},XV=m.createContext(null),JV=()=>{var e=m.useContext(XV),t=he(zO);return e||t},QV=e=>{var{value:t,formatter:r}=e,n=Je(e.children)?t:e.children;return typeof r=="function"?r(n):n},Rx=e=>e!=null&&typeof e=="function",ZV=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eq=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,g=(u+d)/2,y=ZV(f,h),v=y>=0?1:-1,x,b;switch(t){case"insideStart":x=f+v*a,b=p;break;case"insideEnd":x=h-v*a,b=!p;break;case"end":x=h+v*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=zt(o,l,g,x),_=zt(o,l,g,x+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Je(e.id)?sc("recharts-radial-line-"):e.id;return m.createElement("text",ti({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:j})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},tq=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=zt(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:g}=zt(n,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Iv=e=>"cx"in e&&ue(e.cx),rq=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Iv(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,p=(f+h)/2,g=(l+u)/2,y=f+l/2,v=d>=0?1:-1,x=v*n,b=v>0?"end":"start",w=v>0?"start":"end",_=l>=0?1:-1,j=_*n,S=_>0?"end":"start",k=_>0?"start":"end";if(i==="top"){var N={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return st(st({},N),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var E={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return st(st({},E),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var C={x:p-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return st(st({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var P={x:p+g+j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return st(st({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:d}:{})}var D=a?{width:g,height:d}:{};return i==="insideLeft"?st({x:p+j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},D):i==="insideRight"?st({x:p+g-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},D):i==="insideTop"?st({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},D):i==="insideBottom"?st({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},D):i==="insideTopLeft"?st({x:f+j,y:o+x,textAnchor:k,verticalAnchor:w},D):i==="insideTopRight"?st({x:f+l-j,y:o+x,textAnchor:S,verticalAnchor:w},D):i==="insideBottomLeft"?st({x:h+j,y:o+d-x,textAnchor:k,verticalAnchor:b},D):i==="insideBottomRight"?st({x:h+u-j,y:o+d-x,textAnchor:S,verticalAnchor:b},D):i&&typeof i=="object"&&(ue(i.x)||gi(i.x))&&(ue(i.y)||gi(i.y))?st({x:s+An(i.x,g),y:o+An(i.y,d),textAnchor:"end",verticalAnchor:"end"},D):st({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},nq={offset:5,zIndex:Dt.label};function zi(e){var t=cr(e,nq),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=JV(),f=gT(),h=n==="center"?f:d??f,p,g,y;if(r==null?p=h:Iv(r)?p=r:p=wP(r),!p||Je(i)&&Je(a)&&!m.isValidElement(s)&&typeof s!="function")return null;var v=st(st({},t),{},{viewBox:p});if(m.isValidElement(s)){var{labelRef:x}=v,b=KV(v,WV);return m.cloneElement(s,b)}if(typeof s=="function"){if(g=m.createElement(s,v),m.isValidElement(g))return g}else g=QV(t);var w=ar(t);if(Iv(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eq(t,n,g,w,p);y=tq(p,t.offset,t.position)}else y=rq(t,p);return m.createElement(fn,{zIndex:t.zIndex},m.createElement(Ix,ti({ref:u,className:Le("recharts-label",o)},w,y,{textAnchor:$V(w.textAnchor)?w.textAnchor:y.textAnchor,breakAll:l}),g))}zi.displayName="Label";var iq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(zi,ti({key:"label-implicit"},n)):Hn(e)?m.createElement(zi,ti({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===zi?m.cloneElement(e,st({key:"label-implicit"},n)):m.createElement(zi,ti({key:"label-implicit",content:e},n)):Rx(e)?m.createElement(zi,ti({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(zi,ti({},e,{key:"label-implicit"},n)):null};function aq(e){var{label:t,labelRef:r}=e,n=gT();return iq(t,n,r)||null}var vT={},yT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yT);var xT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT,r=xT,n=Ch;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(vT);var sq=vT.last;const oq=ji(sq);var lq=["valueAccessor"],cq=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(null,arguments)}function xj(e,t){if(e==null)return{};var r,n,i=uq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dq=e=>Array.isArray(e.value)?oq(e.value):e.value,bT=m.createContext(void 0),wT=bT.Provider,_T=m.createContext(void 0);_T.Provider;function fq(){return m.useContext(bT)}function hq(){return m.useContext(_T)}function sd(e){var{valueAccessor:t=dq}=e,r=xj(e,lq),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=xj(r,cq),u=fq(),d=hq(),f=u||d;return!f||!f.length?null:m.createElement(fn,{zIndex:o??Dt.label},m.createElement(ln,{className:"recharts-label-list"},f.map((h,p)=>{var g,y=Je(n)?t(h,p):Rt(h&&h.payload,n),v=Je(a)?{}:{id:"".concat(a,"-").concat(p)};return m.createElement(zi,Sf({key:"label-".concat(p)},ar(h),l,v,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}sd.displayName="LabelList";function jT(e){var{label:t}=e;return t?t===!0?m.createElement(sd,{key:"labelList-implicit"}):m.isValidElement(t)||Rx(t)?m.createElement(sd,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(sd,Sf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}var ST=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Le("recharts-dot",i);return ue(t)&&ue(r)&&ue(n)?m.createElement("circle",Rv({},Pn(e),v0(e),{className:a,cx:t,cy:r,r:n})):null},pq={radiusAxis:{},angleAxis:{}},kT=_r({name:"polarAxis",initialState:pq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XZ,removeRadiusAxis:JZ,addAngleAxis:QZ,removeAngleAxis:ZZ}=kT.actions,mq=kT.reducer,NT={exports:{}},Fe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=Symbol.for("react.transitional.element"),Lx=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),hp=Symbol.for("react.consumer"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),gq=Symbol.for("react.view_transition"),vq=Symbol.for("react.client.reference");function hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mx:switch(e=e.type,e){case up:case fp:case dp:case gp:case vp:case gq:return e;default:switch(e=e&&e.$$typeof,e){case pp:case mp:case xp:case yp:return e;case hp:return e;default:return t}}case Lx:return t}}}Fe.ContextConsumer=hp;Fe.ContextProvider=pp;Fe.Element=Mx;Fe.ForwardRef=mp;Fe.Fragment=up;Fe.Lazy=xp;Fe.Memo=yp;Fe.Portal=Lx;Fe.Profiler=fp;Fe.StrictMode=dp;Fe.Suspense=gp;Fe.SuspenseList=vp;Fe.isContextConsumer=function(e){return hn(e)===hp};Fe.isContextProvider=function(e){return hn(e)===pp};Fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mx};Fe.isForwardRef=function(e){return hn(e)===mp};Fe.isFragment=function(e){return hn(e)===up};Fe.isLazy=function(e){return hn(e)===xp};Fe.isMemo=function(e){return hn(e)===yp};Fe.isPortal=function(e){return hn(e)===Lx};Fe.isProfiler=function(e){return hn(e)===fp};Fe.isStrictMode=function(e){return hn(e)===dp};Fe.isSuspense=function(e){return hn(e)===gp};Fe.isSuspenseList=function(e){return hn(e)===vp};Fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===up||e===fp||e===dp||e===gp||e===vp||typeof e=="object"&&e!==null&&(e.$$typeof===xp||e.$$typeof===yp||e.$$typeof===pp||e.$$typeof===hp||e.$$typeof===mp||e.$$typeof===vq||e.getModuleId!==void 0)};Fe.typeOf=hn;NT.exports=Fe;var yq=NT.exports,bj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",wj=null,Cm=null,CT=e=>{if(e===wj&&Array.isArray(Cm))return Cm;var t=[];return m.Children.forEach(e,r=>{Je(r)||(yq.isFragment(r)?t=t.concat(CT(r.props.children)):t.push(r))}),Cm=t,wj=e,t};function xq(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>bj(i)):n=[bj(t)],CT(e).forEach(i=>{var a=po(i,"type.displayName")||po(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var ET=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,PT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(PT);var bq=PT.isPlainObject;const wq=ji(bq);function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}var Sj=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},kq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nq=e=>{var t=cr(e,kq),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,g]=m.useState(-1),y=m.useRef(i),v=m.useRef(a),x=m.useRef(s),b=m.useRef(r),w=m.useRef(n),_=Wh(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var K=h.current.getTotalLength();K&&g(K)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=Le("recharts-trapezoid",o);if(!f)return m.createElement("g",null,m.createElement("path",kf({},ar(t),{className:j,d:Sj(r,n,i,a,s)})));var S=y.current,k=v.current,N=x.current,E=b.current,C=w.current,P="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),V=EP(["strokeDasharray"],u,l);return m.createElement(zh,{animationId:_,key:_,canBegin:p>0,duration:u,easing:l,isActive:f,begin:d},K=>{var Q=at(S,i,K),I=at(k,a,K),W=at(N,s,K),L=at(E,r,K),B=at(C,n,K);h.current&&(y.current=Q,v.current=I,x.current=W,b.current=L,w.current=B);var H=K>0?{transition:V,strokeDasharray:D}:{strokeDasharray:P};return m.createElement("path",kf({},ar(t),{className:j,d:Sj(L,B,Q,I,W),ref:h,style:jj(jj({},H),t.style)}))})},Cq=["option","shapeType","propTransformer","activeClassName","isActive"];function Eq(e,t){if(e==null)return{};var r,n,i=Pq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dq(e,t){return Nf(Nf({},t),e)}function Iq(e,t){return e==="symbols"}function Nj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(TP,r);case"trapezoid":return m.createElement(Nq,r);case"sector":return m.createElement(RP,r);case"symbols":if(Iq(t))return m.createElement(cE,r);break;case"curve":return m.createElement(CP,r);default:return null}}function Rq(e){return m.isValidElement(e)?e.props:e}function OT(e){var{option:t,shapeType:r,propTransformer:n=Dq,activeClassName:i="recharts-active-shape",isActive:a}=e,s=Eq(e,Cq),o;if(m.isValidElement(t))o=m.cloneElement(t,Nf(Nf({},s),Rq(t)));else if(typeof t=="function")o=t(s);else if(wq(t)&&typeof t!="boolean"){var l=n(t,s);o=m.createElement(Nj,{shapeType:r,elementProps:l})}else{var u=s;o=m.createElement(Nj,{shapeType:r,elementProps:u})}return a?m.createElement(ln,{className:i},o):o}var AT=(e,t)=>{var r=ut();return(n,i)=>a=>{e==null||e(n,i,a),r(TA({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},TT=e=>{var t=ut();return(r,n)=>i=>{e==null||e(r,n,i),t(vK())}},DT=(e,t)=>{var r=ut();return(n,i)=>a=>{e==null||e(n,i,a),r(yK({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function IT(e){var{fn:t,args:r}=e,n=ut(),i=Zt();return m.useLayoutEffect(()=>{if(!i){var a=t(r);return n(pK(a)),()=>{n(mK(a))}}},[t,r,n,i]),null}function RT(e){var{legendPayload:t}=e,r=ut(),n=Zt();return m.useLayoutEffect(()=>n?Mo:(r(ZU(t)),()=>{r(ez(t))}),[r,n,t]),null}var Em,Mq=()=>{var[e]=m.useState(()=>sc("uid-"));return e},Lq=(Em=$D.useId)!==null&&Em!==void 0?Em:Mq;function MT(e,t){var r=Lq();return t||(e?"".concat(e,"-").concat(r):r)}var $q=m.createContext(void 0),LT=e=>{var{id:t,type:r,children:n}=e,i=MT("recharts-".concat(r),t);return m.createElement($q.Provider,{value:i},n(i))},Fq={cartesianItems:[],polarItems:[]},$T=_r({name:"graphicalItems",initialState:Fq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:St()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=li(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:St()},removeCartesianGraphicalItem:{reducer(e,t){var r=li(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:St()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:St()},removePolarGraphicalItem:{reducer(e,t){var r=li(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:St()}}}),{addCartesianGraphicalItem:Bq,replaceCartesianGraphicalItem:Uq,removeCartesianGraphicalItem:zq,addPolarGraphicalItem:eee,removePolarGraphicalItem:tee}=$T.actions,Wq=$T.reducer;function FT(e){var t=ut(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(Bq(e)):r.current!==e&&t(Uq({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(zq(r.current)),r.current=null)},[t]),null}var Kq=["points"];function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}function Gq(e,t){if(e==null)return{};var r,n,i=Yq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xq(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Le(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=Gq(a,Kq);return m.createElement(ST,Cf({},o,{className:i}))}function Jq(e,t){return e==null?!1:t?!0:e.length===1}function Qq(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Dt.scatter}=e;if(!Jq(t,r))return null;var d=ET(r),f=_6(r),h=t.map((g,y)=>{var v,x,b=Pm(Pm(Pm({r:3},s),f),{},{index:y,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return m.createElement(Xq,{key:"dot-".concat(y),option:r,dotProps:b,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),m.createElement(fn,{zIndex:u},m.createElement(ln,Cf({className:n},p),h))}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rG={xAxis:{},yAxis:{},zAxis:{}},BT=_r({name:"cartesianAxis",initialState:rG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:St()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:St()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:St()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:St()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:St()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:St()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=Pj(Pj({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:nG,removeXAxis:iG,addYAxis:aG,removeYAxis:sG,addZAxis:ree,removeZAxis:nee,updateYAxisWidth:oG}=BT.actions,lG=BT.reducer,cG=M([Mt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),uG=M([cG,ki,Ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$x=()=>he(uG),dG=()=>he(iH);function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){fG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=Om(Om(Om({},s),Oc(i)),v0(i)),l;return m.isValidElement(i)?l=m.cloneElement(i,o):typeof i=="function"?l=i(o):l=m.createElement(ST,o),m.createElement(ln,{className:"recharts-active-dot"},l)};function gG(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,zIndex:a=Dt.activeDot}=e,s=he(cs),o=dG();if(t==null||o==null)return null;var l=t.find(u=>o.includes(u.payload));return Je(l)?null:m.createElement(fn,{zIndex:a},m.createElement(mG,{point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n}))}var vG="Invariant failed";function yG(e,t){throw new Error(vG)}var xG=["x","y"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e,t){if(e==null)return{};var r,n,i=SG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kG(e,t){var{x:r,y:n}=e,i=jG(e,xG),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return cl(cl(cl(cl(cl({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Ef(e){return m.createElement(OT,Mv({shapeType:"rectangle",propTransformer:kG,activeClassName:"recharts-active-bar"},e))}var NG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ue(t))return t;var a=ue(n)||Je(n);return a?t(n,i):(a||yG(),r)}},CG={},UT=_r({name:"errorBars",initialState:CG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:iee,replaceErrorBar:aee,removeErrorBar:see}=UT.actions,EG=UT.reducer,PG=["children"];function OG(e,t){if(e==null)return{};var r,n,i=AG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DG=m.createContext(TG);function zT(e){var{children:t}=e,r=OG(e,PG);return m.createElement(DG.Provider,{value:r},t)}function Fx(e,t){var r,n,i=he(u=>Ei(u,e)),a=he(u=>Pi(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Pr.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Or.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function WT(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$x(),{needClipX:a,needClipY:s,needClip:o}=Fx(t,r);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}function IG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&lt(e.zIndex)?e.zIndex:t}var RG=["onMouseEnter","onMouseLeave","onClick"],MG=["value","background","tooltipPosition"],LG=["id"],$G=["onMouseEnter","onClick","onMouseLeave"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=BG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(e,t){if(e==null)return{};var r,n,i=zG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WG=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Rh(r,t),payload:e}]};function KG(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Rh(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function HG(e){var t=he(cs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Pf(a,RG),d=AT(s,n),f=TT(o),h=DT(l,n);if(!i||r==null)return null;var p=Oc(i);return m.createElement(fn,{zIndex:IG(i,Dt.barBackground)},r.map((g,y)=>{var{value:v,background:x,tooltipPosition:b}=g,w=Pf(g,MG);if(!x)return null;var _=d(g,y),j=f(g,y),S=h(g,y),k=rr(rr(rr(rr(rr({option:i,isActive:String(y)===t},w),{},{fill:"#eee"},x),p),y0(u,g,y)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return m.createElement(Ef,_i({key:"background-bar-".concat(y)},k))}))}function VG(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return rr(rr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return m.createElement(wT,{value:t?i:void 0},r)}function qG(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=he(cs),l=he(qA),u=r&&String(a)===o&&(l==null||s===l),d=u?r:t;return u?m.createElement(fn,{zIndex:Dt.activeBar},m.createElement(Ef,_i({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):m.createElement(Ef,_i({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function GG(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return m.createElement(Ef,_i({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function YG(e){var t,{data:r,props:n}=e,i=(t=Pn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Pf(i,LG),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=Pf(n,$G),g=AT(d,l),y=TT(h),v=DT(f,l);return r?m.createElement(m.Fragment,null,r.map((x,b)=>m.createElement(ln,_i({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},y0(p,x,b),{onMouseEnter:g(x,b),onMouseLeave:y(x,b),onClick:v(x,b)}),u?m.createElement(qG,{shape:o,activeBar:u,baseProps:s,entry:x,index:b,dataKey:l}):m.createElement(GG,{shape:o,baseProps:s,entry:x,index:b,dataKey:l})))):null}function XG(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Wh(t,"recharts-bar-"),[p,g]=m.useState(!1),y=!p,v=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(VG,{showLabels:y,rects:n},m.createElement(zh,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:x,key:h},b=>{var w=b===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return rr(rr({},_),{},{x:at(S.x,_.x,b),y:at(S.y,_.y,b),width:at(S.width,_.width,b),height:at(S.height,_.height,b)});if(i==="horizontal"){var k=at(0,_.height,b),N=at(_.stackedBarStart,_.y,b);return rr(rr({},_),{},{y:N,height:k})}var E=at(0,_.width,b),C=at(_.stackedBarStart,_.x,b);return rr(rr({},_),{},{width:E,x:C})});return b>0&&(r.current=w??null),w==null?null:m.createElement(ln,null,m.createElement(YG,{props:t,data:w}))}),m.createElement(jT,{label:t.label}),t.children)}function JG(e){var t=m.useRef(null);return m.createElement(XG,{previousRectanglesRef:t,props:e})}var KT=0,QG=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Rt(e,t)}};class ZG extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var d=Le("recharts-bar",i),f=u;return m.createElement(ln,{className:d,id:u},o&&m.createElement("defs",null,m.createElement(WT,{clipPathId:f,xAxisId:a,yAxisId:s})),m.createElement(ln,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},m.createElement(HG,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),m.createElement(JG,this.props)))}}var eY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ps.isSsr,legendType:"rect",minPointSize:KT,xAxisId:0,yAxisId:0,zIndex:Dt.bar};function tY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Fx(t,r),h=Rc(),p=Zt(),g=xq(e.children,sT),y=he(b=>PY(b,t,r,p,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var v,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?v=0:v=h==="vertical"?x.height/2:x.width/2,m.createElement(zT,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:QG,errorBarOffset:v},m.createElement(ZG,_i({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function rY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:g,dataStartIndex:y}=e,v=t==="horizontal"?o:s,x=d?v.scale.domain():null,b=yU({numericAxis:v}),w=v.scale(b);return f.map((_,j)=>{var S,k,N,E,C,P;d?S=fU(d[j+y],x):(S=Rt(_,r),Array.isArray(S)||(S=[b,S]));var D=NG(n,KT)(S[1],j);if(t==="horizontal"){var V,[K,Q]=[o.scale(S[0]),o.scale(S[1])];k=N_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:_,index:j}),N=(V=Q??K)!==null&&V!==void 0?V:void 0,E=i.size;var I=K-Q;if(C=On(I)?0:I,P={x:k,y:h.top,width:E,height:h.height},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var W=vr(C||D)*(Math.abs(D)-Math.abs(C));N-=W,C+=W}}else{var[L,B]=[s.scale(S[0]),s.scale(S[1])];if(k=L,N=N_({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:_,index:j}),E=B-L,C=i.size,P={x:h.left,y:N,width:h.width,height:C},Math.abs(D)>0&&Math.abs(E)<Math.abs(D)){var H=vr(E||D)*(Math.abs(D)-Math.abs(E));E+=H}}if(k==null||N==null||E==null||C==null)return null;var te=rr(rr({},_),{},{stackedBarStart:w,x:k,y:N,width:E,height:C,value:d?S:S[1],payload:_,background:P,tooltipPosition:{x:k+E/2,y:N+C/2},parentViewBox:g},p&&p[j]&&p[j].props);return te}).filter(Boolean)}function nY(e){var t=cr(e,eY),r=Zt();return m.createElement(LT,{id:t.id,type:"bar"},n=>m.createElement(m.Fragment,null,m.createElement(RT,{legendPayload:WG(t)}),m.createElement(IT,{fn:KG,args:t}),m.createElement(FT,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(fn,{zIndex:t.zIndex},m.createElement(tY,_i({},t,{id:n})))))}var HT=m.memo(nY);HT.displayName="Bar";function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oY=(e,t)=>t,lY=(e,t,r)=>r,cY=(e,t,r,n)=>n,uY=(e,t,r,n,i)=>i,Vc=M([ap,uY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),dY=M([Vc],e=>e==null?void 0:e.maxBarSize),fY=(e,t,r,n,i,a)=>a,Ij=(e,t,r)=>{var n=r??e;if(!Je(n))return An(n,t,0)},hY=M([Ie,ap,oY,lY,cY],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),pY=(e,t,r,n)=>{var i=Ie(e);return i==="horizontal"?Ev(e,"yAxis",r,n):Ev(e,"xAxis",t,n)},mY=(e,t,r)=>{var n=Ie(e);return n==="horizontal"?K1(e,"xAxis",t):K1(e,"yAxis",r)},gY=(e,t,r)=>{var n={},i=e.filter(rp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),p=Ij(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),l=a.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Ij(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},vY=M([hY,oW,mY],gY),yY=(e,t,r,n,i)=>{var a,s,o=Vc(e,t,r,n,i);if(o!=null){var l=Ie(e),u=RO(e),{maxBarSize:d}=o,f=Je(d)?u:d,h,p;return l==="horizontal"?(h=da(e,"xAxis",t,n),p=ua(e,"xAxis",t,n)):(h=da(e,"yAxis",r,n),p=ua(e,"yAxis",r,n)),(a=(s=go(h,p,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},VT=(e,t,r,n)=>{var i=Ie(e),a,s;return i==="horizontal"?(a=da(e,"xAxis",t,n),s=ua(e,"xAxis",t,n)):(a=da(e,"yAxis",r,n),s=ua(e,"yAxis",r,n)),go(a,s)};function xY(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=An(e,r,0,!0),o,l=[];if(lt(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var h=(r-f)/2>>0,p={offset:h-s,size:0};o=n.reduce((x,b)=>{var w,_={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+s,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...x,_];return p=j[j.length-1].position,j},l)}else{var g=An(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var y=(r-2*g-(a-1)*s)/a;y>1&&(y>>=0);var v=lt(i)?Math.min(y,i):y;o=n.reduce((x,b,w)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+s)*w+(y-v)/2,size:v}}],l)}return o}}var bY=(e,t,r,n,i,a,s)=>{var o=Je(s)?t:s,l=xY(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Bu(Bu({},u),{},{position:Bu(Bu({},u.position),{},{offset:u.position.offset-i/2})}))),l},wY=M([vY,RO,sW,MO,yY,VT,dY],bY),_Y=(e,t,r,n)=>da(e,"xAxis",t,n),jY=(e,t,r,n)=>da(e,"yAxis",r,n),SY=(e,t,r,n)=>ua(e,"xAxis",t,n),kY=(e,t,r,n)=>ua(e,"yAxis",r,n),NY=M([wY,Vc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),CY=(e,t)=>{var r=mx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},EY=M([pY,Vc],CY),PY=M([Mt,M0,_Y,jY,SY,kY,NY,Ie,Xh,VT,EY,Vc,fY],(e,t,r,n,i,a,s,o,l,u,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=f,x;if(v!=null&&v.length>0?x=v:x=p==null?void 0:p.slice(g,y+1),x!=null)return rY({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:g})}}),OY=e=>{var{chartData:t}=e,r=ut(),n=Zt();return m.useEffect(()=>n?()=>{}:(r(rj(t)),()=>{r(rj(void 0))}),[t,r,n]),null},Rj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qT=_r({name:"brush",initialState:Rj,reducers:{setBrushSettings(e,t){return t.payload==null?Rj:t.payload}}}),{setBrushSettings:oee}=qT.actions,AY=qT.reducer;function TY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=IY(e,"string");return typeof t=="symbol"?t:t+""}function IY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bx{static create(t){return new Bx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}TY(Bx,"EPS",1e-4);function RY(e){return(e%180+180)%180}var MY=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=RY(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},LY={dots:[],areas:[],lines:[]},GT=_r({name:"referenceElements",initialState:LY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=li(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=li(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=li(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:lee,removeDot:cee,addArea:uee,removeArea:dee,addLine:fee,removeLine:hee}=GT.actions,$Y=GT.reducer,FY=m.createContext(void 0),BY=e=>{var{children:t}=e,[r]=m.useState("".concat(sc("recharts"),"-clip")),n=$x();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return m.createElement(FY.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function bo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function YT(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function UY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return MY(n,r)}function zY(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Of(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function WY(e,t){return YT(e,t+1)}function KY(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:YT(n,u)};var y=l,v,x=()=>(v===void 0&&(v=r(g,y)),v),b=g.coordinate,w=l===0||Of(e,b,x,d,o);w||(l=0,d=s,u+=1),w&&(d=b+e*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return(t=VY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var p=a[h],g,y=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var v=e*(p.coordinate+e*y()/2-l);a[h]=p=Yt(Yt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=Yt(Yt({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Of(e,p.tickCoord,y,o,l);x&&(l=p.tickCoord-e*(y()/2+i),a[h]=Yt(Yt({},p),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function YY(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Yt(Yt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=Of(e,d.tickCoord,()=>f,l,u);p&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Yt(Yt({},d),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(b){var w=s[b],_,j=()=>(_===void 0&&(_=r(w,b)),_);if(b===0){var S=e*(w.coordinate-e*j()/2-l);s[b]=w=Yt(Yt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else s[b]=w=Yt(Yt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var k=Of(e,w.tickCoord,j,l,u);k&&(l=w.tickCoord+e*(j()/2+i),s[b]=Yt(Yt({},w),{},{isShow:!0}))}},v=0;v<g;v++)y(v);return s}function Ux(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ue(l)||ps.isSsr){var h;return(h=WY(i,ue(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?Il(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,_)=>{var j=typeof u=="function"?u(w.value,_):w.value;return g==="width"?UY(Il(j,{fontSize:t,letterSpacing:r}),y,f):Il(j,{fontSize:t,letterSpacing:r})[g]},x=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,b=zY(a,x,g);return l==="equidistantPreserveStart"?KY(x,b,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=YY(x,b,v,i,s,l==="preserveStartEnd"):p=GY(x,b,v,i,s),p.filter(w=>w.isShow))}var XY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},JY=["axisLine","width","height","className","hide","ticks","axisType"],QY=["viewBox"],ZY=["viewBox"];function Lv(e,t){if(e==null)return{};var r,n,i=eX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(null,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dt.axis};function iX(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=vt(vt(vt({},l),Pn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=vt(vt({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=vt(vt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return m.createElement("line",us({},u,{className:Le("recharts-cartesian-axis-line",po(o,"className"))}))}function aX(e,t,r,n,i,a,s,o,l){var u,d,f,h,p,g,y=o?-1:1,v=e.tickSize||s,x=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!o*i,f=h-y*v,g=f-y*l,p=x;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-y*v,p=u-y*l,g=x;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+y*v,p=u+y*l,g=x;break;default:u=d=e.coordinate,h=r+ +o*i,f=h+y*v,g=f+y*l,p=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:g}}}function sX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function oX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function lX(e){var{option:t,tickProps:r,value:n}=e,i,a=Le(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,vt(vt({},r),{},{className:a}));else if(typeof t=="function")i=t(vt(vt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Le(s,t==null?void 0:t.className)),i=m.createElement(Ix,us({},r,{className:s}),n)}return i}var cX=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:p,width:g,height:y,tickSize:v,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:_,events:j,axisType:S}=e,k=Ux(vt(vt({},_),{},{ticks:r}),b,w),N=sX(d,f),E=oX(d,f),C=Pn(_),P=Oc(n),D={};typeof i=="object"&&(D=i);var V=vt(vt({},C),{},{fill:"none"},D),K=k.map(W=>vt({entry:W},aX(W,h,p,g,y,d,v,f,x))),Q=K.map(W=>{var{entry:L,line:B}=W;return m.createElement(ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},i&&m.createElement("line",us({},V,B,{className:Le("recharts-cartesian-axis-tick-line",po(i,"className"))})))}),I=K.map((W,L)=>{var{entry:B,tick:H}=W,te=vt(vt(vt(vt({textAnchor:N,verticalAnchor:E},C),{},{stroke:"none",fill:a},P),H),{},{index:L,payload:B,visibleTicksCount:k.length,tickFormatter:s,padding:l},u);return m.createElement(ln,us({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},y0(j,B,L)),n&&m.createElement(lX,{option:n,tickProps:te,value:"".concat(typeof s=="function"?s(B.value,L):B.value).concat(o||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},I.length>0&&m.createElement(fn,{zIndex:Dt.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},I)),Q.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Q))}),uX=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Lv(e,JY),[d,f]=m.useState(""),[h,p]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return XY({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=m.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),_=w.fontSize,j=w.letterSpacing;(_!==d||j!==h)&&(f(_),p(j))}}},[d,h]);return s||n!=null&&n<=0||i!=null&&i<=0?null:m.createElement(fn,{zIndex:e.zIndex},m.createElement(ln,{className:Le("recharts-cartesian-axis",a)},m.createElement(iX,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Pn(e)}),m.createElement(cX,{ref:y,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(YV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(aq,{label:e.label,labelRef:e.labelRef}),e.children)))}),dX=m.memo(uX,(e,t)=>{var{viewBox:r}=e,n=Lv(e,QY),{viewBox:i}=t,a=Lv(t,ZY);return bo(r,i)&&bo(n,a)}),Wx=m.forwardRef((e,t)=>{var r=cr(e,zx);return m.createElement(dX,us({},r,{ref:t}))});Wx.displayName="CartesianAxis";var fX=["x1","y1","x2","y2","key"],hX=["offset"],pX=["xAxisId","yAxisId"],mX=["xAxisId","yAxisId"];function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(null,arguments)}function Af(e,t){if(e==null)return{};var r,n,i=xX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return m.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XT(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,d=Af(r,fX),f=(i=Pn(d))!==null&&i!==void 0?i:{},{offset:h}=f,p=Af(f,hX);n=m.createElement("line",Ha({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function wX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Af(e,pX),l=i.map((u,d)=>{var f=Jt(Jt({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return m.createElement(XT,{key:"line-".concat(d),option:n,lineItemProps:f})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _X(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Af(e,mX),l=i.map((u,d)=>{var f=Jt(Jt({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return m.createElement(XT,{option:n,lineItemProps:f,key:"line-".concat(d)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function jX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?i+s-f:u[h+1]-f;if(g<=0)return null;var y=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function SX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?i+s-f:u[h+1]-f;if(g<=0)return null;var y=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var kX=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return fP(Ux(Jt(Jt(Jt({},zx),r),{},{ticks:hP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},NX=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return fP(Ux(Jt(Jt(Jt({},zx),r),{},{ticks:hP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},CX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dt.grid};function $v(e){var t=jP(),r=SP(),n=_P(),i=Jt(Jt({},cr(e,CX)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,g=Zt(),y=he(E=>H1(E,"xAxis",a,g)),v=he(E=>H1(E,"yAxis",s,g));if(!Vn(u)||!Vn(d)||!ue(o)||!ue(l))return null;var x=i.verticalCoordinatesGenerator||kX,b=i.horizontalCoordinatesGenerator||NX,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,S=b({yAxis:v?Jt(Jt({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);af(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!_||!_.length)&&typeof x=="function"){var k=p&&p.length,N=x({xAxis:y?Jt(Jt({},y),{},{ticks:k?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);af(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(_=N)}return m.createElement(fn,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(bX,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(jX,Ha({},i,{horizontalPoints:w})),m.createElement(SX,Ha({},i,{verticalPoints:_})),m.createElement(wX,Ha({},i,{offset:n,horizontalPoints:w,xAxis:y,yAxis:v})),m.createElement(_X,Ha({},i,{offset:n,verticalPoints:_,xAxis:y,yAxis:v}))))}$v.displayName="CartesianGrid";var JT=(e,t,r,n)=>da(e,"xAxis",t,n),QT=(e,t,r,n)=>ua(e,"xAxis",t,n),ZT=(e,t,r,n)=>da(e,"yAxis",r,n),eD=(e,t,r,n)=>ua(e,"yAxis",r,n),EX=M([Ie,JT,ZT,QT,eD],(e,t,r,n,i)=>ga(e,"xAxis")?go(t,n,!1):go(r,i,!1)),PX=(e,t,r,n,i)=>i;function OX(e){return e.type==="line"}var AX=M([ap,PX],(e,t)=>e.filter(OX).find(r=>r.id===t)),TX=M([Ie,JT,ZT,QT,eD,AX,EX,Xh],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,d+1),p!=null)return ZX({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:p})}});function DX(e){var t=Oc(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var IX=["id"],RX=["type","layout","connectNulls","needClip","shape"],MX=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kx(e,t){if(e==null)return{};var r,n,i=BX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UX=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Rh(r,t),payload:e}]};function zX(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Rh(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var tD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function WX(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var KX=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return tD(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){o=[...r.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...WX(r,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function HX(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=Kx(n,IX),u=Pn(l);return m.createElement(Qq,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function VX(e){var{showLabels:t,children:r,points:n}=e,i=m.useMemo(()=>n==null?void 0:n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Fn(Fn({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return m.createElement(wT,{value:t?i:void 0},r)}function Bj(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=Kx(a,RX),h=Fn(Fn({},ar(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return m.createElement(m.Fragment,null,(n==null?void 0:n.length)>1&&m.createElement(OT,vc({shapeType:"curve",option:d},h,{pathRef:r})),m.createElement(HX,{points:n,clipPathId:t,props:a}))}function qX(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function GX(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:y,onAnimationStart:v}=r,x=i.current,b=Wh(r,"recharts-line-"),[w,_]=m.useState(!1),j=!w,S=m.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),k=m.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),N=qX(n.current),E=a.current;return m.createElement(VX,{points:s,showLabels:j},r.children,m.createElement(zh,{animationId:b,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:S,onAnimationStart:k,key:b},C=>{var P=at(E,N+E,C),D=Math.min(P,N),V;if(l)if(o){var K="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));V=KX(D,N,K)}else V=tD(N,D);else V=o==null?void 0:String(o);if(x){var Q=x.length/s.length,I=C===1?s:s.map((W,L)=>{var B=Math.floor(L*Q);if(x[B]){var H=x[B];return Fn(Fn({},W),{},{x:at(H.x,W.x,C),y:at(H.y,W.y,C)})}return h?Fn(Fn({},W),{},{x:at(p*2,W.x,C),y:at(g/2,W.y,C)}):Fn(Fn({},W),{},{x:W.x,y:W.y})});return i.current=I,m.createElement(Bj,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:V})}return C>0&&N>0&&(i.current=s,a.current=D),m.createElement(Bj,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:V})}),m.createElement(jT,{label:r.label}))}function YX(e){var{clipPathId:t,props:r}=e,n=m.useRef(null),i=m.useRef(0),a=m.useRef(null);return m.createElement(GX,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var XX=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Rt(e.payload,t)}};class JX extends m.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var g=Le("recharts-line",i),y=f,{r:v,strokeWidth:x}=DX(r),b=ET(r),w=v*2+x;return m.createElement(fn,{zIndex:p},m.createElement(ln,{className:g},h&&m.createElement("defs",null,m.createElement(WT,{clipPathId:y,xAxisId:a,yAxisId:s}),!b&&m.createElement("clipPath",{id:"clipPath-dots-".concat(y)},m.createElement("rect",{x:l-w/2,y:o-w/2,width:u+w,height:d+w}))),m.createElement(zT,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:XX,errorBarOffset:0},m.createElement(YX,{props:this.props,clipPathId:y}))),m.createElement(gG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var rD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ps.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dt.line};function QX(e){var t=cr(e,rD),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:y}=t,v=Kx(t,MX),{needClip:x}=Fx(p,g),b=$x(),w=Rc(),_=Zt(),j=he(C=>TX(C,p,g,_,y));if(w!=="horizontal"&&w!=="vertical"||j==null||b==null)return null;var{height:S,width:k,x:N,y:E}=b;return m.createElement(JX,vc({},v,{id:y,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:g,points:j,layout:w,height:S,width:k,left:N,top:E,needClip:x}))}function ZX(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=Rt(u,s);if(t==="horizontal"){var h=k_({axis:r,ticks:i,bandSize:o,entry:u,index:d}),p=Je(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var g=Je(f)?null:r.scale(f),y=k_({axis:n,ticks:a,bandSize:o,entry:u,index:d});return g==null||y==null?null:{x:g,y,value:f,payload:u}}).filter(Boolean)}function eJ(e){var t=cr(e,rD),r=Zt();return m.createElement(LT,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(RT,{legendPayload:UX(t)}),m.createElement(IT,{fn:zX,args:t}),m.createElement(FT,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(QX,vc({},t,{id:n}))))}var Fv=m.memo(eJ);Fv.displayName="Line";var tJ=["dangerouslySetInnerHTML","ticks"],rJ=["id"],nJ=["domain"],iJ=["domain"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(null,arguments)}function Tf(e,t){if(e==null)return{};var r,n,i=aJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sJ(e){var t=ut();return m.useLayoutEffect(()=>(t(nG(e)),()=>{t(iG(e))}),[e,t]),null}var oJ=e=>{var{xAxisId:t,className:r}=e,n=he(M0),i=Zt(),a="xAxis",s=he(v=>zo(v,a,t,i)),o=he(v=>NA(v,a,t,i)),l=he(v=>_A(v,t)),u=he(v=>iK(v,t)),d=he(v=>KO(v,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=Tf(e,tJ),{id:g}=d,y=Tf(d,rJ);return m.createElement(Wx,Bv({},p,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Le("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},lJ={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,height:Pr.height,hide:!1,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tickCount:Pr.tickCount,type:Pr.type,xAxisId:0},cJ=e=>{var t,r,n,i,a,s=cr(e,lJ);return m.createElement(m.Fragment,null,m.createElement(sJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),m.createElement(oJ,s))},uJ=(e,t)=>{var{domain:r}=e,n=Tf(e,nJ),{domain:i}=t,a=Tf(t,iJ);return bo(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:bo({domain:r},{domain:i}):!1},Uv=m.memo(cJ,uJ);Uv.displayName="XAxis";var dJ=["dangerouslySetInnerHTML","ticks"],fJ=["id"],hJ=["domain"],pJ=["domain"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function Df(e,t){if(e==null)return{};var r,n,i=mJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gJ(e){var t=ut();return m.useLayoutEffect(()=>(t(aG(e)),()=>{t(sG(e))}),[e,t]),null}var vJ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=m.useRef(null),s=m.useRef(null),o=he(M0),l=Zt(),u=ut(),d="yAxis",f=he(j=>zo(j,d,t,l)),h=he(j=>jA(j,t)),p=he(j=>sK(j,t)),g=he(j=>NA(j,d,t,l)),y=he(j=>HO(j,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Rx(i)||m.isValidElement(i)||y==null)){var j=a.current;if(j){var S=j.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(oG({id:t,width:S}))}}},[g,h,u,i,t,n,y]),h==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,b=Df(e,dJ),{id:w}=y,_=Df(y,fJ);return m.createElement(Wx,zv({},b,_,{ref:a,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Le("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g,axisType:d}))},yJ={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,hide:!1,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tickCount:Or.tickCount,type:Or.type,width:Or.width,yAxisId:0},xJ=e=>{var t,r,n,i,a,s=cr(e,yJ);return m.createElement(m.Fragment,null,m.createElement(gJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),m.createElement(vJ,s))},bJ=(e,t)=>{var{domain:r}=e,n=Df(e,hJ),{domain:i}=t,a=Df(t,pJ);return bo(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:bo({domain:r},{domain:i}):!1},Wv=m.memo(xJ,bJ);Wv.displayName="YAxis";var wJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=m;function _J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jJ=typeof Object.is=="function"?Object.is:_J,SJ=qc.useSyncExternalStore,kJ=qc.useRef,NJ=qc.useEffect,CJ=qc.useMemo,EJ=qc.useDebugValue;wJ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=kJ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=CJ(function(){function l(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,jJ(d,p))return g;var y=n(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=SJ(e,a[0],a[1]);return NJ(function(){s.hasValue=!0,s.value=o},[o]),EJ(o),o};function PJ(e){e()}function OJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){PJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Uj={notify(){},get:()=>[]};function AJ(e,t){let r,n=Uj,i=0,a=!1;function s(y){d();const v=n.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(l),n=OJ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Uj)}function h(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var TJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DJ=TJ(),IJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RJ=IJ(),MJ=()=>DJ||RJ?m.useLayoutEffect:m.useEffect,LJ=MJ(),Am=Symbol.for("react-redux-context"),Tm=typeof globalThis<"u"?globalThis:{};function $J(){if(!m.createContext)return{};const e=Tm[Am]??(Tm[Am]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var FJ=$J();function BJ(e){const{children:t,context:r,serverState:n,store:i}=e,a=m.useMemo(()=>{const l=AJ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=m.useMemo(()=>i.getState(),[i]);LJ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||FJ;return m.createElement(o.Provider,{value:a},t)}var UJ=BJ,zJ=(e,t)=>t,Hx=M([zJ,Ie,zO,Et,WA,Oi,vH,Mt],SH),Vx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},nD=cn("mouseClick"),iD=Dc();iD.startListening({actionCreator:nD,effect:(e,t)=>{var r=e.payload,n=Hx(t.getState(),Vx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(xK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Kv=cn("mouseMove"),aD=Dc();aD.startListening({actionCreator:Kv,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=kx(n,n.tooltip.settings.shared),a=Hx(n,Vx(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(IA({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(DA()))}});var zj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},sD=_r({name:"rootProps",initialState:zj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:zj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),WJ=sD.reducer,{updateOptions:KJ}=sD.actions,oD=_r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pee}=oD.actions,HJ=oD.reducer,lD=cn("keyDown"),cD=cn("focus"),qx=Dc();qx.startListening({actionCreator:lD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Nx(i,Ko(r))),o=Oi(r);if(a==="Enter"){var l=jf(r,"axis","hover",String(i.index));t.dispatch(Ov({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=uK(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var p=jf(r,"axis","hover",String(h));t.dispatch(Ov({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});qx.startListening({actionCreator:cD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=jf(r,"axis","hover",String(a));t.dispatch(Ov({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Jr=cn("externalEvent"),uD=Dc();uD.startListening({actionCreator:Jr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:tH(r),activeDataKey:qA(r),activeIndex:cs(r),activeLabel:VA(r),activeTooltipIndex:cs(r),isTooltipActive:rH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var VJ=M([Wo],e=>e.tooltipItemPayloads),qJ=M([VJ,Kc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),dD=cn("touchMove"),fD=Dc();fD.startListening({actionCreator:dD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=kx(n,n.tooltip.settings.shared);if(i==="axis"){var a=Hx(n,Vx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(IA({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(kU),d=(s=l.getAttribute(NU))!==null&&s!==void 0?s:void 0,f=qJ(t.getState(),u,d);t.dispatch(TA({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var GJ=BE({brush:AY,cartesianAxis:lG,chartData:eV,errorBars:EG,graphicalItems:Wq,layout:sU,legend:tz,options:YH,polarAxis:mq,polarOptions:HJ,referenceElements:$Y,rootProps:WJ,tooltip:bK,zIndex:$H}),YJ=function(t){return AB({reducer:GJ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([iD.middleware,aD.middleware,qx.middleware,uD.middleware,fD.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(QE({type:"raf"}))},devTools:ps.devToolsEnabled})};function XJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Zt(),a=m.useRef(null);if(i)return r;a.current==null&&(a.current=YJ(t));var s=E0;return m.createElement(UJ,{context:s,store:a.current},r)}function JJ(e){var{layout:t,margin:r}=e,n=ut(),i=Zt();return m.useEffect(()=>{i||(n(nU(t)),n(rU(r)))},[n,i,t,r]),null}function QJ(e){var t=ut();return m.useEffect(()=>{t(KJ(e))},[t,e]),null}function Wj(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=MT("".concat(n).concat(t)),a=ut();return m.useLayoutEffect(()=>(a(MH({zIndex:t,elementId:i,isPanorama:r})),()=>{a(LH({zIndex:t,isPanorama:r}))}),[a,t,i,r]),m.createElement("g",{id:i})}function Kj(e){var{children:t,isPanorama:r}=e,n=he(NH);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return m.createElement(m.Fragment,null,i.map(s=>m.createElement(Wj,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>m.createElement(Wj,{key:s,zIndex:s,isPanorama:r})))}var ZJ=["children"];function eQ(e,t){if(e==null)return{};var r,n,i=tQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(null,arguments)}var rQ={width:"100%",height:"100%",display:"block"},nQ=m.forwardRef((e,t)=>{var r=jP(),n=SP(),i=NP();if(!Vn(r)||!Vn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),m.createElement(UC,If({},s,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:rQ,ref:t}),a)}),iQ=e=>{var{children:t}=e,r=he(Fh);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return m.createElement(UC,{width:n,height:i,x:s,y:a},t)},Hj=m.forwardRef((e,t)=>{var{children:r}=e,n=eQ(e,ZJ),i=Zt();return i?m.createElement(iQ,null,m.createElement(Kj,{isPanorama:!0},r)):m.createElement(nQ,If({ref:t},n),m.createElement(Kj,{isPanorama:!1},r))});function aQ(){var e=ut(),[t,r]=m.useState(null),n=he(SU);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;lt(a)&&a!==n&&e(aU(a))}},[t,e,n]),r}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}var uQ=()=>(cV(),null);function Rf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var dQ=m.forwardRef((e,t)=>{var r,n,i=m.useRef(null),[a,s]=m.useState({containerWidth:Rf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Rf((n=e.style)===null||n===void 0?void 0:n.height)}),o=m.useCallback((u,d)=>{s(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=g=>{var{width:y,height:v}=g[0].contentRect;o(y,v)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,o]);return m.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),m.createElement(m.Fragment,null,m.createElement(Uh,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",ds({ref:l},e)))}),fQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=m.useState({containerWidth:Rf(r),containerHeight:Rf(n)}),s=m.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=m.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(Uh,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",ds({ref:o},e)))}),hQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(Uh,{width:r,height:n}),m.createElement("div",ds({ref:t},e)))}),pQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return gi(r)||gi(n)?m.createElement(fQ,ds({},e,{ref:t})):m.createElement(hQ,ds({},e,{ref:t}))});function mQ(e){return e===!0?dQ:pQ}var gQ=m.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:v,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,_=m.useRef(null),j=ut(),[S,k]=m.useState(null),[N,E]=m.useState(null),C=aQ(),P=L0(),D=(P==null?void 0:P.width)>0?P.width:x,V=(P==null?void 0:P.height)>0?P.height:i,K=m.useCallback(O=>{C(O),typeof t=="function"&&t(O),k(O),E(O),O!=null&&(_.current=O)},[C,t,k,E]),Q=m.useCallback(O=>{j(nD(O)),j(Jr({handler:a,reactEvent:O}))},[j,a]),I=m.useCallback(O=>{j(Kv(O)),j(Jr({handler:u,reactEvent:O}))},[j,u]),W=m.useCallback(O=>{j(DA()),j(Jr({handler:d,reactEvent:O}))},[j,d]),L=m.useCallback(O=>{j(Kv(O)),j(Jr({handler:f,reactEvent:O}))},[j,f]),B=m.useCallback(()=>{j(cD())},[j]),H=m.useCallback(O=>{j(lD(O.key))},[j]),te=m.useCallback(O=>{j(Jr({handler:s,reactEvent:O}))},[j,s]),ee=m.useCallback(O=>{j(Jr({handler:o,reactEvent:O}))},[j,o]),we=m.useCallback(O=>{j(Jr({handler:l,reactEvent:O}))},[j,l]),T=m.useCallback(O=>{j(Jr({handler:h,reactEvent:O}))},[j,h]),Y=m.useCallback(O=>{j(Jr({handler:y,reactEvent:O}))},[j,y]),re=m.useCallback(O=>{w&&j(dD(O)),j(Jr({handler:g,reactEvent:O}))},[j,w,g]),ve=m.useCallback(O=>{j(Jr({handler:p,reactEvent:O}))},[j,p]),Ne=mQ(b);return m.createElement(tT.Provider,{value:S},m.createElement(P6.Provider,{value:N},m.createElement(Ne,{width:D??(v==null?void 0:v.width),height:V??(v==null?void 0:v.height),className:Le("recharts-wrapper",n),style:sQ({position:"relative",cursor:"default",width:D,height:V},v),onClick:Q,onContextMenu:te,onDoubleClick:ee,onFocus:B,onKeyDown:H,onMouseDown:we,onMouseEnter:I,onMouseLeave:W,onMouseMove:L,onMouseUp:T,onTouchEnd:ve,onTouchMove:re,onTouchStart:Y,ref:K},m.createElement(uQ,null),r)))}),vQ=["width","height","responsive","children","className","style","compact","title","desc"];function yQ(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bQ=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=yQ(e,vQ),h=Pn(f);return l?m.createElement(m.Fragment,null,m.createElement(Uh,{width:r,height:n}),m.createElement(Hj,{otherAttributes:h,title:u,desc:d},a)):m.createElement(gQ,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(Hj,{otherAttributes:h,title:u,desc:d,ref:t},m.createElement(BY,null,a)))});function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}var wQ={top:5,right:5,bottom:5,left:5},_Q={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wQ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},hD=m.forwardRef(function(t,r){var n,i=cr(t.categoricalChartProps,_Q),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return m.createElement(XJ,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},m.createElement(OY,{chartData:u.data}),m.createElement(JJ,{layout:i.layout,margin:i.margin}),m.createElement(QJ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),m.createElement(bQ,Hv({},i,{ref:r})))}),jQ=["axis"],SQ=m.forwardRef((e,t)=>m.createElement(hD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jQ,tooltipPayloadSearcher:nT,categoricalChartProps:e,ref:t})),kQ=["axis","item"],NQ=m.forwardRef((e,t)=>m.createElement(hD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kQ,tooltipPayloadSearcher:nT,categoricalChartProps:e,ref:t}));function pD({options:e,value:t,onChange:r,className:n=""}){return c.jsx("div",{className:`inline-flex rounded-2xl border border-gray-200/80 bg-white p-1 shadow-sm ${n}`,children:e.map(i=>c.jsx("button",{onClick:()=>r(i.value),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-all duration-150 min-h-[40px] ${t===i.value?"bg-[rgb(0,122,255)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:i.label},i.value))})}const od={new_lead:"New Lead",contacted:"Contacted",showing_scheduled:"Showing Scheduled",offer_submitted:"Offer Submitted",under_contract:"Under Contract",pending:"Pending",closed:"Closed",dead:"Lost"},qj=["under_contract","pending"],CQ=["closed","dead"],EQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],PQ={buyer:"Buyer",seller:"Seller",buyer_and_seller:"Buyer & Seller",renter:"Renter",landlord:"Landlord"},Mf=["luma-insights","pipeline-health","alerts-actions","monthly-momentum","deal-type-mix","lead-source","upcoming-deals"],OQ=e=>{const t=e.map(s=>s==="monthly-gci"?"monthly-momentum":s),r=t.filter((s,o)=>t.indexOf(s)===o),n=new Set(Mf),i=r.filter(s=>n.has(s)),a=Mf.filter(s=>!i.includes(s));return[...i,...a]},Lf=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const r=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const a=Number(r[1]),s=Number(r[2])-1,o=Number(r[3]);if(Number.isNaN(a)||Number.isNaN(s)||Number.isNaN(o)||s<0||s>11||o<1||o>31)return null;const l=new Date(Date.UTC(a,s,o));return{year:a,month:s,date:l}}const n=t.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),i=new Date(n);return Number.isNaN(i.getTime())?null:{year:i.getUTCFullYear(),month:i.getUTCMonth(),date:i}},Dm=(e,t)=>{const r=e.split("T")[0],n=t.split("T")[0];return[`and(close_date.gte.${r},close_date.lte.${n})`,`and(close_date.is.null,closed_at.gte.${e},closed_at.lte.${t})`].join(",")},Gj=(e,t,r)=>{const n=Lf(e.close_date)||Lf(e.closed_at);if(!n)return!1;const i=n.date.getTime();return i>=t.getTime()&&i<=r.getTime()};function AQ({id:e,children:t}){const{attributes:r,listeners:n,setNodeRef:i,transform:a,transition:s,isDragging:o}=yh({id:e}),l={transform:Cn.Transform.toString(a),transition:s,opacity:o?.5:1,position:"relative"};return c.jsxs("div",{ref:i,style:l,className:"relative group",children:[c.jsx("div",{...r,...n,className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing bg-white rounded-lg shadow-lg p-2",children:c.jsx(n0,{className:"w-4 h-4 text-gray-400"})}),t]})}function TQ(){var Pe;const{user:e,roleInfo:t}=ct(),[r,n]=m.useState({ytdGCI:0,ytdDeals:0,ytdVolume:0,avgCommission:0,closingThisMonth:0,conversionRate:0}),[i,a]=m.useState([]),[s,o]=m.useState([]),[l,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState(!0),[v,x]=m.useState([]),[b,w]=m.useState(!1),[_,j]=m.useState([]),[S,k]=m.useState([...Mf]),[N,E]=m.useState(null),[C,P]=m.useState([]),[D,V]=m.useState([]),[K,Q]=m.useState([]),[I,W]=m.useState([]),[L,B]=m.useState([]),[H,te]=m.useState([]),[ee,we]=m.useState([]),[T,Y]=m.useState("ytd"),re=m.useMemo(()=>m6(T),[T]),ve=dh(uh(Ro,{activationConstraint:{distance:8}})),Ne=[{value:"this_month",label:"MTD"},{value:"last_30_days",label:"30D"},{value:"this_quarter",label:"QTD"},{value:"ytd",label:"YTD"}];m.useEffect(()=>{if(!e)return;(async()=>{var pe;const U={id:e.id,label:((pe=e.user_metadata)==null?void 0:pe.name)||e.email||"You",email:e.email||""};if(!t||t.globalRole==="agent"){P([U]),V([e.id]);return}const{data:q,error:ae}=await X.rpc("get_accessible_agents");if(ae||!q){console.error("Unable to load accessible agents",ae),P([U]),V([e.id]);return}const se=q.map(_e=>({id:_e.user_id,label:_e.display_name||_e.email||"Agent",email:_e.email||""})).filter((_e,xe,Oe)=>Oe.findIndex(me=>me.id===_e.id)===xe);P(se),V(se.map(_e=>_e.id))})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]);const O=m.useMemo(()=>D.length?[...D].sort().join("|"):"",[D]),z=m.useMemo(()=>L.length?[...L].sort().join("|"):"",[L]),Z=m.useMemo(()=>H.length?[...H].sort().join("|"):"",[H]),$=m.useMemo(()=>ee.length?[...ee].sort().join("|"):"",[ee]),Se=D.length>0&&D.length===C.length,R=m.useMemo(()=>{if(!D.length)return"No agents selected";if(Se)return"All agents";if(D.length===1){const A=C.find(U=>U.id===D[0]);return(A==null?void 0:A.label)||"Single agent"}return`${D.length} agents`},[Se,D,C]),de=A=>{V(U=>{if(U.includes(A)){const q=U.filter(ae=>ae!==A);return q.length?q:U}return[...U,A]})},be=()=>{C.length&&V(C.map(A=>A.id))},Ce=()=>{e&&V([e.id])},dt=A=>{const U=Array.from(A.target.selectedOptions).map(q=>q.value);te(U)},ba=A=>{const U=Array.from(A.target.selectedOptions).map(q=>q.value);B(U)},jr=A=>{const U=Array.from(A.target.selectedOptions).map(q=>q.value);we(U)},Rn=t&&t.globalRole!=="agent"||C.length>1,Kr=m.useMemo(()=>i.reduce((A,U)=>A+U.count,0),[i]),Yn=m.useMemo(()=>i.reduce((A,U)=>A+U.expectedGCI,0),[i]),Ai=m.useMemo(()=>i.reduce((A,U)=>A+U.stalledCount,0),[i]),Hr=m.useMemo(()=>d.reduce((A,U)=>A+Ea(U),0),[d]);m.useEffect(()=>{!e||!O||ft()},[e==null?void 0:e.id,O,z,Z,$,T]),m.useEffect(()=>{e&&Ho()},[e]),m.useEffect(()=>{C.length&&kr(C.map(A=>A.id))},[C]),m.useEffect(()=>{!g&&r.ytdGCI>0&&vs()},[g,r,i,l,s]);const Sr=(A,U)=>U.length?U.length===1?A.eq("user_id",U[0]):A.in("user_id",U):A,nt=(A,U)=>{if(A=Sr(A,U),L.length&&(A=A.in("lead_source_id",L)),H.length){const q=H.filter(Boolean);q.length&&(A=A.in("pipeline_status_id",q))}return ee.length&&(A=A.in("status",ee)),A},kr=async A=>{if(!A.length)return;let U=X.from("deals").select(`
        id,
        user_id,
        status,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, color, sort_order)
      `).order("created_at",{ascending:!1}).limit(1e3);U=Sr(U,A);const{data:q,error:ae}=await U;if(ae){console.error("Unable to load filter context",ae);return}const J=new Map,se=new Map;(q||[]).forEach(pe=>{var _e,xe;(_e=pe.lead_sources)!=null&&_e.id&&J.set(pe.lead_sources.id,{id:pe.lead_sources.id,name:pe.lead_sources.name||"Unknown"}),(xe=pe.pipeline_statuses)!=null&&xe.id&&se.set(pe.pipeline_statuses.id,{id:pe.pipeline_statuses.id,label:pe.pipeline_statuses.name,color:pe.pipeline_statuses.color,sortOrder:pe.pipeline_statuses.sort_order})}),Q(Array.from(J.values()).sort((pe,_e)=>pe.name.localeCompare(_e.name))),W(Array.from(se.values()).sort((pe,_e)=>{const xe=pe.sortOrder??999,Oe=_e.sortOrder??999;return xe===Oe?pe.label.localeCompare(_e.label):xe-Oe}))},ft=async()=>{if(!e||!D.length)return;y(!0);const A=re.start.toISOString(),U=re.end.toISOString();try{await Promise.all([Vr(D,A,U),ys(D),Ti(D),qr(D,A,U),Nr(D),wa(D)])}catch(q){console.error("Error loading dashboard data",q)}finally{y(!1)}},vs=async()=>{if(e){w(!0);try{const{data:{session:A}}=await X.auth.getSession();if(!A)return;const q=await fetch("https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-insights",{method:"POST",headers:{Authorization:`Bearer ${A.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({stats:r,pipelineHealth:i.map(J=>({id:J.id,name:J.name,count:J.count,expectedGCI:J.expectedGCI,stalledCount:J.stalledCount})),leadSourceData:l,monthlyData:s,upcomingDealsCount:d.length,projectedGCI:Hr})});if(!q.ok){const J=await q.text();console.error("Failed to fetch AI insights:",J);return}const ae=await q.json();x(ae.insights||[])}catch(A){console.error("Error loading AI insights:",A)}finally{w(!1)}}},Vr=async(A,U,q)=>{const ae=Dm(U,q);let J=X.from("deals").select("*").eq("status","closed").or(ae);J=nt(J,A);const{data:se,error:pe}=await J;pe&&console.error("loadStats closedDeals error",pe);let _e=X.from("deals").select("*").gte("created_at",U).lte("created_at",q);_e=nt(_e,A);const{data:xe,error:Oe}=await _e;Oe&&console.error("loadStats allDeals error",Oe);const me=new Date().getFullYear(),je=new Date().getMonth(),mt=new Date(me,je,1).toISOString(),fr=new Date(me,je+1,0,23,59,59).toISOString();let Xn=X.from("deals").select("id").in("status",qj).gte("close_date",mt).lte("close_date",fr);Xn=nt(Xn,A);const{data:Gr,error:ja}=await Xn;ja&&console.error("loadStats closingThisMonth error",ja);let Sa=0,Ve=0;const Mn=(se||[]).filter(Ri=>Gj(Ri,re.start,re.end));Mn.forEach(Ri=>{const Gc=Ri.actual_sale_price||0;Sa+=Gc,Ve+=Ea(Ri)});const ka=Mn.length,Gx=ka>0?Ve/ka:0,Vo=(xe==null?void 0:xe.length)||0,Yx=Vo>0?ka/Vo:0;n({ytdGCI:Ve,ytdDeals:ka,ytdVolume:Sa,avgCommission:Gx,closingThisMonth:(Gr==null?void 0:Gr.length)||0,conversionRate:Yx})},ys=async A=>{let U=X.from("deals").select(`
        *,
        pipeline_statuses (id, name, color, sort_order),
        lead_sources (id, name)
      `).not("status","in",`(${CQ.join(",")})`);U=nt(U,A);const{data:q,error:ae}=await U;if(ae){console.error("loadPipelineHealth deals error",ae);return}if(!q){a([]),j([]);return}const J=new Map;q.forEach(me=>{var ja,Sa,Ve,Mn;const je=((ja=me.pipeline_statuses)==null?void 0:ja.id)||me.pipeline_status_id||`status:${me.status}`,mt=((Sa=me.pipeline_statuses)==null?void 0:Sa.name)||od[me.status]||me.status,fr=((Ve=me.pipeline_statuses)==null?void 0:Ve.color)||null,Xn=((Mn=me.pipeline_statuses)==null?void 0:Mn.sort_order)??null,Gr=J.get(je)||{id:je,name:mt,color:fr,sortOrder:Xn,count:0,expectedGCI:0,stalledCount:0};Gr.count+=1,Gr.expectedGCI+=Ea(me),e_(me.stage_entered_at,30)&&(Gr.stalledCount+=1),J.set(je,Gr)});const pe=Array.from(J.values()).sort((me,je)=>{const mt=me.sortOrder??999,fr=je.sortOrder??999;return mt===fr?me.name.localeCompare(je.name):mt-fr}).map(me=>({id:me.id,name:me.name,color:me.color,count:me.count,expectedGCI:me.expectedGCI,stalledCount:me.stalledCount}));a(pe);const _e=new Map;q.forEach(me=>{const je=_e.get(me.deal_type)??{count:0,gci:0,statusCounts:{}};je.count+=1,je.gci+=Ea(me);const mt=je.statusCounts[me.status]||0;je.statusCounts[me.status]=mt+1,_e.set(me.deal_type,je)});const xe=q.length,Oe=Array.from(_e.entries()).map(([me,je])=>({dealType:me,count:je.count,gci:je.gci,percentage:xe>0?je.count/xe:0,statusCounts:je.statusCounts})).sort((me,je)=>je.count-me.count);j(Oe)},Ti=async A=>{const U=Dm(re.start.toISOString(),re.end.toISOString());let q=X.from("deals").select("*").eq("status","closed").or(U);q=nt(q,A);const{data:ae,error:J}=await q;if(J){console.error("loadMonthlyTrends error",J);return}if(!ae){o([]);return}const se=EQ.map(pe=>({month:pe,gci:0,deals:0}));ae.forEach(pe=>{const _e=Lf(pe.close_date)||Lf(pe.closed_at);if(!_e||_e.year!==currentYear)return;const xe=_e.month,Oe=se[xe];Oe.gci+=Ea(pe),Oe.deals+=1}),o(se.map(pe=>({month:pe.month,gci:Math.round(pe.gci),deals:pe.deals})))},qr=async(A,U,q)=>{const ae=Dm(U,q);let J=X.from("deals").select("*, lead_sources(*)").eq("status","closed").or(ae);J=nt(J,A);const{data:se,error:pe}=await J;if(pe){console.error("loadLeadSourcePerformance error",pe);return}if(!se){u([]);return}const _e=se.filter(me=>Gj(me,re.start,re.end)),xe=new Map;_e.forEach(me=>{var fr;const je=((fr=me.lead_sources)==null?void 0:fr.name)||"Unknown",mt=xe.get(je)||{deals:0,gci:0};mt.deals+=1,mt.gci+=Ea(me),xe.set(je,mt)});const Oe=Array.from(xe.entries()).map(([me,je])=>({name:me,deals:je.deals,gci:Math.round(je.gci)})).sort((me,je)=>je.gci-me.gci).slice(0,5);u(Oe)},Nr=async A=>{const U=new Date,q=new Date;q.setDate(U.getDate()+30);let ae=X.from("deals").select("*").in("status",qj).gte("close_date",U.toISOString()).lte("close_date",q.toISOString()).order("close_date",{ascending:!0}).limit(5);ae=nt(ae,A);const{data:J,error:se}=await ae;if(se){console.error("loadUpcomingDeals error",se),f([]);return}f(J||[])},wa=async A=>{let U=X.from("deals").select("*").neq("status","closed").neq("status","dead").order("stage_entered_at",{ascending:!0});U=nt(U,A);const{data:q,error:ae}=await U;if(ae){console.error("loadStalledDeals error",ae),p([]);return}const J=(q||[]).filter(se=>e_(se.stage_entered_at,30)).slice(0,5);p(J)},Ho=async()=>{if(e)try{const{data:A,error:U}=await X.from("dashboard_layouts").select("widget_order").eq("user_id",e.id).maybeSingle();if(U){console.error("Error loading widget layout:",U);return}A&&A.widget_order?k(OQ(A.widget_order)):k([...Mf])}catch(A){console.error("Error loading widget layout:",A)}},Di=async A=>{if(e)try{const{error:U}=await X.from("dashboard_layouts").upsert({user_id:e.id,widget_order:A,updated_at:new Date().toISOString()},{onConflict:"user_id"});U&&console.error("Error saving widget layout:",U)}catch(U){console.error("Error saving widget layout:",U)}},_a=A=>{const{active:U,over:q}=A;if(!q||U.id===q.id){E(null);return}const ae=S.indexOf(U.id),J=S.indexOf(q.id),se=[...S],[pe]=se.splice(ae,1);se.splice(J,0,pe),k(se),Di(se),E(null)},dr=()=>{window.location.href="/pipeline"},Ii=()=>{window.location.href="/pipeline"},Qe=()=>{window.location.href="/luma"},ht=m.useMemo(()=>{const A=[];if(s.length>=2){const q=s.slice(-2);if(q.length===2){const[ae,J]=q;if(J.gci>ae.gci){const se=(J.gci-ae.gci)/ae.gci*100;A.push(`You're on track to beat last month by ${se.toFixed(0)}% in GCI.`)}else if(J.gci<ae.gci&&ae.gci>0){const se=(ae.gci-J.gci)/ae.gci*100;A.push(`GCI is down ${se.toFixed(0)}% compared to last month.`)}}}const U=new Map;if(i.forEach(q=>{q.stalledCount>0&&U.set(q.name,q.stalledCount)}),U.size>0){const q=Array.from(U.entries()).sort((ae,J)=>J[1]-ae[1])[0];A.push(`${q[1]} deal${q[1]>1?"s have":" has"} been stalled in '${q[0]}' for 30+ days.`)}if(l.length>0){const q=l[0];A.push(`${q.name} is your top performing lead source with ${hr(q.gci)} in closed deals.`)}return r.conversionRate>0&&(r.conversionRate>=.3?A.push(`Strong ${ku(r.conversionRate)} conversion rate - keep up the momentum!`):r.conversionRate<.15&&A.push(`Conversion rate at ${ku(r.conversionRate)} - consider focusing on lead quality.`)),d.length>0&&Hr>0&&A.push(`${d.length} deals projected to close soon with ${hr(Hr)} potential GCI.`),A.length===0&&A.push("Keep adding deals to your pipeline to get personalized insights."),A},[r,i,l,s,d,Hr]),pt=A=>{switch(A){case"luma-insights":return pn();case"pipeline-health":return Vt();case"alerts-actions":return $t();case"monthly-momentum":return F();case"deal-type-mix":return oe();case"lead-source":return ye();case"upcoming-deals":return d.length>0?Te():null;default:return null}},pn=()=>c.jsx("div",{className:"hig-card p-6 bg-gradient-to-br from-blue-50 to-white border-blue-200/60",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[rgb(0,122,255)] flex items-center justify-center shadow-lg",children:c.jsx(ns,{className:"w-6 h-6 text-white",strokeWidth:2})})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"hig-text-heading",children:"Luma Insights"}),b&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[rgb(0,122,255)]"})]}),v.length>0?c.jsx("div",{className:"space-y-3",children:v.slice(0,3).map((A,U)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),c.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:A})]},U))}):c.jsx("div",{className:"space-y-3",children:ht.slice(0,3).map((A,U)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),c.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:A})]},U))})]})]})}),Vt=()=>c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"hig-text-heading",children:"Pipeline Health"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:Kr}),c.jsx("div",{className:"text-xs text-gray-500",children:"Active Deals"})]})]}),i.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline yet. Add a deal to see health metrics here."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Pipeline Value"}),c.jsx("span",{className:"text-lg font-semibold text-[rgb(0,122,255)]",children:hr(Yn)})]})}),c.jsx("div",{className:"space-y-3",children:i.map(A=>{if(A.count===0)return null;const U=Kr>0?A.count/Kr*100:0;return c.jsxs("div",{className:"group p-4 rounded-xl border border-gray-200/60 hover:border-gray-300 hover:shadow-sm transition-all cursor-pointer",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:xh(A.color)}}),c.jsx("span",{className:"font-medium text-gray-900",children:A.name})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[A.stalledCount>0&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 rounded-full",children:[c.jsx(nc,{className:"w-3.5 h-3.5 text-orange-600",strokeWidth:2}),c.jsxs("span",{className:"text-xs font-medium text-orange-700",children:[A.stalledCount," stalled"]})]}),c.jsx("span",{className:"text-lg font-semibold text-gray-900",children:A.count})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm text-[rgb(0,122,255)] font-medium",children:hr(A.expectedGCI)}),c.jsxs("div",{className:"text-xs text-gray-500",children:[U.toFixed(0),"% of pipeline"]})]})]},A.id)})}),Ai>0&&c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/60",children:c.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-orange-50 rounded-xl border border-orange-200/60",children:[c.jsx(mi,{className:"w-4 h-4 text-orange-600",strokeWidth:2}),c.jsxs("span",{className:"text-sm font-medium text-orange-700",children:[Ai," deals need attention (30+ days)"]})]})})]})]}),$t=()=>c.jsxs("div",{className:"hig-card p-6",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h2",{className:"hig-text-heading",children:"Alerts & Actions"})}),h.length>0?c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-3",children:[c.jsx(mi,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:"Stalled Deals Requiring Attention"})]}),c.jsx("div",{className:"space-y-2",children:h.slice(0,3).map(A=>c.jsx("div",{className:"p-3 bg-orange-50 rounded-xl border border-orange-200/60 hover:shadow-sm transition-all cursor-pointer",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900 text-sm",children:A.client_name}),c.jsx("div",{className:"text-xs text-gray-600 mt-1",children:A.property_address})]}),c.jsx("div",{className:"ml-3 px-2 py-1 bg-orange-100 rounded-lg",children:c.jsxs("div",{className:"text-xs text-orange-700 font-semibold",children:[LC(A.stage_entered_at),"d"]})})]})},A.id))})]}):c.jsx("div",{className:"mb-6 p-4 bg-green-50 rounded-xl border border-green-200/60",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(la,{className:"w-4 h-4 text-green-600",strokeWidth:2}),c.jsx("span",{className:"text-sm text-green-700",children:"All deals are moving smoothly!"})]})}),c.jsxs("div",{className:"pt-4 border-t border-gray-200/60",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:dr,children:[c.jsx(oC,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"New Client"})]}),c.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:Ii,children:[c.jsx(J2,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"New Task"})]}),c.jsxs("button",{className:"hig-btn-primary py-3 text-sm flex items-center justify-center gap-2",onClick:Qe,children:[c.jsx(ns,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Ask Luma"})]})]})]})]}),F=()=>{const A=s.some(xe=>xe.gci>0||xe.deals>0),U=s.filter(xe=>xe.gci>0||xe.deals>0),q=U.length>0?U[U.length-1]:null,ae=U.length>=2?U[U.length-2]:null,J=q&&ae&&ae.gci>0?(q.gci-ae.gci)/ae.gci*100:null,se=U.reduce((xe,Oe)=>Oe.gci>((xe==null?void 0:xe.gci)??0)?Oe:xe,null),pe=s.map((xe,Oe,me)=>{const je=Math.max(0,Oe-2),mt=me.slice(je,Oe+1),fr=mt.reduce((Xn,Gr)=>Xn+Gr.gci,0);return mt.length?fr/mt.length:xe.gci}),_e=s.map((xe,Oe)=>({...xe,trend:pe[Oe]??xe.gci}));return c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"hig-text-heading",children:"Monthly Momentum"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Track production pace and deal count across recent months."})]}),J!==null&&c.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${J>=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[J>=0?c.jsx(G2,{className:"w-3.5 h-3.5"}):c.jsx(HL,{className:"w-3.5 h-3.5"}),J>=0?"+":"",J.toFixed(1),"% vs prev. month"]})]}),A?c.jsxs(c.Fragment,{children:[c.jsx(D_,{width:"100%",height:180,children:c.jsxs(SQ,{data:_e,children:[c.jsx($v,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),c.jsx(Uv,{dataKey:"month",tick:{fontSize:11},stroke:"#94a3b8"}),c.jsx(Wv,{tick:{fontSize:11},stroke:"#94a3b8",tickFormatter:xe=>`$${(xe/1e3).toFixed(0)}K`}),c.jsx(oj,{formatter:xe=>hr(xe),labelFormatter:xe=>`Month: ${xe}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),c.jsx(Fv,{type:"monotone",dataKey:"gci",stroke:"#0ea5e9",strokeWidth:2,dot:{r:3,fill:"#0ea5e9"},activeDot:{r:5}}),c.jsx(Fv,{type:"monotone",dataKey:"trend",stroke:"#ef4444",strokeWidth:1.5,dot:!1,strokeDasharray:"4 4"})]})}),c.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 text-xs text-gray-600",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#0ea5e9]"}),c.jsx("span",{children:"Monthly GCI"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#ef4444]"}),c.jsx("span",{children:"3-month trailing mean"})]})]}),se&&c.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:["Top month: ",se.month,"  ",hr(se.gci)]})]})]}):c.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals yet in this period. Close your first deal to surface momentum insights."})]})},oe=()=>c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"hig-text-heading",children:"Deal Type Mix"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Share of active deals by type & status"})]}),_.length>0?c.jsx("div",{className:"space-y-4",children:_.map(A=>c.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-base font-semibold text-gray-900",children:PQ[A.dealType]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[A.count," active ",A.count===1?"deal":"deals"]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[hr(A.gci)," expected GCI"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ku(A.percentage)}),c.jsx("p",{className:"text-xs text-gray-500",children:"of pipeline"})]})]}),c.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Object.entries(A.statusCounts).sort((U,q)=>q[1]-U[1]).map(([U,q])=>c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700",children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),od[U]??U.replace(/_/g," "),c.jsxs("span",{className:"text-gray-500",children:["(",q,")"]})]},U))})]},A.dealType))}):c.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline. Add a deal to see the deal-type mix."})]}),ye=()=>c.jsxs("div",{className:"hig-card p-6",children:[c.jsx("h2",{className:"hig-text-heading mb-6",children:"Lead Source Performance"}),l.length>0?c.jsx(D_,{width:"100%",height:250,children:c.jsxs(NQ,{data:l,layout:"vertical",children:[c.jsx($v,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Uv,{type:"number",tick:{fontSize:12},stroke:"#6b7280",tickFormatter:A=>`$${(A/1e3).toFixed(0)}K`}),c.jsx(Wv,{type:"category",dataKey:"name",tick:{fontSize:12},stroke:"#6b7280",width:100}),c.jsx(oj,{formatter:A=>hr(A),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),c.jsx(HT,{dataKey:"gci",fill:"#0ea5e9",radius:[0,4,4,0]})]})}):c.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals in this period, so lead source performance is not available yet."})]}),Te=()=>c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"hig-text-heading",children:"Forecasted Closings (Next 30 Days)"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium text-gray-900",children:hr(Hr)})," ","projected GCI"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(A=>c.jsxs("div",{className:"p-4 border border-gray-200/60 rounded-xl hover:shadow-sm hover:border-gray-300 transition-all cursor-pointer",children:[c.jsx("div",{className:"font-medium text-gray-900",children:A.client_name}),c.jsx("div",{className:"text-sm text-gray-600 mt-1",children:A.property_address}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsx("div",{className:"text-sm font-semibold text-[rgb(0,122,255)]",children:hr(Ea(A))}),c.jsx(X2,{className:"w-4 h-4 text-gray-400",strokeWidth:2})]})]},A.id))})]});return g?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_10px_40px_rgba(15,23,42,0.08)] p-6 space-y-6",children:[c.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:p6()}),c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:h6((Pe=e==null?void 0:e.user_metadata)==null?void 0:Pe.name)}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.closingThisMonth," deal",r.closingThisMonth===1?"":"s"," closing soon "," ",hr(Hr)," projected GCI over the next 30 days."]})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-2xl border border-blue-100/70 bg-blue-50/40 p-4",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600",children:"Pipeline Value"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:hr(Yn)}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Active stages only"})]}),c.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/40 p-4",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-600",children:"Projected GCI"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:hr(Hr)}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Next 30 days"})]}),c.jsxs("div",{className:"rounded-2xl border border-purple-100/70 bg-purple-50/40 p-4",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-600",children:"Active Deals"}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Kr}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across pipeline"})]})]})]}),Rn&&c.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_6px_30px_rgba(15,23,42,0.08)] p-4 space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),c.jsx("p",{className:"text-sm text-gray-700",children:R})]}),c.jsx(pD,{options:Ne,value:T,onChange:A=>Y(A)})]}),C.length>1&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400 mb-2",children:"Agents"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:be,className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${Se?"bg-[rgba(10,132,255,0.12)] text-[var(--app-accent)] border-transparent":"border-gray-200 text-gray-600 hover:text-gray-900"}`,children:"All Agents"}),e&&c.jsx("button",{type:"button",onClick:Ce,className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${D.length===1&&D[0]===e.id?"bg-gray-900 text-white border-gray-900":"border-gray-200 text-gray-600 hover:text-gray-900"}`,children:"Focus on me"}),C.map(A=>c.jsx("button",{type:"button",onClick:()=>de(A.id),className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${D.includes(A.id)?"bg-white text-gray-900 border-gray-900/10 shadow-sm":"border-gray-200 text-gray-600 hover:text-gray-900"}`,title:A.email,children:A.label},A.id))]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),H.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>te([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:H,onChange:dt,className:"hig-input min-h-[56px] mt-2",children:I.map(A=>c.jsx("option",{value:A.id,children:A.label},A.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Status"}),ee.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>we([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:ee,onChange:jr,className:"hig-input min-h-[56px] mt-2",children:Object.entries(od).map(([A,U])=>c.jsx("option",{value:A,children:U},A))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),L.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>B([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:L,onChange:ba,className:"hig-input min-h-[56px] mt-2",children:K.map(A=>c.jsx("option",{value:A.id,children:A.name},A.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-blue-50",children:c.jsx(JL,{className:"w-5 h-5 text-[rgb(0,122,255)]",strokeWidth:2})}),c.jsx("span",{className:"text-sm text-gray-600",children:"Total GCI"})]}),c.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:hr(r.ytdGCI)})]}),c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-green-50",children:c.jsx(la,{className:"w-5 h-5 text-green-600",strokeWidth:2})}),c.jsx("span",{className:"text-sm text-gray-600",children:"Closed Deals"})]}),c.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.ytdDeals})]}),c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-orange-50",children:c.jsx(rc,{className:"w-5 h-5 text-orange-600",strokeWidth:2})}),c.jsx("span",{className:"text-sm text-gray-600",children:"Closing Soon"})]}),c.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.closingThisMonth})]}),c.jsxs("div",{className:"hig-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-gray-50",children:c.jsx(KL,{className:"w-5 h-5 text-gray-600",strokeWidth:2})}),c.jsx("span",{className:"text-sm text-gray-600",children:"Conv. Rate"})]}),c.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:ku(r.conversionRate)})]})]}),c.jsx(ph,{sensors:ve,collisionDetection:o0,onDragEnd:_a,onDragStart:A=>E(A.active.id),children:c.jsx(vh,{items:S,strategy:gh,children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.map(A=>{const U=pt(A);return U?c.jsx(AQ,{id:A,children:U},A):null})})})})]})}function mD({deal:e,netCommission:t,daysInStage:r,onClick:n,isDragging:i=!1}){const a=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return c.jsxs("div",{onClick:n,"data-deal-id":e.id,className:`rounded-2xl border border-gray-100/80 bg-white/95 p-4 shadow-[0_10px_30px_rgba(15,23,42,0.05)] ring-1 ring-black/5 cursor-move transition-transform duration-200 ${i?"opacity-60":"hover:-translate-y-0.5"}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:e.client_name}),c.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[c.jsx(Z2,{className:"w-3.5 h-3.5 mr-1 text-gray-400"}),c.jsx("span",{className:"truncate",children:e.property_address})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Expected"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:a(e.actual_sale_price||e.expected_sale_price)})]})]}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[c.jsx(nc,{className:"w-3.5 h-3.5 text-gray-400"}),c.jsxs("span",{children:[r,"d in stage"]})]}),e.lead_sources?c.jsxs("div",{className:"flex items-center gap-1 text-gray-500 justify-end",children:[c.jsx(sC,{className:"w-3.5 h-3.5 text-gray-400"}),c.jsx("span",{className:"truncate",children:e.lead_sources.name})]}):c.jsx("div",{})]}),c.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-xl bg-gray-50 px-3 py-2 text-xs",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Net Commission"}),c.jsx("div",{className:"text-sm font-semibold text-emerald-600",children:a(t)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Last Update"}),c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:new Date(e.updated_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]})]})]})}const DQ=["buyer","seller","buyer_and_seller","renter","landlord"],ul={buyer:{label:"Buyer",accentDot:"bg-blue-400",labelClass:"text-blue-900",panelBg:"bg-blue-50/60",panelBorder:"border-blue-100"},seller:{label:"Seller",accentDot:"bg-emerald-400",labelClass:"text-emerald-900",panelBg:"bg-emerald-50/60",panelBorder:"border-emerald-100"},buyer_and_seller:{label:"Buyer & Seller",accentDot:"bg-purple-400",labelClass:"text-purple-900",panelBg:"bg-purple-50/60",panelBorder:"border-purple-100"},renter:{label:"Renter",accentDot:"bg-orange-400",labelClass:"text-orange-900",panelBg:"bg-orange-50/60",panelBorder:"border-orange-100"},landlord:{label:"Landlord",accentDot:"bg-teal-400",labelClass:"text-teal-900",panelBg:"bg-teal-50/60",panelBorder:"border-teal-100"}};function IQ({status:e,label:t,color:r,deals:n,onDealClick:i,calculateNetCommission:a,getDaysInStage:s}){const{setNodeRef:o,isOver:l}=AC({id:e}),u=bh(r),d=DQ.map(f=>({type:f,label:ul[f].label,accentDot:ul[f].accentDot,labelClass:ul[f].labelClass,deals:n.filter(h=>h.deal_type===f),panelBg:ul[f].panelBg,panelBorder:ul[f].panelBorder})).filter(f=>f.deals.length>0);return c.jsxs("div",{className:"flex-shrink-0 w-72 sm:w-80 flex flex-col",children:[c.jsxs("div",{className:"rounded-lg p-2.5 sm:p-3 mb-2 sm:mb-3 flex-shrink-0",style:{backgroundColor:u.bg,color:u.text},children:[c.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:t}),c.jsxs("span",{className:"text-xs sm:text-sm opacity-80",children:[n.length," deal",n.length!==1?"s":""]})]}),c.jsx("div",{ref:o,className:`flex-1 min-h-[600px] rounded-lg p-3 transition overflow-y-auto ${l?"bg-blue-50 ring-2 ring-blue-400":"bg-gray-50"}`,style:{minHeight:"600px"},children:n.length===0?c.jsx("div",{className:"h-full min-h-[560px] flex items-center justify-center",children:c.jsxs("div",{className:"text-center text-gray-400",children:[c.jsx("div",{className:"text-sm font-medium mb-1",children:"Drop deals here"}),c.jsx("div",{className:"text-xs",children:"Drag cards to this column"})]})}):c.jsx("div",{className:"space-y-6",children:d.map((f,h)=>c.jsxs("div",{className:`rounded-2xl border px-3 py-3 sm:px-4 sm:py-4 ${f.panelBg} ${f.panelBorder} ${h>0?"mt-1":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${f.accentDot}`}),c.jsx("span",{className:`text-xs font-semibold ${f.labelClass}`,children:f.label})]}),c.jsxs("span",{className:"text-[11px] font-medium text-gray-400",children:[f.deals.length," deal",f.deals.length!==1?"s":""]})]}),c.jsx(vh,{items:f.deals.map(p=>p.id),strategy:DC,children:c.jsx("div",{className:"mt-3 space-y-2 sm:space-y-3",children:f.deals.map(p=>c.jsx(RQ,{deal:p,onDealClick:i,calculateNetCommission:a,getDaysInStage:s},p.id))})})]},f.type))})})]})}function RQ({deal:e,onDealClick:t,calculateNetCommission:r,getDaysInStage:n}){const{attributes:i,listeners:a,setNodeRef:s,transform:o,transition:l,isDragging:u}=yh({id:e.id,data:{type:"deal"}}),d={transform:Cn.Transform.toString(o),transition:l,zIndex:u?50:void 0};return c.jsx("div",{ref:s,style:d,...i,...a,children:c.jsx(mD,{deal:e,netCommission:r(e),daysInStage:n(e.stage_entered_at),onClick:()=>t(e),isDragging:u})})}const MQ={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,sept:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};function Yj(e){return e.toString().padStart(2,"0")}function LQ(e,t,r){const n=new Date(Date.UTC(e,t-1,r));return n.getUTCFullYear()===e&&n.getUTCMonth()+1===t&&n.getUTCDate()===r}function dl(e,t,r){return LQ(e,t,r)?`${e}-${Yj(t)}-${Yj(r)}`:null}function $Q(e){return e<100?e>=70?1900+e:2e3+e:e}function Xj(e){const t=e.toLowerCase();return MQ[t]||null}function FQ(e){if(!e)return null;const t=e.trim();if(!t)return null;const r=t.replace(/\s+/g," "),n=r.match(/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/);if(n){const[l,u,d,f]=n;return dl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const i=r.match(/^(\d{1,2})[\/\.\-](\d{1,2})[\/\.\-](\d{2}|\d{4})$/);if(i){const[l,u,d,f]=i,h=$Q(parseInt(f,10));return dl(h,parseInt(u,10),parseInt(d,10))}const a=r.match(/^(\d{4})\.(\d{1,2})\.(\d{1,2})$/);if(a){const[l,u,d,f]=a;return dl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const s=r.match(/^([A-Za-z]+)[\s\-](\d{1,2}),?[\s\-]*(\d{4})$/);if(s){const l=Xj(s[1]);if(l)return dl(parseInt(s[3],10),l,parseInt(s[2],10))}const o=r.match(/^(\d{1,2})[\s\-]([A-Za-z]+),?[\s\-]*(\d{4})$/);if(o){const l=Xj(o[2]);if(l)return dl(parseInt(o[3],10),l,parseInt(o[1],10))}return null}function BQ(e=[]){const t=["client_name","client_phone","client_email","property_address","city","state","zip","deal_type","lead_source_name","pipeline_status","expected_sale_price","actual_sale_price","gross_commission_rate","brokerage_split_rate","referral_out_rate","referral_in_rate","transaction_fee","close_date"].join(","),r=["New Lead","Contacted","Under Contract"],n=e.length>0?e:r,a=[{client_name:"John Smith",client_phone:"555-123-4567",client_email:"john.smith@example.com",property_address:"123 Main Street",city:"Austin",state:"TX",zip:"78701",deal_type:"buyer",lead_source_name:"Zillow",pipeline_status:n[Math.min(2,n.length-1)]||n[0],expected_sale_price:"450000",actual_sale_price:"",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"500",close_date:""},{client_name:"Sarah Johnson",client_phone:"555-987-6543",client_email:"sarah.j@example.com",property_address:"456 Oak Avenue",city:"Dallas",state:"TX",zip:"75201",deal_type:"seller",lead_source_name:"Past Client",pipeline_status:n[n.length-1]||n[0],expected_sale_price:"525000",actual_sale_price:"520000",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"0.25",referral_in_rate:"",transaction_fee:"500",close_date:"2024-12-15"},{client_name:"Mike Davis",client_phone:"555-456-7890",client_email:"mike.davis@example.com",property_address:"789 Elm Street",city:"Houston",state:"TX",zip:"77001",deal_type:"renter",lead_source_name:"Referral",pipeline_status:n[Math.min(1,n.length-1)]||n[0],expected_sale_price:"2400",actual_sale_price:"",gross_commission_rate:"0.5",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"0",close_date:""}].map(s=>Object.values(s).map(o=>{const l=String(o);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(",")).join(`
`);return`${t}
${a}`}function UQ(e,t){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),i=URL.createObjectURL(r);n.setAttribute("href",i),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function zQ(e){const t=[];let r=[],n="",i=!1;for(let a=0;a<e.length;a++){const s=e[a],o=e[a+1];i?s==='"'&&o==='"'?(n+='"',a++):s==='"'?i=!1:n+=s:s==='"'?i=!0:s===","?(r.push(n.trim()),n=""):s===`
`||s==="\r"?((n||r.length>0)&&(r.push(n.trim()),r.some(l=>l!=="")&&t.push(r),r=[],n=""),s==="\r"&&o===`
`&&a++):n+=s}return(n||r.length>0)&&(r.push(n.trim()),r.some(a=>a!=="")&&t.push(r)),t}function WQ(e,t=[]){const r=[];(!e.client_name||e.client_name.trim()==="")&&r.push("client_name is required"),(!e.lead_source_name||e.lead_source_name.trim()==="")&&r.push("lead_source_name is required");const n=["buyer","seller","buyer_and_seller","renter","landlord"];if((!e.deal_type||!n.includes(e.deal_type))&&r.push(`deal_type must be one of: ${n.join(", ")}`),!e.pipeline_status||e.pipeline_status.trim()==="")r.push("pipeline_status is required");else if(t.length>0){const i=e.pipeline_status.toLowerCase().trim();t.includes(i)||r.push(`pipeline_status must be one of your configured statuses: ${t.join(", ")}`)}return{valid:r.length===0,errors:r}}function KQ(e,t){const r={};return e.forEach((n,i)=>{const a=t[i]||"";r[n]=a}),r}function HQ({onClose:e,onSuccess:t}){const{user:r}=ct(),[n,i]=m.useState(null),[a,s]=m.useState(!1),[o,l]=m.useState(null),u=async()=>{if(!r)return;const{data:h}=await X.from("pipeline_statuses").select("name").eq("user_id",r.id).order("sort_order"),p=(h==null?void 0:h.map(y=>y.name))||[],g=BQ(p);UQ(g,"deals-import-example.csv")},d=h=>{var g;const p=(g=h.target.files)==null?void 0:g[0];p&&p.type==="text/csv"?(i(p),l(null)):alert("Please select a valid CSV file")},f=async()=>{var h,p,g,y,v,x;if(!(!n||!r)){s(!0),l(null);try{const b=await n.text(),w=zQ(b);if(w.length<2){alert("CSV file must contain a header row and at least one data row"),s(!1);return}const _=w[0].map(Q=>Q.toLowerCase().trim()),j=w.slice(1),{data:S}=await X.from("lead_sources").select("id, name").eq("user_id",r.id),k=new Map((S==null?void 0:S.map(Q=>[Q.name.toLowerCase(),Q.id]))||[]),{data:N}=await X.from("pipeline_statuses").select("id, name").eq("user_id",r.id),E=new Map((N==null?void 0:N.map(Q=>[Q.name.toLowerCase(),Q.id]))||[]),{data:C}=await X.from("user_settings").select("default_brokerage_split_rate").eq("user_id",r.id).single(),P=(C==null?void 0:C.default_brokerage_split_rate)||.2;let D=0,V=0;const K=[];for(let Q=0;Q<j.length;Q++){const I=KQ(_,j[Q]),W=WQ(I,Array.from(E.keys()));if(!W.valid){V++,K.push({row:Q+2,errors:W.errors});continue}const L=k.get(I.lead_source_name.toLowerCase().trim());if(!L){V++,K.push({row:Q+2,errors:[`Lead source "${I.lead_source_name}" not found. Please create it in Lead Sources settings first.`]});continue}let B=null,H="new_lead";if(I.pipeline_status&&I.pipeline_status.trim()!==""){B=E.get(I.pipeline_status.toLowerCase().trim())||null;const T=I.pipeline_status.toLowerCase().trim();T==="closed"?H="closed":T==="dead"&&(H="dead")}let te=null;if(I.close_date&&I.close_date.trim()!==""&&(te=FQ(I.close_date),!te)){V++,K.push({row:Q+2,errors:[`Close date "${I.close_date}" is not recognized. Use formats like YYYY-MM-DD, MM/DD/YYYY, or December 15, 2024.`]});continue}const ee={user_id:r.id,client_name:I.client_name.trim(),client_phone:((h=I.client_phone)==null?void 0:h.trim())||null,client_email:((p=I.client_email)==null?void 0:p.trim())||null,property_address:((g=I.property_address)==null?void 0:g.trim())||null,city:((y=I.city)==null?void 0:y.trim())||null,state:((v=I.state)==null?void 0:v.trim())||null,zip:((x=I.zip)==null?void 0:x.trim())||null,deal_type:I.deal_type.trim(),lead_source_id:L,pipeline_status_id:B,status:H,expected_sale_price:I.expected_sale_price&&I.expected_sale_price.trim()!==""?Number(I.expected_sale_price):null,actual_sale_price:I.actual_sale_price&&I.actual_sale_price.trim()!==""?Number(I.actual_sale_price):null,gross_commission_rate:I.gross_commission_rate&&I.gross_commission_rate.trim()!==""?Number(I.gross_commission_rate):.03,brokerage_split_rate:I.brokerage_split_rate&&I.brokerage_split_rate.trim()!==""?Number(I.brokerage_split_rate):P,referral_out_rate:I.referral_out_rate&&I.referral_out_rate.trim()!==""?Number(I.referral_out_rate):null,referral_in_rate:I.referral_in_rate&&I.referral_in_rate.trim()!==""?Number(I.referral_in_rate):null,transaction_fee:I.transaction_fee&&I.transaction_fee.trim()!==""?Number(I.transaction_fee):0,close_date:te,stage_entered_at:new Date().toISOString(),closed_at:H==="closed"?new Date().toISOString():null},{error:we}=await X.from("deals").insert(ee);we?(V++,K.push({row:Q+2,errors:[we.message]})):D++}l({success:D,failed:V,errors:K})}catch(b){console.error("Import error:",b),alert("An error occurred while importing. Please check your file format.")}finally{s(!1)}}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Import Deals from CSV"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:c.jsx(Ao,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Import Deals"}),c.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Download the example CSV file to see the required format"}),c.jsx("li",{children:"Fill in your deal data following the example structure"}),c.jsx("li",{children:"Save your file as CSV format"}),c.jsx("li",{children:"Upload your CSV file using the button below"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 1: Download Example"}),c.jsxs("button",{onClick:u,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center space-x-2 transition",children:[c.jsx(QL,{className:"w-5 h-5"}),c.jsx("span",{children:"Download Example CSV"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 2: Upload Your CSV"}),c.jsxs("label",{className:"block w-full px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 cursor-pointer transition text-center",children:[c.jsx("input",{type:"file",accept:".csv",onChange:d,className:"hidden",disabled:a}),c.jsx(Hg,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),c.jsx("div",{className:"text-sm text-gray-600",children:n?c.jsx("span",{className:"font-medium text-blue-600",children:n.name}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"font-medium text-blue-600",children:"Click to upload"})," ","or drag and drop"]})}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"CSV files only"})]})]}),n&&!o&&c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 3: Import"}),c.jsx("button",{onClick:f,disabled:a,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center space-x-2 transition",children:a?c.jsxs(c.Fragment,{children:[c.jsx(n$,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Hg,{className:"w-5 h-5"}),c.jsx("span",{children:"Import Deals"})]})})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Import Results"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center space-x-3",children:[c.jsx(la,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.success}),c.jsx("div",{className:"text-xs text-gray-600",children:"Successfully Imported"})]})]}),c.jsxs("div",{className:"bg-red-50 rounded-lg p-3 flex items-center space-x-3",children:[c.jsx(mi,{className:"w-6 h-6 text-red-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.failed}),c.jsx("div",{className:"text-xs text-gray-600",children:"Failed"})]})]})]})]}),o.errors.length>0&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:[c.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Errors"}),c.jsx("div",{className:"space-y-2",children:o.errors.map((h,p)=>c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-red-800",children:["Row ",h.row,":"]}),c.jsx("ul",{className:"list-disc list-inside text-red-700 ml-2",children:h.errors.map((g,y)=>c.jsx("li",{children:g},y))})]},p))})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>{i(null),l(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Import Another File"}),c.jsx("button",{onClick:()=>{o.success>0&&t(),e()},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Done"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Required Fields"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"client_name:"})," Client's full name"]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"lead_source_name:"})," Must match one of your configured lead sources"]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"deal_type:"})," buyer, seller, buyer_and_seller, renter, or landlord"]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-medium",children:"pipeline_status:"})," Must match one of your configured pipeline statuses"]})]}),c.jsx("div",{className:"mt-3 text-xs text-gray-600",children:"Note: Property address and price are optional. Lead source and pipeline status names must match exactly or the import will fail."})]})]})]})})}const VQ=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),Uu=e=>e==null||Number.isNaN(e)?"":VQ.format(e),zu=e=>e==null||Number.isNaN(e)?"":`${(e*100).toFixed(1)}%`,Es=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Jj=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",no=[{id:"client",label:"Client",defaultVisible:!0,cellClassName:"px-4 py-4 align-top whitespace-nowrap cursor-pointer",render:({deal:e})=>c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.client_name||""}),e.client_email&&c.jsx("div",{className:"text-xs text-gray-500",children:e.client_email}),e.client_phone&&c.jsx("div",{className:"text-xs text-gray-500",children:e.client_phone})]})},{id:"clientEmail",label:"Client Email",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>c.jsx("span",{className:e.client_email?"text-gray-700":"text-gray-400",children:e.client_email||""})},{id:"clientPhone",label:"Client Phone",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>c.jsx("span",{className:e.client_phone?"text-gray-700":"text-gray-400",children:e.client_phone||""})},{id:"property",label:"Property",defaultVisible:!0,cellClassName:"px-4 py-4 text-sm text-gray-900 cursor-pointer min-w-[220px]",render:({deal:e})=>c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Z2,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("div",{children:e.property_address||""}),(e.city||e.state)&&c.jsx("div",{className:"text-xs text-gray-500",children:[e.city,e.state].filter(Boolean).join(", ")})]})]})},{id:"city",label:"City",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>c.jsx("span",{className:e.city?"text-gray-700":"text-gray-400",children:e.city||""})},{id:"state",label:"State",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>c.jsx("span",{className:e.state?"text-gray-700":"text-gray-400",children:e.state||""})},{id:"zip",label:"ZIP",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>c.jsx("span",{className:e.zip?"text-gray-700":"text-gray-400",children:e.zip||""})},{id:"dealType",label:"Deal Type",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>{const t=e.deal_type==="buyer"?"bg-blue-100 text-blue-700":e.deal_type==="seller"?"bg-green-100 text-green-700":e.deal_type==="buyer_and_seller"?"bg-purple-100 text-purple-700":e.deal_type==="renter"?"bg-orange-100 text-orange-700":e.deal_type==="landlord"?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-700",r=e.deal_type==="buyer"?"Buyer":e.deal_type==="seller"?"Seller":e.deal_type==="buyer_and_seller"?"Both":e.deal_type==="renter"?"Renter":e.deal_type==="landlord"?"Landlord":Jj(e.deal_type);return c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${t}`,children:r})}},{id:"pipelineStatus",label:"Pipeline Status",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e,getStatusForDeal:t})=>{const r=t(e);if(!r)return c.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:"No Status"});const n=bh(r.color);return c.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:n.bg,color:n.text},children:r.name})}},{id:"status",label:"System Status",cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>c.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:Jj(e.status)})},{id:"leadSource",label:"Lead Source",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>{var t,r;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sC,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:(t=e.lead_sources)!=null&&t.name?"text-gray-900":"text-gray-400",children:((r=e.lead_sources)==null?void 0:r.name)||""})]})}},{id:"expectedPrice",label:"Expected Price",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:Uu(e.actual_sale_price||e.expected_sale_price)})},{id:"actualPrice",label:"Actual Price",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:Uu(e.actual_sale_price)})},{id:"netCommission",label:"Net Commission",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-green-600 cursor-pointer text-right",render:({deal:e,calculateNetCommission:t})=>c.jsx("span",{children:Uu(t(e))})},{id:"grossCommissionRate",label:"Commission %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:zu(e.gross_commission_rate)})},{id:"brokerageSplitRate",label:"Broker Split %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:zu(e.brokerage_split_rate)})},{id:"referralOutRate",label:"Referral Out %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:zu(e.referral_out_rate)})},{id:"referralInRate",label:"Referral In %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:zu(e.referral_in_rate)})},{id:"transactionFee",label:"Transaction Fee",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>c.jsx("span",{children:Uu(e.transaction_fee)})},{id:"daysInStage",label:"Days in Stage",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 cursor-pointer",render:({deal:e,getDaysInStage:t})=>c.jsxs("div",{className:"flex items-center justify-start gap-2",children:[c.jsx(nc,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{children:[t(e.stage_entered_at)," days"]})]})},{id:"stageEnteredAt",label:"Stage Entered",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsx("span",{children:Es(e.stage_entered_at)})},{id:"closeDate",label:"Close Date",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsx("span",{children:Es(e.close_date)})},{id:"closedAt",label:"Closed On",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsx("span",{children:Es(e.closed_at)})},{id:"nextTaskDescription",label:"Next Task",cellClassName:"px-4 py-4 text-sm text-gray-700 cursor-pointer min-w-[200px]",render:({deal:e})=>c.jsx("span",{className:e.next_task_description?"text-gray-700":"text-gray-400",children:e.next_task_description||""})},{id:"nextTaskDueDate",label:"Next Task Due",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsx("span",{children:Es(e.next_task_due_date)})},{id:"createdAt",label:"Created",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rc,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{children:Es(e.created_at)})]})},{id:"updatedAt",label:"Updated",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>c.jsx("span",{children:Es(e.updated_at)})}],Qj="pipeline-table-columns-v1",Zj=new Set(no.map(e=>e.id)),eS=new Map(no.map((e,t)=>[e.id,t])),Im=no.filter(e=>e.defaultVisible).map(e=>e.id),Rm=e=>[...e].sort((t,r)=>(eS.get(t)??0)-(eS.get(r)??0));function qQ({deals:e,statuses:t,onDealClick:r,calculateNetCommission:n,getDaysInStage:i,onBulkDelete:a,onBulkEdit:s,onImportSuccess:o}){const[l,u]=m.useState(new Set),[d,f]=m.useState(!1),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(!1),[b,w]=m.useState(!1),[_,j]=m.useState({column:"pipelineOrder",direction:"asc"}),[S,k]=m.useState(()=>{if(typeof window>"u")return Im;try{const T=window.localStorage.getItem(Qj);if(T){const re=JSON.parse(T).filter(ve=>Zj.has(ve));if(re.length>0)return Rm(re)}}catch{}return Im});m.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(Qj,JSON.stringify(S))},[S]);const N=T=>{k(Y=>Y.includes(T)?Y.length===1?Y:Y.filter(re=>re!==T):Rm([...Y,T]))},E=()=>k(Rm(Array.from(Zj))),C=()=>k(Im),P=no.filter(T=>S.includes(T.id)),D=P.length+1,V=T=>{const Y=new Set(l);Y.has(T)?Y.delete(T):Y.add(T),u(Y)},K=()=>{l.size===H.length?u(new Set):u(new Set(H.map(T=>T.id)))},Q=()=>{a&&l.size>0&&(a(Array.from(l)),u(new Set))},I=()=>{s&&l.size>0&&h&&(s(Array.from(l),{pipeline_status_id:h}),u(new Set),f(!1),p(""))},W=m.useMemo(()=>new Map(t.map((T,Y)=>[T.id,Y])),[t]),L=T=>t.find(Y=>Y.id===T.pipeline_status_id),H=m.useMemo(()=>{let T=e;if(g.trim()){const O=g.toLowerCase(),z=Z=>Z?Z.toLowerCase().includes(O):!1;T=T.filter(Z=>{var $;return z(Z.client_name)||z(Z.property_address)||z(Z.city)||z(Z.state)||z(Z.client_email)||z(Z.client_phone)||z(($=Z.lead_sources)==null?void 0:$.name)})}const Y=O=>{if(!O.stage_entered_at)return null;const z=new Date(O.stage_entered_at).getTime();return Number.isNaN(z)?null:Date.now()-z},re=(O,z)=>{var $;const Z=Se=>Se?Se.toLowerCase():null;switch(z){case"pipelineOrder":return W.get(O.pipeline_status_id||"")??9999;case"client":return Z(O.client_name);case"clientEmail":return Z(O.client_email);case"clientPhone":return Z(O.client_phone);case"property":return Z(O.property_address);case"city":return Z(O.city);case"state":return Z(O.state);case"zip":return Z(O.zip);case"dealType":return Z(O.deal_type);case"pipelineStatus":return W.get(O.pipeline_status_id||"")??9999;case"status":return Z(O.status);case"leadSource":return Z((($=O.lead_sources)==null?void 0:$.name)||O.lead_source_name);case"expectedPrice":return O.expected_sale_price??null;case"actualPrice":return O.actual_sale_price??null;case"netCommission":return n(O);case"grossCommissionRate":return O.gross_commission_rate??null;case"brokerageSplitRate":return O.brokerage_split_rate??null;case"referralOutRate":return O.referral_out_rate??null;case"referralInRate":return O.referral_in_rate??null;case"transactionFee":return O.transaction_fee??null;case"daysInStage":return Y(O);case"stageEnteredAt":return O.stage_entered_at?new Date(O.stage_entered_at).getTime():null;case"closeDate":return O.close_date?new Date(O.close_date).getTime():null;case"closedAt":return O.closed_at?new Date(O.closed_at).getTime():null;case"nextTaskDueDate":return O.next_task_due_date?new Date(O.next_task_due_date).getTime():null;case"nextTaskDescription":return Z(O.next_task_description);case"createdAt":return O.created_at?new Date(O.created_at).getTime():null;case"updatedAt":return O.updated_at?new Date(O.updated_at).getTime():null;default:return Z(O[z])}},ve=(O,z)=>O==null?z==null?0:1:z==null?-1:typeof O=="number"&&typeof z=="number"?O-z:String(O).localeCompare(String(z));return[...T].sort((O,z)=>{const Z=_.column,$=re(O,Z),Se=re(z,Z),R=ve($,Se);if(R!==0)return R*(_.direction==="asc"?1:-1);const de=new Date(z.created_at).getTime()-new Date(O.created_at).getTime();return _.direction==="asc"?de:-de})},[e,g,_,W,n]),te=_.column==="pipelineOrder"?"pipelineStatus":_.column,ee=T=>{const Y=T==="pipelineStatus"?"pipelineOrder":T;j(re=>re.column===Y?{column:Y,direction:re.direction==="asc"?"desc":"asc"}:{column:Y,direction:"asc"})},we=T=>te===T||_.column==="pipelineOrder"&&T==="pipelineStatus"?c.jsx("span",{className:"text-[11px] font-semibold text-gray-500",children:_.direction==="asc"?"":""}):c.jsx(VL,{className:"w-3 h-3 text-gray-300"});return c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(i0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",value:g,onChange:T=>y(T.target.value),placeholder:"Search by client, property, city, or lead source...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>w(T=>!T),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition whitespace-nowrap",children:[c.jsx(aC,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Columns"}),c.jsx("span",{className:"sm:hidden",children:"Cols"})]}),c.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-[rgb(0,122,255)] hover:bg-[rgb(0,110,230)] text-white rounded-lg transition-colors whitespace-nowrap",children:[c.jsx(Hg,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Import Deals"}),c.jsx("span",{className:"sm:hidden",children:"Import"})]})]})]}),b&&c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Visible Columns (",S.length," of ",no.length,")"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Choose which deal fields appear in the table."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:E,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Select All"}),c.jsx("button",{onClick:C,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Reset Defaults"}),c.jsx("button",{onClick:()=>w(!1),className:"px-3 py-1.5 text-xs font-medium text-blue-600",children:"Done"})]})]}),c.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:no.map(T=>c.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 bg-white border border-gray-200 rounded-lg px-3 py-2",children:[c.jsx("input",{type:"checkbox",checked:S.includes(T.id),onChange:()=>N(T.id),className:"text-blue-600 rounded"}),c.jsx("span",{children:T.label})]},T.id))})]})]}),l.size>0&&c.jsxs("div",{className:"bg-sky-50 border-b border-sky-200 px-4 py-3 flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm font-medium text-sky-900",children:[l.size," deal",l.size>1?"s":""," selected"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>f(!d),className:"px-3 py-1.5 bg-white border border-sky-300 text-sky-700 rounded-lg hover:bg-sky-50 transition flex items-center gap-2 text-sm",children:[c.jsx(c$,{className:"w-4 h-4"}),"Update Status"]}),c.jsxs("button",{onClick:Q,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center gap-2 text-sm",children:[c.jsx(is,{className:"w-4 h-4"}),"Delete"]})]})]}),d&&l.size>0&&c.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Update status to:"}),c.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm",children:[c.jsx("option",{value:"",children:"Select status..."}),t.map(T=>c.jsx("option",{value:T.id,children:T.name},T.id))]}),c.jsx("button",{onClick:I,disabled:!h,className:"px-4 py-1.5 bg-sky-600 hover:bg-sky-700 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Apply"}),c.jsx("button",{onClick:()=>{f(!1),p("")},className:"px-4 py-1.5 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:c.jsx("input",{type:"checkbox",checked:H.length>0&&l.size===H.length,onChange:K,className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),P.map(T=>c.jsx("th",{scope:"col",className:`px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider ${T.headerClassName||""}`,children:c.jsxs("button",{type:"button",onClick:()=>ee(T.id),className:"flex items-center gap-1 text-left uppercase tracking-wider text-[11px]",children:[c.jsx("span",{children:T.label}),we(T.id)]})},T.id))]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:D,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No deals yet. Create your first deal to get started!"})}):H.map(T=>c.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-4 py-4 whitespace-nowrap",onClick:Y=>Y.stopPropagation(),children:c.jsx("input",{type:"checkbox",checked:l.has(T.id),onChange:()=>V(T.id),className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),P.map(Y=>c.jsx("td",{className:Y.cellClassName||"px-4 py-4 text-sm text-gray-900 cursor-pointer",onClick:()=>!Y.disableClick&&r(T),children:Y.render({deal:T,onDealClick:r,calculateNetCommission:n,getDaysInStage:i,getStatusForDeal:L})},Y.id))]},T.id))})]})}),v&&c.jsx(HQ,{onClose:()=>x(!1),onSuccess:()=>{x(!1),o==null||o()}})]})}function GQ({dealId:e}){const{user:t}=ct(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,o]=m.useState(!1),[l,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState("");m.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:_,error:j}=await X.from("deal_notes").select("*").eq("deal_id",e).order("created_at",{ascending:!1});if(j)throw j;const S=(_||[]).map(k=>{var N,E;return{...k,user_email:t==null?void 0:t.email,user_name:k.user_id===(t==null?void 0:t.id)?((N=t==null?void 0:t.user_metadata)==null?void 0:N.name)||((E=t==null?void 0:t.email)==null?void 0:E.split("@")[0])||"You":"Team Member"}});n(S)}catch(_){console.error("Error loading notes:",_)}finally{a(!1)}},y=async()=>{if(!(!t||!h.trim())){o(!0);try{if(l){const{error:_}=await X.from("deal_notes").update({content:h,updated_at:new Date().toISOString()}).eq("id",l.id);if(_)throw _}else{const{error:_}=await X.from("deal_notes").insert({deal_id:e,user_id:t.id,content:h});if(_)throw _}p(""),u(null),f(!1),g()}catch(_){console.error("Error saving note:",_)}finally{o(!1)}}},v=async _=>{if(confirm("Are you sure you want to delete this note?"))try{const{error:j}=await X.from("deal_notes").delete().eq("id",_);if(j)throw j;g()}catch(j){console.error("Error deleting note:",j)}},x=_=>{u(_),p(_.content),f(!0)},b=()=>{u(null),p(""),f(!1)},w=_=>{const j=new Date(_),k=new Date().getTime()-j.getTime(),N=Math.floor(k/6e4),E=Math.floor(k/36e5),C=Math.floor(k/864e5);return N<1?"Just now":N<60?`${N}m ago`:E<24?`${E}h ago`:C<7?`${C}d ago`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return i?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx(Ht,{className:"w-6 h-6 animate-spin text-[rgb(0,122,255)]"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(l$,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Notes"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",r.length,")"]})]}),!d&&c.jsxs("button",{onClick:()=>f(!0),className:"hig-btn-secondary text-sm py-2",children:[c.jsx(ca,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Add Note"})]})]}),d&&c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:[c.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Write a note...",className:"hig-input min-h-[100px] resize-y",autoFocus:!0}),c.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[c.jsx("button",{onClick:b,className:"hig-btn-secondary text-sm py-2",disabled:s,children:"Cancel"}),c.jsx("button",{onClick:y,disabled:s||!h.trim(),className:"hig-btn-primary text-sm py-2",children:s?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving..."})]}):c.jsxs("span",{children:[l?"Update":"Add"," Note"]})})]})]}),r.length===0?c.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No notes yet. Add your first note to track important information."}):c.jsx("div",{className:"space-y-3",children:r.map(_=>c.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 hover:shadow-sm transition-all",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[c.jsx("span",{className:"font-medium text-gray-900",children:_.user_name}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-500",children:w(_.created_at)}),_.updated_at!==_.created_at&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-500 text-xs",children:"edited"})]})]})}),_.user_id===(t==null?void 0:t.id)&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>x(_),className:"p-1.5 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit note",children:c.jsx(tC,{className:"w-4 h-4",strokeWidth:2})}),c.jsx("button",{onClick:()=>v(_.id),className:"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete note",children:c.jsx(is,{className:"w-4 h-4",strokeWidth:2})})]})]}),c.jsx("p",{className:"text-[15px] text-gray-700 whitespace-pre-wrap leading-relaxed",children:_.content})]},_.id))})]})}function gD({deal:e,onClose:t,onDelete:r}){const{user:n}=ct(),[i,a]=m.useState(!1),[s,o]=m.useState(!1),[l,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState(""),[v,x]=m.useState(""),[b,w]=m.useState(!1),[_,j]=m.useState(null),[S,k]=m.useState(""),[N,E]=m.useState(""),[C,P]=m.useState({client_name:(e==null?void 0:e.client_name)||"",client_phone:(e==null?void 0:e.client_phone)||"",client_email:(e==null?void 0:e.client_email)||"",property_address:(e==null?void 0:e.property_address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zip:(e==null?void 0:e.zip)||"",deal_type:(e==null?void 0:e.deal_type)||"buyer",lead_source_id:(e==null?void 0:e.lead_source_id)||"",pipeline_status_id:(e==null?void 0:e.pipeline_status_id)||"",expected_sale_price:(e==null?void 0:e.expected_sale_price)||"",actual_sale_price:(e==null?void 0:e.actual_sale_price)||"",gross_commission_rate:(e==null?void 0:e.gross_commission_rate)||.03,brokerage_split_rate:(e==null?void 0:e.brokerage_split_rate)||.2,referral_out_rate:(e==null?void 0:e.referral_out_rate)||"",referral_in_rate:(e==null?void 0:e.referral_in_rate)||"",transaction_fee:(e==null?void 0:e.transaction_fee)||"",close_date:(e==null?void 0:e.close_date)||""});m.useEffect(()=>{D(),V(),e&&K()},[e]);const D=async()=>{if(!n)return;const{data:R}=await X.from("lead_sources").select("*").eq("user_id",n.id).order("name");R&&u(R)},V=async()=>{if(!n)return;const{data:R}=await X.from("pipeline_statuses").select("*").eq("user_id",n.id).order("sort_order");R&&(f(R),!e&&R.length>0&&!C.pipeline_status_id&&P(de=>({...de,pipeline_status_id:R[0].id})))},K=async()=>{if(!e||!n)return;const{data:R}=await X.from("tasks").select("*").eq("deal_id",e.id).eq("user_id",n.id);if(R){const de=R.sort((be,Ce)=>!be.due_date&&!Ce.due_date?0:be.due_date?Ce.due_date?new Date(be.due_date).getTime()-new Date(Ce.due_date).getTime():1:-1);p(de)}},Q=R=>{P({...C,lead_source_id:R});const de=l.find(be=>be.id===R);de&&!e&&P(be=>({...be,lead_source_id:R,brokerage_split_rate:de.brokerage_split_rate}))},I=async R=>{if(R.preventDefault(),!n)return;a(!0);const de=d.find(Ce=>Ce.id===C.pipeline_status_id);if(!C.lead_source_id){alert("Please select a lead source"),a(!1);return}const be={...C,user_id:n.id,lead_source_id:C.lead_source_id,pipeline_status_id:C.pipeline_status_id||null,status:de?(de.slug||de.name||"new_lead").toLowerCase():"new_lead",expected_sale_price:Number(C.expected_sale_price)||0,actual_sale_price:C.actual_sale_price?Number(C.actual_sale_price):null,referral_out_rate:C.referral_out_rate?Number(C.referral_out_rate):null,referral_in_rate:C.referral_in_rate?Number(C.referral_in_rate):null,transaction_fee:Number(C.transaction_fee)||0,close_date:C.close_date||null};e?await X.from("deals").update(be).eq("id",e.id):await X.from("deals").insert(be),a(!1),t()},W=async()=>{!g.trim()||!e||!n||(await X.from("tasks").insert({deal_id:e.id,user_id:n.id,title:g,due_date:v||null,completed:!1}),y(""),x(""),w(!1),K())},L=async(R,de)=>{await X.from("tasks").update({completed:!de}).eq("id",R),K()},B=R=>{j(R.id),k(R.title),E(R.due_date||"")},H=async()=>{!S.trim()||!_||(await X.from("tasks").update({title:S,due_date:N||null}).eq("id",_),j(null),k(""),E(""),K())},te=async R=>{await X.from("tasks").delete().eq("id",R),K()},ee=()=>{j(null),k(""),E("")},we=async()=>{e&&(a(!0),await X.from("deals").delete().eq("id",e.id),a(!1),r&&r(),t())},T=()=>{if(!e)return;const R={client_name:C.client_name,client_email:C.client_email,client_phone:C.client_phone,property_address:C.property_address,city:C.city,state:C.state,zip:C.zip,deal_type:C.deal_type,expected_sale_price:C.expected_sale_price,actual_sale_price:C.actual_sale_price},de=new URLSearchParams({source:"pipelineiq",...Object.entries(R).reduce((be,[Ce,dt])=>(dt!=null&&dt!==""&&(be[Ce]=String(dt)),be),{})});window.open(`/contractscribe?${de.toString()}`,"_blank","noopener,noreferrer")},re=(Number(C.actual_sale_price)||Number(C.expected_sale_price)||0)*C.gross_commission_rate,ve=re*(1-C.brokerage_split_rate),Ne=Number(C.referral_out_rate)||0,O=Number(C.referral_in_rate)||0,z=Number(C.transaction_fee)||0,Z=Ne?ve*(1-Ne):ve,Se=(O?Z*(1+O):Z)-z;return c.jsxs(c.Fragment,{children:[s&&c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",children:c.jsxs("div",{className:"hig-card max-w-md w-full p-6",children:[c.jsx("h3",{className:"hig-text-heading mb-2",children:"Delete Deal"}),c.jsx("p",{className:"hig-text-body text-gray-600 mb-6",children:"Are you sure you want to delete this deal? This action cannot be undone."}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>o(!1),className:"hig-btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:we,disabled:i,className:"bg-[rgb(255,59,48)] hover:bg-red-600 active:bg-red-700 text-white font-medium px-5 py-2 rounded-lg transition-colors duration-150 disabled:opacity-40 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:i?"Deleting...":"Delete"})]})]})}),c.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"hig-card max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200/60 px-6 py-5 flex justify-between items-center backdrop-blur-md bg-white/95",children:[c.jsx("h2",{className:"hig-text-display",children:e?"Edit Deal":"New Deal"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-150",children:c.jsx(Ao,{className:"w-5 h-5 text-gray-600",strokeWidth:2})})]}),c.jsxs("form",{onSubmit:I,className:"p-6 space-y-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"hig-text-heading mb-4",children:"Client Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Client Name *"}),c.jsx("input",{type:"text",value:C.client_name,onChange:R=>P({...C,client_name:R.target.value}),className:"hig-input",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Phone"}),c.jsx("input",{type:"tel",value:C.client_phone,onChange:R=>P({...C,client_phone:R.target.value}),className:"hig-input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Email"}),c.jsx("input",{type:"email",value:C.client_email,onChange:R=>P({...C,client_email:R.target.value}),className:"hig-input"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"hig-text-heading mb-4",children:"Property Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"hig-label",children:"Property Address"}),c.jsx("input",{type:"text",value:C.property_address,onChange:R=>P({...C,property_address:R.target.value}),className:"hig-input",placeholder:"e.g., 123 Main St"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"City"}),c.jsx("input",{type:"text",value:C.city,onChange:R=>P({...C,city:R.target.value}),className:"hig-input"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"State"}),c.jsx("input",{type:"text",value:C.state,onChange:R=>P({...C,state:R.target.value}),className:"hig-input",maxLength:2,placeholder:"CA"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"ZIP"}),c.jsx("input",{type:"text",value:C.zip,onChange:R=>P({...C,zip:R.target.value}),className:"hig-input",maxLength:10})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"hig-text-heading mb-4",children:"Deal Configuration"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Deal Type *"}),c.jsxs("select",{value:C.deal_type,onChange:R=>P({...C,deal_type:R.target.value}),className:"hig-input",children:[c.jsx("option",{value:"buyer",children:"Buyer"}),c.jsx("option",{value:"seller",children:"Seller"}),c.jsx("option",{value:"buyer_and_seller",children:"Buyer & Seller"}),c.jsx("option",{value:"renter",children:"Renter"}),c.jsx("option",{value:"landlord",children:"Landlord"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Lead Source *"}),c.jsxs("select",{value:C.lead_source_id,onChange:R=>Q(R.target.value),className:"hig-input",required:!0,children:[c.jsx("option",{value:"",children:"Select a source"}),l.map(R=>c.jsxs("option",{value:R.id,children:[R.name," (",(R.brokerage_split_rate*100).toFixed(0),"% split)"]},R.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Pipeline Status"}),c.jsxs("select",{value:C.pipeline_status_id,onChange:R=>P({...C,pipeline_status_id:R.target.value}),className:"hig-input",children:[c.jsx("option",{value:"",children:"Select a status"}),d.map(R=>c.jsx("option",{value:R.id,children:R.name},R.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Close Date"}),c.jsx("input",{type:"date",value:C.close_date,onChange:R=>P({...C,close_date:R.target.value}),className:"hig-input"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"hig-text-heading mb-4",children:"Financial Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Expected Sale Price *"}),c.jsx("input",{type:"number",value:C.expected_sale_price,onChange:R=>P({...C,expected_sale_price:R.target.value}),className:"hig-input",placeholder:"500,000",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Actual Sale Price"}),c.jsx("input",{type:"number",value:C.actual_sale_price,onChange:R=>P({...C,actual_sale_price:R.target.value}),className:"hig-input",placeholder:"505,000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Commission Rate (%)"}),c.jsx("input",{type:"number",step:"0.01",value:C.gross_commission_rate*100,onChange:R=>P({...C,gross_commission_rate:parseFloat(R.target.value)/100||0}),className:"hig-input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Brokerage Split (% to broker)"}),c.jsx("input",{type:"number",step:"0.01",value:C.brokerage_split_rate*100,onChange:R=>P({...C,brokerage_split_rate:parseFloat(R.target.value)/100||0}),className:"hig-input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Transaction Fee"}),c.jsx("input",{type:"number",value:C.transaction_fee,onChange:R=>P({...C,transaction_fee:R.target.value}),className:"hig-input",placeholder:"500"})]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200/60",children:[c.jsx("h3",{className:"hig-text-heading mb-4",children:"Commission Breakdown"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"hig-text-body text-gray-600",children:"Gross Commission"}),c.jsxs("span",{className:"hig-text-body font-medium",children:["$",re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"hig-text-body text-gray-600",children:"After Brokerage Split"}),c.jsxs("span",{className:"hig-text-body font-medium",children:["$",ve.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"hig-text-body text-gray-600",children:"Transaction Fee"}),c.jsxs("span",{className:"hig-text-body font-medium text-gray-500",children:["-$",z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),c.jsx("div",{className:"hig-divider my-3"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"hig-text-heading",children:"Net to Agent"}),c.jsxs("span",{className:"text-xl font-semibold text-[rgb(52,199,89)]",children:["$",Se.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Y2,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Tasks"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",h.length,")"]})]}),!b&&c.jsxs("button",{type:"button",onClick:()=>w(!0),className:"hig-btn-secondary text-sm py-2",children:[c.jsx(ca,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Add Task"})]})]}),b&&c.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{id:"task-title-input",type:"text",value:g,onChange:R=>y(R.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:R=>{R.key==="Enter"&&(R.preventDefault(),W())}}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"date",value:v,onChange:R=>x(R.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),c.jsx("button",{type:"button",onClick:()=>{w(!1),y(""),x("")},className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),c.jsx("button",{type:"button",onClick:W,disabled:!g.trim(),className:"hig-btn-primary text-sm py-2",children:c.jsx("span",{children:"Add Task"})})]})]})}),c.jsx("div",{className:"space-y-2",children:h.map(R=>{const de=R.due_date&&!R.completed&&new Date(R.due_date)<new Date,be=R.due_date&&!R.completed&&new Date(R.due_date).toDateString()===new Date().toDateString();return _===R.id?c.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:S,onChange:Ce=>k(Ce.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:Ce=>{Ce.key==="Enter"&&(Ce.preventDefault(),H())}}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"date",value:N,onChange:Ce=>E(Ce.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),c.jsx("button",{type:"button",onClick:ee,className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),c.jsx("button",{type:"button",onClick:H,disabled:!S.trim(),className:"hig-btn-primary text-sm py-2",children:"Save"})]})]})},R.id):c.jsx("div",{className:"group flex items-center p-3 bg-white border border-gray-200/60 rounded-xl hover:shadow-sm transition-all",children:c.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[c.jsx("button",{type:"button",onClick:()=>L(R.id,R.completed),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-150 ${R.completed?"bg-[rgb(52,199,89)] border-[rgb(52,199,89)]":"border-gray-300 hover:border-[rgb(52,199,89)]"}`,children:R.completed&&c.jsx(Fd,{className:"w-3 h-3 text-white",strokeWidth:2.5})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("span",{className:R.completed?"line-through text-gray-500 hig-text-body":"text-gray-900 hig-text-body",children:R.title}),R.due_date&&c.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[c.jsx(rc,{className:"w-3.5 h-3.5 text-gray-400",strokeWidth:2}),c.jsxs("span",{className:`hig-text-caption ${de?"text-[rgb(255,59,48)] font-medium":be?"text-[rgb(255,149,0)] font-medium":R.completed?"text-gray-400":"text-gray-500"}`,children:[de?"Overdue: ":be?"Due today: ":"",new Date(R.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx("button",{type:"button",onClick:()=>B(R),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit task",children:c.jsx(tC,{className:"w-4 h-4 text-gray-600",strokeWidth:2})}),c.jsx("button",{type:"button",onClick:()=>te(R.id),className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete task",children:c.jsx(is,{className:"w-4 h-4 text-red-600",strokeWidth:2})})]})]})},R.id)})})]}),e&&c.jsx("div",{className:"pt-8 border-t border-gray-200/60",children:c.jsx(GQ,{dealId:e.id})}),c.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200/60",children:[c.jsx("div",{className:"flex gap-3",children:e&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{type:"button",onClick:T,className:"hig-btn-secondary gap-2",children:[c.jsx(J2,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Generate Offer"})]}),c.jsxs("button",{type:"button",onClick:()=>o(!0),className:"bg-white hover:bg-red-50 active:bg-red-100 text-[rgb(255,59,48)] font-medium px-5 py-2 rounded-lg border border-red-200 transition-colors duration-150 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:[c.jsx(is,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Delete"})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"hig-btn-secondary",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:i,className:"hig-btn-primary",children:i?"Saving...":e?"Update Deal":"Create Deal"})]})]})]})]})})]})}function vD(){const{user:e}=ct(),[t,r]=m.useState([]),[n,i]=m.useState(!0),[a,s]=m.useState(null),o=m.useCallback(async()=>{if(!e){r([]),i(!1);return}try{const{data:g,error:y}=await X.from("pipeline_statuses").select("*").eq("user_id",e.id).order("sort_order",{ascending:!0});if(y)throw y;r(g||[]),s(null)}catch(g){console.error("Error loading pipeline statuses:",g),s(g instanceof Error?g.message:"Failed to load statuses")}finally{i(!1)}},[e]);return m.useEffect(()=>{o()},[o]),{statuses:t,loading:n,error:a,addStatus:async(g,y="gray")=>{if(!e)return;const v=Math.max(...t.map(_=>_.sort_order),0),x=g.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),{data:b,error:w}=await X.from("pipeline_statuses").insert({user_id:e.id,name:g,slug:x,sort_order:v+1,color:y,is_default:!1}).select().single();if(w)throw w;return await o(),b},updateStatus:async(g,y)=>{const{error:v}=await X.from("pipeline_statuses").update(y).eq("id",g);if(v)throw v;await o()},deleteStatus:async g=>{const{data:y}=await X.from("deals").select("id",{count:"exact",head:!0}).eq("pipeline_status_id",g);if(y&&y.count>0)throw new Error("Cannot delete status with active deals. Please reassign deals first.");const{error:v}=await X.from("pipeline_statuses").delete().eq("id",g);if(v)throw v;await o()},reorderStatuses:async g=>{const y=g.map((v,x)=>({id:v.id,sort_order:x+1}));for(const v of y)await X.from("pipeline_statuses").update({sort_order:v.sort_order}).eq("id",v.id);await o()},applyTemplate:async g=>{if(!e)return;const{error:y}=await X.rpc("apply_pipeline_template",{p_user_id:e.id,p_template_name:g});if(y)throw y;const{error:v}=await X.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});v&&console.error("Error migrating deals:",v),await o()},createCustomWorkflow:async g=>{if(!e)return;const y=g.map(_=>_.trim()).filter(_=>_.length>0);if(y.length===0)throw new Error("Please provide at least one stage.");const{error:v}=await X.from("pipeline_statuses").delete().eq("user_id",e.id);if(v)throw v;const x=y.map((_,j)=>({user_id:e.id,name:_,slug:_.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),sort_order:j+1,color:"hsl(220, 70%, 50%)",is_default:j===0})),{error:b}=await X.from("pipeline_statuses").insert(x);if(b)throw b;const{error:w}=await X.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});w&&console.error("Error migrating deals after custom workflow:",w),await o()},reload:o}}function YQ(){const[e,t]=m.useState([]),[r,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{const{data:a,error:s}=await X.from("pipeline_templates").select("*").eq("is_system",!0).order("name");!s&&a&&t(a),n(!1)})()},[]),{templates:e,loading:r}}const XQ={"Basic Pipeline":{description:"Simple 6-stage pipeline ideal for new agents",stages:["New Lead","Contacted","Showing Scheduled","Offer Submitted","Under Contract","Closed"]},"Advanced Transaction Pipeline":{description:"Comprehensive 13-stage pipeline covering all transaction phases",stages:["New Lead","Warm Lead","Hot Lead","Showing Scheduled","Offer Submitted","Inspection","Appraisal","Under Contract","Financing","Title Review","Clear to Close","Closed","Lost"]},Minimalist:{description:"Streamlined 4-stage pipeline for quick deal tracking",stages:["Lead","In Progress","Pending","Closed"]}};function yD({onClose:e,onSelect:t,onCreateCustomWorkflow:r,title:n="Choose Your Pipeline Workflow"}){const{templates:i}=YQ(),[a,s]=m.useState(null),[o,l]=m.useState(!1),[u,d]=m.useState(["New Lead","Contacted","Closed"]),[f,h]=m.useState(""),[p,g]=m.useState(!1),[y,v]=m.useState(null),x=async()=>{if(o){if(!r){v("Custom workflows are not supported here.");return}if(u.length<2){v("Add at least two stages to create a custom workflow.");return}g(!0),v(null);try{await r(u),e()}catch(b){console.error("Error creating custom workflow:",b),v(b instanceof Error?b.message:"Failed to create workflow")}finally{g(!1)}return}if(a){g(!0),v(null);try{await t(a),e()}catch(b){console.error("Error applying template:",b),v(b instanceof Error?b.message:"Failed to apply template")}finally{g(!1)}}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:c.jsxs("div",{className:"app-surface w-full max-w-4xl max-h-[92vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-5",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Pipeline"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:n}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Start from a proven template or create a custom workflow tailored to your team."})]}),c.jsx("button",{onClick:e,className:"rounded-full border border-gray-200/80 bg-white p-2 text-gray-500 hover:text-gray-900",children:c.jsx(Ao,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-5 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recommended workflows"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Choose the pipeline structure that mirrors your current process."})]}),r&&c.jsxs("button",{onClick:()=>l(b=>!b),className:"inline-flex items-center gap-2 rounded-2xl border border-white/60 bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30 hover:text-[var(--app-accent)]",children:[c.jsx(ca,{className:"h-4 w-4"}),"Custom workflow"]})]}),o?c.jsxs("div",{className:"rounded-2xl border border-[var(--app-border)] bg-white/90 p-5 shadow-inner",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Custom workflow"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Define the stages that reflect your teams unique process. Drag to reorder later in settings."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[u.map((b,w)=>c.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[c.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:["Stage ",w+1]}),c.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:b}),c.jsx("button",{onClick:()=>d(_=>_.filter((j,S)=>S!==w)),className:"text-gray-400 hover:text-red-500",type:"button",children:c.jsx(is,{className:"h-4 w-4"})})]},b)),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{value:f,onChange:b=>h(b.target.value),placeholder:"Add a stage...",className:"hig-input flex-1 text-sm"}),c.jsx("button",{onClick:()=>{f.trim()&&(d(b=>[...b,f.trim()]),h(""))},className:"hig-btn-primary",type:"button",children:"Add"})]})]})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.filter(b=>b.name!=="Buyer/Seller Split Pipeline").map(b=>{const w=XQ[b.name],_=a===b.name;return c.jsxs("button",{onClick:()=>s(b.name),className:`rounded-2xl border px-5 py-4 text-left transition ${_?"border-[var(--app-accent)]/40 bg-[var(--app-surface-muted)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.08)]":"border-white/70 bg-white hover:border-[var(--app-accent)]/30"}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b.name}),c.jsx("p",{className:"text-sm text-gray-600",children:(w==null?void 0:w.description)||b.description})]}),_&&c.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:c.jsx(Fd,{className:"h-4 w-4"})})]}),w&&c.jsxs("div",{className:"mt-3 space-y-1 text-xs text-gray-500",children:[c.jsxs("p",{className:"font-semibold",children:["Stages (",w.stages.length,")"]}),c.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.stages.map((j,S)=>c.jsx("span",{className:"rounded-full border border-gray-200/70 px-2 py-0.5 text-[11px] text-gray-600",children:j},S))})]})]},b.id)})}),y&&c.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:y})]}),c.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/60 px-6 py-4",children:[c.jsx("button",{onClick:e,disabled:p,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Cancel"}),c.jsx("button",{onClick:x,disabled:o&&u.length<2||!o&&!a||p,className:"hig-btn-primary min-w-[140px] justify-center",children:p?"Applying":o?"Create Workflow":"Apply Template"})]})]})})}const JQ="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",QQ="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-3 py-1.5 text-sm font-medium text-gray-600 transition",tS="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",ZQ=["buyer","seller","buyer_and_seller","renter","landlord"],rS={buyer:{label:"Buyer",accentClass:"bg-blue-50 text-blue-700 border-blue-200",matches:["buyer","buyer_and_seller"]},seller:{label:"Seller",accentClass:"bg-emerald-50 text-emerald-700 border-emerald-200",matches:["seller","buyer_and_seller"]},buyer_and_seller:{label:"Buyer & Seller",accentClass:"bg-purple-50 text-purple-700 border-purple-200",matches:["buyer_and_seller"]},renter:{label:"Renter",accentClass:"bg-orange-50 text-orange-700 border-orange-200",matches:["renter"]},landlord:{label:"Landlord",accentClass:"bg-teal-50 text-teal-700 border-teal-200",matches:["landlord"]}};function eZ(){const{user:e}=ct(),{statuses:t,loading:r,applyTemplate:n,createCustomWorkflow:i}=vD(),[a,s]=m.useState([]),[o,l]=m.useState(!0),[u,d]=m.useState(null),[f,h]=m.useState(!1),[p,g]=m.useState(null),[y,v]=m.useState(!1),[x,b]=m.useState("kanban"),[w,_]=m.useState("all"),[j,S]=LN(),k=j.get("newDeal"),N=dh(uh(Ro,{activationConstraint:{distance:5}}));m.useEffect(()=>{E()},[e]),m.useEffect(()=>{if(k){g(null),h(!0);const T=new URLSearchParams(j);T.delete("newDeal"),S(T,{replace:!0})}},[k,j,S]),m.useEffect(()=>{!r&&t.length===0&&v(!0)},[r,t]);const E=async()=>{if(!e)return;const{data:T,error:Y}=await X.from("deals").select(`
        *,
        lead_sources (*),
        pipeline_statuses (*)
      `).eq("user_id",e.id).order("created_at",{ascending:!1});!Y&&T&&s(T),l(!1)},C=T=>{const Y=a.find(re=>re.id===T.active.id);d(Y||null)},P=async T=>{const{active:Y,over:re}=T;if(d(null),!re)return;const ve=Y.id,Ne=a.find(de=>de.id===ve);if(!Ne)return;const O=a.find(de=>de.id===re.id),z=O?O.pipeline_status_id:re.id;if(!z)return;if(z===Ne.pipeline_status_id){O&&O.id!==Ne.id&&O.deal_type===Ne.deal_type&&s(de=>{const be=de.findIndex(dt=>dt.id===Ne.id),Ce=de.findIndex(dt=>dt.id===O.id);return be===-1||Ce===-1?de:mh(de,be,Ce)});return}const Z=t.find(de=>de.id===z);if(!Z)return;const $={pipeline_status_id:z,status:(Z.slug||Z.name||"").toLowerCase(),stage_entered_at:new Date().toISOString()};(typeof Z.slug=="string"&&Z.slug.length>0?Z.slug.toLowerCase():(Z.name||"").toLowerCase()).includes("closed")&&($.closed_at=new Date().toISOString());const{error:R}=await X.from("deals").update($).eq("id",ve);R||E()},D=T=>{g(T),h(!0)},V=()=>{h(!1),g(null),E()},K=w==="all"?a:a.filter(T=>rS[w].matches.includes(T.deal_type)),Q=T=>K.filter(Y=>Y.pipeline_status_id===T),I=T=>{const ve=(T.actual_sale_price||T.expected_sale_price)*T.gross_commission_rate*(1-T.brokerage_split_rate);return(T.referral_out_rate?ve*(1-T.referral_out_rate):ve)-T.transaction_fee},W=T=>{const Y=new Date(T),ve=new Date().getTime()-Y.getTime();return Math.floor(ve/(1e3*60*60*24))},L=async T=>{if(!confirm(`Are you sure you want to delete ${T.length} deal${T.length>1?"s":""}?`))return;const{error:Y}=await X.from("deals").delete().in("id",T);Y||E()},B=async(T,Y)=>{const re={};if(Y.pipeline_status_id){re.pipeline_status_id=Y.pipeline_status_id,re.stage_entered_at=new Date().toISOString();const Ne=t.find(O=>O.id===Y.pipeline_status_id);(Ne==null?void 0:Ne.name.toLowerCase())==="closed"?(re.status="closed",re.closed_at=new Date().toISOString()):(Ne==null?void 0:Ne.name.toLowerCase())==="dead"&&(re.status="dead")}const{error:ve}=await X.from("deals").update(re).in("id",T);ve||E()},H=T=>{const Y=T.filter(z=>z.deal_type==="buyer"||z.deal_type==="buyer_and_seller").length,re=T.filter(z=>z.deal_type==="seller"||z.deal_type==="buyer_and_seller").length,ve=T.filter(z=>z.deal_type==="renter").length,Ne=T.filter(z=>z.deal_type==="landlord").length,O=T.reduce((z,Z)=>z+I(Z),0);return{buyers:Y,sellers:re,renters:ve,landlords:Ne,totalCommission:O}},te=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(T),ee=H(K),we=[{label:"Buyers",value:ee.buyers,display:ee.buyers.toString()},{label:"Sellers",value:ee.sellers,display:ee.sellers.toString()},{label:"Renters",value:ee.renters,display:ee.renters.toString()},{label:"Landlords",value:ee.landlords,display:ee.landlords.toString()},{label:"Net Commission",value:ee.totalCommission,display:te(ee.totalCommission)}].filter(T=>T.value>0);return o||r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6 min-h-full",children:[c.jsxs("div",{className:`${JQ} p-6 space-y-4`,children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Pipeline"}),c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Active deals workspace"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Monitor every opportunity, shift deals between stages, and launch new work without leaving this view."})]}),c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[c.jsxs("div",{className:"inline-flex items-center rounded-full border border-gray-200/80 bg-white/80 p-1 shadow-inner",children:[c.jsxs("button",{onClick:()=>b("kanban"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${x==="kanban"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(t$,{className:"w-4 h-4"}),c.jsx("span",{children:"Kanban"})]}),c.jsxs("button",{onClick:()=>b("table"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${x==="table"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[c.jsx(eC,{className:"w-4 h-4"}),c.jsx("span",{children:"Table"})]})]}),c.jsxs("button",{onClick:()=>{g(null),h(!0)},className:"inline-flex items-center justify-center gap-2 rounded-2xl border border-white/50 bg-[var(--app-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_8px_16px_rgba(15,23,42,0.12)] transition hover:bg-[var(--app-accent-dark,#0052cc)]",children:[c.jsx(ca,{className:"w-4 h-4"}),c.jsx("span",{children:"New Deal"})]})]})]}),we.length>0&&c.jsx("div",{className:"flex flex-wrap gap-3",children:we.map(T=>c.jsxs("div",{className:`${QQ} gap-2`,children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:T.label}),c.jsx("span",{className:"font-semibold text-gray-900",children:T.display})]},T.label))}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Deal types"}),w!=="all"&&c.jsx("button",{onClick:()=>_("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>_("all"),className:`${tS} ${w==="all"?"bg-gray-900 text-white border-gray-900 shadow-sm":"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:"All deals"}),ZQ.map(T=>{const Y=rS[T],re=w===T;return c.jsx("button",{onClick:()=>_(T),className:`${tS} ${re?`${Y.accentClass} shadow-sm ring-1 ring-black/5`:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:Y.label},T)})]})]})]}),t.length===0?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(ah,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configure Your Pipeline"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Choose a template to get started with your pipeline workflow"}),c.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Choose Pipeline Template"})]})}):x==="kanban"?c.jsxs(ph,{sensors:N,collisionDetection:q$,onDragStart:C,onDragEnd:P,children:[c.jsx("div",{className:"pb-2 overflow-x-auto",children:c.jsx("div",{className:"flex gap-3 sm:gap-4 pb-4 px-2 sm:px-6 min-w-max",children:t.map(T=>c.jsx(IQ,{status:T.id,label:T.name,color:T.color,deals:Q(T.id),onDealClick:D,calculateNetCommission:I,getDaysInStage:W},T.id))})}),c.jsx(TC,{children:u?c.jsx(mD,{deal:u,netCommission:I(u),daysInStage:W(u.stage_entered_at),onClick:()=>{},isDragging:!0}):null})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx(qQ,{deals:K,statuses:t,onDealClick:D,calculateNetCommission:I,getDaysInStage:W,onBulkDelete:L,onBulkEdit:B,onImportSuccess:E})}),f&&c.jsx(gD,{deal:p,onClose:V,onDelete:V}),y&&c.jsx(yD,{onClose:()=>v(!1),onSelect:n,onCreateCustomWorkflow:i})]})}function tZ(){const{user:e,roleInfo:t}=ct(),[r,n]=m.useState(new Date().getFullYear()),[i,a]=m.useState({closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0}),[s,o]=m.useState([]),[l,u]=m.useState([]),[d,f]=m.useState({count:0,gci:0}),[h,p]=m.useState(0),[g,y]=m.useState(!0),[v,x]=m.useState([]),[b,w]=m.useState([]),[_,j]=m.useState([]),[S,k]=m.useState([]),[N,E]=m.useState([]),[C,P]=m.useState([]),[D,V]=m.useState([]),K=m.useMemo(()=>b.length?[...b].sort().join("|"):"",[b]),Q=m.useMemo(()=>N.length?[...N].sort().join("|"):"",[N]),I=m.useMemo(()=>C.length?[...C].sort().join("|"):"",[C]),W=m.useMemo(()=>D.length?[...D].sort().join("|"):"",[D]),L=b.length>0&&b.length===v.length,B=m.useMemo(()=>{if(!b.length)return"No agents selected";if(L)return"All agents";if(b.length===1){const F=v.find(oe=>oe.id===b[0]);return(F==null?void 0:F.label)||"Agent"}return`${b.length} agents`},[L,b,v]),H=F=>{w(oe=>{if(oe.includes(F)){const ye=oe.filter(Te=>Te!==F);return ye.length?ye:oe}return[...oe,F]})},te=()=>{v.length&&w(v.map(F=>F.id))},ee=()=>{e&&w([e.id])},we=F=>{const oe=Array.from(F.target.selectedOptions).map(ye=>ye.value);P(oe)},T=F=>{const oe=Array.from(F.target.selectedOptions).map(ye=>ye.value);E(oe)},Y=F=>{const oe=Array.from(F.target.selectedOptions).map(ye=>ye.value);V(oe)},re=(F,oe)=>oe.length?oe.length===1?F.eq("user_id",oe[0]):F.in("user_id",oe):F,ve=(F,oe)=>{if(F=re(F,oe),N.length&&(F=F.in("lead_source_id",N)),C.length){const ye=C.filter(Boolean);ye.length&&(F=F.in("pipeline_status_id",ye))}return D.length&&(F=F.in("status",D)),F},Ne=t&&t.globalRole!=="agent"||v.length>1,O=async(F,oe)=>{if(!F.length)return;const ye=new Date(oe,0,1).toISOString(),Te=new Date(oe,11,31,23,59,59).toISOString();let Pe=X.from("deals").select(`
        id,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, sort_order)
      `).gte("created_at",ye).lte("created_at",Te);Pe=re(Pe,F);const{data:A,error:U}=await Pe;if(U){console.error("Unable to load analytics filter context",U);return}const q=new Map,ae=new Map;(A||[]).forEach(J=>{var se,pe;(se=J.lead_sources)!=null&&se.id&&q.set(J.lead_sources.id,{id:J.lead_sources.id,name:J.lead_sources.name||"Unknown"}),(pe=J.pipeline_statuses)!=null&&pe.id&&ae.set(J.pipeline_statuses.id,{id:J.pipeline_statuses.id,label:J.pipeline_statuses.name,sortOrder:J.pipeline_statuses.sort_order})}),j(Array.from(q.values()).sort((J,se)=>J.name.localeCompare(se.name))),k(Array.from(ae.values()).sort((J,se)=>{const pe=J.sortOrder??999,_e=se.sortOrder??999;return pe===_e?J.label.localeCompare(se.label):pe-_e}))},z=F=>{if(!F)return null;const oe=F.trim();if(!oe)return null;const ye=oe.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(ye){const A=Number(ye[1]),U=Number(ye[2])-1,q=Number(ye[3]);if(Number.isNaN(A)||Number.isNaN(U)||Number.isNaN(q)||U<0||U>11||q<1||q>31)return null;const ae=new Date(Date.UTC(A,U,q));return{year:A,month:U,date:ae}}const Te=oe.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),Pe=new Date(Te);return Number.isNaN(Pe.getTime())?null:{year:Pe.getUTCFullYear(),month:Pe.getUTCMonth(),date:Pe}};m.useEffect(()=>{if(!e)return;(async()=>{var U;const oe={id:e.id,label:((U=e.user_metadata)==null?void 0:U.name)||e.email||"You",email:e.email||""};if(!t||t.globalRole==="agent"){x([oe]),w([e.id]);return}const{data:ye,error:Te}=await X.rpc("get_accessible_agents");if(Te||!ye){console.error("Unable to load accessible agents",Te),x([oe]),w([e.id]);return}const A=ye.map(q=>({id:q.user_id,label:q.display_name||q.email||"Agent",email:q.email||""})).filter((q,ae,J)=>J.findIndex(se=>se.id===q.id)===ae);x(A),w(A.map(q=>q.id))})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]),m.useEffect(()=>{!e||!K||Z()},[e==null?void 0:e.id,r,K,Q,I,W]),m.useEffect(()=>{if(!v.length)return;const F=v.map(oe=>oe.id);O(F,r)},[v,r]);const Z=async()=>{if(!e||!b.length)return;y(!0);const F=new Date(r,0,1).toISOString(),oe=new Date(r,11,31,23,59,59).toISOString(),{data:ye}=await X.from("user_settings").select("annual_gci_goal").eq("user_id",e.id).maybeSingle();ye&&p(ye.annual_gci_goal||0);let Te=X.from("deals").select(`
        *,
        lead_sources (name),
        pipeline_statuses (id, name, sort_order)
      `).eq("status","closed");Te=ve(Te,b);const{data:Pe}=await Te;let A=X.from("deals").select(`
        *,
        lead_sources (name),
        pipeline_statuses (id, name, sort_order)
      `).gte("created_at",F).lte("created_at",oe);A=ve(A,b);const{data:U}=await A;if(Pe){const q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let ae=0,J=0,se=0,pe=0,_e=0,xe=0,Oe=0;const me={},je={},mt={count:0,gci:0},fr=new Date,Xn=fr.getMonth(),Gr=fr.getFullYear()===r;Pe.forEach(Ve=>{const Mn=z(Ve.close_date)||z(Ve.closed_at);if(!Mn||Mn.year!==r)return;Oe+=1;const ka=Ve.actual_sale_price||Ve.expected_sale_price||0;ae+=ka;const Vo=ka*(Ve.gross_commission_rate||0)*(1-(Ve.brokerage_split_rate||0)),Ri=(Ve.referral_out_rate?Vo*(1-Ve.referral_out_rate):Vo)-(Ve.transaction_fee||0);J+=Ri,Ve.deal_type==="buyer"&&se++,Ve.deal_type==="seller"&&pe++,Ve.deal_type==="buyer_and_seller"&&(se++,pe++);const Gc=z(Ve.created_at);if(Gc){const bp=(Mn.date.getTime()-Gc.date.getTime())/(1e3*60*60*24);!Number.isNaN(bp)&&bp>=0&&(_e+=bp,xe++)}const Xx=Mn.month,Yc=q[Xx];me[Yc]=(me[Yc]||0)+Ri,je[Yc]=(je[Yc]||0)+1,Gr&&Xx===Xn&&(mt.count+=1,mt.gci+=Ri)}),f(mt);const ja=xe>0?_e/xe:0;a({closedDeals:Oe,totalVolume:ae,totalGCI:J,avgSalePrice:Oe>0?ae/Oe:0,avgCommission:Oe>0?J/Oe:0,buyerDeals:se,sellerDeals:pe,avgDaysToClose:ja});const Sa=q.map(Ve=>({month:Ve,gci:me[Ve]||0,deals:je[Ve]||0}));u(Sa)}else a(q=>({...q,closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0})),u([]),f({count:0,gci:0});if(U){const q={};U.forEach(J=>{var pe;const se=((pe=J.lead_sources)==null?void 0:pe.name)||"Unknown";if(q[se]||(q[se]={total:0,closed:0,commission:0}),q[se].total++,J.status==="closed"){q[se].closed++;const Oe=(J.actual_sale_price||J.expected_sale_price||0)*(J.gross_commission_rate||0)*(1-(J.brokerage_split_rate||0)),je=(J.referral_out_rate?Oe*(1-J.referral_out_rate):Oe)-(J.transaction_fee||0);q[se].commission+=je}});const ae=Object.entries(q).map(([J,se])=>({name:J,totalDeals:se.total,closedDeals:se.closed,conversionRate:se.total>0?se.closed/se.total*100:0,totalCommission:se.commission}));o(ae.sort((J,se)=>se.totalCommission-J.totalCommission))}else o([]);y(!1)},$=F=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(F),Se=F=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(F),R=h>0?i.totalGCI/h*100:0,de=new Date,be=r===de.getFullYear(),Ce=new Date(r,0,1),dt=new Date(r,11,31,23,59,59),ba=be?Math.max(0,Math.min(de.getTime(),dt.getTime())-Ce.getTime()):dt.getTime()-Ce.getTime(),jr=dt.getTime()-Ce.getTime(),Rn=jr>0?ba/jr:1,Kr=Rn>0?i.totalGCI/Rn:i.totalGCI,Yn=Math.max(0,h-i.totalGCI),Ai=be&&de.getFullYear()===r?12-de.getMonth():0,Hr=h>0&&Ai>0?Yn/Ai:0,{bestMonth:Sr,worstMonth:nt}=m.useMemo(()=>{const F=l.filter(Te=>Te.gci>0);if(F.length===0)return{bestMonth:null,worstMonth:null};const oe=F.reduce((Te,Pe)=>Pe.gci>Te.gci?Pe:Te),ye=F.reduce((Te,Pe)=>Pe.gci<Te.gci?Pe:Te);return{bestMonth:oe,worstMonth:ye}},[l]),kr=m.useMemo(()=>l.filter(F=>F.gci>0),[l]),ft=kr.length,vs=ft>0?i.totalGCI/ft:0,Vr=kr.reduce((F,oe)=>F+oe.deals,0),ys=ft>0?Vr/ft:0,Ti=ft>0?kr[ft-1]:null,qr=ft>1?kr[ft-2]:null,Nr=Ti&&qr?Ti.gci-qr.gci:null,wa=m.useMemo(()=>l.reduce((F,oe)=>Math.max(F,oe.gci),0),[l]),Ho=m.useMemo(()=>l.reduce((F,oe)=>Math.max(F,oe.deals),0),[l]),Di=Sr?l.find(F=>F.month===Sr.month):null,_a=nt?l.find(F=>F.month===nt.month):null,dr="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",Ii="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-2.5 py-0.5 text-[11px] font-medium text-gray-600",Qe="rounded-xl border border-gray-100/80 bg-white px-4 py-3",ht=s[0]||null,pt=s.length>1?[...s].filter(F=>F.totalDeals>=3).sort((F,oe)=>F.conversionRate-oe.conversionRate)[0]:null,Vt=Array.from({length:5},(F,oe)=>new Date().getFullYear()-oe).map(F=>({value:F.toString(),label:F.toString()})),$t=`Jan 1  Dec 31, ${r}${be?"  In progress":""}`;return g?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{className:`${dr} p-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Analytics"}),c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Year in Review"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"A cohesive digest of production, pace, and lead-source efficiency for your selected year."})]}),c.jsxs("div",{className:"flex flex-col gap-3 items-start sm:items-end",children:[c.jsxs("div",{className:"text-left sm:text-right",children:[c.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Timeframe"}),c.jsx("p",{className:"text-sm text-gray-500",children:$t})]}),c.jsx(pD,{options:Vt,value:String(r),onChange:F=>n(parseInt(F,10)),className:"self-start sm:self-end w-max"})]})]}),Ne&&c.jsxs("section",{className:`${dr} p-5 space-y-4`,children:[c.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),c.jsx("p",{className:"text-sm text-gray-700",children:B})]})}),v.length>1&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400 mb-2",children:"Agents"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",onClick:te,className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${L?"bg-[rgba(10,132,255,0.12)] text-[var(--app-accent)] border-transparent":"border-gray-200 text-gray-600 hover:text-gray-900"}`,children:"All Agents"}),e&&c.jsx("button",{type:"button",onClick:ee,className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${b.length===1&&b[0]===e.id?"bg-gray-900 text-white border-gray-900":"border-gray-200 text-gray-600 hover:text-gray-900"}`,children:"Focus on me"}),v.map(F=>c.jsx("button",{type:"button",onClick:()=>H(F.id),className:`rounded-full px-3 py-1.5 text-xs font-semibold border transition ${b.includes(F.id)?"bg-white text-gray-900 border-gray-900/10 shadow-sm":"border-gray-200 text-gray-600 hover:text-gray-900"}`,title:F.email,children:F.label},F.id))]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),C.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>P([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:C,onChange:we,className:"hig-input min-h-[56px] mt-2",children:S.map(F=>c.jsx("option",{value:F.id,children:F.label},F.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Status"}),D.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>V([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:D,onChange:Y,className:"hig-input min-h-[56px] mt-2",children:Object.entries(od).map(([F,oe])=>c.jsx("option",{value:F,children:oe},F))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),N.length>0&&c.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>E([]),children:"Clear"})]}),c.jsx("select",{multiple:!0,value:N,onChange:T,className:"hig-input min-h-[56px] mt-2",children:_.map(F=>c.jsx("option",{value:F.id,children:F.name},F.id))})]})]})]}),c.jsx("section",{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[c.jsxs("div",{className:`${dr} p-5`,children:[c.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Pipeline"}),c.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Se(i.closedDeals)}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Closed deals"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:[i.buyerDeals," buyer  ",i.sellerDeals," seller"]})]}),c.jsxs("div",{className:`${dr} p-5`,children:[c.jsx("p",{className:"text-xs font-semibold text-green-600 uppercase tracking-wide",children:"Volume"}),c.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:$(i.totalVolume)}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total sales volume"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg sale price  ",$(i.avgSalePrice)]})]}),c.jsxs("div",{className:`${dr} p-5`,children:[c.jsx("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide",children:"Net GCI"}),c.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:$(i.totalGCI)}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total earnings after splits"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg commission  ",$(i.avgCommission)]})]}),c.jsxs("div",{className:`${dr} p-5`,children:[c.jsx("p",{className:"text-xs font-semibold text-indigo-600 uppercase tracking-wide",children:"Pace"}),c.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Se(d.count)}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Deals closing this month"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["GCI this month  ",$(d.gci)]}),i.avgDaysToClose>0&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg time to close  ",i.avgDaysToClose.toFixed(0)," days"]})]})]})}),c.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:`${dr} p-6`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Performance"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How each producing month contributes to pace and income."})]}),c.jsx("div",{className:"text-xs text-gray-500",children:ft>0?c.jsxs("span",{className:Ii,children:[ft," active months"]}):c.jsx("span",{className:"text-gray-400",children:"No closed months yet"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{className:Qe,children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Top Month"}),Sr?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[Sr.month,c.jsxs("span",{className:Ii,children:[(Di==null?void 0:Di.deals)??0," deals"]})]}),c.jsx("p",{className:"text-sm text-gray-600",children:$(Sr.gci)})]}):c.jsx("p",{className:"text-sm text-gray-500",children:"No producing months yet."})]}),c.jsxs("div",{className:Qe,children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Slow Month"}),nt&&Sr&&nt.month!==Sr.month?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[nt.month,c.jsxs("span",{className:Ii,children:[(_a==null?void 0:_a.deals)??0," deals"]})]}),c.jsx("p",{className:"text-sm text-gray-600",children:$(nt.gci)})]}):Sr?c.jsx("p",{className:"text-sm text-gray-500",children:"Only one producing month so far."}):c.jsx("p",{className:"text-sm text-gray-500",children:"No data yet."})]}),c.jsxs("div",{className:Qe,children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Avg Active Month"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$(vs||0)}),c.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[ft||0," active month",ft===1?"":"s",c.jsxs("span",{className:Ii,children:[ys.toFixed(1)," deals/mo"]})]})]}),c.jsxs("div",{className:Qe,children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Momentum"}),Nr!==null&&Ti?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:`text-lg font-semibold ${Nr>=0?"text-emerald-600":"text-rose-600"}`,children:[Nr>=0?"+":"-",$(Math.abs(Nr))]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Vs. ",(qr==null?void 0:qr.month)??"previous month"," GCI"]})]}):c.jsx("p",{className:"text-sm text-gray-500",children:"Log at least two producing months to see momentum."})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Monthly Ledger"}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Peak GCI: ",wa?$(wa):"","  Peak deals:"," ",Ho||""]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b border-gray-100",children:[c.jsx("th",{className:"pb-2 pr-4",children:"Month"}),c.jsx("th",{className:"pb-2 pr-4",children:"Deals"}),c.jsx("th",{className:"pb-2 pr-4",children:"GCI"}),c.jsx("th",{className:"pb-2 pr-4",children:"Avg / Deal"}),c.jsx("th",{className:"pb-2 text-right",children:"Share"})]})}),c.jsx("tbody",{children:l.map(F=>{const oe=F.deals>0?F.gci/F.deals:0,ye=i.totalGCI>0?F.gci/i.totalGCI*100:0;return c.jsxs("tr",{className:"border-b border-gray-50",children:[c.jsx("td",{className:"py-2 pr-4 font-medium text-gray-900",children:F.month}),c.jsx("td",{className:"py-2 pr-4 text-gray-700",children:F.deals}),c.jsx("td",{className:"py-2 pr-4 text-gray-700",children:$(F.gci)}),c.jsx("td",{className:"py-2 pr-4 text-gray-700",children:F.deals>0?$(oe):""}),c.jsx("td",{className:"py-2 text-right text-gray-700",children:i.totalGCI>0?`${ye.toFixed(1)}%`:""})]},F.month)})})]})})]})]}),c.jsxs("div",{className:`${dr} p-6`,children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Momentum & Pace"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Are you ahead or behind last years GCI at this point on the calendar?"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-gradient-to-br from-white to-[var(--app-bg-start)] p-5 shadow-inner",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Year-over-year pace"}),c.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:$(i.totalGCI)}),c.jsx("p",{className:"text-sm text-gray-600",children:"Current GCI"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Pace needed"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$(Kr)})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{children:"Current"}),c.jsx("span",{children:"Goal"})]}),c.jsx("div",{className:"mt-1 h-3 rounded-full bg-gray-100",children:c.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 transition-all",style:{width:`${Math.min(100,i.totalGCI/(h||1)*100)}%`}})}),c.jsxs("div",{className:"mt-1 text-xs font-semibold text-gray-600",children:[R.toFixed(1),"% of goal  year is ",(Rn*100).toFixed(1),"% complete"]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-white/90 p-5",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Active pipeline outlook"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Se(d.count)}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deals expected to close this month"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:$(d.gci)}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Projected monthly GCI"})]})]}),c.jsx("div",{className:"mt-4 rounded-xl bg-[var(--app-surface-muted)] p-4 text-sm text-gray-600",children:Nr!==null&&Ti?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"font-semibold",children:[Nr>=0?"Ahead":"Trailing"," pace"]})," ","by ",$(Math.abs(Nr))," versus ",(qr==null?void 0:qr.month)??"previous",". Keep this cadence to end the year at"," ",c.jsx("span",{className:"font-semibold",children:$(Kr)}),"."]}):"Once two months close well highlight whether you are accelerating or slowing down."})]})]})]})]}),c.jsxs("section",{className:`${dr} overflow-hidden`,children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Lead Source Performance"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Compare volume, conversion, and commissions by source."})]})}),c.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Deals"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Closed"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conv. Rate"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Commission"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insight"})]})}),c.jsxs("tbody",{className:"bg-white/70 divide-y divide-gray-100",children:[s.map(F=>{let oe="Solid";return F.conversionRate>=25&&F.totalCommission>(i.totalGCI||0)/4?oe="Power Source":F.conversionRate<10&&F.totalDeals>=3&&(oe="Underperformer"),c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.totalDeals}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.closedDeals}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[F.conversionRate.toFixed(1),"%"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:$(F.totalCommission)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:c.jsx("span",{className:oe==="Power Source"?"inline-flex px-2 py-1 rounded-full bg-green-50 text-green-700":oe==="Underperformer"?"inline-flex px-2 py-1 rounded-full bg-amber-50 text-amber-700":"inline-flex px-2 py-1 rounded-full bg-gray-50 text-gray-600",children:oe})})]},F.name)}),s.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:["No data available for ",r]})})]})]})]}),c.jsxs("section",{className:`${dr} p-6`,children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Focus Areas"}),c.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Practical follow-ups informed by what the data is highlighting this year."}),c.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[h>0&&Yn>0&&c.jsxs("li",{className:"leading-relaxed",children:["You need approximately"," ",c.jsx("span",{className:"font-semibold",children:$(Yn)})," ","more GCI to hit your annual goal.",Hr>0&&c.jsxs(c.Fragment,{children:[" ","That's about"," ",c.jsxs("span",{className:"font-semibold",children:[$(Hr)," per month"]})," ","for the rest of the year."]})]}),ht&&c.jsxs("li",{className:"leading-relaxed",children:[c.jsx("span",{className:"font-semibold",children:ht.name})," continues to be your most profitable channel with"," ",c.jsx("span",{className:"font-semibold",children:$(ht.totalCommission)})," ","in GCI. Consider increasing budget or nurture time here."]}),pt&&c.jsxs("li",{className:"leading-relaxed",children:[c.jsx("span",{className:"font-semibold",children:pt.name})," is converting at"," ",pt.conversionRate.toFixed(1),"%. Revisit the script or pause the spend until it improves."]}),i.avgDaysToClose>0&&c.jsxs("li",{className:"leading-relaxed",children:["Average time from lead to close is"," ",c.jsxs("span",{className:"font-semibold",children:[i.avgDaysToClose.toFixed(0)," days"]}),". Tighten follow-up cadences or pre-qualification steps to reduce the cycle."]}),(!ht||!pt)&&i.closedDeals===0&&c.jsx("li",{className:"leading-relaxed",children:"Add a few deals to the pipeline this year to unlock richer insight. Once production starts, this dashboard will reveal which channels earn the most."})]})]})]})}const Mm="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",rZ="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",nZ=[{label:"All tasks",value:"all",accentClass:"bg-gray-900 text-white border-gray-900 shadow-sm"},{label:"Overdue",value:"overdue",accentClass:"bg-red-50 text-red-700 border-red-200 shadow-sm ring-1 ring-red-100"},{label:"Due today",value:"today",accentClass:"bg-amber-50 text-amber-700 border-amber-200 shadow-sm ring-1 ring-amber-100"},{label:"Upcoming",value:"upcoming",accentClass:"bg-sky-50 text-sky-700 border-sky-200 shadow-sm ring-1 ring-sky-100"}];function iZ(){const{user:e}=ct(),[t,r]=m.useState([]),[n,i]=m.useState([]),[a,s]=m.useState("all"),[o,l]=m.useState(""),[u,d]=m.useState(!0),[f,h]=m.useState(null),[p,g]=m.useState(!1),[y,v]=m.useState(null),x=m.useMemo(()=>{const N=new Date;N.setHours(0,0,0,0);let E=0,C=0,P=0,D=0;const V=[];return t.forEach(K=>{if(!K.due_date){D+=1;return}const Q=new Date(K.due_date);Q.setHours(0,0,0,0),Q<N?E+=1:Q.getTime()===N.getTime()?C+=1:P+=1,V.push(K)}),V.sort((K,Q)=>K.due_date?Q.due_date?new Date(K.due_date).getTime()-new Date(Q.due_date).getTime():-1:1),{total:t.length,overdue:E,dueToday:C,upcoming:P,unscheduled:D,nextTask:V[0]||null}},[t]);m.useEffect(()=>{e&&b()},[e]),m.useEffect(()=>{let N=[...t];const E=new Date;if(E.setHours(0,0,0,0),a==="overdue"?N=N.filter(C=>C.due_date&&new Date(C.due_date)<E):a==="today"?N=N.filter(C=>{if(!C.due_date)return!1;const P=new Date(C.due_date);return P.setHours(0,0,0,0),P.getTime()===E.getTime()}):a==="upcoming"&&(N=N.filter(C=>C.due_date&&new Date(C.due_date)>E)),o.trim()){const C=o.toLowerCase();N=N.filter(P=>P.title.toLowerCase().includes(C)||P.deals.client_name.toLowerCase().includes(C)||P.deals.property_address.toLowerCase().includes(C))}i(N)},[a,o,t]);const b=async()=>{if(!e)return;d(!0);const{data:N,error:E}=await X.from("tasks").select("*, deals(*, lead_sources(*))").eq("user_id",e.id).eq("completed",!1).order("due_date",{ascending:!0});!E&&N&&r(N.filter(C=>C.deals).map(C=>C)),d(!1)},w=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",_=N=>{if(!N.due_date)return c.jsx("span",{className:"text-xs font-medium text-gray-500",children:"No due date"});const E=new Date(N.due_date),C=new Date;return C.setHours(0,0,0,0),E<C?c.jsx("span",{className:"text-xs font-semibold text-red-600",children:"Overdue"}):E.getTime()===C.getTime()?c.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Due today"}):c.jsx("span",{className:"text-xs font-semibold text-emerald-600",children:"Upcoming"})},j=N=>{v(N.deals),g(!0)},S=async(N,E)=>{if(E.stopPropagation(),!!e){h(N.id);try{const{error:C}=await X.from("tasks").update({completed:!0}).eq("id",N.id).eq("user_id",e.id);if(C)throw C;r(P=>P.filter(D=>D.id!==N.id)),i(P=>P.filter(D=>D.id!==N.id))}catch(C){console.error("Error completing task",C)}finally{h(null)}}},k=()=>{g(!1),v(null),b()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:`${Mm} p-6 space-y-5`,children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Tasks"}),c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Outstanding work"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Track every open commitment across all deals in a single, prioritized list."})]}),c.jsx("div",{className:"w-full md:w-auto",children:c.jsx("input",{value:o,onChange:N=>l(N.target.value),placeholder:"Search by client, task, property...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2.5 pl-4 pr-4 text-sm text-gray-900 shadow-inner placeholder:text-gray-400 focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15 md:min-w-[280px]"})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Task status"}),a!=="all"&&c.jsx("button",{onClick:()=>s("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:nZ.map(N=>{const E=a===N.value;return c.jsx("button",{onClick:()=>s(N.value),className:`${rZ} ${E?N.accentClass:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:N.label},N.value)})})]})]}),c.jsx("div",{className:`${Mm} p-0 overflow-hidden`,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500",children:[c.jsx("th",{className:"px-5 py-3",children:"Task"}),c.jsx("th",{className:"px-5 py-3",children:"Due"}),c.jsx("th",{className:"px-5 py-3",children:"Deal"}),c.jsx("th",{className:"px-5 py-3",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/90",children:u?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-5 py-8 text-center text-gray-500 text-sm",children:"Loading tasks"})}):n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-5 py-12 text-center text-gray-500 text-sm",children:"Nothing to show here  take a moment to plan your next steps."})}):n.map(N=>{var E;return c.jsxs("tr",{className:"hover:bg-[var(--app-surface-muted)]/60 cursor-pointer",onClick:()=>j(N),children:[c.jsx("td",{className:"px-5 py-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("button",{type:"button",className:"pt-1",onClick:C=>S(N,C),disabled:f===N.id,"aria-label":"Mark task complete",children:f===N.id?c.jsx(Ht,{className:"h-4 w-4 text-emerald-500 animate-spin"}):N.completed?c.jsx(la,{className:"h-4 w-4 text-emerald-500"}):c.jsx(Bw,{className:"h-4 w-4 text-gray-300"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:N.title}),((E=N.deals)==null?void 0:E.next_task_description)&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Related: ",N.deals.next_task_description]})]})]})}),c.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rc,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:w(N.due_date)})]})}),c.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sh,{className:"h-3.5 w-3.5 text-gray-400"}),c.jsx("span",{className:"font-medium text-gray-900",children:N.deals.client_name})]}),N.deals.property_address&&c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[c.jsx(o$,{className:"h-3 w-3"}),c.jsxs("span",{className:"truncate",children:[N.deals.property_address,N.deals.city?`, ${N.deals.city}`:""]})]})]})}),c.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(nc,{className:"h-4 w-4 text-gray-400"}),_(N)]})})]},N.id)})})]})})}),c.jsxs("section",{className:`${Mm} p-6`,children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Focus cues"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Where attention is needed"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{className:"rounded-2xl border border-red-100/60 bg-red-50/70 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm font-semibold uppercase tracking-wide",children:[c.jsx(q2,{className:"h-4 w-4"}),"Overdue"]}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-700",children:x.overdue}),c.jsx("p",{className:"text-xs text-red-600",children:"Tasks waiting on you"})]}),c.jsxs("div",{className:"rounded-2xl border border-amber-100/70 bg-amber-50/60 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm font-semibold uppercase tracking-wide",children:[c.jsx(nc,{className:"h-4 w-4"}),"Due today"]}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-amber-700",children:x.dueToday}),c.jsx("p",{className:"text-xs text-amber-600",children:"Expected before midnight"})]}),c.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/60 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 text-sm font-semibold uppercase tracking-wide",children:[c.jsx(G2,{className:"h-4 w-4"}),"Upcoming"]}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-emerald-700",children:x.upcoming}),c.jsx("p",{className:"text-xs text-emerald-600",children:"On the horizon"})]}),c.jsxs("div",{className:"rounded-2xl border border-gray-100/70 bg-gray-50/80 p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm font-semibold uppercase tracking-wide",children:[c.jsx(Bw,{className:"h-4 w-4"}),"Unscheduled"]}),c.jsx("p",{className:"mt-2 text-2xl font-semibold text-gray-700",children:x.unscheduled}),c.jsx("p",{className:"text-xs text-gray-500",children:"Add due dates to keep momentum"})]})]}),c.jsxs("div",{className:"mt-6 rounded-2xl border border-gray-100/80 bg-[var(--app-surface-muted)] p-5",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Next actionable"}),x.nextTask?c.jsxs("div",{className:"mt-3 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.nextTask.title}),c.jsx("p",{className:"text-sm text-gray-600",children:x.nextTask.deals.client_name})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(rc,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{children:w(x.nextTask.due_date)})]})]}):c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No dated tasks remain. Assign due dates to keep focus on high-leverage work."})]})]}),p&&y&&c.jsx(gD,{deal:y,onClose:k,onDelete:k})]})}const nS="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_8px_20px_rgba(15,23,42,0.08)]",aZ="inline-flex items-center gap-2 rounded-2xl border border-white/80 bg-white/80 px-4 py-1.5 text-sm font-medium text-gray-700 shadow-inner transition hover:-translate-y-0.5 hover:border-[var(--app-accent)]/40 hover:text-gray-900";function sZ(){const[e,t]=m.useState([]),[r,n]=m.useState(""),[i,a]=m.useState(!1),s=["Show me the deals expected to close this month.","Which clients need new activity this week?","Summarize my pipeline stage mix.","How is my projected GCI pacing for Q3?","Who owns the next step on the Torres deal?"],o=async u=>{if(u.preventDefault(),!r.trim()||i)return;const d={role:"user",content:r};t(f=>[...f,d]),n(""),a(!0);try{const{data:{session:f}}=await X.auth.getSession();if(!f)throw new Error("Not authenticated");const h="https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-query",p={Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},g=e.slice(-6).map(b=>({role:b.role,content:b.content})),v=await(await fetch(h,{method:"POST",headers:p,body:JSON.stringify({query:d.content,conversation_history:g})})).json();if(v.error)throw new Error(v.error);const x={role:"assistant",content:v.answer,supportingData:v.supporting_data};t(b=>[...b,x])}catch(f){console.error("Luma query error:",f);const h={role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again."};t(p=>[...p,h])}finally{a(!1)}},l=u=>{n(u)};return c.jsxs("div",{className:"flex h-full flex-col gap-6",children:[c.jsx("section",{className:`${nS} space-y-4 bg-white/95 px-6 py-6 sm:px-8 sm:py-8`,children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Luma AI"}),c.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Chat with your data-aware copilot"}),c.jsx("p",{className:"max-w-3xl text-sm text-gray-600",children:"Ask natural questions about deals, tasks, lead sources, or performance and get calm answers without breaking your workflow. Luma keeps context from your workspace so you can move quickly."})]})}),c.jsxs("section",{className:`${nS} flex flex-1 flex-col overflow-hidden bg-gradient-to-b from-[#f5f9ff] to-white`,children:[c.jsxs("div",{className:"border-b border-white/60 px-4 py-5 sm:px-6",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Conversation"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Bring up deals, follow-ups, or performance goalsLuma replies with grounded insight."})]}),c.jsxs("div",{className:"border-b border-white/60 px-4 py-4 sm:px-6",children:[c.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Starter prompts"}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.map((u,d)=>c.jsxs("button",{type:"button",onClick:()=>l(u),className:aZ,children:[c.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-300"}),u]},d))})]}),c.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-4 py-6 pr-2 sm:px-6",children:[e.map((u,d)=>c.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-3xl rounded-3xl px-5 py-4 ${u.role==="user"?"bg-[var(--app-accent)] text-white shadow-[0_25px_50px_rgba(0,122,255,0.25)]":"border border-white/80 bg-white/90 shadow-[0_15px_30px_rgba(15,23,42,0.08)]"}`,children:[u.role==="assistant"&&c.jsxs("div",{className:"mb-3 flex items-center gap-2 text-gray-500",children:[c.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:c.jsx(ns,{className:"h-4 w-4",strokeWidth:2})}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),c.jsx("div",{className:`whitespace-pre-wrap text-sm leading-relaxed ${u.role==="user"?"text-white":"text-gray-900"}`,children:u.content}),u.supportingData&&c.jsx("div",{className:"mt-4 border-t border-gray-100 pt-4",children:c.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.supportingData.total_deals!==void 0&&c.jsx(Ps,{label:"Total Deals",value:u.supportingData.total_deals,accent:"blue"}),u.supportingData.total_gci!==void 0&&c.jsx(Ps,{label:"Total GCI",value:`$${u.supportingData.total_gci.toLocaleString("en-US",{maximumFractionDigits:0})}`,accent:"green"}),u.supportingData.closed_deals!==void 0&&c.jsx(Ps,{label:"Closed Deals",value:u.supportingData.closed_deals,accent:"indigo"}),u.supportingData.active_deals!==void 0&&c.jsx(Ps,{label:"Active Deals",value:u.supportingData.active_deals,accent:"orange"}),u.supportingData.under_contract!==void 0&&c.jsx(Ps,{label:"Under Contract",value:u.supportingData.under_contract,accent:"purple"}),u.supportingData.team_members!==void 0&&c.jsx(Ps,{label:"Team Members",value:u.supportingData.team_members,accent:"teal"})]})})]})},d)),i&&c.jsx("div",{className:"flex justify-start",children:c.jsxs("div",{className:"max-w-3xl rounded-3xl border border-white/80 bg-white/90 px-5 py-4 shadow-[0_15px_30px_rgba(15,23,42,0.08)]",children:[c.jsxs("div",{className:"mb-2 flex items-center gap-2 text-gray-500",children:[c.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:c.jsx(ns,{className:"h-4 w-4"})}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400"}),c.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.2s"}})]})]})})]}),c.jsx("form",{onSubmit:o,className:"border-t border-white/60 bg-white/80 px-4 py-4 backdrop-blur sm:px-6",children:c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("div",{className:"rounded-2xl border border-[#d0e2ff] bg-white px-4 py-3 shadow-inner focus-within:border-[var(--app-accent)]/40 focus-within:ring-2 focus-within:ring-[var(--app-accent)]/15",children:c.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Ask Luma anything about your pipeline...",className:"w-full border-none bg-transparent text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none",disabled:i})}),c.jsx("p",{className:"text-[11px] text-gray-500",children:"Enter to send  Luma respects the same roles as PipelineIQ."})]}),c.jsxs("button",{type:"submit",disabled:i||!r.trim(),className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-[rgb(0,122,255)] px-6 py-3 text-sm font-semibold text-white shadow-[0_20px_40px_rgba(0,122,255,0.35)] transition hover:bg-[rgb(0,100,210)] disabled:opacity-60",children:[c.jsx(h$,{className:"h-4 w-4"}),c.jsx("span",{children:"Send"})]})]})})]})]})}const oZ={blue:"from-blue-50 to-blue-100 text-blue-900",green:"from-emerald-50 to-emerald-100 text-emerald-900",indigo:"from-indigo-50 to-indigo-100 text-indigo-900",orange:"from-orange-50 to-orange-100 text-orange-900",purple:"from-purple-50 to-purple-100 text-purple-900",teal:"from-teal-50 to-teal-100 text-teal-900"};function Ps({label:e,value:t,accent:r}){return c.jsxs("div",{className:`rounded-2xl bg-gradient-to-br ${oZ[r]} px-4 py-3`,children:[c.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:e}),c.jsx("div",{className:"text-xl font-semibold text-gray-900",children:t})]})}const Vv=[{name:"Snow",value:"#F9FAFB"},{name:"Pearl",value:"#F3F4F6"},{name:"Mist",value:"#E5E7EB"},{name:"Silver Fog",value:"#D1D5DB"},{name:"Ice Blue",value:"#E8F1FF"},{name:"Cloud Blue",value:"#D6E7FF"},{name:"Sky Wash",value:"#C3DBFF"},{name:"Pale Azure",value:"#AECFFF"},{name:"Soft Blue",value:"#98C3FF"},{name:"Bluebell",value:"#87B6F9"},{name:"Foggy Indigo",value:"#AEB8D9"},{name:"Lavender Mist",value:"#F2EDFF"},{name:"Lilac Whisper",value:"#E8E2FF"},{name:"Soft Violet",value:"#D8D0FF"},{name:"Periwinkle Light",value:"#C7C3FF"},{name:"Muted Orchid",value:"#B7B2F2"},{name:"Barely Purple",value:"#DDD6F6"},{name:"Blush Tint",value:"#FFE8F3"},{name:"Pink Dew",value:"#FFD6E8"},{name:"Rosewater",value:"#F9C8DB"},{name:"Petal Pink",value:"#F5B8CD"},{name:"Soft Berry",value:"#E8A7C3"},{name:"Muted Magenta",value:"#D3A6C9"},{name:"Rose Mist",value:"#FFE5E5"},{name:"Pale Coral",value:"#FFD4D4"},{name:"Soft Clay",value:"#F5B8B8"},{name:"Muted Red",value:"#EFA9A9"},{name:"Peach Wash",value:"#FFF1E6"},{name:"Apricot Mist",value:"#FFE3CC"},{name:"Soft Tangerine",value:"#FFD1AE"},{name:"Warm Peach",value:"#F7C39C"},{name:"Muted Orange",value:"#E7B690"},{name:"Sunhaze",value:"#FFF8DD"},{name:"Lemon Tint",value:"#FFF2BB"},{name:"Buttercream",value:"#FFECA1"},{name:"Golden Mist",value:"#FFE38C"},{name:"Muted Amber",value:"#F6D67C"},{name:"Mint Wash",value:"#E6FFF5"},{name:"Soft Mint",value:"#CFF9EA"},{name:"Pale Green",value:"#B7F0D9"},{name:"Seafoam",value:"#A1E8CC"},{name:"Soft Teal",value:"#8EDCC0"},{name:"Muted Green",value:"#7BCDB1"},{name:"Aqua Mist",value:"#E5FAFF"},{name:"Arctic Blue",value:"#CDF2FA"},{name:"Icy Teal",value:"#B5E8F0"},{name:"Soft Cyan",value:"#A1DEEA"},{name:"Muted Teal",value:"#8DCFD9"},{name:"Sandstone",value:"#F7EFE6"},{name:"Driftwood",value:"#EADFD2"},{name:"Clay Neutral",value:"#DDCEBF"},{name:"Soft Taupe",value:"#CFC1B2"}],xl=Vv[0].value;function lZ({value:e,onChange:t}){const r=e?xh(e):xl,n=r.toLowerCase(),i=Vv.find(a=>a.value.toLowerCase()===n);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 shadow-inner",children:[c.jsxs("div",{className:"relative flex h-12 w-12 items-center justify-center rounded-2xl border border-white/40 shadow",children:[c.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{backgroundColor:r}}),c.jsx(Fd,{className:"relative h-5 w-5 text-white drop-shadow",strokeWidth:2.5})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Selected color"}),c.jsx("span",{className:"text-xs text-gray-500",children:i?"From palette":"Custom"})]})]}),c.jsx("div",{className:"grid grid-cols-6 gap-3 sm:grid-cols-8",children:Vv.map(a=>{const s=a.value.toLowerCase()===n;return c.jsxs("button",{type:"button",onClick:()=>t(a.value),className:`relative h-10 w-10 rounded-2xl border transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--app-accent)]/40 ${s?"border-[var(--app-accent)] shadow-[0_8px_18px_rgba(15,23,42,0.15)]":"border-white/70 shadow-inner hover:border-gray-300"}`,style:{backgroundColor:a.value},"aria-label":`${a.name} color`,children:[s&&c.jsx(Fd,{className:"absolute inset-0 m-auto h-4 w-4 text-white drop-shadow",strokeWidth:2.5}),c.jsx("span",{className:"sr-only",children:a.name})]},a.value)})})]})}function cZ({status:e,onEdit:t,onDelete:r}){const{attributes:n,listeners:i,setNodeRef:a,transform:s,transition:o,isDragging:l}=yh({id:e.id}),u={transform:Cn.Transform.toString(s),transition:o,opacity:l?.5:1},d=bh(e.color);return c.jsxs("div",{ref:a,style:u,className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center gap-4 hover:shadow-sm hover:border-gray-300 transition-all",children:[c.jsx("div",{...n,...i,className:"cursor-grab active:cursor-grabbing",children:c.jsx(n0,{className:"w-5 h-5 text-gray-400"})}),c.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full shadow-sm",style:{backgroundColor:d.bg}}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),c.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-lg",children:["Order: ",e.sort_order]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit status",children:c.jsx(rC,{className:"w-4 h-4",strokeWidth:2})}),c.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete status",children:c.jsx(is,{className:"w-4 h-4",strokeWidth:2})})]})]})}function uZ({status:e}){const t=bh(e.color);return c.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t.bg}}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Order ",e.sort_order]})]})]}),c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"View only"})]})}function dZ({canEdit:e=!0}){const{statuses:t,loading:r,addStatus:n,updateStatus:i,deleteStatus:a,reorderStatuses:s,applyTemplate:o,createCustomWorkflow:l}=vD(),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,g]=m.useState(null),[y,v]=m.useState(""),[x,b]=m.useState(xl),[w,_]=m.useState(null),[j,S]=m.useState(!1),k=dh(uh(Ro,{activationConstraint:{distance:8}})),N=async K=>{const{active:Q,over:I}=K;if(!I||Q.id===I.id)return;const W=t.findIndex(te=>te.id===Q.id),L=t.findIndex(te=>te.id===I.id),B=[...t],[H]=B.splice(W,1);B.splice(L,0,H);try{await s(B)}catch(te){console.error("Error reordering:",te),_("Failed to reorder statuses")}},E=async()=>{if(!y.trim()){_("Status name is required");return}S(!0),_(null);try{p?await i(p.id,{name:y.trim(),color:x}):await n(y.trim(),x),C()}catch(K){console.error("Error saving status:",K),_(K instanceof Error?K.message:"Failed to save status")}finally{S(!1)}},C=()=>{h(!1),g(null),v(""),b(xl),_(null)},P=async K=>{if(confirm("Are you sure you want to delete this status? This action cannot be undone."))try{await a(K)}catch(Q){console.error("Error deleting status:",Q),_(Q instanceof Error?Q.message:"Failed to delete status")}},D=K=>{g(K),v(K.name),b(xh(K.color)||xl),h(!0)},V=async K=>{try{await o(K)}catch(Q){throw console.error("Error applying template:",Q),Q}};return r?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Ht,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Pipeline Statuses"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Customize your pipeline stages, colors, and workflow order"}),!e&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viewing workspace stages. Only admins can modify pipeline statuses."})]}),w&&c.jsxs("div",{className:"mb-4 flex items-center gap-3 p-4 rounded-xl bg-red-50 text-red-700 border border-red-200/60",children:[c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:w})]}),e&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[c.jsxs("button",{onClick:()=>{v(""),b(xl),h(!0)},className:"hig-btn-primary",children:[c.jsx(ca,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Add Status"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"hig-btn-secondary",children:[c.jsx(f$,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Load Template"})]})]}),u&&c.jsx(yD,{onClose:()=>d(!1),onSelect:V,onCreateCustomWorkflow:l})]}),t.length===0?c.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center border border-gray-200/60",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"No pipeline stages configured"}),e?c.jsx("button",{onClick:()=>d(!0),className:"hig-btn-primary",children:"Load a Template to Get Started"}):c.jsx("p",{className:"text-sm text-gray-500",children:"Ask an admin to configure stages for this workspace."})]}):e?c.jsx(ph,{sensors:k,collisionDetection:o0,onDragEnd:N,children:c.jsx(vh,{items:t.map(K=>K.id),strategy:DC,children:c.jsx("div",{className:"space-y-3",children:t.map(K=>c.jsx(cZ,{status:K,onEdit:D,onDelete:P},K.id))})})}):c.jsx("div",{className:"space-y-3",children:t.map(K=>c.jsx(uZ,{status:K},K.id))}),e&&f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p?"Edit Status":"Add New Status"}),c.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:c.jsx(Ao,{className:"w-5 h-5",strokeWidth:2})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Status Name"}),c.jsx("input",{type:"text",value:y,onChange:K=>v(K.target.value),className:"hig-input",placeholder:"e.g., Inspection, Appraisal",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Color"}),c.jsx(lZ,{value:x,onChange:b})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200/60 bg-gray-50/50",children:[c.jsx("button",{onClick:C,className:"hig-btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:E,disabled:j||!y.trim(),className:"hig-btn-primary",children:j?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving..."})]}):c.jsxs("span",{children:[p?"Update":"Add"," Status"]})})]})]})})]})}const Os=()=>({name:"",brokerage_split_rate:20,payout_structure:"standard",partnership_split_rate:35,partnership_notes:""});function fZ({canEdit:e=!0}){const{user:t}=ct(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,o]=m.useState(!1),[l,u]=m.useState(!1),[d,f]=m.useState(null),[h,p]=m.useState(null),[g,y]=m.useState(Os()),[v,x]=m.useState(null),[b,w]=m.useState("all"),[_,j]=m.useState("");m.useEffect(()=>{S()},[t]);const S=async()=>{if(t){a(!0);try{const{data:I,error:W}=await X.from("lead_sources").select("*").eq("user_id",t.id).order("sort_order",{ascending:!0,nullsLast:!0}).order("name",{ascending:!0});if(W)throw W;if(!I){n([]),a(!1);return}const L=[...I].sort((H,te)=>H.sort_order===te.sort_order?H.name.localeCompare(te.name):(H.sort_order??0)-(te.sort_order??0));if(L.some((H,te)=>H.sort_order!==te+1)){const H=L.map((te,ee)=>({...te,sort_order:ee+1}));n(H),await Promise.all(H.map((te,ee)=>X.from("lead_sources").update({sort_order:ee+1}).eq("id",te.id)))}else n(L)}catch(I){console.error("Error loading lead sources:",I),x(I instanceof Error?I.message:"Failed to load lead sources")}finally{a(!1)}}},k=async I=>{if(I.preventDefault(),!e||!t||!g.name.trim()){x("Lead source name is required");return}o(!0),x(null);try{const W={name:g.name,brokerage_split_rate:g.brokerage_split_rate/100,payout_structure:g.payout_structure,partnership_split_rate:g.payout_structure==="partnership"?g.partnership_split_rate/100:null,partnership_notes:g.payout_structure==="partnership"&&g.partnership_notes.trim()||null};if(d){const{error:L}=await X.from("lead_sources").update(W).eq("id",d.id);if(L)throw L}else{const L=r.reduce((H,te)=>Math.max(H,te.sort_order??0),0),{error:B}=await X.from("lead_sources").insert({user_id:t.id,sort_order:L+1,...W});if(B)throw B}u(!1),y(Os()),f(null),S()}catch(W){console.error("Error saving lead source:",W),x(W instanceof Error?W.message:"Failed to save lead source")}finally{o(!1)}},N=I=>{e&&(f(I),y({name:I.name,brokerage_split_rate:I.brokerage_split_rate*100,payout_structure:I.payout_structure,partnership_split_rate:(I.partnership_split_rate??.35)*100,partnership_notes:I.partnership_notes||""}),u(!0),x(null))},E=async I=>{if(e&&confirm("Are you sure you want to delete this lead source? This action cannot be undone."))try{const{error:W}=await X.from("lead_sources").delete().eq("id",I);if(W)throw W;S()}catch(W){console.error("Error deleting lead source:",W),x(W instanceof Error?W.message:"Failed to delete lead source")}},C=[{value:"standard",title:"Standard Split",description:"Only your brokerage split applies."},{value:"partnership",title:"Partnership Program",description:"Pay the partner first, then split the remainder with your brokerage."}],P=[{value:"all",label:"All sources"},{value:"standard",label:"Standard"},{value:"partnership",label:"Partnership"}],D=dh(uh(Ro,{activationConstraint:{distance:3}})),V=m.useMemo(()=>{const I=_.trim().toLowerCase();return r.filter(W=>{const L=b==="all"||W.payout_structure===b,B=!I||[W.name,W.partnership_notes||""].some(H=>H.toLowerCase().includes(I));return L&&B})},[r,_,b]),K=e&&b==="all"&&_.trim()==="",Q=async I=>{if(p(null),!K)return;const{active:W,over:L}=I;if(!L||W.id===L.id)return;const B=r.findIndex(Y=>Y.id===W.id),H=r.findIndex(Y=>Y.id===L.id);if(B===-1||H===-1)return;const ee=mh(r,B,H).map((Y,re)=>({...Y,sort_order:re+1}));n(ee);const we=new Map(r.map(Y=>[Y.id,Y.sort_order])),T=ee.filter(Y=>Y.sort_order!==we.get(Y.id));try{T.length>0&&await Promise.all(T.map(Y=>X.from("lead_sources").update({sort_order:Y.sort_order}).eq("id",Y.id)))}catch(Y){console.error("Error reordering lead sources:",Y),x("Unable to save lead source order. Please try again."),S()}};return i?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Ht,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"hig-text-heading mb-1",children:"Lead Sources"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Track partner programs, portals, and referral channels."}),!e&&c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can review workspace lead sources. Only admins can make edits."})]}),e&&c.jsxs("button",{onClick:()=>{u(!0),f(null),y(Os()),x(null)},className:"hig-btn-primary self-start",children:[c.jsx(ca,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Add Lead Source"})]})]})}),v&&c.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-red-200/70 bg-red-50 px-4 py-3 text-red-700",children:[c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:v})]}),c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{className:"relative w-full md:w-72",children:[c.jsx(i0,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",value:_,onChange:I=>j(I.target.value),placeholder:"Search lead sources",className:"w-full rounded-2xl border border-gray-200/70 bg-white/90 py-2 pl-9 pr-3 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/50 focus:ring-2 focus:ring-[var(--app-accent)]/20"})]}),c.jsx("div",{className:"inline-flex flex-wrap gap-2 rounded-2xl border border-gray-200/70 bg-white/80 p-1.5 shadow-inner",children:P.map(I=>{const W=b===I.value;return c.jsx("button",{type:"button",onClick:()=>w(I.value),className:`rounded-xl px-3 py-1.5 text-sm font-medium transition ${W?"bg-gray-900 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:I.label},I.value)})})]}),e&&c.jsx("p",{className:"text-xs text-gray-400",children:"Drag handles appear when viewing all sources without filters so you can reorder tiles."}),r.length===0?c.jsxs("div",{className:"rounded-2xl border border-dashed border-gray-300 bg-gray-50/80 p-10 text-center",children:[c.jsx(Tag,{className:"mx-auto mb-4 h-10 w-10 text-gray-400",strokeWidth:1.5}),c.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:"No lead sources configured"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Add your first lead source to start tracking where your deals originate."}),e?c.jsxs("button",{onClick:()=>{u(!0),f(null),y(Os()),x(null)},className:"hig-btn-primary",children:[c.jsx(ca,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Add Lead Source"})]}):c.jsx("p",{className:"text-xs text-gray-500",children:"Ask a workspace admin to configure lead sources."})]}):V.length===0?c.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white/80 p-10 text-center text-sm text-gray-500",children:"No sources match your filters."}):c.jsxs(ph,{sensors:D,collisionDetection:o0,onDragStart:I=>{const W=r.find(L=>L.id===I.active.id);p(W||null)},onDragEnd:Q,onDragCancel:()=>p(null),children:[c.jsx(vh,{items:V.map(I=>I.id),strategy:gh,children:c.jsx("div",{className:"grid w-full gap-4",style:{gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))"},children:V.map(I=>c.jsx(hZ,{source:I,canEdit:e,disableDrag:!K,onEdit:()=>N(I),onDelete:()=>E(I.id)},I.id))})}),c.jsx(TC,{dropAnimation:{duration:200,easing:"ease"},children:h?c.jsx(pZ,{source:h}):null})]}),e&&l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d?"Edit Lead Source":"Add Lead Source"}),c.jsx("button",{onClick:()=>{u(!1),f(null),y(Os()),x(null)},className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:c.jsx(Ao,{className:"w-5 h-5",strokeWidth:2})})]}),c.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source Name"}),c.jsx("input",{type:"text",value:g.name,onChange:I=>y({...g,name:I.target.value}),className:"hig-input",placeholder:"e.g., Zillow, Past Client, Open House",required:!0,autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Deal Structure"}),c.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:C.map(I=>{const W=g.payout_structure===I.value;return c.jsxs("button",{type:"button",onClick:()=>y({...g,payout_structure:I.value}),className:`text-left rounded-2xl border p-4 transition-all ${W?"border-[rgb(0,122,255)] bg-[rgb(0,122,255)]/5":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:I.title}),c.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:I.description})]},I.value)})}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Choose partnership when working with platforms like Redfin or Zillow that take their fee before your team split."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Brokerage Split Rate"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",step:"0.5",value:g.brokerage_split_rate,onChange:I=>y({...g,brokerage_split_rate:Number.isNaN(parseFloat(I.target.value))?0:parseFloat(I.target.value)}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),c.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Percentage of the remaining commission that goes to your brokerage/team."})]}),g.payout_structure==="partnership"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Split Rate"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",step:"0.5",value:g.partnership_split_rate,onChange:I=>y({...g,partnership_split_rate:Number.isNaN(parseFloat(I.target.value))?0:parseFloat(I.target.value)}),className:"hig-input pr-8",placeholder:"35",min:"0",max:"100"}),c.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Portion of the gross commission that goes to the partner program before any brokerage split."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Notes"}),c.jsx("textarea",{value:g.partnership_notes,onChange:I=>y({...g,partnership_notes:I.target.value}),className:"hig-input min-h-[88px]",placeholder:"e.g., Pay Redfin 35% within 5 days, then 50/50 split with brokerage"})]})]}),c.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/60 p-4",children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-3",children:"Payout Preview"}),c.jsxs("ol",{className:"space-y-3 text-sm text-gray-800",children:[g.payout_structure==="partnership"&&c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:"1"}),"Pay partner first (",g.partnership_split_rate||0,"% of gross commission)"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:g.payout_structure==="partnership"?"2":"1"}),"Split the remaining commission with your brokerage (",g.brokerage_split_rate||0,"% to broker)"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-200/60",children:[c.jsx("button",{type:"button",onClick:()=>{u(!1),f(null),y(Os()),x(null)},className:"hig-btn-secondary",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:s||!g.name.trim(),className:"hig-btn-primary",children:s?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving..."})]}):c.jsxs("span",{children:[d?"Update":"Add"," Source"]})})]})]})]})})]})}function hZ({source:e,canEdit:t,disableDrag:r,onEdit:n,onDelete:i}){const{attributes:a,listeners:s,setNodeRef:o,transform:l,transition:u,isDragging:d}=yh({id:e.id,disabled:r}),f={transform:Cn.Transform.toString(l),transition:u??"transform 200ms ease"},h=e.payout_structure==="partnership",p=`${(e.brokerage_split_rate*100).toFixed(1)}%`,g=h?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return c.jsxs("div",{ref:o,style:f,className:`w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_14px_40px_rgba(15,23,42,0.08)] transition ${d?"ring-2 ring-[var(--app-accent)]/40 shadow-[0_20px_50px_rgba(15,23,42,0.15)]":"hover:border-gray-300/80 hover:shadow-[0_24px_60px_rgba(15,23,42,0.12)]"}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[t&&c.jsx("button",{type:"button",...a,...s,disabled:r,className:`rounded-full border border-gray-200/70 bg-white/80 p-2 text-gray-400 transition ${r?"cursor-not-allowed opacity-40":"cursor-grab hover:text-gray-700 active:cursor-grabbing"}`,"aria-label":"Drag to reorder lead source",children:c.jsx(n0,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-1 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[h?c.jsx(Q2,{className:"h-3 w-3 text-[var(--app-accent)]",strokeWidth:2}):c.jsx(ns,{className:"h-3 w-3 text-gray-500",strokeWidth:2}),c.jsx("span",{className:h?"text-[var(--app-accent)]":"",children:h?"PARTNERSHIP":"STANDARD"})]}),c.jsx("h3",{className:"mt-1 text-base font-semibold text-gray-900",children:e.name})]})]}),t?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:n,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-blue-50 hover:text-[var(--app-accent)]",title:"Edit lead source",children:c.jsx(rC,{className:"h-4 w-4",strokeWidth:2})}),c.jsx("button",{onClick:i,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-red-50 hover:text-red-600",title:"Delete lead source",children:c.jsx(is,{className:"h-4 w-4",strokeWidth:2})})]}):c.jsx("span",{className:"text-[11px] uppercase tracking-[0.35em] text-gray-400",children:"View only"})]}),c.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[h&&g&&c.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Partner share"}),c.jsx("span",{className:"font-semibold text-gray-900",children:g})]}),c.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Broker split"}),c.jsx("span",{className:"font-semibold text-gray-900",children:p})]})]}),e.partnership_notes&&c.jsx("p",{className:"mt-3 rounded-[18px] border border-gray-100 bg-white/80 px-3 py-2 text-[12px] text-gray-600 shadow-inner line-clamp-2",children:e.partnership_notes})]})}function pZ({source:e}){const t=e.payout_structure==="partnership",r=`${(e.brokerage_split_rate*100).toFixed(1)}%`,n=t?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return c.jsxs("div",{className:"w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[t?c.jsx(Q2,{className:"h-3.5 w-3.5 text-[var(--app-accent)]",strokeWidth:2}):c.jsx(ns,{className:"h-3.5 w-3.5 text-gray-500",strokeWidth:2}),c.jsx("span",{className:t?"text-[var(--app-accent)]":"",children:t?"PARTNERSHIP":"STANDARD"})]}),c.jsx("h3",{className:"mt-2 text-base font-semibold text-gray-900",children:e.name}),c.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[t&&n&&c.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Partner share"}),c.jsx("span",{className:"font-semibold text-gray-900",children:n})]}),c.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[c.jsx("span",{children:"Broker split"}),c.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]})}function xD(){const{roleInfo:e}=ct(),t=(e==null?void 0:e.workspaceId)||null,[r,n]=m.useState(null),[i,a]=m.useState(!0),[s,o]=m.useState(null),l=m.useCallback(async()=>{if(!t){n(null),a(!1);return}a(!0),o(null);const{data:d,error:f}=await X.from("workspace_settings").select("*").eq("id",t).maybeSingle();f?(console.error("Error loading workspace settings:",f),o("Unable to load workspace settings.")):n(d),a(!1)},[t]);return m.useEffect(()=>{l()},[l]),{workspace:r,loading:i,error:s,refresh:l,updateWorkspace:async d=>{if(!t)return{error:new Error("Workspace not found")};const{data:f,error:h}=await X.from("workspace_settings").update({...d,updated_at:new Date().toISOString()}).eq("id",t).select("*").maybeSingle();return h?(console.error("Error updating workspace settings:",h),{error:h}):(f&&n(f),{error:null})}}}function mZ({canEdit:e}){const{workspace:t,loading:r,updateWorkspace:n}=xD(),[i,a]=m.useState({name:"",company_name:"",timezone:"America/Los_Angeles",locale:"en-US"}),[s,o]=m.useState(!1),[l,u]=m.useState(null);m.useEffect(()=>{t&&a({name:t.name||"",company_name:t.company_name||"",timezone:t.timezone||"America/Los_Angeles",locale:t.locale||"en-US"})},[t]);const d=async f=>{if(f.preventDefault(),!e)return;o(!0),u(null);const{error:h}=await n(i);u(h?{type:"error",text:"Unable to update workspace info."}:{type:"success",text:"Workspace updated."}),o(!1)};return r?c.jsx("div",{className:"flex items-center justify-center py-10",children:c.jsx(Ht,{className:"w-6 h-6 animate-spin text-[var(--app-accent)]"})}):c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Workspace Info"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Identity, locale, and defaults shared across your workspace."}),!e&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Workspace details are managed by admins. You can view but not edit."})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Workspace Name"}),c.jsx("input",{type:"text",value:i.name,onChange:f=>a(h=>({...h,name:f.target.value})),className:"hig-input",disabled:!e,placeholder:"Northern Virginia Team"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Company / Team"}),c.jsx("input",{type:"text",value:i.company_name,onChange:f=>a(h=>({...h,company_name:f.target.value})),className:"hig-input",disabled:!e,placeholder:"Luminex Ventures Realestate Group"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Timezone"}),c.jsxs("select",{value:i.timezone,onChange:f=>a(h=>({...h,timezone:f.target.value})),className:"hig-input",disabled:!e,children:[c.jsx("option",{value:"America/Los_Angeles",children:"Pacific (PT)"}),c.jsx("option",{value:"America/Denver",children:"Mountain (MT)"}),c.jsx("option",{value:"America/Chicago",children:"Central (CT)"}),c.jsx("option",{value:"America/New_York",children:"Eastern (ET)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Locale"}),c.jsxs("select",{value:i.locale,onChange:f=>a(h=>({...h,locale:f.target.value})),className:"hig-input",disabled:!e,children:[c.jsx("option",{value:"en-US",children:"English (US)"}),c.jsx("option",{value:"en-CA",children:"English (Canada)"}),c.jsx("option",{value:"es-US",children:"Espaol"})]})]})]}),l&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${l.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[l.type==="error"?c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):c.jsx(la,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:l.text})]}),e&&c.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ih,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Save Workspace"})]})})]})]})}const iS={crm:{provider:"Follow Up Boss",description:"Sync contacts + deals bi-directionally.",status:"not_connected"},email:{provider:"Google Workspace",description:"Log emails to deals and trigger automations.",status:"not_connected"},marketing:{provider:"Zapier",description:"Push new leads into PipelineIQ automatically.",status:"not_connected"}};function gZ({canEdit:e}){const{workspace:t,updateWorkspace:r}=xD(),[n,i]=m.useState(iS),[a,s]=m.useState(null);m.useEffect(()=>{if(t!=null&&t.integration_settings){const l=t.integration_settings;i({...iS,...l})}},[t==null?void 0:t.integration_settings]);const o=async l=>{if(!e)return;s(l);const u=n[l].status==="connected"?"not_connected":"connected",d={...n,[l]:{...n[l],status:u,lastSync:u==="connected"?new Date().toISOString():void 0}};i(d),await r({integration_settings:d}),s(null)};return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Integrations"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Connect your CRM, email, and marketing tools so deals stay in sync."}),!e&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only workspace admins can manage integrations."})]}),c.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([l,u])=>c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/80 px-4 py-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.provider}),c.jsx("p",{className:"text-xs text-gray-500",children:u.description}),u.lastSync&&c.jsxs("p",{className:"text-[11px] text-gray-400 mt-1",children:["Last sync ",new Date(u.lastSync).toLocaleString()]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`text-xs font-semibold ${u.status==="connected"?"text-emerald-600":"text-gray-500"}`,children:u.status==="connected"?"Connected":"Not connected"}),c.jsx("button",{type:"button",onClick:()=>o(l),disabled:!e||a===l,className:`rounded-full border px-4 py-2 text-sm font-semibold transition ${u.status==="connected"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-50 text-gray-600 border-gray-200"} ${e?"":"opacity-50 cursor-not-allowed"}`,children:u.status==="connected"?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(g$,{className:"w-4 h-4"}),"Disconnect"]}):c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(m$,{className:"w-4 h-4"}),"Connect"]})})]})]},l))})]})}const vZ=[{title:"Deal Templates",description:"Define repeatable sets of tasks, stages, and documents for each pipeline type."},{title:"Custom Fields",description:"Capture additional data points (loan type, co-borrower, transaction coordinator) across every deal."},{title:"Default Views",description:"Control which boards, filters, and metrics new team members inherit on first login."}];function yZ({canEdit:e}){return c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Shared Configuration"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Templates, custom fields, and default views that keep your workspace aligned."}),!e&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ask an admin to adjust shared templates or defaults for the workspace."})]}),c.jsx("div",{className:"space-y-4",children:vZ.map(t=>c.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:t.title}),c.jsx("p",{className:"text-xs text-gray-500",children:t.description})]}),c.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl border text-sm font-medium ${e?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!e,children:e?"Configure":"View only"})]})},t.title))})]})}function xZ(e){const[t,r]=m.useState([]),[n,i]=m.useState(!1),[a,s]=m.useState(null),o=m.useCallback(async()=>{if(!e)return;i(!0),s(null);const{data:u,error:d}=await X.rpc("get_workspace_members",{p_workspace_id:e});d?(s(d.message),r([])):r(u||[]),i(!1)},[e]);m.useEffect(()=>{o()},[o]);const l=m.useCallback(async(u,d,f)=>{const{error:h}=await X.rpc("manage_workspace_member",{target_user:u,action:d,new_role:f??null});return h||await o(),{error:h}},[o]);return{members:t,loading:n,error:a,refresh:o,changeRole:(u,d)=>l(u,"update_role",d),deactivate:u=>l(u,"deactivate"),reactivate:u=>l(u,"reactivate")}}const bZ=["admin","sales_manager","team_lead","agent"];function wZ(){const{roleInfo:e,user:t}=ct(),r=(e==null?void 0:e.workspaceId)||null,n=H2(e),[i,a]=m.useState(null),{members:s,loading:o,error:l,changeRole:u,deactivate:d,reactivate:f}=xZ(r),h=m.useMemo(()=>s.filter(v=>v.global_role==="admin"&&v.is_active).length,[s]),p=async(v,x)=>{a(v+x),await u(v,x),a(null)},g=async v=>{a(`deactivate-${v}`),await d(v),a(null)},y=async v=>{a(`reactivate-${v}`),await f(v),a(null)};return!r||!n?c.jsx("div",{className:"text-sm text-gray-600",children:"Workspace member management is limited to administrators. Contact an admin if you need to add or update teammates."}):o?c.jsx("div",{className:"flex items-center justify-center py-10 text-gray-500",children:c.jsx(Ht,{className:"h-5 w-5 animate-spin"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Workspace Members"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["View and manage everyone in your workspace. You currently have ",h," admin",h===1?"":"s","."]}),l&&c.jsx("div",{className:"mt-3 rounded-xl border border-red-200/70 bg-red-50 px-3 py-2 text-sm text-red-600",children:l})]}),c.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-200/70",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[c.jsx("thead",{className:"bg-gray-50/60",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Member"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Role"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Status"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Last active"}),c.jsx("th",{className:"px-4 py-3"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/80",children:s.map(v=>{const x=v.user_id===(t==null?void 0:t.id),b=v.is_active,w=i!==null,_=w&&((i==null?void 0:i.includes(v.user_id))??!1),j=w&&!_;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.full_name||v.email||"Member"}),c.jsx("span",{className:"text-xs text-gray-500",children:v.email})]})}),c.jsxs("td",{className:"px-4 py-4",children:[c.jsx("select",{className:"hig-input text-sm",value:v.global_role,disabled:!b||j||x,onChange:S=>p(v.user_id,S.target.value),children:bZ.map(S=>c.jsx("option",{value:S,children:oa(S)},S))}),x&&c.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"You cant change your own role from this screen."})]}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${b?"bg-emerald-50 text-emerald-700 border border-emerald-200/70":"bg-gray-100 text-gray-500 border border-gray-200"}`,children:b?"Active":"Inactive"})}),c.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:v.last_sign_in_at?new Date(v.last_sign_in_at).toLocaleDateString():""}),c.jsx("td",{className:"px-4 py-4 text-right",children:b?c.jsxs("button",{onClick:()=>g(v.user_id),disabled:j||x,className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-sm font-semibold text-red-600 hover:bg-red-100 disabled:opacity-50",children:[c.jsx(d$,{className:"h-4 w-4"}),"Deactivate"]}):c.jsxs("button",{onClick:()=>y(v.user_id),disabled:j,className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-sm font-semibold text-blue-600 hover:bg-blue-100 disabled:opacity-50",children:[c.jsx(nC,{className:"h-4 w-4"}),"Reactivate"]})})]},v.user_id)})})]})})]})}function _Z(e){const[t,r]=m.useState([]),[n,i]=m.useState(!1),[a,s]=m.useState(null),o=m.useCallback(async()=>{if(!e)return;i(!0),s(null);const{data:f,error:h}=await X.from("workspace_invitations").select("*").eq("workspace_id",e).order("created_at",{ascending:!1});h?(s(h.message),r([])):r(f||[]),i(!1)},[e]);m.useEffect(()=>{o()},[o]);const l=m.useCallback(async({email:f,intendedRole:h,teamId:p})=>{if(!e)return{error:new Error("Workspace is required")};const{error:g}=await X.from("workspace_invitations").insert({email:f,intended_role:h,workspace_id:e,team_id:p??null});return g||await o(),{error:g}},[e,o]),u=m.useCallback(async f=>{const{error:h}=await X.from("workspace_invitations").update({status:"canceled"}).eq("id",f);return h||await o(),{error:h}},[o]),d=m.useCallback(async f=>{const{error:h}=await X.from("workspace_invitations").update({status:"pending",expires_at:new Date(Date.now()+12096e5).toISOString()}).eq("id",f);return h||await o(),{error:h}},[o]);return{invites:t,loading:n,error:a,refresh:o,createInvite:l,cancelInvite:u,resendInvite:d}}function jZ(e){const[t,r]=m.useState([]),[n,i]=m.useState(!1),a=m.useCallback(async()=>{if(!e)return;i(!0);const{data:s,error:o}=await X.rpc("get_workspace_teams",{p_workspace_id:e});r(o?[]:s||[]),i(!1)},[e]);return m.useEffect(()=>{a()},[a]),{teams:t,loading:n,refresh:a}}const aS=[{value:"admin",label:"Admin"},{value:"sales_manager",label:"Sales Manager"},{value:"team_lead",label:"Team Lead"},{value:"agent",label:"Agent"}];function SZ(){var S;const{roleInfo:e}=ct(),t=(e==null?void 0:e.workspaceId)||null,r=K2(e),n=BL(e),{invites:i,loading:a,createInvite:s,resendInvite:o,cancelInvite:l}=_Z(t),{teams:u}=jZ(t),[d,f]=m.useState(""),[h,p]=m.useState("agent"),[g,y]=m.useState((e==null?void 0:e.teamId)||null),[v,x]=m.useState(!1),b=(S=u.find(k=>k.team_id===(e==null?void 0:e.teamId)))==null?void 0:S.name,w=n?aS:aS.filter(k=>k.value==="agent");m.useEffect(()=>{n||p("agent")},[n]);const _=k=>`${window.location.origin}/invite/${k}`,j=async k=>{k.preventDefault(),d&&(x(!0),await s({email:d.trim().toLowerCase(),intendedRole:h,teamId:h==="agent"?g||(e==null?void 0:e.teamId)||null:g}),x(!1),f(""))};return r?c.jsxs("div",{className:"space-y-8",children:[c.jsxs("form",{onSubmit:j,className:"rounded-2xl border border-gray-200/70 bg-white/80 p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Invite someone new"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Invitations are valid for 14 days and automatically fill in the correct role and workspace."})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Email"}),c.jsx("input",{type:"email",required:!0,className:"hig-input",placeholder:"newagent@example.com",value:d,onChange:k=>f(k.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Role"}),c.jsx("select",{className:"hig-input",value:h,onChange:k=>p(k.target.value),children:w.map(k=>c.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Team (optional)"}),(e==null?void 0:e.globalRole)==="agent"||!n&&(e!=null&&e.teamId)?c.jsx("input",{type:"text",className:"hig-input bg-gray-50",value:b||"Assigned automatically",readOnly:!0}):c.jsxs("select",{className:"hig-input",value:g||"",onChange:k=>y(k.target.value||null),children:[c.jsx("option",{value:"",children:"No specific team"}),u.map(k=>c.jsx("option",{value:k.team_id,children:k.name},k.team_id))]})]})}),c.jsx("button",{type:"submit",disabled:v,className:"hig-btn-primary inline-flex items-center gap-2",children:v?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(a$,{className:"h-4 w-4"}),"Send invitation"]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending invitations"}),a?c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[c.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Loading invitations"]}):i.length===0?c.jsx("p",{className:"text-sm text-gray-500",children:"No active invitations."}):c.jsx("div",{className:"space-y-4",children:i.map(k=>{const E=k.status==="pending"&&new Date(k.expires_at).getTime()<Date.now()?"expired":k.status;return c.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:k.email}),c.jsxs("p",{className:"text-xs text-gray-500",children:[oa(k.intended_role),"  expires ",new Date(k.expires_at).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.status==="pending"&&c.jsxs("button",{type:"button",onClick:()=>navigator.clipboard.writeText(_(k.token)),className:"inline-flex items-center gap-2 rounded-2xl border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:border-gray-300",children:[c.jsx(r$,{className:"h-3.5 w-3.5"}),"Copy link"]}),E==="pending"?c.jsxs("button",{type:"button",onClick:()=>o(k.id),className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-600 hover:bg-blue-100",children:[c.jsx(nC,{className:"h-3.5 w-3.5"}),"Resend"]}):c.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-semibold text-gray-600 capitalize",children:E}),k.status==="pending"&&c.jsxs("button",{type:"button",onClick:()=>l(k.id),className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-100",children:[c.jsx(y$,{className:"h-3.5 w-3.5"}),"Cancel"]})]})]},k.id)})})]})]}):c.jsx("div",{className:"text-sm text-gray-600",children:"Only admins, sales managers, or team leads can invite new members. Contact an admin if you need to add someone to your workspace."})}m.useEffect(()=>{roleInfo!=null&&roleInfo.teamId&&setSelectedTeamId(roleInfo.teamId)},[roleInfo==null?void 0:roleInfo.teamId]);const kZ=[{id:"workspace.info",label:"Workspace Info",description:"Identity, locale, and defaults",icon:YL},{id:"workspace.pipeline-statuses",label:"Pipeline Statuses",description:"Shared stage definitions",icon:eC},{id:"workspace.lead-sources",label:"Lead Sources",description:"Partner & portal sources",icon:p$},{id:"workspace.integrations",label:"Integrations",description:"CRM & email connections",icon:u$},{id:"workspace.configuration",label:"Shared Configuration",description:"Templates & custom fields",icon:ZL}];function NZ(){const{user:e,roleInfo:t}=ct(),r=oa(t==null?void 0:t.globalRole),n=FL(t),i=H2(t),a=K2(t),[s,o]=m.useState("workspace.info"),l=m.useMemo(()=>{const d=[...kZ];return i&&d.push({id:"workspace.members",label:"Members",description:"Roles, status, and access",icon:oC}),a&&d.push({id:"workspace.invites",label:"Invitations",description:"Pending & sent invites",icon:s$}),d},[i,a]),u=()=>{switch(s){case"workspace.info":return c.jsx(mZ,{canEdit:n});case"workspace.pipeline-statuses":return c.jsx(dZ,{canEdit:n});case"workspace.lead-sources":return c.jsx(fZ,{canEdit:n});case"workspace.integrations":return c.jsx(gZ,{canEdit:n});case"workspace.members":return c.jsx(wZ,{});case"workspace.invites":return c.jsx(SZ,{});case"workspace.configuration":default:return c.jsx(yZ,{canEdit:n})}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:c.jsx(ah,{className:"w-6 h-6 text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Workspace Settings"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Configuration shared across your entire workspace"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),c.jsx("span",{className:"font-semibold text-gray-900",children:r})]}),!n&&c.jsx("span",{className:"text-xs text-gray-500",children:"Workspace configuration is managed by admins. You have read-only access."})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsx("aside",{className:"lg:w-72 space-y-6",children:c.jsxs("div",{children:[c.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Workspace"}),c.jsx("div",{className:"space-y-1",children:l.map(d=>{const f=d.icon,h=s===d.id;return c.jsx("button",{onClick:()=>o(d.id),className:`w-full rounded-2xl border px-4 py-3 text-left transition ${h?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`rounded-2xl border p-2 ${h?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50"}`,children:c.jsx(f,{className:`w-4 h-4 ${h?"text-[rgb(0,122,255)]":"text-gray-500"}`})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-semibold ${h?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:d.label}),c.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]})},d.id)})})]})}),c.jsx("section",{className:"flex-1 hig-card p-6",children:u()})]})]})}function CZ(){var f;const{user:e,roleInfo:t}=ct(),[r,n]=m.useState(((f=e==null?void 0:e.user_metadata)==null?void 0:f.name)||""),[i,a]=m.useState(!1),[s,o]=m.useState(null),l=async h=>{if(h.preventDefault(),!e)return;a(!0),o(null);const{error:p}=await X.auth.updateUser({data:{...e.user_metadata,name:r.trim()||e.email}});o(p?{type:"error",text:p.message||"Unable to update profile."}:{type:"success",text:"Profile updated."}),a(!1)},u=(r||(e==null?void 0:e.email)||"PI").split(" ").map(h=>h.charAt(0).toUpperCase()).slice(0,2).join(""),d=oa(t==null?void 0:t.globalRole);return c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Profile"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage your display name, login email, and view the role assigned by your workspace admin."})]}),c.jsxs("form",{onSubmit:l,className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-2xl bg-[var(--app-accent)] text-white flex items-center justify-center text-xl font-semibold",children:u}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Signed in as"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e==null?void 0:e.email})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Full Name"}),c.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"hig-input",placeholder:"Jane Agent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Primary Email"}),c.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"hig-input bg-gray-50 text-gray-500"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change your login email."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Role"}),c.jsxs("div",{className:"hig-input bg-gray-50 text-gray-700 flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-[11px] uppercase tracking-wide text-gray-500",children:d}),c.jsx("span",{className:"text-sm text-gray-600",children:"Workspace permissions are managed by your admin."})]})]})]}),s&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${s.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[s.type==="error"?c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):c.jsx(la,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:s.text})]}),c.jsx("div",{className:"flex gap-3",children:c.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ih,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Save Profile"})]})})})]})]})}function EZ(){const[e,t]=m.useState({newPassword:"",confirmPassword:""}),[r,n]=m.useState(!1),[i,a]=m.useState(null),s=async o=>{if(o.preventDefault(),!e.newPassword||e.newPassword!==e.confirmPassword){a({type:"error",text:"Passwords must match."});return}n(!0),a(null);const{error:l}=await X.auth.updateUser({password:e.newPassword});l?a({type:"error",text:l.message||"Unable to update password."}):(a({type:"success",text:"Password updated successfully."}),t({newPassword:"",confirmPassword:""})),n(!1)};return c.jsxs("div",{className:"max-w-xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Password & Security"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Update your login password. Changes apply immediately across all PipelineIQ sessions."})]}),c.jsxs("form",{onSubmit:s,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"New Password"}),c.jsx("input",{type:"password",value:e.newPassword,onChange:o=>t(l=>({...l,newPassword:o.target.value})),className:"hig-input",minLength:8,required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use at least 8 characters including a number or symbol."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"hig-label",children:"Confirm Password"}),c.jsx("input",{type:"password",value:e.confirmPassword,onChange:o=>t(l=>({...l,confirmPassword:o.target.value})),className:"hig-input",required:!0})]}),i&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${i.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-emerald-700 border-emerald-200/60"}`,children:[i.type==="error"?c.jsx(q2,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):c.jsx(iC,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:i.text})]}),c.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:r,children:r?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Updating"})]}):c.jsx("span",{children:"Update Password"})})]})]})}const PZ=[{id:"new_lead",label:"New lead assigned"},{id:"stage_change",label:"Deal moved to a new stage"},{id:"reminders",label:"Task & follow-up reminders"},{id:"analytics",label:"Weekly pipeline summary"}],sS={new_lead:!0,stage_change:!0,reminders:!0,analytics:!1};function OZ(){var l;const{user:e}=ct(),[t,r]=m.useState(sS),[n,i]=m.useState(!1),[a,s]=m.useState(null);m.useEffect(()=>{var u;(u=e==null?void 0:e.user_metadata)!=null&&u.notifications&&r({...sS,...e.user_metadata.notifications})},[(l=e==null?void 0:e.user_metadata)==null?void 0:l.notifications]);const o=async()=>{if(!e)return;i(!0),s(null);const{error:u}=await X.auth.updateUser({data:{...e.user_metadata,notifications:t}});s(u?{type:"error",text:u.message||"Unable to update notifications."}:{type:"success",text:"Notification preferences saved."}),i(!1)};return c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Choose which alerts to receive. These preferences only affect your PipelineIQ account."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"space-y-4",children:PZ.map(u=>c.jsxs("label",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/90 px-4 py-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.label}),c.jsx("p",{className:"text-xs text-gray-500",children:"Delivered via email & in-app"})]}),c.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-[var(--app-accent)] focus:ring-[var(--app-accent)]",checked:t[u.id]??!1,onChange:d=>r(f=>({...f,[u.id]:d.target.checked}))})]},u.id))}),a&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${a.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[a.type==="error"?c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):c.jsx(la,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:a.text})]}),c.jsx("button",{onClick:o,className:"hig-btn-primary",disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ih,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Save Preferences"})]})})]})]})}function AZ(){const{user:e}=ct(),[t,r]=m.useState(!0),[n,i]=m.useState(!1),[a,s]=m.useState(null),[o,l]=m.useState({annual_gci_goal:0,default_tax_rate:25,default_brokerage_split_rate:20});m.useEffect(()=>{u()},[e]);const u=async()=>{if(!e)return;const{data:f}=await X.from("user_settings").select("*").eq("user_id",e.id).maybeSingle();f&&l({annual_gci_goal:f.annual_gci_goal,default_tax_rate:f.default_tax_rate*100,default_brokerage_split_rate:f.default_brokerage_split_rate*100}),r(!1)},d=async f=>{if(f.preventDefault(),!e)return;i(!0),s(null);const{error:h}=await X.from("user_settings").upsert({user_id:e.id,annual_gci_goal:o.annual_gci_goal,default_tax_rate:o.default_tax_rate/100,default_brokerage_split_rate:o.default_brokerage_split_rate/100});h?s({type:"error",text:"Failed to save preferences. Please try again."}):(s({type:"success",text:"Preferences updated!"}),setTimeout(()=>s(null),3e3)),i(!1)};return t?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Ht,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"hig-text-heading mb-2",children:"Personal Preferences"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set your financial targets and default assumptions. These only apply to your profile."})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Annual GCI Goal"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),c.jsx("input",{type:"number",value:o.annual_gci_goal,onChange:f=>l({...o,annual_gci_goal:parseFloat(f.target.value)||0}),className:"hig-input pl-8",placeholder:"100000",min:"0",step:"1000"})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Your personal net commission goal for the year."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Tax Allocation"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",step:"0.5",value:o.default_tax_rate,onChange:f=>l({...o,default_tax_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"25",min:"0",max:"100"}),c.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Used to forecast take-home pay inside PipelineIQ."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Brokerage Split"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",step:"0.5",value:o.default_brokerage_split_rate,onChange:f=>l({...o,default_brokerage_split_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),c.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Determines what portion of each deal is allocated to your brokerage by default."})]}),a&&c.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${a.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[a.type==="error"?c.jsx(mi,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):c.jsx(la,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),c.jsx("span",{className:"text-sm font-medium",children:a.text})]}),c.jsx("div",{className:"pt-4 border-t border-gray-200/60 flex flex-wrap gap-3",children:c.jsx("button",{type:"submit",disabled:n,className:"hig-btn-primary px-8",children:n?c.jsxs(c.Fragment,{children:[c.jsx(Ht,{className:"w-4 h-4 animate-spin",strokeWidth:2}),c.jsx("span",{children:"Saving"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ih,{className:"w-4 h-4",strokeWidth:2}),c.jsx("span",{children:"Save Preferences"})]})})})]})]})}const TZ=[{id:"personal.profile",label:"Profile",description:"Name & identity",icon:sh},{id:"personal.security",label:"Password & Security",description:"Account protection",icon:iC},{id:"personal.notifications",label:"Notifications",description:"Email + in-app alerts",icon:GL},{id:"personal.preferences",label:"Preferences",description:"Goals & defaults",icon:aC}];function DZ(){const{user:e,roleInfo:t}=ct(),r=oa(t==null?void 0:t.globalRole),[n,i]=m.useState("personal.profile"),a=()=>{switch(n){case"personal.profile":return c.jsx(CZ,{});case"personal.security":return c.jsx(EZ,{});case"personal.notifications":return c.jsx(OZ,{});case"personal.preferences":default:return c.jsx(AZ,{})}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:c.jsx(sh,{className:"w-6 h-6 text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Account Settings"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Preferences that only apply to your login."})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Signed in"}),c.jsx("span",{className:"font-semibold text-gray-900",children:e==null?void 0:e.email})]}),c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),c.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[c.jsx("aside",{className:"lg:w-72 space-y-6",children:c.jsxs("div",{children:[c.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Account"}),c.jsx("div",{className:"space-y-1",children:TZ.map(s=>{const o=s.icon,l=n===s.id;return c.jsx("button",{onClick:()=>i(s.id),className:`w-full rounded-2xl border px-4 py-3 text-left transition ${l?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:border-gray-200"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`rounded-2xl border p-2 ${l?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50"}`,children:c.jsx(o,{className:`w-4 h-4 ${l?"text-[rgb(0,122,255)]":"text-gray-500"}`})}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-semibold ${l?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:s.label}),c.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})]})},s.id)})})]})}),c.jsx("section",{className:"flex-1 hig-card p-6",children:a()})]})]})}const IZ=[{title:"AI Contract Drafting",description:"Instinctively assemble Dotloop-ready agreements from natural-language prompts."},{title:"Smart Field Autofill",description:"Pull buyer, seller, property, and financing data directly from your CRM or files."},{title:"Amendments in Seconds",description:"Request edits in plain English and regenerate updated paperwork instantly."},{title:"Compliance Checker",description:"Let AI scan for missing signatures, incorrect clauses, or jurisdictional nuances."},{title:"Team Collaboration Tools",description:"Shared templates, version history, and real-time updates for every stakeholder."}];function RZ(){const[e,t]=m.useState(""),[r,n]=m.useState("idle"),i=a=>{if(a.preventDefault(),!e.trim()){n("error");return}n("loading"),setTimeout(()=>{n("success"),t("")},1200)};return c.jsxs("div",{className:"min-h-screen bg-white text-slate-900 flex flex-col",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f4f7fb] via-white to-[#eef4fa] pointer-events-none"}),c.jsx("header",{className:"relative z-10 border-b border-slate-200/60",children:c.jsx("div",{className:"max-w-5xl mx-auto px-6 py-6 flex items-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(MZ,{}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs tracking-[0.3em] text-slate-500 uppercase font-semibold",children:"Contract"}),c.jsx("p",{className:"text-xl font-semibold tracking-tight text-slate-800",children:"Scribe"})]})]})})}),c.jsxs("main",{className:"relative z-10 flex-1",children:[c.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16 text-center",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500 mb-4",children:"ContractScribe"}),c.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-slate-900 leading-tight mb-4",children:"ContractScribe is Coming Soon"}),c.jsx("p",{className:"text-lg text-slate-600 mb-8 max-w-3xl mx-auto",children:"The fastest way for real-estate professionals to draft, edit, and manage contracts with AI-powered precision. Automation that feels human, accuracy that feels inevitable."}),c.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row gap-3 justify-center max-w-2xl mx-auto",children:[c.jsx("input",{type:"email",value:e,onChange:a=>{t(a.target.value),r!=="idle"&&n("idle")},placeholder:"Enter your work email",className:"flex-1 rounded-2xl border border-slate-200/80 bg-white/90 px-5 py-3 text-sm shadow-inner focus:outline-none focus:ring-2 focus:ring-[#0E4B72]/20 focus:border-[#0E4B72]/50"}),c.jsx("button",{type:"submit",className:"rounded-2xl bg-[#0E4B72] text-white font-semibold px-6 py-3 text-sm shadow-[0_12px_24px_rgba(14,75,114,0.25)] hover:bg-[#0b3c5b] transition-colors",disabled:r==="loading",children:r==="loading"?"Joining":r==="success"?"Added!":"Join the Waitlist"})]}),r==="success"&&c.jsx("p",{className:"mt-3 text-sm text-emerald-600 animate-fade-in",children:"Thanks! Well be in touch shortly."}),r==="error"&&c.jsx("p",{className:"mt-3 text-sm text-rose-500",children:"Please enter a valid email address."})]}),c.jsx("section",{className:"max-w-6xl mx-auto px-6 pb-16",children:c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:IZ.map(a=>c.jsxs("div",{className:"rounded-2xl border border-slate-200/70 bg-white/80 p-6 shadow-[0_12px_30px_rgba(15,23,42,0.08)] hover:-translate-y-1 transition-transform",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-[#0E4B72] mb-3",children:"Coming Feature"}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:a.title}),c.jsx("p",{className:"text-sm text-slate-600",children:a.description})]},a.title))})}),c.jsx("section",{className:"max-w-3xl mx-auto px-6 pb-20 text-center",children:c.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:"ContractScribe empowers agents, teams, and brokerages with lightning-fast contract workflows so you can spend more time closing dealsnot filling out paperwork."})})]}),c.jsx("footer",{className:"relative z-10 border-t border-slate-200/70 bg-white/80 backdrop-blur",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-slate-500",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{children:[" ",new Date().getFullYear()," ContractScribe"]}),c.jsx("span",{children:"Terms"}),c.jsx("span",{children:"Privacy"}),c.jsx("span",{children:"Security"})]}),c.jsxs("div",{className:"text-xs text-slate-500",children:["Made by ",c.jsx("span",{className:"font-semibold text-slate-700",children:"Luminex Ventures"})]})]})})]})}const MZ=()=>c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 56","aria-hidden":"true",className:"drop-shadow-sm",children:[c.jsx("path",{d:"M2 12L22 0L22 32L2 44Z",fill:"#F3C6C5"}),c.jsx("path",{d:"M12 18L32 6V38L12 50Z",fill:"#CF7A7A"}),c.jsx("path",{d:"M22 24L42 12V44L22 56Z",fill:"#C85757"})]});function LZ(){const{token:e}=kM(),t=Co();return c.jsx(lC,{onToggle:()=>t("/login"),presetToken:e})}function Pa({children:e}){const{user:t,loading:r,roleInfo:n,signOut:i}=ct();return r?c.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?n&&n.isActive===!1?c.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center px-4",children:c.jsxs("div",{className:"max-w-md rounded-2xl border border-[var(--app-border)] bg-white/90 p-6 text-center shadow-xl space-y-3",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Account deactivated"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Your PipelineIQ access has been suspended. Please reach out to an administrator if you believe this is a mistake."}),c.jsx("button",{onClick:i,className:"hig-btn-secondary mx-auto",children:"Back to login"})]})}):c.jsx(S$,{children:e}):c.jsx(Dd,{to:"/login",replace:!0})}function oS({children:e}){const{user:t,loading:r}=ct();return r?c.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?c.jsx(Dd,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:e})}function $Z(){const[e,t]=m.useState(!0);return e?c.jsx(k$,{onToggle:()=>t(!1)}):c.jsx(lC,{onToggle:()=>t(!0)})}function FZ(){return c.jsx(UL,{children:c.jsx(u5,{children:c.jsxs(BM,{children:[c.jsx(Cr,{path:"/login",element:c.jsx(oS,{children:c.jsx($Z,{})})}),c.jsx(Cr,{path:"/",element:c.jsx(Pa,{children:c.jsx(TQ,{})})}),c.jsx(Cr,{path:"/invite/:token",element:c.jsx(oS,{children:c.jsx(LZ,{})})}),c.jsx(Cr,{path:"/pipeline",element:c.jsx(Pa,{children:c.jsx(eZ,{})})}),c.jsx(Cr,{path:"/tasks",element:c.jsx(Pa,{children:c.jsx(iZ,{})})}),c.jsx(Cr,{path:"/luma",element:c.jsx(Pa,{children:c.jsx(sZ,{})})}),c.jsx(Cr,{path:"/analytics",element:c.jsx(Pa,{children:c.jsx(tZ,{})})}),c.jsx(Cr,{path:"/workspace-settings",element:c.jsx(Pa,{children:c.jsx(NZ,{})})}),c.jsx(Cr,{path:"/settings",element:c.jsx(Pa,{children:c.jsx(DZ,{})})}),c.jsx(Cr,{path:"/lead-sources",element:c.jsx(Dd,{to:"/workspace-settings",replace:!0})}),c.jsx(Cr,{path:"/pipeline-settings",element:c.jsx(Dd,{to:"/workspace-settings",replace:!0})}),c.jsx(Cr,{path:"/contractscribe",element:c.jsx(RZ,{})})]})})})}wN(document.getElementById("root")).render(c.jsx(m.StrictMode,{children:c.jsx(FZ,{})}));
