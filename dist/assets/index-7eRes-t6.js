var KD=Object.defineProperty;var HD=(e,t,r)=>t in e?KD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mp=(e,t,r)=>HD(e,typeof t!="symbol"?t+"":t,r);function CS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var ES={exports:{}},eh={},PS={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),VD=Symbol.for("react.portal"),GD=Symbol.for("react.fragment"),YD=Symbol.for("react.strict_mode"),XD=Symbol.for("react.profiler"),JD=Symbol.for("react.provider"),QD=Symbol.for("react.context"),ZD=Symbol.for("react.forward_ref"),eI=Symbol.for("react.suspense"),tI=Symbol.for("react.memo"),rI=Symbol.for("react.lazy"),db=Symbol.iterator;function nI(e){return e===null||typeof e!="object"?null:(e=db&&e[db]||e["@@iterator"],typeof e=="function"?e:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,TS={};function Fo(e,t,r){this.props=e,this.context=t,this.refs=TS,this.updater=r||OS}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DS(){}DS.prototype=Fo.prototype;function ly(e,t,r){this.props=e,this.context=t,this.refs=TS,this.updater=r||OS}var cy=ly.prototype=new DS;cy.constructor=ly;AS(cy,Fo.prototype);cy.isPureReactComponent=!0;var fb=Array.isArray,IS=Object.prototype.hasOwnProperty,uy={current:null},RS={key:!0,ref:!0,__self:!0,__source:!0};function MS(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)IS.call(t,n)&&!RS.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Rc,type:e,key:i,ref:s,props:a,_owner:uy.current}}function aI(e,t){return{$$typeof:Rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rc}function iI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hb=/\/+/g;function Lp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iI(""+e.key):t.toString(36)}function od(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Rc:case VD:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Lp(s,0):n,fb(a)?(r="",e!=null&&(r=e.replace(hb,"$&/")+"/"),od(a,t,r,"",function(u){return u})):a!=null&&(dy(a)&&(a=aI(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(hb,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",fb(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Lp(i,o);s+=od(i,t,r,c,a)}else if(c=nI(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Lp(i,o++),s+=od(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function hu(e,t,r){if(e==null)return e;var n=[],a=0;return od(e,n,"","",function(i){return t.call(r,i,a++)}),n}function sI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},ld={transition:null},oI={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:ld,ReactCurrentOwner:uy};function LS(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:hu,forEach:function(e,t,r){hu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hu(e,function(){t++}),t},toArray:function(e){return hu(e,function(t){return t})||[]},only:function(e){if(!dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Fo;Ce.Fragment=GD;Ce.Profiler=XD;Ce.PureComponent=ly;Ce.StrictMode=YD;Ce.Suspense=eI;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI;Ce.act=LS;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=AS({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=uy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)IS.call(t,c)&&!RS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Rc,type:e.type,key:a,ref:i,props:n,_owner:s}};Ce.createContext=function(e){return e={$$typeof:QD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JD,_context:e},e.Consumer=e};Ce.createElement=MS;Ce.createFactory=function(e){var t=MS.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:ZD,render:e}};Ce.isValidElement=dy;Ce.lazy=function(e){return{$$typeof:rI,_payload:{_status:-1,_result:e},_init:sI}};Ce.memo=function(e,t){return{$$typeof:tI,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};Ce.unstable_act=LS;Ce.useCallback=function(e,t){return br.current.useCallback(e,t)};Ce.useContext=function(e){return br.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return br.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return br.current.useEffect(e,t)};Ce.useId=function(){return br.current.useId()};Ce.useImperativeHandle=function(e,t,r){return br.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return br.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return br.current.useReducer(e,t,r)};Ce.useRef=function(e){return br.current.useRef(e)};Ce.useState=function(e){return br.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return br.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return br.current.useTransition()};Ce.version="18.3.1";PS.exports=Ce;var m=PS.exports;const rt=Ba(m),lI=CS({__proto__:null,default:rt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI=m,uI=Symbol.for("react.element"),dI=Symbol.for("react.fragment"),fI=Object.prototype.hasOwnProperty,hI=cI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pI={key:!0,ref:!0,__self:!0,__source:!0};function $S(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)fI.call(t,n)&&!pI.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:uI,type:e,key:i,ref:s,props:a,_owner:hI.current}}eh.Fragment=dI;eh.jsx=$S;eh.jsxs=$S;ES.exports=eh;var l=ES.exports,FS={exports:{}},rn={},BS={exports:{}},US={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var M=T.length;T.push(R);e:for(;0<M;){var ae=M-1>>>1,Z=T[ae];if(0<a(Z,R))T[ae]=R,T[M]=Z,M=ae;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],M=T.pop();if(M!==R){T[0]=M;e:for(var ae=0,Z=T.length,ve=Z>>>1;ae<ve;){var D=2*(ae+1)-1,J=T[D],U=D+1,G=T[U];if(0>a(J,M))U<Z&&0>a(G,J)?(T[ae]=G,T[U]=M,ae=U):(T[ae]=J,T[D]=M,ae=D);else if(U<Z&&0>a(G,M))T[ae]=G,T[U]=M,ae=U;else break e}}return R}function a(T,R){var M=T.sortIndex-R.sortIndex;return M!==0?M:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(T){if(y=!1,b(T),!g)if(r(c)!==null)g=!0,Q(j);else{var R=r(u);R!==null&&V(_,R.startTime-T)}}function j(T,R){g=!1,y&&(y=!1,x(k),k=-1),p=!0;var M=h;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||T&&!O());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var Z=ae(f.expirationTime<=R);R=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var ve=!0;else{var D=r(u);D!==null&&V(_,D.startTime-R),ve=!1}return ve}finally{f=null,h=M,p=!1}}var S=!1,N=null,k=-1,E=5,P=-1;function O(){return!(e.unstable_now()-P<E)}function C(){if(N!==null){var T=e.unstable_now();P=T;var R=!0;try{R=N(!0,T)}finally{R?F():(S=!1,N=null)}}else S=!1}var F;if(typeof w=="function")F=function(){w(C)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=C,F=function(){ee.postMessage(null)}}else F=function(){v(C,0)};function Q(T){N=T,S||(S=!0,F())}function V(T,R){k=v(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Q(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var M=h;h=R;try{return T()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=h;h=T;try{return R()}finally{h=M}},e.unstable_scheduleCallback=function(T,R,M){var ae=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ae+M:ae):M=ae,T){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=M+Z,T={id:d++,callback:R,priorityLevel:T,startTime:M,expirationTime:Z,sortIndex:-1},M>ae?(T.sortIndex=M,t(u,T),r(c)===null&&T===r(u)&&(y?(x(k),k=-1):y=!0,V(_,M-ae))):(T.sortIndex=Z,t(c,T),g||p||(g=!0,Q(j))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var R=h;return function(){var M=h;h=R;try{return T.apply(this,arguments)}finally{h=M}}}})(US);BS.exports=US;var mI=BS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=m,Zr=mI;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zS=new Set,Xl={};function Cs(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(Xl[e]=t,e=0;e<t.length;e++)zS.add(t[e])}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,vI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pb={},mb={};function yI(e){return Zm.call(mb,e)?!0:Zm.call(pb,e)?!1:vI.test(e)?mb[e]=!0:(pb[e]=!0,!1)}function xI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bI(e,t,r,n){if(t===null||typeof t>"u"||xI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wr(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fy,hy);nr[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fy,hy);nr[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fy,hy);nr[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});function py(e,t,r,n){var a=nr.hasOwnProperty(t)?nr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bI(t,r,a,n)&&(r=null),n||a===null?yI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ua=gI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),WS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),HS=Symbol.for("react.offscreen"),gb=Symbol.iterator;function ll(e){return e===null||typeof e!="object"?null:(e=gb&&e[gb]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,$p;function El(e){if($p===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$p=t&&t[1]||""}return`
`+$p+e}var Fp=!1;function Bp(e,t){if(!e||Fp)return"";Fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Fp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?El(e):""}function wI(e){switch(e.tag){case 5:return El(e.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return e=Bp(e.type,!1),e;case 11:return e=Bp(e.type.render,!1),e;case 1:return e=Bp(e.type,!0),e;default:return""}}function ng(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Xs:return"Portal";case eg:return"Profiler";case my:return"StrictMode";case tg:return"Suspense";case rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KS:return(e.displayName||"Context")+".Consumer";case WS:return(e._context.displayName||"Context")+".Provider";case gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vy:return t=e.displayName||null,t!==null?t:ng(e.type)||"Memo";case Qa:t=e._payload,e=e._init;try{return ng(e(t))}catch{}}return null}function _I(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(t);case 8:return t===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jI(e){var t=qS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mu(e){e._valueTracker||(e._valueTracker=jI(e))}function VS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ag(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GS(e,t){t=t.checked,t!=null&&py(e,"checked",t,!1)}function ig(e,t){GS(e,t);var r=xi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sg(e,t.type,r):t.hasOwnProperty("defaultValue")&&sg(e,t.type,xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sg(e,t,r){(t!=="number"||kd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pl=Array.isArray;function uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function og(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Pl(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xi(r)}}function YS(e,t){var r=xi(t.value),n=xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,JS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SI=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){SI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function QS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function ZS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=QS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kI=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(e,t){if(t){if(kI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ug(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function yy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fg=null,fo=null,ho=null;function wb(e){if(e=$c(e)){if(typeof fg!="function")throw Error(X(280));var t=e.stateNode;t&&(t=ih(t),fg(e.stateNode,e.type,t))}}function ek(e){fo?ho?ho.push(e):ho=[e]:fo=e}function tk(){if(fo){var e=fo,t=ho;if(ho=fo=null,wb(e),t)for(e=0;e<t.length;e++)wb(t[e])}}function rk(e,t){return e(t)}function nk(){}var Up=!1;function ak(e,t,r){if(Up)return e(t,r);Up=!0;try{return rk(e,t,r)}finally{Up=!1,(fo!==null||ho!==null)&&(nk(),tk())}}function Ql(e,t){var r=e.stateNode;if(r===null)return null;var n=ih(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var hg=!1;if(Ca)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){hg=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{hg=!1}function NI(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ml=!1,Nd=null,Cd=!1,pg=null,CI={onError:function(e){Ml=!0,Nd=e}};function EI(e,t,r,n,a,i,s,o,c){Ml=!1,Nd=null,NI.apply(CI,arguments)}function PI(e,t,r,n,a,i,s,o,c){if(EI.apply(this,arguments),Ml){if(Ml){var u=Nd;Ml=!1,Nd=null}else throw Error(X(198));Cd||(Cd=!0,pg=u)}}function Es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ik(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _b(e){if(Es(e)!==e)throw Error(X(188))}function OI(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return _b(a),e;if(i===n)return _b(a),t;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function sk(e){return e=OI(e),e!==null?ok(e):null}function ok(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ok(e);if(t!==null)return t;e=e.sibling}return null}var lk=Zr.unstable_scheduleCallback,jb=Zr.unstable_cancelCallback,AI=Zr.unstable_shouldYield,TI=Zr.unstable_requestPaint,vt=Zr.unstable_now,DI=Zr.unstable_getCurrentPriorityLevel,xy=Zr.unstable_ImmediatePriority,ck=Zr.unstable_UserBlockingPriority,Ed=Zr.unstable_NormalPriority,II=Zr.unstable_LowPriority,uk=Zr.unstable_IdlePriority,th=null,aa=null;function RI(e){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(th,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:$I,MI=Math.log,LI=Math.LN2;function $I(e){return e>>>=0,e===0?32:31-(MI(e)/LI|0)|0}var vu=64,yu=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Ol(o):(i&=s,i!==0&&(n=Ol(i)))}else s=r&~a,s!==0?n=Ol(s):i!==0&&(n=Ol(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mn(t),a=1<<r,n|=e[r],t&=~a;return n}function FI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Mn(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=FI(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dk(){var e=vu;return vu<<=1,!(vu&4194240)&&(vu=64),e}function zp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=r}function UI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Mn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function by(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ue=0;function fk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hk,wy,pk,mk,gk,gg=!1,xu=[],ui=null,di=null,fi=null,Zl=new Map,ec=new Map,ni=[],zI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sb(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(t.pointerId)}}function ul(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$c(t),t!==null&&wy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function WI(e,t,r,n,a){switch(t){case"focusin":return ui=ul(ui,e,t,r,n,a),!0;case"dragenter":return di=ul(di,e,t,r,n,a),!0;case"mouseover":return fi=ul(fi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Zl.set(i,ul(Zl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ec.set(i,ul(ec.get(i)||null,e,t,r,n,a)),!0}return!1}function vk(e){var t=Zi(e.target);if(t!==null){var r=Es(t);if(r!==null){if(t=r.tag,t===13){if(t=ik(r),t!==null){e.blockedOn=t,gk(e.priority,function(){pk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dg=n,r.target.dispatchEvent(n),dg=null}else return t=$c(r),t!==null&&wy(t),e.blockedOn=r,!1;t.shift()}return!0}function kb(e,t,r){cd(e)&&r.delete(t)}function KI(){gg=!1,ui!==null&&cd(ui)&&(ui=null),di!==null&&cd(di)&&(di=null),fi!==null&&cd(fi)&&(fi=null),Zl.forEach(kb),ec.forEach(kb)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,gg||(gg=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,KI)))}function tc(e){function t(a){return dl(a,e)}if(0<xu.length){dl(xu[0],e);for(var r=1;r<xu.length;r++){var n=xu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ui!==null&&dl(ui,e),di!==null&&dl(di,e),fi!==null&&dl(fi,e),Zl.forEach(t),ec.forEach(t),r=0;r<ni.length;r++)n=ni[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ni.length&&(r=ni[0],r.blockedOn===null);)vk(r),r.blockedOn===null&&ni.shift()}var po=Ua.ReactCurrentBatchConfig,Od=!0;function HI(e,t,r,n){var a=Ue,i=po.transition;po.transition=null;try{Ue=1,_y(e,t,r,n)}finally{Ue=a,po.transition=i}}function qI(e,t,r,n){var a=Ue,i=po.transition;po.transition=null;try{Ue=4,_y(e,t,r,n)}finally{Ue=a,po.transition=i}}function _y(e,t,r,n){if(Od){var a=vg(e,t,r,n);if(a===null)Qp(e,t,n,Ad,r),Sb(e,n);else if(WI(a,e,t,r,n))n.stopPropagation();else if(Sb(e,n),t&4&&-1<zI.indexOf(e)){for(;a!==null;){var i=$c(a);if(i!==null&&hk(i),i=vg(e,t,r,n),i===null&&Qp(e,t,n,Ad,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Qp(e,t,n,null,r)}}var Ad=null;function vg(e,t,r,n){if(Ad=null,e=yy(n),e=Zi(e),e!==null)if(t=Es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ik(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function yk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DI()){case xy:return 1;case ck:return 4;case Ed:case II:return 16;case uk:return 536870912;default:return 16}default:return 16}}var oi=null,jy=null,ud=null;function xk(){if(ud)return ud;var e,t=jy,r=t.length,n,a="value"in oi?oi.value:oi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return ud=a.slice(e,1<n?1-n:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bu(){return!0}function Nb(){return!1}function nn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bu:Nb,this.isPropagationStopped=Nb,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),t}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=nn(Bo),Lc=dt({},Bo,{view:0,detail:0}),VI=nn(Lc),Wp,Kp,fl,rh=dt({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ky,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(Wp=e.screenX-fl.screenX,Kp=e.screenY-fl.screenY):Kp=Wp=0,fl=e),Wp)},movementY:function(e){return"movementY"in e?e.movementY:Kp}}),Cb=nn(rh),GI=dt({},rh,{dataTransfer:0}),YI=nn(GI),XI=dt({},Lc,{relatedTarget:0}),Hp=nn(XI),JI=dt({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),QI=nn(JI),ZI=dt({},Bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eR=nn(ZI),tR=dt({},Bo,{data:0}),Eb=nn(tR),rR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aR[e])?!!t[e]:!1}function ky(){return iR}var sR=dt({},Lc,{key:function(e){if(e.key){var t=rR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ky,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oR=nn(sR),lR=dt({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pb=nn(lR),cR=dt({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ky}),uR=nn(cR),dR=dt({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fR=nn(dR),hR=dt({},rh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pR=nn(hR),mR=[9,13,27,32],Ny=Ca&&"CompositionEvent"in window,Ll=null;Ca&&"documentMode"in document&&(Ll=document.documentMode);var gR=Ca&&"TextEvent"in window&&!Ll,bk=Ca&&(!Ny||Ll&&8<Ll&&11>=Ll),Ob=" ",Ab=!1;function wk(e,t){switch(e){case"keyup":return mR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _k(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function vR(e,t){switch(e){case"compositionend":return _k(t);case"keypress":return t.which!==32?null:(Ab=!0,Ob);case"textInput":return e=t.data,e===Ob&&Ab?null:e;default:return null}}function yR(e,t){if(Qs)return e==="compositionend"||!Ny&&wk(e,t)?(e=xk(),ud=jy=oi=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bk&&t.locale!=="ko"?null:t.data;default:return null}}var xR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xR[e.type]:t==="textarea"}function jk(e,t,r,n){ek(n),t=Td(t,"onChange"),0<t.length&&(r=new Sy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $l=null,rc=null;function bR(e){Ik(e,0)}function nh(e){var t=to(e);if(VS(t))return e}function wR(e,t){if(e==="change")return t}var Sk=!1;if(Ca){var qp;if(Ca){var Vp="oninput"in document;if(!Vp){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),Vp=typeof Db.oninput=="function"}qp=Vp}else qp=!1;Sk=qp&&(!document.documentMode||9<document.documentMode)}function Ib(){$l&&($l.detachEvent("onpropertychange",kk),rc=$l=null)}function kk(e){if(e.propertyName==="value"&&nh(rc)){var t=[];jk(t,rc,e,yy(e)),ak(bR,t)}}function _R(e,t,r){e==="focusin"?(Ib(),$l=t,rc=r,$l.attachEvent("onpropertychange",kk)):e==="focusout"&&Ib()}function jR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nh(rc)}function SR(e,t){if(e==="click")return nh(t)}function kR(e,t){if(e==="input"||e==="change")return nh(t)}function NR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:NR;function nc(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Zm.call(t,a)||!$n(e[a],t[a]))return!1}return!0}function Rb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mb(e,t){var r=Rb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rb(r)}}function Nk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ck(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kd(e.document)}return t}function Cy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CR(e){var t=Ck(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Nk(r.ownerDocument.documentElement,r)){if(n!==null&&Cy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Mb(r,i);var s=Mb(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ER=Ca&&"documentMode"in document&&11>=document.documentMode,Zs=null,yg=null,Fl=null,xg=!1;function Lb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xg||Zs==null||Zs!==kd(n)||(n=Zs,"selectionStart"in n&&Cy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fl&&nc(Fl,n)||(Fl=n,n=Td(yg,"onSelect"),0<n.length&&(t=new Sy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zs)))}function wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var eo={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Gp={},Ek={};Ca&&(Ek=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ah(e){if(Gp[e])return Gp[e];if(!eo[e])return e;var t=eo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ek)return Gp[e]=t[r];return e}var Pk=ah("animationend"),Ok=ah("animationiteration"),Ak=ah("animationstart"),Tk=ah("transitionend"),Dk=new Map,$b="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){Dk.set(e,t),Cs(t,[e])}for(var Yp=0;Yp<$b.length;Yp++){var Xp=$b[Yp],PR=Xp.toLowerCase(),OR=Xp[0].toUpperCase()+Xp.slice(1);Ni(PR,"on"+OR)}Ni(Pk,"onAnimationEnd");Ni(Ok,"onAnimationIteration");Ni(Ak,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(Tk,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function Fb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PI(n,t,void 0,e),e.currentTarget=null}function Ik(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Fb(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Fb(a,o,u),i=c}}}if(Cd)throw e=pg,Cd=!1,pg=null,e}function Qe(e,t){var r=t[Sg];r===void 0&&(r=t[Sg]=new Set);var n=e+"__bubble";r.has(n)||(Rk(t,e,2,!1),r.add(n))}function Jp(e,t,r){var n=0;t&&(n|=4),Rk(r,e,n,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[_u]){e[_u]=!0,zS.forEach(function(r){r!=="selectionchange"&&(AR.has(r)||Jp(r,!1,e),Jp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,Jp("selectionchange",!1,t))}}function Rk(e,t,r,n){switch(yk(t)){case 1:var a=HI;break;case 4:a=qI;break;default:a=_y}r=a.bind(null,t,r,e),a=void 0,!hg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Zi(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}ak(function(){var u=i,d=yy(r),f=[];e:{var h=Dk.get(e);if(h!==void 0){var p=Sy,g=e;switch(e){case"keypress":if(dd(r)===0)break e;case"keydown":case"keyup":p=oR;break;case"focusin":g="focus",p=Hp;break;case"focusout":g="blur",p=Hp;break;case"beforeblur":case"afterblur":p=Hp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uR;break;case Pk:case Ok:case Ak:p=QI;break;case Tk:p=fR;break;case"scroll":p=VI;break;case"wheel":p=pR;break;case"copy":case"cut":case"paste":p=eR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pb}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Ql(w,x),_!=null&&y.push(ic(w,_,b)))),v)break;w=w.return}0<y.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==dg&&(g=r.relatedTarget||r.fromElement)&&(Zi(g)||g[Ea]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Zi(g):null,g!==null&&(v=Es(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Cb,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Pb,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?h:to(p),b=g==null?h:to(g),h=new y(_,w+"leave",p,r,d),h.target=v,h.relatedTarget=b,_=null,Zi(d)===u&&(y=new y(x,w+"enter",g,r,d),y.target=b,y.relatedTarget=v,_=y),v=_,p&&g)t:{for(y=p,x=g,w=0,b=y;b;b=Rs(b))w++;for(b=0,_=x;_;_=Rs(_))b++;for(;0<w-b;)y=Rs(y),w--;for(;0<b-w;)x=Rs(x),b--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Rs(y),x=Rs(x)}y=null}else y=null;p!==null&&Bb(f,h,p,y,!1),g!==null&&v!==null&&Bb(f,v,g,y,!0)}}e:{if(h=u?to(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=wR;else if(Tb(h))if(Sk)j=kR;else{j=jR;var S=_R}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=SR);if(j&&(j=j(e,u))){jk(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&sg(h,"number",h.value)}switch(S=u?to(u):window,e){case"focusin":(Tb(S)||S.contentEditable==="true")&&(Zs=S,yg=u,Fl=null);break;case"focusout":Fl=yg=Zs=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,Lb(f,r,d);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":Lb(f,r,d)}var N;if(Ny)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qs?wk(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(bk&&r.locale!=="ko"&&(Qs||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qs&&(N=xk()):(oi=d,jy="value"in oi?oi.value:oi.textContent,Qs=!0)),S=Td(u,k),0<S.length&&(k=new Eb(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=_k(r),N!==null&&(k.data=N)))),(N=gR?vR(e,r):yR(e,r))&&(u=Td(u,"onBeforeInput"),0<u.length&&(d=new Eb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}Ik(f,t)})}function ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Td(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ql(e,r),i!=null&&n.unshift(ic(e,i,a)),i=Ql(e,t),i!=null&&n.push(ic(e,i,a))),e=e.return}return n}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bb(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Ql(r,i),c!=null&&s.unshift(ic(r,c,o))):a||(c=Ql(r,i),c!=null&&s.push(ic(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var TR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function Ub(e){return(typeof e=="string"?e:""+e).replace(TR,`
`).replace(DR,"")}function ju(e,t,r){if(t=Ub(t),Ub(e)!==t&&r)throw Error(X(425))}function Dd(){}var bg=null,wg=null;function _g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jg=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(e){return zb.resolve(null).then(e).catch(MR)}:jg;function MR(e){setTimeout(function(){throw e})}function Zp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tc(t)}function hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),ra="__reactFiber$"+Uo,sc="__reactProps$"+Uo,Ea="__reactContainer$"+Uo,Sg="__reactEvents$"+Uo,LR="__reactListeners$"+Uo,$R="__reactHandles$"+Uo;function Zi(e){var t=e[ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ea]||r[ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wb(e);e!==null;){if(r=e[ra])return r;e=Wb(e)}return t}e=r,r=e.parentNode}return null}function $c(e){return e=e[ra]||e[Ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function ih(e){return e[sc]||null}var kg=[],ro=-1;function Ci(e){return{current:e}}function et(e){0>ro||(e.current=kg[ro],kg[ro]=null,ro--)}function Je(e,t){ro++,kg[ro]=e.current,e.current=t}var bi={},dr=Ci(bi),Dr=Ci(!1),fs=bi;function jo(e,t){var r=e.type.contextTypes;if(!r)return bi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ir(e){return e=e.childContextTypes,e!=null}function Id(){et(Dr),et(dr)}function Kb(e,t,r){if(dr.current!==bi)throw Error(X(168));Je(dr,t),Je(Dr,r)}function Mk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(X(108,_I(e)||"Unknown",a));return dt({},r,n)}function Rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bi,fs=dr.current,Je(dr,e),Je(Dr,Dr.current),!0}function Hb(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=Mk(e,t,fs),n.__reactInternalMemoizedMergedChildContext=e,et(Dr),et(dr),Je(dr,e)):et(Dr),Je(Dr,r)}var ga=null,sh=!1,em=!1;function Lk(e){ga===null?ga=[e]:ga.push(e)}function FR(e){sh=!0,Lk(e)}function Ei(){if(!em&&ga!==null){em=!0;var e=0,t=Ue;try{var r=ga;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ga=null,sh=!1}catch(a){throw ga!==null&&(ga=ga.slice(e+1)),lk(xy,Ei),a}finally{Ue=t,em=!1}}return null}var no=[],ao=0,Md=null,Ld=0,hn=[],pn=0,hs=null,xa=1,ba="";function Ki(e,t){no[ao++]=Ld,no[ao++]=Md,Md=e,Ld=t}function $k(e,t,r){hn[pn++]=xa,hn[pn++]=ba,hn[pn++]=hs,hs=e;var n=xa;e=ba;var a=32-Mn(n)-1;n&=~(1<<a),r+=1;var i=32-Mn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,xa=1<<32-Mn(t)+a|r<<a|n,ba=i+e}else xa=1<<i|r<<a|n,ba=e}function Ey(e){e.return!==null&&(Ki(e,1),$k(e,1,0))}function Py(e){for(;e===Md;)Md=no[--ao],no[ao]=null,Ld=no[--ao],no[ao]=null;for(;e===hs;)hs=hn[--pn],hn[pn]=null,ba=hn[--pn],hn[pn]=null,xa=hn[--pn],hn[pn]=null}var Jr=null,Xr=null,nt=!1,Dn=null;function Fk(e,t){var r=mn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jr=e,Xr=hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jr=e,Xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hs!==null?{id:xa,overflow:ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jr=e,Xr=null,!0):!1;default:return!1}}function Ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cg(e){if(nt){var t=Xr;if(t){var r=t;if(!qb(e,t)){if(Ng(e))throw Error(X(418));t=hi(r.nextSibling);var n=Jr;t&&qb(e,t)?Fk(n,r):(e.flags=e.flags&-4097|2,nt=!1,Jr=e)}}else{if(Ng(e))throw Error(X(418));e.flags=e.flags&-4097|2,nt=!1,Jr=e}}}function Vb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jr=e}function Su(e){if(e!==Jr)return!1;if(!nt)return Vb(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_g(e.type,e.memoizedProps)),t&&(t=Xr)){if(Ng(e))throw Bk(),Error(X(418));for(;t;)Fk(e,t),t=hi(t.nextSibling)}if(Vb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xr=hi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xr=null}}else Xr=Jr?hi(e.stateNode.nextSibling):null;return!0}function Bk(){for(var e=Xr;e;)e=hi(e.nextSibling)}function So(){Xr=Jr=null,nt=!1}function Oy(e){Dn===null?Dn=[e]:Dn.push(e)}var BR=Ua.ReactCurrentBatchConfig;function hl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function ku(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gb(e){var t=e._init;return t(e._payload)}function Uk(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function a(x,w){return x=vi(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,_){return w===null||w.tag!==6?(w=om(b,x.mode,_),w.return=x,w):(w=a(w,b),w.return=x,w)}function c(x,w,b,_){var j=b.type;return j===Js?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qa&&Gb(j)===w.type)?(_=a(w,b.props),_.ref=hl(x,w,b),_.return=x,_):(_=yd(b.type,b.key,b.props,null,x.mode,_),_.ref=hl(x,w,b),_.return=x,_)}function u(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=lm(b,x.mode,_),w.return=x,w):(w=a(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,j){return w===null||w.tag!==7?(w=os(b,x.mode,_,j),w.return=x,w):(w=a(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=om(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pu:return b=yd(w.type,w.key,w.props,null,x.mode,b),b.ref=hl(x,null,w),b.return=x,b;case Xs:return w=lm(w,x.mode,b),w.return=x,w;case Qa:var _=w._init;return f(x,_(w._payload),b)}if(Pl(w)||ll(w))return w=os(w,x.mode,b,null),w.return=x,w;ku(x,w)}return null}function h(x,w,b,_){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:return b.key===j?c(x,w,b,_):null;case Xs:return b.key===j?u(x,w,b,_):null;case Qa:return j=b._init,h(x,w,j(b._payload),_)}if(Pl(b)||ll(b))return j!==null?null:d(x,w,b,_,null);ku(x,b)}return null}function p(x,w,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(w,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pu:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,j);case Xs:return x=x.get(_.key===null?b:_.key)||null,u(w,x,_,j);case Qa:var S=_._init;return p(x,w,b,S(_._payload),j)}if(Pl(_)||ll(_))return x=x.get(b)||null,d(w,x,_,j,null);ku(w,_)}return null}function g(x,w,b,_){for(var j=null,S=null,N=w,k=w=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var P=h(x,N,b[k],_);if(P===null){N===null&&(N=E);break}e&&N&&P.alternate===null&&t(x,N),w=i(P,w,k),S===null?j=P:S.sibling=P,S=P,N=E}if(k===b.length)return r(x,N),nt&&Ki(x,k),j;if(N===null){for(;k<b.length;k++)N=f(x,b[k],_),N!==null&&(w=i(N,w,k),S===null?j=N:S.sibling=N,S=N);return nt&&Ki(x,k),j}for(N=n(x,N);k<b.length;k++)E=p(N,x,k,b[k],_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),w=i(E,w,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(O){return t(x,O)}),nt&&Ki(x,k),j}function y(x,w,b,_){var j=ll(b);if(typeof j!="function")throw Error(X(150));if(b=j.call(b),b==null)throw Error(X(151));for(var S=j=null,N=w,k=w=0,E=null,P=b.next();N!==null&&!P.done;k++,P=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var O=h(x,N,P.value,_);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(x,N),w=i(O,w,k),S===null?j=O:S.sibling=O,S=O,N=E}if(P.done)return r(x,N),nt&&Ki(x,k),j;if(N===null){for(;!P.done;k++,P=b.next())P=f(x,P.value,_),P!==null&&(w=i(P,w,k),S===null?j=P:S.sibling=P,S=P);return nt&&Ki(x,k),j}for(N=n(x,N);!P.done;k++,P=b.next())P=p(N,x,k,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?k:P.key),w=i(P,w,k),S===null?j=P:S.sibling=P,S=P);return e&&N.forEach(function(C){return t(x,C)}),nt&&Ki(x,k),j}function v(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Js&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pu:e:{for(var j=b.key,S=w;S!==null;){if(S.key===j){if(j=b.type,j===Js){if(S.tag===7){r(x,S.sibling),w=a(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qa&&Gb(j)===S.type){r(x,S.sibling),w=a(S,b.props),w.ref=hl(x,S,b),w.return=x,x=w;break e}r(x,S);break}else t(x,S);S=S.sibling}b.type===Js?(w=os(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=yd(b.type,b.key,b.props,null,x.mode,_),_.ref=hl(x,w,b),_.return=x,x=_)}return s(x);case Xs:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=a(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=lm(b,x.mode,_),w.return=x,x=w}return s(x);case Qa:return S=b._init,v(x,w,S(b._payload),_)}if(Pl(b))return g(x,w,b,_);if(ll(b))return y(x,w,b,_);ku(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=a(w,b),w.return=x,x=w):(r(x,w),w=om(b,x.mode,_),w.return=x,x=w),s(x)):r(x,w)}return v}var ko=Uk(!0),zk=Uk(!1),$d=Ci(null),Fd=null,io=null,Ay=null;function Ty(){Ay=io=Fd=null}function Dy(e){var t=$d.current;et($d),e._currentValue=t}function Eg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mo(e,t){Fd=e,Ay=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Or=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(Ay!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Fd===null)throw Error(X(308));io=e,Fd.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var es=null;function Iy(e){es===null?es=[e]:es.push(e)}function Wk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Iy(t)):(r.next=a.next,a.next=r),t.interleaved=r,Pa(e,n)}function Pa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Za=!1;function Ry(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Pa(e,r)}return a=n.interleaved,a===null?(t.next=t,Iy(n)):(t.next=a.next,a.next=t),n.interleaved=t,Pa(e,r)}function fd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,by(e,r)}}function Yb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bd(e,t,r,n){var a=e.updateQueue;Za=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(h=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=dt({},f,h);break e;case 2:Za=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ms|=s,e.lanes=s,e.memoizedState=f}}function Xb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(X(191,a));a.call(n)}}}var Fc={},ia=Ci(Fc),oc=Ci(Fc),lc=Ci(Fc);function ts(e){if(e===Fc)throw Error(X(174));return e}function My(e,t){switch(Je(lc,t),Je(oc,e),Je(ia,Fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lg(t,e)}et(ia),Je(ia,t)}function No(){et(ia),et(oc),et(lc)}function Hk(e){ts(lc.current);var t=ts(ia.current),r=lg(t,e.type);t!==r&&(Je(oc,e),Je(ia,r))}function Ly(e){oc.current===e&&(et(ia),et(oc))}var ct=Ci(0);function Ud(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tm=[];function $y(){for(var e=0;e<tm.length;e++)tm[e]._workInProgressVersionPrimary=null;tm.length=0}var hd=Ua.ReactCurrentDispatcher,rm=Ua.ReactCurrentBatchConfig,ps=0,ut=null,Tt=null,zt=null,zd=!1,Bl=!1,cc=0,UR=0;function sr(){throw Error(X(321))}function Fy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$n(e[r],t[r]))return!1;return!0}function By(e,t,r,n,a,i){if(ps=i,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hd.current=e===null||e.memoizedState===null?HR:qR,e=r(n,a),Bl){i=0;do{if(Bl=!1,cc=0,25<=i)throw Error(X(301));i+=1,zt=Tt=null,t.updateQueue=null,hd.current=VR,e=r(n,a)}while(Bl)}if(hd.current=Wd,t=Tt!==null&&Tt.next!==null,ps=0,zt=Tt=ut=null,zd=!1,t)throw Error(X(300));return e}function Uy(){var e=cc!==0;return cc=0,e}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ut.memoizedState=zt=e:zt=zt.next=e,zt}function xn(){if(Tt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=zt===null?ut.memoizedState:zt.next;if(t!==null)zt=t,Tt=e;else{if(e===null)throw Error(X(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},zt===null?ut.memoizedState=zt=e:zt=zt.next=e}return zt}function uc(e,t){return typeof t=="function"?t(e):t}function nm(e){var t=xn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Tt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((ps&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,ut.lanes|=d,ms|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,$n(n,t.memoizedState)||(Or=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ut.lanes|=i,ms|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function am(e){var t=xn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);$n(i,t.memoizedState)||(Or=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qk(){}function Vk(e,t){var r=ut,n=xn(),a=t(),i=!$n(n.memoizedState,a);if(i&&(n.memoizedState=a,Or=!0),n=n.queue,zy(Xk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||zt!==null&&zt.memoizedState.tag&1){if(r.flags|=2048,dc(9,Yk.bind(null,r,n,a,t),void 0,null),Ht===null)throw Error(X(349));ps&30||Gk(r,t,a)}return a}function Gk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yk(e,t,r,n){t.value=r,t.getSnapshot=n,Jk(t)&&Qk(e)}function Xk(e,t,r){return r(function(){Jk(t)&&Qk(e)})}function Jk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$n(e,r)}catch{return!0}}function Qk(e){var t=Pa(e,1);t!==null&&Ln(t,e,1,-1)}function Jb(e){var t=ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=KR.bind(null,ut,e),[t.memoizedState,e]}function dc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zk(){return xn().memoizedState}function pd(e,t,r,n){var a=ea();ut.flags|=e,a.memoizedState=dc(1|t,r,void 0,n===void 0?null:n)}function oh(e,t,r,n){var a=xn();n=n===void 0?null:n;var i=void 0;if(Tt!==null){var s=Tt.memoizedState;if(i=s.destroy,n!==null&&Fy(n,s.deps)){a.memoizedState=dc(t,r,i,n);return}}ut.flags|=e,a.memoizedState=dc(1|t,r,i,n)}function Qb(e,t){return pd(8390656,8,e,t)}function zy(e,t){return oh(2048,8,e,t)}function eN(e,t){return oh(4,2,e,t)}function tN(e,t){return oh(4,4,e,t)}function rN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nN(e,t,r){return r=r!=null?r.concat([e]):null,oh(4,4,rN.bind(null,t,e),r)}function Wy(){}function aN(e,t){var r=xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iN(e,t){var r=xn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function sN(e,t,r){return ps&21?($n(r,t)||(r=dk(),ut.lanes|=r,ms|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Or=!0),e.memoizedState=r)}function zR(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=rm.transition;rm.transition={};try{e(!1),t()}finally{Ue=r,rm.transition=n}}function oN(){return xn().memoizedState}function WR(e,t,r){var n=gi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lN(e))cN(t,r);else if(r=Wk(e,t,r,n),r!==null){var a=yr();Ln(r,e,n,a),uN(r,t,n)}}function KR(e,t,r){var n=gi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lN(e))cN(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,$n(o,s)){var c=t.interleaved;c===null?(a.next=a,Iy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Wk(e,t,a,n),r!==null&&(a=yr(),Ln(r,e,n,a),uN(r,t,n))}}function lN(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function cN(e,t){Bl=zd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,by(e,r)}}var Wd={readContext:yn,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},HR={readContext:yn,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Qb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pd(4194308,4,rN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return pd(4,2,e,t)},useMemo:function(e,t){var r=ea();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ea();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WR.bind(null,ut,e),[n.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:Jb,useDebugValue:Wy,useDeferredValue:function(e){return ea().memoizedState=e},useTransition:function(){var e=Jb(!1),t=e[0];return e=zR.bind(null,e[1]),ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ut,a=ea();if(nt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Ht===null)throw Error(X(349));ps&30||Gk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Qb(Xk.bind(null,n,i,e),[e]),n.flags|=2048,dc(9,Yk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ea(),t=Ht.identifierPrefix;if(nt){var r=ba,n=xa;r=(n&~(1<<32-Mn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qR={readContext:yn,useCallback:aN,useContext:yn,useEffect:zy,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:iN,useReducer:nm,useRef:Zk,useState:function(){return nm(uc)},useDebugValue:Wy,useDeferredValue:function(e){var t=xn();return sN(t,Tt.memoizedState,e)},useTransition:function(){var e=nm(uc)[0],t=xn().memoizedState;return[e,t]},useMutableSource:qk,useSyncExternalStore:Vk,useId:oN,unstable_isNewReconciler:!1},VR={readContext:yn,useCallback:aN,useContext:yn,useEffect:zy,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:iN,useReducer:am,useRef:Zk,useState:function(){return am(uc)},useDebugValue:Wy,useDeferredValue:function(e){var t=xn();return Tt===null?t.memoizedState=e:sN(t,Tt.memoizedState,e)},useTransition:function(){var e=am(uc)[0],t=xn().memoizedState;return[e,t]},useMutableSource:qk,useSyncExternalStore:Vk,useId:oN,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lh={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yr(),a=gi(e),i=ja(n,a);i.payload=t,r!=null&&(i.callback=r),t=pi(e,i,a),t!==null&&(Ln(t,e,a,n),fd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yr(),a=gi(e),i=ja(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pi(e,i,a),t!==null&&(Ln(t,e,a,n),fd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yr(),n=gi(e),a=ja(r,n);a.tag=2,t!=null&&(a.callback=t),t=pi(e,a,n),t!==null&&(Ln(t,e,n,r),fd(t,e,n))}};function Zb(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!nc(r,n)||!nc(a,i):!0}function dN(e,t,r){var n=!1,a=bi,i=t.contextType;return typeof i=="object"&&i!==null?i=yn(i):(a=Ir(t)?fs:dr.current,n=t.contextTypes,i=(n=n!=null)?jo(e,a):bi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ew(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lh.enqueueReplaceState(t,t.state,null)}function Og(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ry(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=yn(i):(i=Ir(t)?fs:dr.current,a.context=jo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pg(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&lh.enqueueReplaceState(a,a.state,null),Bd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Co(e,t){try{var r="",n=t;do r+=wI(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function im(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ag(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GR=typeof WeakMap=="function"?WeakMap:Map;function fN(e,t,r){r=ja(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hd||(Hd=!0,Ug=n),Ag(e,t)},r}function hN(e,t,r){r=ja(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ag(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ag(e,t),typeof n!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function tw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GR;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lM.bind(null,e,t,r),t.then(e,e))}function rw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ja(-1,1),t.tag=2,pi(r,t,1))),r.lanes|=1),e)}var YR=Ua.ReactCurrentOwner,Or=!1;function pr(e,t,r,n){t.child=e===null?zk(t,null,r,n):ko(t,e.child,r,n)}function aw(e,t,r,n,a){r=r.render;var i=t.ref;return mo(t,a),n=By(e,t,r,n,i,a),r=Uy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oa(e,t,a)):(nt&&r&&Ey(t),t.flags|=1,pr(e,t,n,a),t.child)}function iw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Jy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pN(e,t,i,n,a)):(e=yd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:nc,r(s,n)&&e.ref===t.ref)return Oa(e,t,a)}return t.flags|=1,e=vi(i,n),e.ref=t.ref,e.return=t,t.child=e}function pN(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(nc(i,n)&&e.ref===t.ref)if(Or=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Or=!0);else return t.lanes=e.lanes,Oa(e,t,a)}return Tg(e,t,r,n,a)}function mN(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(oo,Hr),Hr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(oo,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Je(oo,Hr),Hr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Je(oo,Hr),Hr|=n;return pr(e,t,a,r),t.child}function gN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tg(e,t,r,n,a){var i=Ir(r)?fs:dr.current;return i=jo(t,i),mo(t,a),r=By(e,t,r,n,i,a),n=Uy(),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oa(e,t,a)):(nt&&n&&Ey(t),t.flags|=1,pr(e,t,r,a),t.child)}function sw(e,t,r,n,a){if(Ir(r)){var i=!0;Rd(t)}else i=!1;if(mo(t,a),t.stateNode===null)md(e,t),dN(t,r,n),Og(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=Ir(r)?fs:dr.current,u=jo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&ew(t,s,n,u),Za=!1;var h=t.memoizedState;s.state=h,Bd(t,n,s,a),c=t.memoizedState,o!==n||h!==c||Dr.current||Za?(typeof d=="function"&&(Pg(t,r,d,n),c=t.memoizedState),(o=Za||Zb(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Kk(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:On(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=yn(c):(c=Ir(r)?fs:dr.current,c=jo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&ew(t,s,n,c),Za=!1,h=t.memoizedState,s.state=h,Bd(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Dr.current||Za?(typeof p=="function"&&(Pg(t,r,p,n),g=t.memoizedState),(u=Za||Zb(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Dg(e,t,r,n,i,a)}function Dg(e,t,r,n,a,i){gN(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Hb(t,r,!1),Oa(e,t,i);n=t.stateNode,YR.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ko(t,e.child,null,i),t.child=ko(t,null,o,i)):pr(e,t,o,i),t.memoizedState=n.state,a&&Hb(t,r,!0),t.child}function vN(e){var t=e.stateNode;t.pendingContext?Kb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kb(e,t.context,!1),My(e,t.containerInfo)}function ow(e,t,r,n,a){return So(),Oy(a),t.flags|=256,pr(e,t,r,n),t.child}var Ig={dehydrated:null,treeContext:null,retryLane:0};function Rg(e){return{baseLanes:e,cachePool:null,transitions:null}}function yN(e,t,r){var n=t.pendingProps,a=ct.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Je(ct,a&1),e===null)return Cg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=dh(s,n,0,null),e=os(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rg(r),t.memoizedState=Ig,e):Ky(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return XR(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=vi(o,i):(i=os(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Rg(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Ig,n}return i=e.child,e=i.sibling,n=vi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ky(e,t){return t=dh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nu(e,t,r,n){return n!==null&&Oy(n),ko(t,e.child,null,r),e=Ky(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XR(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=im(Error(X(422))),Nu(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=dh({mode:"visible",children:n.children},a,0,null),i=os(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ko(t,e.child,null,s),t.child.memoizedState=Rg(s),t.memoizedState=Ig,i);if(!(t.mode&1))return Nu(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(X(419)),n=im(i,n,void 0),Nu(e,t,s,n)}if(o=(s&e.childLanes)!==0,Or||o){if(n=Ht,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Pa(e,a),Ln(n,e,a,-1))}return Xy(),n=im(Error(X(421))),Nu(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cM.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Xr=hi(a.nextSibling),Jr=t,nt=!0,Dn=null,e!==null&&(hn[pn++]=xa,hn[pn++]=ba,hn[pn++]=hs,xa=e.id,ba=e.overflow,hs=t),t=Ky(t,n.children),t.flags|=4096,t)}function lw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Eg(e.return,t,r)}function sm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function xN(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(pr(e,t,n.children,r),n=ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lw(e,r,t);else if(e.tag===19)lw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Je(ct,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ud(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ud(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sm(t,!0,r,null,i);break;case"together":sm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JR(e,t,r){switch(t.tag){case 3:vN(t),So();break;case 5:Hk(t);break;case 1:Ir(t.type)&&Rd(t);break;case 4:My(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Je($d,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Je(ct,ct.current&1),t.flags|=128,null):r&t.child.childLanes?yN(e,t,r):(Je(ct,ct.current&1),e=Oa(e,t,r),e!==null?e.sibling:null);Je(ct,ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Je(ct,ct.current),n)break;return null;case 22:case 23:return t.lanes=0,mN(e,t,r)}return Oa(e,t,r)}var bN,Mg,wN,_N;bN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mg=function(){};wN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ts(ia.current);var i=null;switch(r){case"input":a=ag(e,a),n=ag(e,n),i=[];break;case"select":a=dt({},a,{value:void 0}),n=dt({},n,{value:void 0}),i=[];break;case"textarea":a=og(e,a),n=og(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dd)}cg(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};_N=function(e,t,r,n){r!==n&&(t.flags|=4)};function pl(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function QR(e,t,r){var n=t.pendingProps;switch(Py(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return Ir(t.type)&&Id(),or(t),null;case 3:return n=t.stateNode,No(),et(Dr),et(dr),$y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dn!==null&&(Kg(Dn),Dn=null))),Mg(e,t),or(t),null;case 5:Ly(t);var a=ts(lc.current);if(r=t.type,e!==null&&t.stateNode!=null)wN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return or(t),null}if(e=ts(ia.current),Su(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ra]=t,n[sc]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Qe(Al[a],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":vb(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":xb(n,i),Qe("invalid",n)}cg(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,o,e),a=["children",""+o]):Xl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qe("scroll",n)}switch(r){case"input":mu(n),yb(n,i,!0);break;case"textarea":mu(n),bb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ra]=t,e[sc]=n,bN(e,t,!1,!1),t.stateNode=e;e:{switch(s=ug(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),a=n;break;case"iframe":case"object":case"embed":Qe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Al.length;a++)Qe(Al[a],e);a=n;break;case"source":Qe("error",e),a=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=n;break;case"details":Qe("toggle",e),a=n;break;case"input":vb(e,n),a=ag(e,n),Qe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=dt({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":xb(e,n),a=og(e,n),Qe("invalid",e);break;default:a=n}cg(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ZS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jl(e,c):typeof c=="number"&&Jl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&py(e,i,c,s))}switch(r){case"input":mu(e),yb(e,n,!1);break;case"textarea":mu(e),bb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)_N(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=ts(lc.current),ts(ia.current),Su(t)){if(n=t.stateNode,r=t.memoizedProps,n[ra]=t,(i=n.nodeValue!==r)&&(e=Jr,e!==null))switch(e.tag){case 3:ju(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ju(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ra]=t,t.stateNode=n}return or(t),null;case 13:if(et(ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Xr!==null&&t.mode&1&&!(t.flags&128))Bk(),So(),t.flags|=98560,i=!1;else if(i=Su(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[ra]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),i=!1}else Dn!==null&&(Kg(Dn),Dn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Mt===0&&(Mt=3):Xy())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return No(),Mg(e,t),e===null&&ac(t.stateNode.containerInfo),or(t),null;case 10:return Dy(t.type._context),or(t),null;case 17:return Ir(t.type)&&Id(),or(t),null;case 19:if(et(ct),i=t.memoizedState,i===null)return or(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)pl(i,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ud(e),s!==null){for(t.flags|=128,pl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&vt()>Eo&&(t.flags|=128,n=!0,pl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ud(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!nt)return or(t),null}else 2*vt()-i.renderingStartTime>Eo&&r!==1073741824&&(t.flags|=128,n=!0,pl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vt(),t.sibling=null,r=ct.current,Je(ct,n?r&1|2:r&1),t):(or(t),null);case 22:case 23:return Yy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hr&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function ZR(e,t){switch(Py(t),t.tag){case 1:return Ir(t.type)&&Id(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return No(),et(Dr),et(dr),$y(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ly(t),null;case 13:if(et(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(ct),null;case 4:return No(),null;case 10:return Dy(t.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var Cu=!1,cr=!1,eM=typeof WeakSet=="function"?WeakSet:Set,se=null;function so(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ft(e,t,n)}else r.current=null}function Lg(e,t,r){try{r()}catch(n){ft(e,t,n)}}var cw=!1;function tM(e,t){if(bg=Od,e=Ck(),Cy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wg={focusedElem:e,selectionRange:r},Od=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:On(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){ft(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return g=cw,cw=!1,g}function Ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Lg(t,r,i)}a=a.next}while(a!==n)}}function ch(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $g(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jN(e){var t=e.alternate;t!==null&&(e.alternate=null,jN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ra],delete t[sc],delete t[Sg],delete t[LR],delete t[$R])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SN(e){return e.tag===5||e.tag===3||e.tag===4}function uw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dd));else if(n!==4&&(e=e.child,e!==null))for(Fg(e,t,r),e=e.sibling;e!==null;)Fg(e,t,r),e=e.sibling}function Bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bg(e,t,r),e=e.sibling;e!==null;)Bg(e,t,r),e=e.sibling}var er=null,Tn=!1;function Xa(e,t,r){for(r=r.child;r!==null;)kN(e,t,r),r=r.sibling}function kN(e,t,r){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(th,r)}catch{}switch(r.tag){case 5:cr||so(r,t);case 6:var n=er,a=Tn;er=null,Xa(e,t,r),er=n,Tn=a,er!==null&&(Tn?(e=er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(Tn?(e=er,r=r.stateNode,e.nodeType===8?Zp(e.parentNode,r):e.nodeType===1&&Zp(e,r),tc(e)):Zp(er,r.stateNode));break;case 4:n=er,a=Tn,er=r.stateNode.containerInfo,Tn=!0,Xa(e,t,r),er=n,Tn=a;break;case 0:case 11:case 14:case 15:if(!cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Lg(r,t,s),a=a.next}while(a!==n)}Xa(e,t,r);break;case 1:if(!cr&&(so(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ft(r,t,o)}Xa(e,t,r);break;case 21:Xa(e,t,r);break;case 22:r.mode&1?(cr=(n=cr)||r.memoizedState!==null,Xa(e,t,r),cr=n):Xa(e,t,r);break;default:Xa(e,t,r)}}function dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eM),t.forEach(function(n){var a=uM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:er=o.stateNode,Tn=!1;break e;case 3:er=o.stateNode.containerInfo,Tn=!0;break e;case 4:er=o.stateNode.containerInfo,Tn=!0;break e}o=o.return}if(er===null)throw Error(X(160));kN(i,s,a),er=null,Tn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ft(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NN(t,e),t=t.sibling}function NN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Zn(e),n&4){try{Ul(3,e,e.return),ch(3,e)}catch(y){ft(e,e.return,y)}try{Ul(5,e,e.return)}catch(y){ft(e,e.return,y)}}break;case 1:En(t,e),Zn(e),n&512&&r!==null&&so(r,r.return);break;case 5:if(En(t,e),Zn(e),n&512&&r!==null&&so(r,r.return),e.flags&32){var a=e.stateNode;try{Jl(a,"")}catch(y){ft(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&GS(a,i),ug(o,s);var u=ug(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?ZS(a,f):d==="dangerouslySetInnerHTML"?JS(a,f):d==="children"?Jl(a,f):py(a,d,f,u)}switch(o){case"input":ig(a,i);break;case"textarea":YS(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?uo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?uo(a,!!i.multiple,i.defaultValue,!0):uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[sc]=i}catch(y){ft(e,e.return,y)}}break;case 6:if(En(t,e),Zn(e),n&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){ft(e,e.return,y)}}break;case 3:if(En(t,e),Zn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tc(t.containerInfo)}catch(y){ft(e,e.return,y)}break;case 4:En(t,e),Zn(e);break;case 13:En(t,e),Zn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Vy=vt())),n&4&&dw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(cr=(u=cr)||d,En(t,e),cr=u):En(t,e),Zn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ul(4,h,h.return);break;case 1:so(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){ft(n,r,y)}}break;case 5:so(h,h.return);break;case 22:if(h.memoizedState!==null){hw(f);continue}}p!==null?(p.return=h,se=p):hw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=QS("display",s))}catch(y){ft(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ft(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(t,e),Zn(e),n&4&&dw(e);break;case 21:break;default:En(t,e),Zn(e)}}function Zn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(SN(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Jl(a,""),n.flags&=-33);var i=uw(e);Bg(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=uw(e);Fg(e,o,s);break;default:throw Error(X(161))}}catch(c){ft(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rM(e,t,r){se=e,CN(e)}function CN(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var a=se,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Cu;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||cr;o=Cu;var u=cr;if(Cu=s,(cr=c)&&!u)for(se=a;se!==null;)s=se,c=s.child,s.tag===22&&s.memoizedState!==null?pw(a):c!==null?(c.return=s,se=c):pw(a);for(;i!==null;)se=i,CN(i),i=i.sibling;se=a,Cu=o,cr=u}fw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,se=i):fw(e)}}function fw(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||ch(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:On(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xb(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xb(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}cr||t.flags&512&&$g(t)}catch(h){ft(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function hw(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function pw(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ch(4,t)}catch(c){ft(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ft(t,a,c)}}var i=t.return;try{$g(t)}catch(c){ft(t,i,c)}break;case 5:var s=t.return;try{$g(t)}catch(c){ft(t,s,c)}}}catch(c){ft(t,t.return,c)}if(t===e){se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,se=o;break}se=t.return}}var nM=Math.ceil,Kd=Ua.ReactCurrentDispatcher,Hy=Ua.ReactCurrentOwner,vn=Ua.ReactCurrentBatchConfig,De=0,Ht=null,St=null,rr=0,Hr=0,oo=Ci(0),Mt=0,fc=null,ms=0,uh=0,qy=0,zl=null,Pr=null,Vy=0,Eo=1/0,pa=null,Hd=!1,Ug=null,mi=null,Eu=!1,li=null,qd=0,Wl=0,zg=null,gd=-1,vd=0;function yr(){return De&6?vt():gd!==-1?gd:gd=vt()}function gi(e){return e.mode&1?De&2&&rr!==0?rr&-rr:BR.transition!==null?(vd===0&&(vd=dk()),vd):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:yk(e.type)),e):1}function Ln(e,t,r,n){if(50<Wl)throw Wl=0,zg=null,Error(X(185));Mc(e,r,n),(!(De&2)||e!==Ht)&&(e===Ht&&(!(De&2)&&(uh|=r),Mt===4&&ai(e,rr)),Rr(e,n),r===1&&De===0&&!(t.mode&1)&&(Eo=vt()+500,sh&&Ei()))}function Rr(e,t){var r=e.callbackNode;BI(e,t);var n=Pd(e,e===Ht?rr:0);if(n===0)r!==null&&jb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jb(r),t===1)e.tag===0?FR(mw.bind(null,e)):Lk(mw.bind(null,e)),RR(function(){!(De&6)&&Ei()}),r=null;else{switch(fk(n)){case 1:r=xy;break;case 4:r=ck;break;case 16:r=Ed;break;case 536870912:r=uk;break;default:r=Ed}r=RN(r,EN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function EN(e,t){if(gd=-1,vd=0,De&6)throw Error(X(327));var r=e.callbackNode;if(go()&&e.callbackNode!==r)return null;var n=Pd(e,e===Ht?rr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vd(e,n);else{t=n;var a=De;De|=2;var i=ON();(Ht!==e||rr!==t)&&(pa=null,Eo=vt()+500,ss(e,t));do try{sM();break}catch(o){PN(e,o)}while(!0);Ty(),Kd.current=i,De=a,St!==null?t=0:(Ht=null,rr=0,t=Mt)}if(t!==0){if(t===2&&(a=mg(e),a!==0&&(n=a,t=Wg(e,a))),t===1)throw r=fc,ss(e,0),ai(e,n),Rr(e,vt()),r;if(t===6)ai(e,n);else{if(a=e.current.alternate,!(n&30)&&!aM(a)&&(t=Vd(e,n),t===2&&(i=mg(e),i!==0&&(n=i,t=Wg(e,i))),t===1))throw r=fc,ss(e,0),ai(e,n),Rr(e,vt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Hi(e,Pr,pa);break;case 3:if(ai(e,n),(n&130023424)===n&&(t=Vy+500-vt(),10<t)){if(Pd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){yr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jg(Hi.bind(null,e,Pr,pa),t);break}Hi(e,Pr,pa);break;case 4:if(ai(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Mn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nM(n/1960))-n,10<n){e.timeoutHandle=jg(Hi.bind(null,e,Pr,pa),n);break}Hi(e,Pr,pa);break;case 5:Hi(e,Pr,pa);break;default:throw Error(X(329))}}}return Rr(e,vt()),e.callbackNode===r?EN.bind(null,e):null}function Wg(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(ss(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=Pr,Pr=r,t!==null&&Kg(t)),e}function Kg(e){Pr===null?Pr=e:Pr.push.apply(Pr,e)}function aM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!$n(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ai(e,t){for(t&=~qy,t&=~uh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mn(t),n=1<<r;e[r]=-1,t&=~n}}function mw(e){if(De&6)throw Error(X(327));go();var t=Pd(e,0);if(!(t&1))return Rr(e,vt()),null;var r=Vd(e,t);if(e.tag!==0&&r===2){var n=mg(e);n!==0&&(t=n,r=Wg(e,n))}if(r===1)throw r=fc,ss(e,0),ai(e,t),Rr(e,vt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,Pr,pa),Rr(e,vt()),null}function Gy(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(Eo=vt()+500,sh&&Ei())}}function gs(e){li!==null&&li.tag===0&&!(De&6)&&go();var t=De;De|=1;var r=vn.transition,n=Ue;try{if(vn.transition=null,Ue=1,e)return e()}finally{Ue=n,vn.transition=r,De=t,!(De&6)&&Ei()}}function Yy(){Hr=oo.current,et(oo)}function ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,IR(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Py(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Id();break;case 3:No(),et(Dr),et(dr),$y();break;case 5:Ly(n);break;case 4:No();break;case 13:et(ct);break;case 19:et(ct);break;case 10:Dy(n.type._context);break;case 22:case 23:Yy()}r=r.return}if(Ht=e,St=e=vi(e.current,null),rr=Hr=t,Mt=0,fc=null,qy=uh=ms=0,Pr=zl=null,es!==null){for(t=0;t<es.length;t++)if(r=es[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}es=null}return e}function PN(e,t){do{var r=St;try{if(Ty(),hd.current=Wd,zd){for(var n=ut.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}zd=!1}if(ps=0,zt=Tt=ut=null,Bl=!1,cc=0,Hy.current=null,r===null||r.return===null){Mt=1,fc=t,St=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=rr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=rw(s);if(p!==null){p.flags&=-257,nw(p,s,o,i,t),p.mode&1&&tw(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){tw(i,u,t),Xy();break e}c=Error(X(426))}}else if(nt&&o.mode&1){var v=rw(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),nw(v,s,o,i,t),Oy(Co(c,o));break e}}i=c=Co(c,o),Mt!==4&&(Mt=2),zl===null?zl=[i]:zl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=fN(i,c,t);Yb(i,x);break e;case 1:o=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mi===null||!mi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=hN(i,o,t);Yb(i,_);break e}}i=i.return}while(i!==null)}TN(r)}catch(j){t=j,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function ON(){var e=Kd.current;return Kd.current=Wd,e===null?Wd:e}function Xy(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ht===null||!(ms&268435455)&&!(uh&268435455)||ai(Ht,rr)}function Vd(e,t){var r=De;De|=2;var n=ON();(Ht!==e||rr!==t)&&(pa=null,ss(e,t));do try{iM();break}catch(a){PN(e,a)}while(!0);if(Ty(),De=r,Kd.current=n,St!==null)throw Error(X(261));return Ht=null,rr=0,Mt}function iM(){for(;St!==null;)AN(St)}function sM(){for(;St!==null&&!AI();)AN(St)}function AN(e){var t=IN(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?TN(e):St=t,Hy.current=null}function TN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZR(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,St=null;return}}else if(r=QR(r,t,Hr),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);Mt===0&&(Mt=5)}function Hi(e,t,r){var n=Ue,a=vn.transition;try{vn.transition=null,Ue=1,oM(e,t,r,n)}finally{vn.transition=a,Ue=n}return null}function oM(e,t,r,n){do go();while(li!==null);if(De&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(UI(e,i),e===Ht&&(St=Ht=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eu||(Eu=!0,RN(Ed,function(){return go(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var s=Ue;Ue=1;var o=De;De|=4,Hy.current=null,tM(e,r),NN(r,e),CR(wg),Od=!!bg,wg=bg=null,e.current=r,rM(r),TI(),De=o,Ue=s,vn.transition=i}else e.current=r;if(Eu&&(Eu=!1,li=e,qd=a),i=e.pendingLanes,i===0&&(mi=null),RI(r.stateNode),Rr(e,vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hd)throw Hd=!1,e=Ug,Ug=null,e;return qd&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===zg?Wl++:(Wl=0,zg=e):Wl=0,Ei(),null}function go(){if(li!==null){var e=fk(qd),t=vn.transition,r=Ue;try{if(vn.transition=null,Ue=16>e?16:e,li===null)var n=!1;else{if(e=li,li=null,qd=0,De&6)throw Error(X(331));var a=De;for(De|=4,se=e.current;se!==null;){var i=se,s=i.child;if(se.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Ul(8,d,i)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,p=d.return;if(jN(d),d===u){se=null;break}if(h!==null){h.return=p,se=h;break}se=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,se=s;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ul(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,se=x;break e}se=i.return}}var w=e.current;for(se=w;se!==null;){s=se;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,se=b;else e:for(s=w;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ch(9,o)}}catch(j){ft(o,o.return,j)}if(o===s){se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,se=_;break e}se=o.return}}if(De=a,Ei(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(th,e)}catch{}n=!0}return n}finally{Ue=r,vn.transition=t}}return!1}function gw(e,t,r){t=Co(r,t),t=fN(e,t,1),e=pi(e,t,1),t=yr(),e!==null&&(Mc(e,1,t),Rr(e,t))}function ft(e,t,r){if(e.tag===3)gw(e,e,r);else for(;t!==null;){if(t.tag===3){gw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mi===null||!mi.has(n))){e=Co(r,e),e=hN(t,e,1),t=pi(t,e,1),e=yr(),t!==null&&(Mc(t,1,e),Rr(t,e));break}}t=t.return}}function lM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yr(),e.pingedLanes|=e.suspendedLanes&r,Ht===e&&(rr&r)===r&&(Mt===4||Mt===3&&(rr&130023424)===rr&&500>vt()-Vy?ss(e,0):qy|=r),Rr(e,t)}function DN(e,t){t===0&&(e.mode&1?(t=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):t=1);var r=yr();e=Pa(e,t),e!==null&&(Mc(e,t,r),Rr(e,r))}function cM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DN(e,r)}function uM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),DN(e,r)}var IN;IN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dr.current)Or=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Or=!1,JR(e,t,r);Or=!!(e.flags&131072)}else Or=!1,nt&&t.flags&1048576&&$k(t,Ld,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;md(e,t),e=t.pendingProps;var a=jo(t,dr.current);mo(t,r),a=By(null,t,n,e,a,r);var i=Uy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(n)?(i=!0,Rd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ry(t),a.updater=lh,t.stateNode=a,a._reactInternals=t,Og(t,n,e,r),t=Dg(null,t,n,!0,i,r)):(t.tag=0,nt&&i&&Ey(t),pr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(md(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fM(n),e=On(n,e),a){case 0:t=Tg(null,t,n,e,r);break e;case 1:t=sw(null,t,n,e,r);break e;case 11:t=aw(null,t,n,e,r);break e;case 14:t=iw(null,t,n,On(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:On(n,a),Tg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:On(n,a),sw(e,t,n,a,r);case 3:e:{if(vN(t),e===null)throw Error(X(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Kk(e,t),Bd(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Co(Error(X(423)),t),t=ow(e,t,n,r,a);break e}else if(n!==a){a=Co(Error(X(424)),t),t=ow(e,t,n,r,a);break e}else for(Xr=hi(t.stateNode.containerInfo.firstChild),Jr=t,nt=!0,Dn=null,r=zk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(So(),n===a){t=Oa(e,t,r);break e}pr(e,t,n,r)}t=t.child}return t;case 5:return Hk(t),e===null&&Cg(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,_g(n,a)?s=null:i!==null&&_g(n,i)&&(t.flags|=32),gN(e,t),pr(e,t,s,r),t.child;case 6:return e===null&&Cg(t),null;case 13:return yN(e,t,r);case 4:return My(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ko(t,null,n,r):pr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:On(n,a),aw(e,t,n,a,r);case 7:return pr(e,t,t.pendingProps,r),t.child;case 8:return pr(e,t,t.pendingProps.children,r),t.child;case 12:return pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Je($d,n._currentValue),n._currentValue=s,i!==null)if($n(i.value,s)){if(i.children===a.children&&!Dr.current){t=Oa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ja(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Eg(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(X(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Eg(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}pr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,mo(t,r),a=yn(a),n=n(a),t.flags|=1,pr(e,t,n,r),t.child;case 14:return n=t.type,a=On(n,t.pendingProps),a=On(n.type,a),iw(e,t,n,a,r);case 15:return pN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:On(n,a),md(e,t),t.tag=1,Ir(n)?(e=!0,Rd(t)):e=!1,mo(t,r),dN(t,n,a),Og(t,n,a,r),Dg(null,t,n,!0,e,r);case 19:return xN(e,t,r);case 22:return mN(e,t,r)}throw Error(X(156,t.tag))};function RN(e,t){return lk(e,t)}function dM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,r,n){return new dM(e,t,r,n)}function Jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fM(e){if(typeof e=="function")return Jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gy)return 11;if(e===vy)return 14}return 2}function vi(e,t){var r=e.alternate;return r===null?(r=mn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yd(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Jy(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Js:return os(r.children,a,i,t);case my:s=8,a|=8;break;case eg:return e=mn(12,r,t,a|2),e.elementType=eg,e.lanes=i,e;case tg:return e=mn(13,r,t,a),e.elementType=tg,e.lanes=i,e;case rg:return e=mn(19,r,t,a),e.elementType=rg,e.lanes=i,e;case HS:return dh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WS:s=10;break e;case KS:s=9;break e;case gy:s=11;break e;case vy:s=14;break e;case Qa:s=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=mn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function os(e,t,r,n){return e=mn(7,e,n,t),e.lanes=r,e}function dh(e,t,r,n){return e=mn(22,e,n,t),e.elementType=HS,e.lanes=r,e.stateNode={isHidden:!1},e}function om(e,t,r){return e=mn(6,e,null,t),e.lanes=r,e}function lm(e,t,r){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Qy(e,t,r,n,a,i,s,o,c){return e=new hM(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),e}function pM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function MN(e){if(!e)return bi;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Ir(r))return Mk(e,r,t)}return t}function LN(e,t,r,n,a,i,s,o,c){return e=Qy(r,n,!0,e,a,i,s,o,c),e.context=MN(null),r=e.current,n=yr(),a=gi(r),i=ja(n,a),i.callback=t??null,pi(r,i,a),e.current.lanes=a,Mc(e,a,n),Rr(e,n),e}function fh(e,t,r,n){var a=t.current,i=yr(),s=gi(a);return r=MN(r),t.context===null?t.context=r:t.pendingContext=r,t=ja(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pi(a,t,s),e!==null&&(Ln(e,a,s,i),fd(e,a,s)),s}function Gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zy(e,t){vw(e,t),(e=e.alternate)&&vw(e,t)}function mM(){return null}var $N=typeof reportError=="function"?reportError:function(e){console.error(e)};function e0(e){this._internalRoot=e}hh.prototype.render=e0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));fh(e,t,null,null)};hh.prototype.unmount=e0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gs(function(){fh(null,e,null,null)}),t[Ea]=null}};function hh(e){this._internalRoot=e}hh.prototype.unstable_scheduleHydration=function(e){if(e){var t=mk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ni.length&&t!==0&&t<ni[r].priority;r++);ni.splice(r,0,e),r===0&&vk(e)}};function t0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yw(){}function gM(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Gd(s);i.call(u)}}var s=LN(t,n,e,0,null,!1,!1,"",yw);return e._reactRootContainer=s,e[Ea]=s.current,ac(e.nodeType===8?e.parentNode:e),gs(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Gd(c);o.call(u)}}var c=Qy(e,0,!1,null,null,!1,!1,"",yw);return e._reactRootContainer=c,e[Ea]=c.current,ac(e.nodeType===8?e.parentNode:e),gs(function(){fh(t,c,r,n)}),c}function mh(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=Gd(s);o.call(c)}}fh(t,s,e,a)}else s=gM(r,t,e,a,n);return Gd(s)}hk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ol(t.pendingLanes);r!==0&&(by(t,r|1),Rr(t,vt()),!(De&6)&&(Eo=vt()+500,Ei()))}break;case 13:gs(function(){var n=Pa(e,1);if(n!==null){var a=yr();Ln(n,e,1,a)}}),Zy(e,1)}};wy=function(e){if(e.tag===13){var t=Pa(e,134217728);if(t!==null){var r=yr();Ln(t,e,134217728,r)}Zy(e,134217728)}};pk=function(e){if(e.tag===13){var t=gi(e),r=Pa(e,t);if(r!==null){var n=yr();Ln(r,e,t,n)}Zy(e,t)}};mk=function(){return Ue};gk=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};fg=function(e,t,r){switch(t){case"input":if(ig(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ih(n);if(!a)throw Error(X(90));VS(n),ig(n,a)}}}break;case"textarea":YS(e,r);break;case"select":t=r.value,t!=null&&uo(e,!!r.multiple,t,!1)}};rk=Gy;nk=gs;var vM={usingClientEntryPoint:!1,Events:[$c,to,ih,ek,tk,Gy]},ml={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yM={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sk(e),e===null?null:e.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||mM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{th=Pu.inject(yM),aa=Pu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vM;rn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(t))throw Error(X(200));return pM(e,t,null,r)};rn.createRoot=function(e,t){if(!t0(e))throw Error(X(299));var r=!1,n="",a=$N;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Qy(e,1,!1,null,null,r,!1,n,a),e[Ea]=t.current,ac(e.nodeType===8?e.parentNode:e),new e0(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=sk(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return gs(e)};rn.hydrate=function(e,t,r){if(!ph(t))throw Error(X(200));return mh(null,e,t,!0,r)};rn.hydrateRoot=function(e,t,r){if(!t0(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=$N;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=LN(t,null,e,1,r??null,a,!1,i,s),e[Ea]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new hh(t)};rn.render=function(e,t,r){if(!ph(t))throw Error(X(200));return mh(null,e,t,!1,r)};rn.unmountComponentAtNode=function(e){if(!ph(e))throw Error(X(40));return e._reactRootContainer?(gs(function(){mh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ea]=null})}),!0):!1};rn.unstable_batchedUpdates=Gy;rn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ph(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return mh(e,t,r,!1,n)};rn.version="18.3.1-next-f1338f8080-20240426";function FN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FN)}catch(e){console.error(e)}}FN(),FS.exports=rn;var ci=FS.exports,BN,xw=ci;BN=xw.createRoot,xw.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bw="popstate";function xM(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return Hg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hc(a)}return wM(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function en(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bM(){return Math.random().toString(36).substring(2,10)}function ww(e,t){return{usr:e.state,key:e.key,idx:t}}function Hg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zo(t):t,state:r,key:t&&t.key||n||bM()}}function hc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function wM(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let v=d(),x=v==null?null:v-u;u=v,c&&c({action:o,location:y.location,delta:x})}function h(v,x){o="PUSH";let w=Hg(y.location,v,x);u=d()+1;let b=ww(w,u),_=y.createHref(w);try{s.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:o,location:y.location,delta:1})}function p(v,x){o="REPLACE";let w=Hg(y.location,v,x);u=d();let b=ww(w,u),_=y.createHref(w);s.replaceState(b,"",_),i&&c&&c({action:o,location:y.location,delta:0})}function g(v){return _M(v)}let y={get action(){return o},get location(){return e(a,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(bw,f),c=v,()=>{a.removeEventListener(bw,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}function _M(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),it(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:hc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function UN(e,t,r="/"){return jM(e,t,r,!1)}function jM(e,t,r,n){let a=typeof t=="string"?zo(t):t,i=Aa(a.pathname||"/",r);if(i==null)return null;let s=zN(e);SM(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=RM(i);o=DM(s[c],u,n)}return o}function zN(e,t=[],r=[],n="",a=!1){let i=(s,o,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;it(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Sa([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(it(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),zN(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:AM(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of WN(s.path))i(s,o,!0,u)}),t}function WN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=WN(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function SM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kM=/^:[\w-]+$/,NM=3,CM=2,EM=1,PM=10,OM=-2,_w=e=>e==="*";function AM(e,t){let r=e.split("/"),n=r.length;return r.some(_w)&&(n+=OM),t&&(n+=CM),r.filter(a=>!_w(a)).reduce((a,i)=>a+(kM.test(i)?NM:i===""?EM:PM),n)}function TM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function DM(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Yd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Yd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Sa([i,f.pathname]),pathnameBase:BM(Sa([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Sa([i,f.pathnameBase]))}return s}function Yd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function IM(e,t=!1,r=!0){en(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function RM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return en(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var MM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LM=e=>MM.test(e);function $M(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zo(e):e,i;if(r)if(LM(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),en(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=jw(r.substring(1),"/"):i=jw(r,t)}else i=t;return{pathname:i,search:UM(n),hash:zM(a)}}function jw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function r0(e){let t=FM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function n0(e,t,r,n=!1){let a;typeof e=="string"?a=zo(e):(a={...e},it(!a.pathname||!a.pathname.includes("?"),cm("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),cm("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),cm("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=$M(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Sa=e=>e.join("/").replace(/\/\/+/g,"/"),BM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KN=["POST","PUT","PATCH","DELETE"];new Set(KN);var KM=["GET",...KN];new Set(KM);var Wo=m.createContext(null);Wo.displayName="DataRouter";var gh=m.createContext(null);gh.displayName="DataRouterState";m.createContext(!1);var HN=m.createContext({isTransitioning:!1});HN.displayName="ViewTransition";var HM=m.createContext(new Map);HM.displayName="Fetchers";var qM=m.createContext(null);qM.displayName="Await";var Hn=m.createContext(null);Hn.displayName="Navigation";var Bc=m.createContext(null);Bc.displayName="Location";var qn=m.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var a0=m.createContext(null);a0.displayName="RouteError";function VM(e,{relative:t}={}){it(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Hn),{hash:a,pathname:i,search:s}=Uc(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Sa([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Ko(){return m.useContext(Bc)!=null}function ua(){return it(Ko(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Bc).location}var qN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VN(e){m.useContext(Hn).static||m.useLayoutEffect(e)}function Ho(){let{isDataRoute:e}=m.useContext(qn);return e?o5():GM()}function GM(){it(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Wo),{basename:t,navigator:r}=m.useContext(Hn),{matches:n}=m.useContext(qn),{pathname:a}=ua(),i=JSON.stringify(r0(n)),s=m.useRef(!1);return VN(()=>{s.current=!0}),m.useCallback((c,u={})=>{if(en(s.current,qN),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=n0(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sa([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}m.createContext(null);function YM(){let{matches:e}=m.useContext(qn),t=e[e.length-1];return t?t.params:{}}function Uc(e,{relative:t}={}){let{matches:r}=m.useContext(qn),{pathname:n}=ua(),a=JSON.stringify(r0(r));return m.useMemo(()=>n0(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function XM(e,t){return GN(e,t)}function GN(e,t,r,n,a){var w;it(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=m.useContext(Hn),{matches:s}=m.useContext(qn),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";YN(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=ua(),p;if(t){let b=typeof t=="string"?zo(t):t;it(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=h;let g=p.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=UN(e,{pathname:y});en(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),en(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=t5(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Sa([d,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Sa([d,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,r,n,a);return t&&x?m.createElement(Bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function JM(){let e=s5(),t=WM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,s)}var QM=m.createElement(JM,null),ZM=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(qn.Provider,{value:this.props.routeContext},m.createElement(a0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e5({routeContext:e,match:t,children:r}){let n=m.useContext(Wo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(qn.Provider,{value:e},r)}function t5(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);it(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,p;n(d,{location:r.location,params:((p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let p,g=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||QM,o&&(c<0&&h===0?(YN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),w=()=>{let b;return p?b=y:g?b=v:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(e5,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(ZM,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):w()},null)}function i0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r5(e){let t=m.useContext(Wo);return it(t,i0(e)),t}function n5(e){let t=m.useContext(gh);return it(t,i0(e)),t}function a5(e){let t=m.useContext(qn);return it(t,i0(e)),t}function s0(e){let t=a5(e),r=t.matches[t.matches.length-1];return it(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function i5(){return s0("useRouteId")}function s5(){var n;let e=m.useContext(a0),t=n5("useRouteError"),r=s0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function o5(){let{router:e}=r5("useNavigate"),t=s0("useNavigate"),r=m.useRef(!1);return VN(()=>{r.current=!0}),m.useCallback(async(a,i={})=>{en(r.current,qN),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Sw={};function YN(e,t,r){!t&&!Sw[e]&&(Sw[e]=!0,en(!1,r))}m.memo(l5);function l5({routes:e,future:t,state:r,unstable_onError:n}){return GN(e,void 0,r,n,t)}function Xd({to:e,replace:t,state:r,relative:n}){it(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=m.useContext(Hn);en(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(qn),{pathname:s}=ua(),o=Ho(),c=n0(e,r0(i),s,n==="path"),u=JSON.stringify(c);return m.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Ur(e){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c5({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){it(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=zo(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=m.useMemo(()=>{let g=Aa(c,s);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return en(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement(Hn.Provider,{value:o},m.createElement(Bc.Provider,{children:t,value:p}))}function u5({children:e,location:t}){return XM(qg(e),t)}function qg(e,t=[]){let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){r.push.apply(r,qg(n.props.children,i));return}it(n.type===Ur,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=qg(n.props.children,i)),r.push(s)}),r}var xd="get",bd="application/x-www-form-urlencoded";function vh(e){return e!=null&&typeof e.tagName=="string"}function d5(e){return vh(e)&&e.tagName.toLowerCase()==="button"}function f5(e){return vh(e)&&e.tagName.toLowerCase()==="form"}function h5(e){return vh(e)&&e.tagName.toLowerCase()==="input"}function p5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m5(e,t){return e.button===0&&(!t||t==="_self")&&!p5(e)}function Vg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function g5(e,t){let r=Vg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Ou=null;function v5(){if(Ou===null)try{new FormData(document.createElement("form"),0),Ou=!1}catch{Ou=!0}return Ou}var y5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(e){return e!=null&&!y5.has(e)?(en(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):e}function x5(e,t){let r,n,a,i,s;if(f5(e)){let o=e.getAttribute("action");n=o?Aa(o,t):null,r=e.getAttribute("method")||xd,a=um(e.getAttribute("enctype"))||bd,i=new FormData(e)}else if(d5(e)||h5(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Aa(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||xd,a=um(e.getAttribute("formenctype"))||um(o.getAttribute("enctype"))||bd,i=new FormData(o,e),!v5()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(vh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xd,n=null,a=bd,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b5(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Aa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function w5(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j5(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await w5(i,r);return s.links?s.links():[]}return[]}));return C5(n.flat(1).filter(_5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function kw(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function S5(e,t,{includeHydrateFallback:r}={}){return k5(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function k5(e){return[...new Set(e)]}function N5(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function C5(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(N5(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function XN(){let e=m.useContext(Wo);return o0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function E5(){let e=m.useContext(gh);return o0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var l0=m.createContext(void 0);l0.displayName="FrameworkContext";function JN(){let e=m.useContext(l0);return o0(e,"You must render this element inside a <HydratedRouter> element"),e}function P5(e,t){let r=m.useContext(l0),[n,a]=m.useState(!1),[i,s]=m.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=x=>{x.forEach(w=>{s(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),m.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{a(!0)},g=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:gl(o,p),onBlur:gl(c,g),onMouseEnter:gl(u,p),onMouseLeave:gl(d,g),onTouchStart:gl(f,p)}]:[!1,h,{}]}function gl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function O5({page:e,...t}){let{router:r}=XN(),n=m.useMemo(()=>UN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(T5,{page:e,matches:n,...t}):null}function A5(e){let{manifest:t,routeModules:r}=JN(),[n,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return j5(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function T5({page:e,matches:t,...r}){let n=ua(),{manifest:a,routeModules:i}=JN(),{basename:s}=XN(),{loaderData:o,matches:c}=E5(),u=m.useMemo(()=>kw(e,t,c,a,n,"data"),[e,t,c,a,n]),d=m.useMemo(()=>kw(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var b;let w=a.routes[x.route.id];!w||!w.hasLoader||(!u.some(_=>_.route.id===x.route.id)&&x.route.id in o&&((b=i[x.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let v=b5(e,s,"data");return y&&g.size>0&&v.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[s,o,n,a,u,t,e,i]),h=m.useMemo(()=>S5(d,a),[d,a]),p=A5(d);return m.createElement(m.Fragment,null,f.map(g=>m.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>m.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:y})=>m.createElement("link",{key:g,nonce:r.nonce,...y})))}function D5(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var QN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QN&&(window.__reactRouterVersion="7.9.6")}catch{}function I5({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=xM({window:r,v5Compat:!0}));let a=n.current,[i,s]=m.useState({action:a.action,location:a.location}),o=m.useCallback(c=>{m.startTransition(()=>s(c))},[s]);return m.useLayoutEffect(()=>a.listen(o),[a,o]),m.createElement(c5,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var ZN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:g}=m.useContext(Hn),y=typeof u=="string"&&ZN.test(u),v,x=!1;if(typeof u=="string"&&y&&(v=u,QN))try{let E=new URL(window.location.href),P=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=Aa(P.pathname,g);P.origin===E.origin&&O!=null?u=O+P.search+P.hash:x=!0}catch{en(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=VM(u,{relative:a}),[b,_,j]=P5(n,h),S=$5(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function N(E){t&&t(E),E.defaultPrevented||S(E)}let k=m.createElement("a",{...h,...j,href:v||w,onClick:x||i?t:N,ref:D5(p,_),target:c,"data-discover":!y&&r==="render"?"true":void 0});return b&&!y?m.createElement(m.Fragment,null,k,m.createElement(O5,{page:w})):k});e2.displayName="Link";var R5=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:c,...u},d){let f=Uc(s,{relative:u.relative}),h=ua(),p=m.useContext(gh),{navigator:g,basename:y}=m.useContext(Hn),v=p!=null&&W5(f)&&o===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&y&&(b=Aa(b,y)||b);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=w===x||!a&&w.startsWith(x)&&w.charAt(_)==="/",S=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),N={isActive:j,isPending:S,isTransitioning:v},k=j?t:void 0,E;typeof n=="function"?E=n(N):E=[n,j?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(N):i;return m.createElement(e2,{...u,"aria-current":k,className:E,ref:d,style:P,to:s,viewTransition:o},typeof c=="function"?c(N):c)});R5.displayName="NavLink";var M5=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=xd,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let g=U5(),y=z5(o,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&ZN.test(o),w=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let _=b.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||s;g(_||b.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return m.createElement("form",{ref:p,method:v,action:y,onSubmit:n?c:w,...h,"data-discover":!x&&e==="render"?"true":void 0})});M5.displayName="Form";function L5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t2(e){let t=m.useContext(Wo);return it(t,L5(e)),t}function $5(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=Ho(),c=ua(),u=Uc(e,{relative:i});return m.useCallback(d=>{if(m5(d,t)){d.preventDefault();let f=r!==void 0?r:hc(c)===hc(u);o(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[c,o,u,r,n,t,e,a,i,s])}function r2(e){en(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Vg(e)),r=m.useRef(!1),n=ua(),a=m.useMemo(()=>g5(n.search,r.current?null:t.current),[n.search]),i=Ho(),s=m.useCallback((o,c)=>{const u=Vg(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var F5=0,B5=()=>`__${String(++F5)}__`;function U5(){let{router:e}=t2("useSubmit"),{basename:t}=m.useContext(Hn),r=i5();return m.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:c,body:u}=x5(n,t);if(a.navigate===!1){let d=a.fetcherKey||B5();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function z5(e,{relative:t}={}){let{basename:r}=m.useContext(Hn),n=m.useContext(qn);it(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Uc(e||".",{relative:t})},s=ua();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Sa([r,i.pathname])),hc(i)}function W5(e,{relative:t}={}){let r=m.useContext(HN);it(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=t2("useViewTransitionState"),a=Uc(e,{relative:t});if(!r.isTransitioning)return!1;let i=Aa(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Aa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yd(a.pathname,s)!=null||Yd(a.pathname,i)!=null}var Gg=function(e,t){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Gg(e,t)};function n2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jd=function(){return Jd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Jd.apply(this,arguments)};function qo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function a2(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function i2(e,t){return function(r,n){t(r,n,e)}}function s2(e,t,r,n,a,i){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(x||null))};var v=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[c],g);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(d.get=f),(f=s(v.set))&&(d.set=f),(f=s(v.init))&&a.unshift(f)}else(f=s(v))&&(o==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function o2(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function l2(e){return typeof e=="symbol"?e:"".concat(e)}function c2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function u2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ce(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function d2(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var yh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function f2(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yh(t,e,r)}function Qd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function h2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c0(arguments[t]));return e}function p2(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function m2(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Po(e){return this instanceof Po?(this.v=e,this):new Po(e)}function g2(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(a[p]=function(y){return new Promise(function(v,x){i.push([p,y,v,x])>1||c(p,y)})},g&&(a[p]=g(a[p])))}function c(p,g){try{u(n[p](g))}catch(y){h(i[0][3],y)}}function u(p){p.value instanceof Po?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function v2(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:Po(e[a](s)),done:!1}:i?i(s):s}:i}}function y2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Qd=="function"?Qd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,c){s=e[i](s),a(o,c,s.done,s.value)})}}function a(i,s,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},s)}}function x2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var K5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Yg=function(e){return Yg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Yg(e)};function b2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Yg(e),n=0;n<r.length;n++)r[n]!=="default"&&yh(t,e,r[n]);return K5(t,e),t}function w2(e){return e&&e.__esModule?e:{default:e}}function _2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function j2(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function S2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function k2(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var H5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function N2(e){function t(i){e.error=e.hasError?new H5(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function C2(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const q5={__extends:n2,__assign:Jd,__rest:qo,__decorate:a2,__param:i2,__esDecorate:s2,__runInitializers:o2,__propKey:l2,__setFunctionName:c2,__metadata:u2,__awaiter:ce,__generator:d2,__createBinding:yh,__exportStar:f2,__values:Qd,__read:c0,__spread:h2,__spreadArrays:p2,__spreadArray:m2,__await:Po,__asyncGenerator:g2,__asyncDelegator:v2,__asyncValues:y2,__makeTemplateObject:x2,__importStar:b2,__importDefault:w2,__classPrivateFieldGet:_2,__classPrivateFieldSet:j2,__classPrivateFieldIn:S2,__addDisposableResource:k2,__disposeResources:N2,__rewriteRelativeImportExtension:C2},V5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:k2,get __assign(){return Jd},__asyncDelegator:v2,__asyncGenerator:g2,__asyncValues:y2,__await:Po,__awaiter:ce,__classPrivateFieldGet:_2,__classPrivateFieldIn:S2,__classPrivateFieldSet:j2,__createBinding:yh,__decorate:a2,__disposeResources:N2,__esDecorate:s2,__exportStar:f2,__extends:n2,__generator:d2,__importDefault:w2,__importStar:b2,__makeTemplateObject:x2,__metadata:u2,__param:i2,__propKey:l2,__read:c0,__rest:qo,__rewriteRelativeImportExtension:C2,__runInitializers:o2,__setFunctionName:c2,__spread:h2,__spreadArray:m2,__spreadArrays:p2,__values:Qd,default:q5},Symbol.toStringTag,{value:"Module"})),G5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class u0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Y5 extends u0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nw extends u0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cw extends u0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xg||(Xg={}));class X5{constructor(t,{headers:r={},customFetch:n,region:a=Xg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=G5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ce(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const x=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:v}).catch(j=>{throw new Y5(j)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new Nw(x);if(!x.ok)throw new Cw(x);let b=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield x.json():b==="application/octet-stream"||b==="application/pdf"?_=yield x.blob():b==="text/event-stream"?_=x:b==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Cw||o instanceof Nw?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var mr={};const Vo=qD(V5);var Au={},Tu={},Du={},Iu={},Ru={},Mu={},Ew;function E2(){if(Ew)return Mu;Ew=1,Object.defineProperty(Mu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Mu.default=e,Mu}var Pw;function P2(){if(Pw)return Ru;Pw=1,Object.defineProperty(Ru,"__esModule",{value:!0});const t=Vo.__importDefault(E2());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,g=null,y=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(g=[],p=null,v=200,x="OK")}catch{c.status===404&&b===""?(v=204,x="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(o=o.catch(c=>{var u,d,f,h,p,g;let y="";const v=c==null?void 0:c.cause;if(v){const x=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",w=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${x}`,w&&(y+=` (${w})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return Ru.default=r,Ru}var Ow;function O2(){if(Ow)return Iu;Ow=1,Object.defineProperty(Iu,"__esModule",{value:!0});const t=Vo.__importDefault(P2());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Iu.default=r,Iu}var Aw;function d0(){if(Aw)return Du;Aw=1,Object.defineProperty(Du,"__esModule",{value:!0});const t=Vo.__importDefault(O2()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Du.default=n,Du}var Tw;function A2(){if(Tw)return Tu;Tw=1,Object.defineProperty(Tu,"__esModule",{value:!0});const t=Vo.__importDefault(d0());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},c=s?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Tu.default=r,Tu}var Dw;function J5(){if(Dw)return Au;Dw=1,Object.defineProperty(Au,"__esModule",{value:!0});const e=Vo,t=e.__importDefault(A2()),r=e.__importDefault(d0());class n{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(s).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Au.default=n,Au}Object.defineProperty(mr,"__esModule",{value:!0});var T2=mr.PostgrestError=z2=mr.PostgrestBuilder=B2=mr.PostgrestTransformBuilder=$2=mr.PostgrestFilterBuilder=M2=mr.PostgrestQueryBuilder=I2=mr.PostgrestClient=void 0;const Go=Vo,D2=Go.__importDefault(J5());var I2=mr.PostgrestClient=D2.default;const R2=Go.__importDefault(A2());var M2=mr.PostgrestQueryBuilder=R2.default;const L2=Go.__importDefault(d0());var $2=mr.PostgrestFilterBuilder=L2.default;const F2=Go.__importDefault(O2());var B2=mr.PostgrestTransformBuilder=F2.default;const U2=Go.__importDefault(P2());var z2=mr.PostgrestBuilder=U2.default;const W2=Go.__importDefault(E2());T2=mr.PostgrestError=W2.default;var K2=mr.default={PostgrestClient:D2.default,PostgrestQueryBuilder:R2.default,PostgrestFilterBuilder:L2.default,PostgrestTransformBuilder:F2.default,PostgrestBuilder:U2.default,PostgrestError:W2.default};const Q5=CS({__proto__:null,get PostgrestBuilder(){return z2},get PostgrestClient(){return I2},get PostgrestError(){return T2},get PostgrestFilterBuilder(){return $2},get PostgrestQueryBuilder(){return M2},get PostgrestTransformBuilder(){return B2},default:K2},[mr]),{PostgrestClient:Z5,PostgrestQueryBuilder:mee,PostgrestFilterBuilder:gee,PostgrestTransformBuilder:vee,PostgrestBuilder:yee,PostgrestError:xee}=K2||Q5;class e4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const t4="2.83.0",r4=`realtime-js/${t4}`,H2="1.0.0",n4="2.0.0",Iw=H2,Jg=1e4,a4=1e3,i4=100;var Xi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xi||(Xi={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dn||(dn={}));var Qg;(function(e){e.websocket="websocket"})(Qg||(Qg={}));var Ji;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ji||(Ji={}));class s4{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:a,topic:i,payload:s}=t,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+c.length+o.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),h=0;f.setUint8(h++,this.KINDS.push),f.setUint8(h++,c.length),f.setUint8(h++,o.length),f.setUint8(h++,i.length),f.setUint8(h++,a.length),Array.from(c,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(i,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(h++,g.charCodeAt(0)));var p=new Uint8Array(d.byteLength+s.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(s),d.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,a,i;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,o.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,this.BINARY_ENCODING),Array.from(c,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(s,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>p.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+d.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(d),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,a,i;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,o.length),y.setUint8(v++,s.length),y.setUint8(v++,u.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(c,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(u,w=>y.setUint8(v++,w.charCodeAt(0)));var x=new Uint8Array(g.byteLength+h.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(h),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,c]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(o,o+a));o=o+a;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:f}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=n.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),g={status:h,response:p};return{join_ref:u,ref:d,topic:f,event:dn.reply,payload:g}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class q2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const Rw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=o4(s,e,t,a),i),{}):{}},o4=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?V2(i,s):Zg(s)},V2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return d4(t,r)}switch(e){case Ye.bool:return l4(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return c4(t);case Ye.json:case Ye.jsonb:return u4(t);case Ye.timestamp:return f4(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Zg(t);default:return Zg(t)}},Zg=e=>e,l4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},u4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},d4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>V2(t,o))}return e},f4=e=>typeof e=="string"?e.replace(" ","T"):e,G2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dm{constructor(t,r,n={},a=Jg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class Kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kl.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Kl.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Kl.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lw||(Lw={}));var Hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hl||(Hl={}));var ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class f0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dm(this,dn.join,this.params,this.timeout),this.rejoinTimer=new q2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Kl(this),this.broadcastEndpointURL=G2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Hl.PRESENCE]&&this.bindings[Hl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ma.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(ma.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,x=[];for(let w=0;w<v;w++){const b=y[w],{filter:{event:_,schema:j,table:S,filter:N}}=b,k=p&&p[w];if(k&&k.event===_&&k.schema===j&&k.table===S&&k.filter===N)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ma.SUBSCRIBED);return}}).receive("error",p=>{this.state=At.errored,t==null||t(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===At.joined&&t===Hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dm(this,dn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>i4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=dn;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,y,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:v,commit_timestamp:x,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&f0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dn.close,{},t)}_onError(t){this._on(dn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rw(t.columns,t.old_record)),r}}const fm=()=>{},Lu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h4=[1e3,2e3,5e3,1e4],p4=1e4,m4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jg,this.transport=null,this.heartbeatIntervalMs=Lu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fm,this.ref=0,this.reconnectTimer=null,this.vsn=Iw,this.logger=fm,this.conn=null,this.sendBuffer=[],this.serializer=new s4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Qg.websocket}`,this.httpEndpoint=G2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return Ji.Connecting;case Xi.open:return Ji.Open;case Xi.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new f0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(a4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Lu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xi.open||this.conn.readyState===Xi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([m4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:r4};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(dn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new q2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Lu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:fm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Iw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>h4[g-1]||p4,this.vsn){case H2:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,y)=>y(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case n4:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class h0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class v4 extends h0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ev extends h0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const p0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y4=()=>Response,tv=e=>{if(Array.isArray(e))return e.map(r=>tv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=tv(n)}),t},x4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},b4=(e,t,r)=>ce(void 0,void 0,void 0,function*(){const n=yield y4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new v4(hm(a),i,s))}).catch(a=>{t(new ev(hm(a),a))}):t(new ev(hm(e),e))}),w4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(x4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function zc(e,t,r,n,a,i){return ce(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,w4(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>b4(c,o,n))})})}function pc(e,t,r,n){return ce(this,void 0,void 0,function*(){return zc(e,"GET",t,r,n)})}function An(e,t,r,n,a){return ce(this,void 0,void 0,function*(){return zc(e,"POST",t,n,a,r)})}function rv(e,t,r,n,a){return ce(this,void 0,void 0,function*(){return zc(e,"PUT",t,n,a,r)})}function _4(e,t,r,n){return ce(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function m0(e,t,r,n,a){return ce(this,void 0,void 0,function*(){return zc(e,"DELETE",t,n,a,r)})}class j4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var Y2;class S4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Y2]="BlobDownloadBuilder",this.promise=null}asStream(){return new j4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}Y2=Symbol.toStringTag;const k4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$w={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N4{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=p0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ce(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$w),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?rv:An)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$w.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield rv(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield An(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new h0("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield An(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ce(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield An(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ce(this,void 0,void 0,function*(){try{const a=yield An(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>pc(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new S4(c,this.shouldThrowOnError)}info(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield pc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof ev){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ce(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ce(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},k4),r),{prefix:t||""});return{data:yield An(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(t,r){return ce(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield An(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const X2="2.83.0",J2={"X-Client-Info":`storage-js/${X2}`};class C4{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J2),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield pc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t){return ce(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield rv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class E4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},J2),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield pc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}const g0={"X-Client-Info":`storage-js/${X2}`,"Content-Type":"application/json"};class Q2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class pm extends Q2{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P4 extends Q2{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Fw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fw||(Fw={}));const v0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),O4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),A4=(e,t,r)=>ce(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new pm(Bw(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new pm(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new pm(o,a,s))}}else t(new P4(Bw(e),e))}),T4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(O4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function D4(e,t,r,n,a,i){return ce(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,T4(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>A4(c,o,n))})})}function Gr(e,t,r,n,a){return ce(this,void 0,void 0,function*(){return D4(e,"POST",t,n,a,r)})}class I4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g0),r),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}})}}class R4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g0),r),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}listVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Gr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}}class M4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g0),r),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}listBuckets(){return ce(this,arguments,void 0,function*(t={}){try{return{data:yield Gr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}}class L4 extends M4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $4(this.url,this.headers,t,this.fetch)}}class $4 extends I4{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new F4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class F4 extends R4{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B4 extends C4{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new N4(this.url,this.headers,t,this.fetch)}get vectors(){return new L4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E4(this.url+"/iceberg",this.headers,this.fetch)}}const U4="2.83.0";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const z4={"X-Client-Info":`supabase-js-${Tl}/${U4}`},W4={headers:z4},K4={schema:"public"},H4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q4={},V4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G4=()=>Headers,Y4=(e,t,r)=>{const n=V4(r),a=G4();return async(i,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))}};function X4(e){return e.endsWith("/")?e:e+"/"}function J4(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Q4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Z2="2.83.0",Vs=30*1e3,nv=3,mm=nv*Vs,Z4="http://localhost:9999",eL="supabase.auth.token",tL={"X-Client-Info":`gotrue-js/${Z2}`},av="X-Supabase-Api-Version",eC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nL=10*60*1e3;class mc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aL extends mc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iL(e){return fe(e)&&e.name==="AuthApiError"}class Qi extends mc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pi extends mc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class zr extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sL(e){return fe(e)&&e.name==="AuthSessionMissingError"}class Ms extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $u extends Pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends Pi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oL(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uw extends Pi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iv extends Pi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class zw extends Pi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sv extends Pi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ww=` 	
\r=`.split(""),lL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ww.length;t+=1)e[Ww[t].charCodeAt(0)]=-2;for(let t=0;t<Zd.length;t+=1)e[Zd[t].charCodeAt(0)]=t;return e})();function Kw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zd[n]),t.queuedBits-=6}}function tC(e,t,r){const n=lL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hw(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{dL(s,n,r)};for(let s=0;s<e.length;s+=1)tC(e.charCodeAt(s),a,i);return t.join("")}function cL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}cL(n,t)}}function dL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function vo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)tC(e.charCodeAt(a),r,n);return new Uint8Array(t)}function fL(e){const t=[];return uL(e,r=>t.push(r)),new Uint8Array(t)}function rs(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Kw(a,r,n)),Kw(null,r,n),t.join("")}function hL(e){return Math.round(Date.now()/1e3)+e}function pL(){return Symbol("auth-callback")}const Qt=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},rC=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function mL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const nC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ui=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ja=async(e,t)=>{await e.removeItem(t)};class xh{constructor(){this.promise=new xh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xh.promiseConstructor=Promise;function vm(e){const t=e.split(".");if(t.length!==3)throw new sv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rL.test(t[n]))throw new sv("JWT not in base64url format");return{header:JSON.parse(Hw(t[0])),payload:JSON.parse(Hw(t[1])),signature:vo(t[2]),raw:{header:t[0],payload:t[1]}}}async function vL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yL(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function xL(e){return("0"+e.toString(16)).substr(-2)}function bL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,xL).join("")}async function wL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function _L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(e,t,r=!1){const n=bL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gs(e,`${t}-code-verifier`,a);const i=await _L(n);return[i,n===i?"plain":"s256"]}const jL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SL(e){const t=e.headers.get(av);if(!t||!t.match(jL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function NL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(e){if(!CL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ym(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EL(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function qw(e){return JSON.parse(JSON.stringify(e))}const qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PL=[502,503,504];async function Vw(e){var t;if(!gL(e))throw new iv(qi(e),0);if(PL.includes(e.status))throw new iv(qi(e),e.status);let r;try{r=await e.json()}catch(i){throw new Qi(qi(i),i)}let n;const a=SL(e);if(a&&a.getTime()>=eC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zw(qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new zw(qi(r),e.status,r.weak_password.reasons);throw new aL(qi(r),e.status||500,n)}const OL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function xe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[av]||(i[av]=eC["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await AL(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function AL(e,t,r,n,a,i){const s=OL(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new iv(qi(c),0)}if(o.ok||await Vw(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Vw(c)}}function Pn(e){var t;let r=null;IL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gw(e){const t=Pn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ii(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TL(e){return{data:e,error:null}}function DL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=qo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Yw(e){return e}function IL(e){return e.access_token&&e.refresh_token&&e.expires_in}const xm=["global","local","others"];class RL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=xm[0]){if(xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xm.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ii})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:DL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ii})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$s(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ii})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$s(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ii})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$s(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ii})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$s(t.userId);try{const{data:r,error:n}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$s(t.userId),$s(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function Xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Fs={debug:!!(globalThis&&rC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ML extends aC{}async function LL(e,t,r){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ML(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $L(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FL(e){return parseInt(e,16)}function BL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function UL(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=iC(e.address),g=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}x+=w}return`${v}
${x}`}class _t extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ef extends _t{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function zL({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _t({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(sC(s)){if(i.rp.id!==s)return new _t({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function WL({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _t({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sC(n)){if(r.rpId!==n)return new _t({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class KL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const HL=new KL;function qL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=qo(e,["challenge","user","excludeCredentials"]),i=vo(t).buffer,s=Object.assign(Object.assign({},r),{id:vo(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:vo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function VL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=qo(e,["challenge","allowCredentials"]),a=vo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:vo(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function GL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:rs(new Uint8Array(e.response.attestationObject)),clientDataJSON:rs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:rs(new Uint8Array(a.authenticatorData)),clientDataJSON:rs(new Uint8Array(a.clientDataJSON)),signature:rs(new Uint8Array(a.signature)),userHandle:a.userHandle?rs(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jw(){var e,t;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function XL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:zL({error:t,options:e})}}}async function JL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:WL({error:t,options:e})}}}const QL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=tf(o,s):n[i]=tf(s)}else n[i]=s}return n}function e3(e,t){return tf(QL,e,t||{})}function t3(e,t){return tf(ZL,e,t||{})}class r3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=a??HL.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=e3(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await XL({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=t3(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await JL(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new Qi("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mc("rpId is required for WebAuthn authentication")};try{if(!Jw())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new Qi("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mc("rpId is required for WebAuthn registration")};try{if(!Jw())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return fe(s)?{data:null,error:s}:{data:null,error:new Qi("Unexpected error in register",s)}}}}$L();const n3={url:Z4,storageKey:eL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Qw(e,t,r){return await r()}const Bs={};class gc{get jwks(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},n3),t);if(this.storageKey=i.storageKey,this.instanceID=(r=gc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Qt()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nC(i.fetch),this.lock=i.lock||Qw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LL:this.lock=Qw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Z2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Qt()&&(r=mL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?this._returnResult({error:r}):this._returnResult({error:new Qi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pn}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ls(this.storage,this.storageKey)),i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Pn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pn})}else throw new $u("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gw})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gw})}else throw new $u("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ms;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:x,options:w}=t;let b;if(Qt())if(typeof v=="object")b=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")b=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=iC(j[0]);let N=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const E=await b.request({method:"eth_chainId"});N=FL(E)}const k={domain:_.host,address:S,statement:x,uri:_.href,version:"1",chainId:N,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=UL(k),g=await b.request({method:"personal_sign",params:[BL(p),S]})}try{const{data:y,error:v}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Pn});if(v)throw v;if(!y||!y.session||!y.user){const x=new Ms;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(fe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,s,o,c,u,d,f,h,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let _;if(Qt())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:v,error:x}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:rs(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Pn});if(x)throw x;if(!v||!v.session||!v.user){const w=new Ms;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(fe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Pn});if(await Ja(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new Ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ms;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ls(this.storage,this.storageKey));const{error:f}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $u("You must provide either an email or phone number.")}catch(o){if(fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Pn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Ls(this.storage,this.storageKey));const u=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:TL});return!((i=u.data)===null||i===void 0)&&i.url&&Qt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(fe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zr;const{error:a}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(fe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new $u("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ui(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=ym()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=EL(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ii}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ii})})}catch(r){if(fe(r))return sL(r)&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new zr;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ls(this.storage,this.storageKey));const{data:u,error:d}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:ii});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(fe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=vm(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new zr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qt())throw new Fu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new Fu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(fe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(iL(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=pL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ls(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(fe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(fe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,f=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ms}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yL(async a=>(a>0&&await vL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&gm(i)&&Date.now()+s-n<Vs})}catch(n){if(this._debug(r,"error",n),fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ui(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Gs(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:ym()}else if(a&&!a.user&&!a.user){const s=await Ui(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Ja(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,a)):a.user=ym()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${mm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),gm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new xh;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new zr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),fe(i)){const s={data:null,error:i};return gm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=qw(a);await Gs(this.storage,this.storageKey,i)}else{const a=qw(r);await Gs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ja(this.storage,this.storageKey),await Ja(this.storage,this.storageKey+"-code-verifier"),await Ja(this.storage,this.storageKey+"-user"),this.userStorage&&await Ja(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vs}ms, refresh threshold is ${nv} ticks`),a<=nv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Ls(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GL(t.webauthn.credential_response):YL(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:qL(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:VL(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vm(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zr})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zr});const s=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Qt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zr});const s=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Qt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new zr})})}catch(t){if(fe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new zr})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+nL>a)return n;const{data:i,error:s}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=vm(n);r!=null&&r.allowExpired||kL(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=NL(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,fL(`${o}.${c}`)))throw new sv("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}}gc.nextInstanceID={};const a3=gc;class i3 extends a3{constructor(t){super(t)}}class s3{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=Q4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:K4,realtime:q4,auth:Object.assign(Object.assign({},H4),{storageKey:c}),global:W4},d=J4(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Y4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Z5(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new B4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new X5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i3({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new g4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const o3=(e,t,r)=>new s3(e,t,r);function l3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}l3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oC="https://gomwhbewjdcllejifdyf.supabase.co",lC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvbXdoYmV3amRjbGxlamlmZHlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MTUzNjYsImV4cCI6MjA3OTA5MTM2Nn0.fvIW61htbjtfkT5ZP4FGBTw96KSGZbr9qxSJiMDp-qQ",bm=[!oC,!lC].filter(Boolean);if(bm.length>0){const e=`Missing Supabase environment variable${bm.length>1?"s":""}: ${bm.join(", ")}. Copy .env.example to .env and provide your Supabase project credentials.`;throw new Error(e)}const H=o3(oC,lC);async function Zw(e){const{data:t}=await H.from("user_settings").select("global_role, workspace_id").eq("user_id",e).maybeSingle(),{data:r}=await H.from("user_teams").select("team_id, role").eq("user_id",e).maybeSingle();return t?{userId:e,globalRole:t.global_role,teamId:(r==null?void 0:r.team_id)||null,teamRole:(r==null?void 0:r.role)||null,workspaceId:t.workspace_id||null,isActive:t.is_active??!0}:null}async function Oo(e){if(e.globalRole==="admin"||e.globalRole==="sales_manager"){const{data:t}=await H.from("user_settings").select("user_id");return(t==null?void 0:t.map(r=>r.user_id))||[]}if(e.globalRole==="team_lead"&&e.teamId){const{data:t}=await H.from("user_teams").select("user_id").eq("team_id",e.teamId);return(t==null?void 0:t.map(r=>r.user_id))||[e.userId]}return[e.userId]}function cC(e){return e.globalRole==="admin"}function c3(e){return e.teamRole==="team_lead"||e.globalRole==="team_lead"}function u3(e){return e.globalRole==="sales_manager"||e.globalRole==="admin"}function e_(e){return!!e&&e.globalRole==="admin"}function wi(e){if(!e)return"";switch(e){case"admin":return"Admin";case"sales_manager":return"Sales Manager";case"team_lead":return"Team Lead";case"agent":return"Agent";default:return""}}function uC(e){return e?["admin","sales_manager","team_lead"].includes(e.globalRole):!1}function d3(e){return(e==null?void 0:e.globalRole)==="admin"}function dC(e){return(e==null?void 0:e.globalRole)==="admin"}const fC=m.createContext(void 0);function f3({children:e}){const[t,r]=m.useState(null),[n,a]=m.useState(null),[i,s]=m.useState(!0);m.useEffect(()=>{H.auth.getSession().then(async({data:{session:f}})=>{if(r((f==null?void 0:f.user)??null),f!=null&&f.user){const h=await Zw(f.user.id);a(h)}s(!1)});const{data:{subscription:d}}=H.auth.onAuthStateChange((f,h)=>{(async()=>{if(r((h==null?void 0:h.user)??null),h!=null&&h.user){const p=await Zw(h.user.id);a(p)}else a(null)})()});return()=>d.unsubscribe()},[]);const o=async(d,f,h,p)=>{if(!p)return{error:{message:"An invite code is required to create an account"}};const{data:g,error:y}=await H.auth.signUp({email:d,password:f,options:{data:{name:h}}});if(y||!g.user)return{error:y};const{error:v}=await H.rpc("accept_workspace_invite",{invite_token:p});return v?{error:{message:v.message}}:{error:null}},c=async(d,f)=>{const{error:h}=await H.auth.signInWithPassword({email:d,password:f});return{error:h}},u=async()=>{await H.auth.signOut()};return l.jsx(fC.Provider,{value:{user:t,roleInfo:n,loading:i,signUp:o,signIn:c,signOut:u},children:e})}function pt(){const e=m.useContext(fC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>m.createElement("svg",{ref:d,...h3,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${p3(e)}`,o].join(" "),...u},[...t.map(([f,h])=>m.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=le("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=le("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=le("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=le("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=le("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=le("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=le("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=le("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=le("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=le("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=le("Trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function H3(){const{user:e,roleInfo:t}=pt(),r=Ho(),[n,a]=m.useState(!1),[i,s]=m.useState(""),[o,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{const b=_=>{p.current&&!p.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),m.useEffect(()=>{const _=setTimeout(async()=>{if(!i.trim()||i.length<2){c([]),d(!1);return}h(!0),d(!0);try{const{data:j,error:S}=await H.from("deals").select("id, client_name, property_address, client_email, client_phone, status, expected_sale_price").eq("user_id",e==null?void 0:e.id).or(`client_name.ilike.%${i}%,property_address.ilike.%${i}%,client_email.ilike.%${i}%,client_phone.ilike.%${i}%`).limit(5);if(S)throw S;c(j||[])}catch(j){console.error("Search error:",j),c([])}finally{h(!1)}},300);return()=>clearTimeout(_)},[i,e==null?void 0:e.id]);const g=b=>{s(""),d(!1),r("/pipeline"),setTimeout(()=>{const _=document.querySelector(`[data-deal-id="${b}"]`);_&&(_.scrollIntoView({behavior:"smooth",block:"center"}),_.classList.add("ring-2","ring-[rgb(0,122,255)]","ring-offset-2"),setTimeout(()=>{_.classList.remove("ring-2","ring-[rgb(0,122,255)]","ring-offset-2")},2e3))},100)},y=()=>{s(""),c([]),d(!1)},v=async()=>{await H.auth.signOut(),r("/login")},x=()=>{r("/pipeline?newDeal=true")},w=wi(t==null?void 0:t.globalRole);return l.jsx("header",{className:"sticky top-0 z-50 border-b border-white/30 bg-white/75 backdrop-blur-2xl shadow-[0_12px_30px_rgba(15,23,42,0.08)]",children:l.jsxs("div",{className:"mx-auto flex h-16 w-full items-center gap-4 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-semibold text-gray-900 shadow-[0_2px_8px_rgba(15,23,42,0.08)]",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-8 w-auto"})}),l.jsx("div",{className:"hidden lg:flex w-96",ref:p,children:l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:l.jsx(x0,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Search deals, people, addresses...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2 pl-10 pr-10 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15"}),i&&l.jsx("button",{onClick:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(xs,{className:"h-4 w-4"})}),u&&l.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-3 rounded-2xl border border-white/70 bg-white/95 shadow-[0_15px_40px_rgba(15,23,42,0.16)]",children:f?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"Searching"}):o.length>0?o.map(b=>l.jsxs("button",{onClick:()=>g(b.id),className:"flex w-full items-start justify-between px-4 py-3 text-left hover:bg-gray-50",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:b.client_name}),l.jsx("p",{className:"truncate text-xs text-gray-500",children:b.property_address}),(b.client_email||b.client_phone)&&l.jsx("p",{className:"truncate text-xs text-gray-400",children:b.client_email||b.client_phone})]}),l.jsxs("div",{className:"ml-3 flex flex-col items-end gap-1",children:[l.jsx("span",{className:"rounded-full bg-blue-50 px-2 py-0.5 text-xs font-medium text-blue-700",children:b.status.replace(/_/g," ")}),l.jsxs("span",{className:"text-xs text-gray-500",children:["$",b.expected_sale_price.toLocaleString()]})]})]},b.id)):l.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:["No deals found matching ",i,"."]})})]})})]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsxs("button",{onClick:x,className:"hidden sm:inline-flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-medium text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/40 hover:text-[var(--app-accent)]",children:[l.jsx(ji,{className:"h-4 w-4"}),"New deal"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>a(b=>!b),className:"flex items-center gap-2 rounded-2xl border border-white/50 bg-white/80 px-2.5 py-1.5 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:l.jsx(_h,{className:"h-4 w-4"})}),l.jsxs("div",{className:"hidden text-left sm:block",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-900",children:e==null?void 0:e.email}),l.jsx("p",{className:"text-[11px] text-gray-500",children:w})]})]}),n&&l.jsxs("div",{className:"absolute right-0 mt-3 w-64 rounded-2xl border border-white/70 bg-white/95 shadow-[0_25px_60px_rgba(15,23,42,0.16)]",children:[l.jsxs("div",{className:"border-b border-gray-100 px-4 py-3 space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e==null?void 0:e.email}),l.jsxs("p",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-600",children:w}),"Signed in"]})]}),l.jsxs("button",{onClick:()=>{a(!1),r("/settings")},className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50",children:[l.jsx(wh,{className:"h-4 w-4"}),l.jsx("span",{children:"Personal Settings"})]}),l.jsxs("button",{onClick:v,className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-red-600 transition hover:bg-red-50",children:[l.jsx(O3,{className:"h-4 w-4"}),l.jsx("span",{children:"Sign out"})]})]})]})]})]})})}const q3=[{icon:N3,label:"Dashboard",path:"/"},{icon:W3,label:"Pipeline",path:"/pipeline"},{icon:mC,label:"Tasks",path:"/tasks"},{icon:y3,label:"Analytics",path:"/analytics"}],V3=[{icon:vs,label:"Luma AI",path:"/luma"}],G3=[{icon:wh,label:"Settings",path:"/workspace-settings"}];function Y3({isCollapsed:e,onToggle:t}){const r=ua(),n=Ho(),a=(i,s)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`flex items-center gap-3 px-2 ${e?"justify-center":"justify-start"}`,children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-[var(--app-accent)]","aria-hidden":!0}),!e&&l.jsx("span",{className:"text-[12px] font-semibold uppercase tracking-[0.28em] text-gray-500",children:i})]}),l.jsx("div",{className:"space-y-1",children:s.map(o=>{const c=o.icon,u=r.pathname===o.path,d=e?"justify-center px-2":"gap-3 px-4 text-left";return l.jsxs("button",{onClick:()=>n(o.path),"aria-label":o.label,title:o.label,className:`group flex w-full items-center rounded-2xl border border-transparent py-3 text-[15px] font-semibold transition-all duration-200 ${d} ${u?"bg-[rgba(10,132,255,0.12)] text-[var(--app-accent)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.2)] border-[rgba(10,132,255,0.2)]":"text-gray-600 hover:-translate-y-[1px] hover:border-[rgba(10,132,255,0.25)] hover:bg-[rgba(10,132,255,0.06)] hover:text-[var(--app-accent)] hover:shadow-[0_12px_30px_rgba(15,23,42,0.08)]"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(10,132,255,0.35)]`,children:[l.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-2xl border ${u?"border-[rgba(10,132,255,0.3)] bg-white/80 text-[var(--app-accent)]":"border-white/60 bg-white/90 text-gray-700 group-hover:border-[rgba(10,132,255,0.25)] group-hover:bg-white group-hover:text-[var(--app-accent)]"}`,children:l.jsx(c,{className:"h-[18px] w-[18px]",strokeWidth:2})}),!e&&l.jsx("span",{className:"whitespace-nowrap",children:o.label})]},o.path)})})]});return l.jsx("nav",{className:`sticky top-24 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/80 shadow-[0_15px_40px_rgba(15,23,42,0.12)] transition-all duration-300 ${e?"p-3":"p-4"}`,children:l.jsxs("div",{className:"space-y-6",children:[a("Primary",q3),a("Intelligence",V3),l.jsx("div",{className:`pt-4 ${e?"":"border-t border-[var(--app-border)]"}`,children:a("Workspace",G3)}),l.jsx("div",{className:`pt-4 ${e?"":"border-t border-[var(--app-border)]"}`,children:l.jsxs("button",{type:"button",onClick:t,"aria-pressed":!e,"aria-expanded":!e,"aria-label":e?"Expand sidebar":"Collapse sidebar",className:`group flex w-full items-center rounded-2xl py-3 text-[15px] font-semibold transition ${e?"justify-center px-2":"gap-3 px-4 text-left"} text-gray-700 hover:bg-white/70 hover:text-[var(--app-accent)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-accent)]`,children:[l.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-white/70 bg-white/95 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.5)] transition-colors group-hover:border-[rgba(10,132,255,0.3)] group-hover:text-[var(--app-accent)]",children:e?l.jsx(gC,{className:"h-5 w-5 transition group-hover:text-[var(--app-accent)]"}):l.jsx(w3,{className:"h-5 w-5 transition group-hover:text-[var(--app-accent)]"})}),!e&&l.jsx("span",{className:"whitespace-nowrap",children:"Hide"})]})})]})})}function X3({children:e}){const[t,r]=m.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_var(--app-bg-start),_var(--app-bg-mid)_45%,_var(--app-bg-end))] text-[var(--app-text-primary)] overflow-x-hidden",children:[l.jsx(H3,{}),l.jsxs("div",{className:"relative mx-auto flex w-full flex-col gap-6 px-4 pb-10 pt-6 lg:flex-row lg:px-8",children:[l.jsx("div",{className:`transition-[width] duration-300 ease-in-out w-full lg:flex-shrink-0 ${t?"lg:w-20":"lg:w-64"}`,children:l.jsx(Y3,{isCollapsed:t,onToggle:()=>r(n=>!n)})}),l.jsx("main",{className:"flex-1 overflow-x-hidden transition-[margin] duration-300 ease-in-out",children:l.jsx("div",{className:"min-h-[calc(100vh-10rem)] rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/85 p-4 shadow-[0_10px_50px_rgba(15,23,42,0.08)] sm:p-6 lg:p-8",children:e})})]})]})}function J3({onToggle:e}){const[t,r]=m.useState(""),[n,a]=m.useState(""),[i,s]=m.useState(!1),[o,c]=m.useState(""),u=async d=>{d.preventDefault(),s(!0),c("");const{error:f}=await H.auth.signInWithPassword({email:t,password:n});f&&c(f.message),s(!1)};return l.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),l.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Sign in to PipelineIQ"}),l.jsx("p",{className:"text-center hig-text-caption",children:"Welcome back! Please sign in to continue."})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"hig-card p-8",children:[l.jsxs("form",{onSubmit:u,className:"space-y-5",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:o}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"hig-label",children:"Email address"}),l.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:d=>r(d.target.value),className:"hig-input",placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:d=>a(d.target.value),className:"hig-input",placeholder:"Enter your password"})]}),l.jsx("button",{type:"submit",disabled:i,className:"hig-btn-primary w-full",children:i?"Signing in...":"Sign in"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200/60"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to PipelineIQ?"})})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Create an account"})})]})]})})]})}function PC({onToggle:e,presetToken:t}){const{signUp:r}=pt(),[n]=r2(),[a,i]=m.useState(""),[s,o]=m.useState(t||n.get("invite")||""),[c,u]=m.useState(null),[d,f]=m.useState(""),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(""),[w,b]=m.useState(!1),[_,j]=m.useState(!1);m.useEffect(()=>{t&&t!==s&&o(t)},[t]);const S=c&&!_&&!w,N=async P=>{if(!P){u(null),f(""),p("");return}j(!0),f(""),u(null),x("");const{data:O,error:C}=await H.rpc("get_invite_preview",{invite_token:P});if(C){f("Unable to validate invite. Please check the code or contact your admin."),j(!1);return}const F=Array.isArray(O)?O[0]:O;if(!F){f("No invitation found for this code."),j(!1);return}if(F.status!=="pending"){f("This invitation has already been used or canceled."),j(!1);return}if(new Date(F.expires_at).getTime()<Date.now()){f("This invitation has expired. Please ask your admin to resend."),j(!1);return}u(F),p(F.email),f(""),j(!1)};m.useEffect(()=>{const P=setTimeout(()=>{s&&s.length>=6?N(s.trim()):(u(null),p(""))},300);return()=>clearTimeout(P)},[s]);const k=async P=>{if(P.preventDefault(),x(""),b(!0),!c||!s){x("A valid invite code is required to join the workspace."),b(!1);return}if(g.length<6){x("Password must be at least 6 characters"),b(!1);return}const{error:O}=await r(h,g,a,s.trim());O&&x(O.message),b(!1)},E=m.useMemo(()=>c?c.workspace_name||"Workspace":"",[c]);return l.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),l.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Accept your invitation"}),l.jsx("p",{className:"text-center hig-text-caption",children:"PipelineIQ access is invite-only. Paste the invite code from your email to continue."})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"hig-card p-8",children:[l.jsxs("form",{onSubmit:k,className:"space-y-5",children:[v&&l.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:v}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"invite",className:"hig-label flex items-center justify-between",children:["Invitation code",t&&l.jsx("span",{className:"text-[11px] text-gray-500",children:"Autofilled from your link"})]}),l.jsx("input",{id:"invite",type:"text",required:!0,value:s,onChange:P=>o(P.target.value),className:"hig-input uppercase tracking-[0.3em]",placeholder:"Paste your invite code"}),d&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:d})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",value:h,readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsx("input",{type:"text",value:c?wi(c.intended_role):"",readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]})]}),c&&l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/70 px-4 py-3 text-sm text-gray-600",children:["Joining ",l.jsx("span",{className:"font-semibold text-gray-900",children:E})," as"," ",l.jsx("span",{className:"font-semibold text-gray-900",children:wi(c.intended_role)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"hig-label",children:"Full name"}),l.jsx("input",{id:"name",type:"text",required:!0,value:a,onChange:P=>i(P.target.value),className:"hig-input",placeholder:"John Doe",disabled:!c})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:g,onChange:P=>y(P.target.value),className:"hig-input",placeholder:"At least 6 characters",disabled:!c})]}),l.jsx("button",{type:"submit",disabled:!S,className:"hig-btn-primary w-full",children:w?"Creating account...":"Join workspace"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200/60"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Back to sign in"}),l.jsx("p",{className:"mt-3 text-center text-xs text-gray-500",children:"Dont have an invite? Contact an admin in your workspace."})]})]})]})})]})}function Q3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const jh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function b0(e){return"nodeType"in e}function _r(e){var t,r;return e?Yo(e)?e:b0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function w0(e){const{Document:t}=_r(e);return e instanceof t}function Wc(e){return Yo(e)?!1:e instanceof _r(e).HTMLElement}function OC(e){return e instanceof _r(e).SVGElement}function Xo(e){return e?Yo(e)?e.document:b0(e)?w0(e)?e:Wc(e)||OC(e)?e.ownerDocument:document:document:document}const Fn=jh?m.useLayoutEffect:m.useEffect;function Sh(e){const t=m.useRef(e);return Fn(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function Z3(){const e=m.useRef(null),t=m.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function bc(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return Fn(()=>{r.current!==e&&(r.current=e)},t),r}function Kc(e,t){const r=m.useRef();return m.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function rf(e){const t=Sh(e),r=m.useRef(null),n=m.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function nf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let wm={};function Hc(e,t){return m.useMemo(()=>{if(t)return t;const r=wm[e]==null?0:wm[e]+1;return wm[e]=r,e+"-"+r},[e,t])}function AC(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,s)=>{const o=Object.entries(s);for(const[c,u]of o){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const yo=AC(1),af=AC(-1);function e$(e){return"clientX"in e&&"clientY"in e}function kh(e){if(!e)return!1;const{KeyboardEvent:t}=_r(e.target);return t&&e instanceof t}function t$(e){if(!e)return!1;const{TouchEvent:t}=_r(e.target);return t&&e instanceof t}function sf(e){if(t$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return e$(e)?{x:e.clientX,y:e.clientY}:null}const Bn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Bn.Translate.toString(e),Bn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),r_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function r$(e){return e.matches(r_)?e:e.querySelector(r_)}const n$={display:"none"};function a$(e){let{id:t,value:r}=e;return rt.createElement("div",{id:t,style:n$},r)}function i$(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return rt.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function s$(){const[e,t]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const TC=m.createContext(null);function o$(e){const t=m.useContext(TC);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function l$(){const[e]=m.useState(()=>new Set),t=m.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[m.useCallback(n=>{let{type:a,event:i}=n;e.forEach(s=>{var o;return(o=s[a])==null?void 0:o.call(s,i)})},[e]),t]}const c$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},u$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function d$(e){let{announcements:t=u$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=c$}=e;const{announce:i,announcement:s}=s$(),o=Hc("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),o$(m.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;i(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;i(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!c)return null;const d=rt.createElement(rt.Fragment,null,rt.createElement(a$,{id:n,value:a.draggable}),rt.createElement(i$,{id:o,announcement:s}));return r?ci.createPortal(d,r):d}var It;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(It||(It={}));function of(){}function Nh(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ch(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Un=Object.freeze({x:0,y:0});function DC(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function f$(e,t){const r=sf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function IC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function h$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function p$(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function m$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function n_(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const _0=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=n_(t,t.left,t.top),i=[];for(const s of n){const{id:o}=s,c=r.get(o);if(c){const u=DC(n_(c),a);i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(IC)};function g$(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=a-n,o=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=s*o,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const v$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:s}=i,o=r.get(s);if(o){const c=g$(o,t);c>0&&a.push({id:s,data:{droppableContainer:i,value:c}})}}return a.sort(h$)};function y$(e,t){const{top:r,left:n,bottom:a,right:i}=t;return r<=e.y&&e.y<=a&&n<=e.x&&e.x<=i}const x$=e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:n}=e;if(!n)return[];const a=[];for(const i of t){const{id:s}=i,o=r.get(s);if(o&&y$(n,o)){const u=p$(o).reduce((f,h)=>f+DC(n,h),0),d=Number((u/4).toFixed(4));a.push({id:s,data:{droppableContainer:i,value:d}})}}return a.sort(IC)};function b$(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function RC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Un}function w$(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,o)=>({...s,top:s.top+e*o.y,bottom:s.bottom+e*o.y,left:s.left+e*o.x,right:s.right+e*o.x}),{...r})}}const _$=w$(1);function MC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function j$(e,t,r){const n=MC(t);if(!n)return e;const{scaleX:a,scaleY:i,x:s,y:o}=n,c=e.left-s-(1-a)*parseFloat(r),u=e.top-o-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const S$={ignoreTransform:!1};function Jo(e,t){t===void 0&&(t=S$);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=_r(e).getComputedStyle(e);u&&(r=j$(r,u,d))}const{top:n,left:a,width:i,height:s,bottom:o,right:c}=r;return{top:n,left:a,width:i,height:s,bottom:o,right:c}}function a_(e){return Jo(e,{ignoreTransform:!0})}function k$(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function N$(e,t){return t===void 0&&(t=_r(e).getComputedStyle(e)),t.position==="fixed"}function C$(e,t){t===void 0&&(t=_r(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function j0(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(w0(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Wc(a)||OC(a)||r.includes(a))return r;const i=_r(e).getComputedStyle(a);return a!==e&&C$(a,i)&&r.push(a),N$(a,i)?r:n(a.parentNode)}return e?n(e):r}function LC(e){const[t]=j0(e,1);return t??null}function _m(e){return!jh||!e?null:Yo(e)?e:b0(e)?w0(e)||e===Xo(e).scrollingElement?window:Wc(e)?e:null:null}function $C(e){return Yo(e)?e.scrollX:e.scrollLeft}function FC(e){return Yo(e)?e.scrollY:e.scrollTop}function lv(e){return{x:$C(e),y:FC(e)}}var Wt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Wt||(Wt={}));function BC(e){return!jh||!e?!1:e===document.scrollingElement}function UC(e){const t={x:0,y:0},r=BC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,o=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:s,isRight:o,maxScroll:n,minScroll:t}}const E$={x:.2,y:.2};function P$(e,t,r,n,a){let{top:i,left:s,right:o,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=E$);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=UC(e),p={x:0,y:0},g={x:0,y:0},y={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+y.height?(p.y=Wt.Backward,g.y=n*Math.abs((t.top+y.height-i)/y.height)):!d&&c>=t.bottom-y.height&&(p.y=Wt.Forward,g.y=n*Math.abs((t.bottom-y.height-c)/y.height)),!h&&o>=t.right-y.width?(p.x=Wt.Forward,g.x=n*Math.abs((t.right-y.width-o)/y.width)):!f&&s<=t.left+y.width&&(p.x=Wt.Backward,g.x=n*Math.abs((t.left+y.width-s)/y.width)),{direction:p,speed:g}}function O$(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function zC(e){return e.reduce((t,r)=>yo(t,lv(r)),Un)}function A$(e){return e.reduce((t,r)=>t+$C(r),0)}function T$(e){return e.reduce((t,r)=>t+FC(r),0)}function WC(e,t){if(t===void 0&&(t=Jo),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);LC(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const D$=[["x",["left","right"],A$],["y",["top","bottom"],T$]];class S0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=j0(r),a=zC(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,o]of D$)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=o(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ql{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function I$(e){const{EventTarget:t}=_r(e);return e instanceof t?e:Xo(e)}function jm(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var fn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(fn||(fn={}));function i_(e){e.preventDefault()}function R$(e){e.stopPropagation()}var Le;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Le||(Le={}));const KC={start:[Le.Space,Le.Enter],cancel:[Le.Esc],end:[Le.Space,Le.Enter,Le.Tab]},M$=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Le.Right:return{...r,x:r.x+25};case Le.Left:return{...r,x:r.x-25};case Le.Down:return{...r,y:r.y+25};case Le.Up:return{...r,y:r.y-25}}};class HC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new ql(Xo(r)),this.windowListeners=new ql(_r(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&WC(n),r(Un)}handleKeyDown(t){if(kh(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=KC,coordinateGetter:s=M$,scrollBehavior:o="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Un;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=af(f,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const y of g){const v=t.code,{isTop:x,isRight:w,isLeft:b,isBottom:_,maxScroll:j,minScroll:S}=UC(y),N=O$(y),k={x:Math.min(v===Le.Right?N.right-N.width/2:N.right,Math.max(v===Le.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(v===Le.Down?N.bottom-N.height/2:N.bottom,Math.max(v===Le.Down?N.top:N.top+N.height/2,f.y))},E=v===Le.Right&&!w||v===Le.Left&&!b,P=v===Le.Down&&!_||v===Le.Up&&!x;if(E&&k.x!==f.x){const O=y.scrollLeft+h.x,C=v===Le.Right&&O<=j.x||v===Le.Left&&O>=S.x;if(C&&!h.y){y.scrollTo({left:O,behavior:o});return}C?p.x=y.scrollLeft-O:p.x=v===Le.Right?y.scrollLeft-j.x:y.scrollLeft-S.x,p.x&&y.scrollBy({left:-p.x,behavior:o});break}else if(P&&k.y!==f.y){const O=y.scrollTop+h.y,C=v===Le.Down&&O<=j.y||v===Le.Up&&O>=S.y;if(C&&!h.x){y.scrollTo({top:O,behavior:o});return}C?p.y=y.scrollTop-O:p.y=v===Le.Down?y.scrollTop-j.y:y.scrollTop-S.y,p.y&&y.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(t,yo(af(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}HC.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=KC,onActivation:a}=t,{active:i}=r;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const o=i.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function s_(e){return!!(e&&"distance"in e)}function o_(e){return!!(e&&"delay"in e)}class k0{constructor(t,r,n){var a;n===void 0&&(n=I$(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:s}=i;this.props=t,this.events=r,this.document=Xo(s),this.documentListeners=new ql(this.document),this.listeners=new ql(n),this.windowListeners=new ql(_r(s)),this.initialCoordinates=(a=sf(i))!=null?a:Un,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.DragStart,i_),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),this.windowListeners.add(fn.ContextMenu,i_),this.documentListeners.add(fn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(o_(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(s_(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(fn.Click,R$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!a)return;const c=(r=sf(t))!=null?r:Un,u=af(a,c);if(!n&&o){if(s_(o)){if(o.tolerance!=null&&jm(u,o.tolerance))return this.handleCancel();if(jm(u,o.distance))return this.handleStart()}if(o_(o)&&jm(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Le.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const L$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qo extends k0{constructor(t){const{event:r}=t,n=Xo(r.target);super(t,L$,n)}}Qo.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const $$={move:{name:"mousemove"},end:{name:"mouseup"}};var cv;(function(e){e[e.RightClick=2]="RightClick"})(cv||(cv={}));class F$ extends k0{constructor(t){super(t,$$,Xo(t.event.target))}}F$.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===cv.RightClick?!1:(n==null||n({event:r}),!0)}}];const Sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class B$ extends k0{constructor(t){super(t,Sm)}static setup(){return window.addEventListener(Sm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Sm.move.name,t)};function t(){}}}B$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var Vl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Vl||(Vl={}));var lf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(lf||(lf={}));function U$(e){let{acceleration:t,activator:r=Vl.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:s=5,order:o=lf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=W$({delta:f,disabled:!i}),[g,y]=Z3(),v=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),w=m.useMemo(()=>{switch(r){case Vl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vl.DraggableRect:return a}},[r,a,c]),b=m.useRef(null),_=m.useCallback(()=>{const S=b.current;if(!S)return;const N=v.current.x*x.current.x,k=v.current.y*x.current.y;S.scrollBy(N,k)},[]),j=m.useMemo(()=>o===lf.TreeOrder?[...u].reverse():u,[o,u]);m.useEffect(()=>{if(!i||!u.length||!w){y();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const N=u.indexOf(S),k=d[N];if(!k)continue;const{direction:E,speed:P}=P$(S,k,w,t,h);for(const O of["x","y"])p[O][E[O]]||(P[O]=0,E[O]=0);if(P.x>0||P.y>0){y(),b.current=S,g(_,s),v.current=P,x.current=E;return}}v.current={x:0,y:0},x.current={x:0,y:0},y()},[t,_,n,y,i,s,JSON.stringify(w),JSON.stringify(p),g,u,j,d,JSON.stringify(h)])}const z$={x:{[Wt.Backward]:!1,[Wt.Forward]:!1},y:{[Wt.Backward]:!1,[Wt.Forward]:!1}};function W$(e){let{delta:t,disabled:r}=e;const n=nf(t);return Kc(a=>{if(r||!n||!a)return z$;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Wt.Backward]:a.x[Wt.Backward]||i.x===-1,[Wt.Forward]:a.x[Wt.Forward]||i.x===1},y:{[Wt.Backward]:a.y[Wt.Backward]||i.y===-1,[Wt.Forward]:a.y[Wt.Forward]||i.y===1}}},[r,t,n])}function K$(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Kc(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function H$(e,t){return m.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...r,...i]},[]),[e,t])}var wc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wc||(wc={}));var uv;(function(e){e.Optimized="optimized"})(uv||(uv={}));const l_=new Map;function q$(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,s]=m.useState(null),{frequency:o,measure:c,strategy:u}=a,d=m.useRef(e),f=v(),h=bc(f),p=m.useCallback(function(x){x===void 0&&(x=[]),!h.current&&s(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[h]),g=m.useRef(null),y=Kc(x=>{if(f&&!r)return l_;if(!x||x===l_||d.current!==e||i!=null){const w=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const _=b.node.current,j=_?new S0(c(_),_):null;b.rect.current=j,j&&w.set(b.id,j)}return w}return x},[e,i,r,f,c]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{f||p()},[r,f]),m.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),m.useEffect(()=>{f||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,f,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case wc.Always:return!1;case wc.BeforeDragging:return r;default:return!r}}}function N0(e,t){return Kc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function V$(e,t){return N0(e,t)}function G$(e){let{callback:t,disabled:r}=e;const n=Sh(t),a=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Eh(e){let{callback:t,disabled:r}=e;const n=Sh(t),a=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Y$(e){return new S0(Jo(e),e)}function c_(e,t,r){t===void 0&&(t=Y$);const[n,a]=m.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=G$({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),o=Eh({callback:i});return Fn(()=>{i(),e?(o==null||o.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[e]),n}function X$(e){const t=N0(e);return RC(e,t)}const u_=[];function J$(e){const t=m.useRef(e),r=Kc(n=>e?n&&n!==u_&&e&&t.current&&e.parentNode===t.current.parentNode?n:j0(e):u_,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function Q$(e){const[t,r]=m.useState(null),n=m.useRef(e),a=m.useCallback(i=>{const s=_m(i.target);s&&r(o=>o?(o.set(s,lv(s)),new Map(o)):null)},[]);return m.useEffect(()=>{const i=n.current;if(e!==i){s(i);const o=e.map(c=>{const u=_m(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,lv(u)]):null}).filter(c=>c!=null);r(o.length?new Map(o):null),n.current=e}return()=>{s(e),s(i)};function s(o){o.forEach(c=>{const u=_m(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>yo(i,s),Un):zC(e):Un,[e,t])}function d_(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const n=e!==Un;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?af(e,r.current):Un}function Z$(e){m.useEffect(()=>{if(!jh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function e6(e,t){return m.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=s=>{i(s,t)},r},{}),[e,t])}function qC(e){return m.useMemo(()=>e?k$(e):null,[e])}const f_=[];function t6(e,t){t===void 0&&(t=Jo);const[r]=e,n=qC(r?_r(r):null),[a,i]=m.useState(f_);function s(){i(()=>e.length?e.map(c=>BC(c)?n:new S0(t(c),c)):f_)}const o=Eh({callback:s});return Fn(()=>{o==null||o.disconnect(),s(),e.forEach(c=>o==null?void 0:o.observe(c))},[e]),a}function VC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Wc(t)?t:e}function r6(e){let{measure:t}=e;const[r,n]=m.useState(null),a=m.useCallback(u=>{for(const{target:d}of u)if(Wc(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=Eh({callback:a}),s=m.useCallback(u=>{const d=VC(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[o,c]=rf(s);return m.useMemo(()=>({nodeRef:o,rect:r,setRef:c}),[r,o,c])}const n6=[{sensor:Qo,options:{}},{sensor:HC,options:{}}],a6={current:{}},wd={draggable:{measure:a_},droppable:{measure:a_,strategy:wc.WhileDragging,frequency:uv.Optimized},dragOverlay:{measure:Jo}};class Gl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const i6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:of},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wd,measureDroppableContainers:of,windowRect:null,measuringScheduled:!1},GC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:of,draggableNodes:new Map,over:null,measureDroppableContainers:of},qc=m.createContext(GC),YC=m.createContext(i6);function s6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gl}}}function o6(e,t){switch(t.type){case It.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case It.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case It.DragEnd:case It.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case It.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Gl(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case It.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const s=new Gl(e.droppable.containers);return s.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:s}}}case It.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Gl(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function l6(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=m.useContext(qc),i=nf(n),s=nf(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!n&&i&&s!=null){if(!kh(i)||document.activeElement===i.target)return;const o=a.get(s);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=r$(d);if(f){f.focus();break}}})}},[n,t,a,s,i]),null}function XC(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function c6(e){return m.useMemo(()=>({draggable:{...wd.draggable,...e==null?void 0:e.draggable},droppable:{...wd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...wd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function u6(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=m.useRef(!1),{x:s,y:o}=typeof a=="boolean"?{x:a,y:a}:a;Fn(()=>{if(!s&&!o||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=RC(d,n);if(s||(f.x=0),o||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=LC(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,s,o,n,r])}const Ph=m.createContext({...Un,scaleX:1,scaleY:1});var ei;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ei||(ei={}));const Oh=m.memo(function(t){var r,n,a,i;let{id:s,accessibility:o,autoScroll:c=!0,children:u,sensors:d=n6,collisionDetection:f=v$,measuring:h,modifiers:p,...g}=t;const y=m.useReducer(o6,void 0,s6),[v,x]=y,[w,b]=l$(),[_,j]=m.useState(ei.Uninitialized),S=_===ei.Initialized,{draggable:{active:N,nodes:k,translate:E},droppable:{containers:P}}=v,O=N!=null?k.get(N):null,C=m.useRef({initial:null,translated:null}),F=m.useMemo(()=>{var Ke;return N!=null?{id:N,data:(Ke=O==null?void 0:O.data)!=null?Ke:a6,rect:C}:null},[N,O]),K=m.useRef(null),[ee,Q]=m.useState(null),[V,T]=m.useState(null),R=bc(g,Object.values(g)),M=Hc("DndDescribedBy",s),ae=m.useMemo(()=>P.getEnabled(),[P]),Z=c6(h),{droppableRects:ve,measureDroppableContainers:D,measuringScheduled:J}=q$(ae,{dragging:S,dependencies:[E.x,E.y],config:Z.droppable}),U=K$(k,N),G=m.useMemo(()=>V?sf(V):null,[V]),pe=Li(),A=V$(U,Z.draggable.measure);u6({activeNode:N!=null?k.get(N):null,config:pe.layoutShiftCompensation,initialRect:A,measure:Z.draggable.measure});const z=c_(U,Z.draggable.measure,A),Y=c_(U?U.parentElement:null),L=m.useRef({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=P.getNodeFor((r=L.current.over)==null?void 0:r.id),ge=r6({measure:Z.dragOverlay.measure}),Oe=(n=ge.nodeRef.current)!=null?n:U,B=S?(a=ge.rect)!=null?a:z:null,ie=!!(ge.nodeRef.current&&ge.rect),Se=X$(ie?null:z),We=qC(Oe?_r(Oe):null),Me=J$(S?_e??U:null),Gn=t6(Me),Yn=XC(p,{transform:{x:E.x-Se.x,y:E.y-Se.y,scaleX:1,scaleY:1},activatorEvent:V,active:F,activeNodeRect:z,containerNodeRect:Y,draggingNodeRect:B,over:L.current.over,overlayNodeRect:ge.rect,scrollableAncestors:Me,scrollableAncestorRects:Gn,windowRect:We}),da=G?yo(G,E):null,Ts=Q$(Me),Ds=d_(Ts),Ii=d_(Ts,[z]),Nn=yo(Yn,Ds),Lr=B?_$(B,Yn):null,Xn=F&&Lr?f({active:F,collisionRect:Lr,droppableRects:ve,droppableContainers:ae,pointerCoordinates:da}):null,Ri=m$(Xn,"id"),[Ct,Cn]=m.useState(null),Ga=ie?Yn:yo(Yn,Ii),ar=b$(Ga,(i=Ct==null?void 0:Ct.rect)!=null?i:null,z),Mi=m.useRef(null),Is=m.useCallback((Ke,Et)=>{let{sensor:Pt,options:mt}=Et;if(K.current==null)return;const Ot=k.get(K.current);if(!Ot)return;const bt=Ke.nativeEvent,Xt=new Pt({active:K.current,activeNode:Ot,event:bt,options:mt,context:L,onAbort(wt){if(!k.get(wt))return;const{onDragAbort:kr}=R.current,W={id:wt};kr==null||kr(W),w({type:"onDragAbort",event:W})},onPending(wt,an,kr,W){if(!k.get(wt))return;const{onDragPending:Ae}=R.current,He={id:wt,constraint:an,initialCoordinates:kr,offset:W};Ae==null||Ae(He),w({type:"onDragPending",event:He})},onStart(wt){const an=K.current;if(an==null)return;const kr=k.get(an);if(!kr)return;const{onDragStart:W}=R.current,de={activatorEvent:bt,active:{id:an,data:kr.data,rect:C}};ci.unstable_batchedUpdates(()=>{W==null||W(de),j(ei.Initializing),x({type:It.DragStart,initialCoordinates:wt,active:an}),w({type:"onDragStart",event:de}),Q(Mi.current),T(bt)})},onMove(wt){x({type:It.DragMove,coordinates:wt})},onEnd:Fr(It.DragEnd),onCancel:Fr(It.DragCancel)});Mi.current=Xt;function Fr(wt){return async function(){const{active:kr,collisions:W,over:de,scrollAdjustedTranslate:Ae}=L.current;let He=null;if(kr&&Ae){const{cancelDrop:Te}=R.current;He={activatorEvent:bt,active:kr,collisions:W,delta:Ae,over:de},wt===It.DragEnd&&typeof Te=="function"&&await Promise.resolve(Te(He))&&(wt=It.DragCancel)}K.current=null,ci.unstable_batchedUpdates(()=>{x({type:wt}),j(ei.Uninitialized),Cn(null),Q(null),T(null),Mi.current=null;const Te=wt===It.DragEnd?"onDragEnd":"onDragCancel";if(He){const tt=R.current[Te];tt==null||tt(He),w({type:Te,event:He})}})}}},[k]),Ya=m.useCallback((Ke,Et)=>(Pt,mt)=>{const Ot=Pt.nativeEvent,bt=k.get(mt);if(K.current!==null||!bt||Ot.dndKit||Ot.defaultPrevented)return;const Xt={active:bt};Ke(Pt,Et.options,Xt)===!0&&(Ot.dndKit={capturedBy:Et.sensor},K.current=mt,Is(Pt,Et))},[k,Is]),Jn=H$(d,Ya);Z$(d),Fn(()=>{z&&_===ei.Initializing&&j(ei.Initialized)},[z,_]),m.useEffect(()=>{const{onDragMove:Ke}=R.current,{active:Et,activatorEvent:Pt,collisions:mt,over:Ot}=L.current;if(!Et||!Pt)return;const bt={active:Et,activatorEvent:Pt,collisions:mt,delta:{x:Nn.x,y:Nn.y},over:Ot};ci.unstable_batchedUpdates(()=>{Ke==null||Ke(bt),w({type:"onDragMove",event:bt})})},[Nn.x,Nn.y]),m.useEffect(()=>{const{active:Ke,activatorEvent:Et,collisions:Pt,droppableContainers:mt,scrollAdjustedTranslate:Ot}=L.current;if(!Ke||K.current==null||!Et||!Ot)return;const{onDragOver:bt}=R.current,Xt=mt.get(Ri),Fr=Xt&&Xt.rect.current?{id:Xt.id,rect:Xt.rect.current,data:Xt.data,disabled:Xt.disabled}:null,wt={active:Ke,activatorEvent:Et,collisions:Pt,delta:{x:Ot.x,y:Ot.y},over:Fr};ci.unstable_batchedUpdates(()=>{Cn(Fr),bt==null||bt(wt),w({type:"onDragOver",event:wt})})},[Ri]),Fn(()=>{L.current={activatorEvent:V,active:F,activeNode:U,collisionRect:Lr,collisions:Xn,droppableRects:ve,draggableNodes:k,draggingNode:Oe,draggingNodeRect:B,droppableContainers:P,over:Ct,scrollableAncestors:Me,scrollAdjustedTranslate:Nn},C.current={initial:B,translated:Lr}},[F,U,Xn,Lr,k,Oe,B,ve,P,Ct,Me,Nn]),U$({...pe,delta:E,draggingRect:Lr,pointerCoordinates:da,scrollableAncestors:Me,scrollableAncestorRects:Gn});const $r=m.useMemo(()=>({active:F,activeNode:U,activeNodeRect:z,activatorEvent:V,collisions:Xn,containerNodeRect:Y,dragOverlay:ge,draggableNodes:k,droppableContainers:P,droppableRects:ve,over:Ct,measureDroppableContainers:D,scrollableAncestors:Me,scrollableAncestorRects:Gn,measuringConfiguration:Z,measuringScheduled:J,windowRect:We}),[F,U,z,V,Xn,Y,ge,k,P,ve,Ct,D,Me,Gn,Z,J,We]),Yt=m.useMemo(()=>({activatorEvent:V,activators:Jn,active:F,activeNodeRect:z,ariaDescribedById:{draggable:M},dispatch:x,draggableNodes:k,over:Ct,measureDroppableContainers:D}),[V,Jn,F,z,x,M,k,Ct,D]);return rt.createElement(TC.Provider,{value:b},rt.createElement(qc.Provider,{value:Yt},rt.createElement(YC.Provider,{value:$r},rt.createElement(Ph.Provider,{value:ar},u)),rt.createElement(l6,{disabled:(o==null?void 0:o.restoreFocus)===!1})),rt.createElement(d$,{...o,hiddenTextDescribedById:M}));function Li(){const Ke=(ee==null?void 0:ee.autoScrollEnabled)===!1,Et=typeof c=="object"?c.enabled===!1:c===!1,Pt=S&&!Ke&&!Et;return typeof c=="object"?{...c,enabled:Pt}:{enabled:Pt}}}),d6=m.createContext(null),h_="button",f6="Draggable";function h6(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Hc(f6),{activators:s,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=m.useContext(qc),{role:p=h_,roleDescription:g="draggable",tabIndex:y=0}=a??{},v=(c==null?void 0:c.id)===t,x=m.useContext(v?Ph:d6),[w,b]=rf(),[_,j]=rf(),S=e6(s,t),N=bc(r);Fn(()=>(f.set(t,{id:t,key:i,node:w,activatorNode:_,data:N}),()=>{const E=f.get(t);E&&E.key===i&&f.delete(t)}),[f,t]);const k=m.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":v&&p===h_?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,y,v,g,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:k,isDragging:v,listeners:n?void 0:S,node:w,over:h,setNodeRef:b,setActivatorNodeRef:j,transform:x}}function JC(){return m.useContext(YC)}const p6="Droppable",m6={timeout:25};function QC(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Hc(p6),{active:s,dispatch:o,over:c,measureDroppableContainers:u}=m.useContext(qc),d=m.useRef({disabled:r}),f=m.useRef(!1),h=m.useRef(null),p=m.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...m6,...a},x=bc(y??n),w=m.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),b=Eh({callback:w,disabled:g||!s}),_=m.useCallback((k,E)=>{b&&(E&&(b.unobserve(E),f.current=!1),k&&b.observe(k))},[b]),[j,S]=rf(_),N=bc(t);return m.useEffect(()=>{!b||!j.current||(b.disconnect(),f.current=!1,b.observe(j.current))},[j,b]),m.useEffect(()=>(o({type:It.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:h,data:N}}),()=>o({type:It.UnregisterDroppable,key:i,id:n})),[n]),m.useEffect(()=>{r!==d.current.disabled&&(o({type:It.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,o]),{active:s,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:S}}function g6(e){let{animation:t,children:r}=e;const[n,a]=m.useState(null),[i,s]=m.useState(null),o=nf(r);return!r&&!n&&o&&a(o),Fn(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),rt.createElement(rt.Fragment,null,r,n?m.cloneElement(n,{ref:s}):null)}const v6={x:0,y:0,scaleX:1,scaleY:1};function y6(e){let{children:t}=e;return rt.createElement(qc.Provider,{value:GC},rt.createElement(Ph.Provider,{value:v6},t))}const x6={position:"fixed",touchAction:"none"},b6=e=>kh(e)?"transform 250ms ease":void 0,w6=m.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:s,rect:o,style:c,transform:u,transition:d=b6}=e;if(!o)return null;const f=a?u:{...u,scaleX:1,scaleY:1},h={...x6,width:o.width,height:o.height,top:o.top,left:o.left,transform:Bn.Transform.toString(f),transformOrigin:a&&n?f$(n,o):void 0,transition:typeof d=="function"?d(n):d,...c};return rt.createElement(r,{className:s,style:h,ref:t},i)}),_6=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:s}=e;if(i!=null&&i.active)for(const[o,c]of Object.entries(i.active))c!==void 0&&(a[o]=r.node.style.getPropertyValue(o),r.node.style.setProperty(o,c));if(i!=null&&i.dragOverlay)for(const[o,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(o,c);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);s!=null&&s.active&&r.node.classList.remove(s.active)}},j6=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Bn.Transform.toString(t)},{transform:Bn.Transform.toString(r)}]},S6={duration:250,easing:"ease",keyframes:j6,sideEffects:_6({styles:{active:{opacity:"0"}}})};function k6(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return Sh((i,s)=>{if(t===null)return;const o=r.get(i);if(!o)return;const c=o.node.current;if(!c)return;const u=VC(s);if(!u)return;const{transform:d}=_r(s).getComputedStyle(s),f=MC(d);if(!f)return;const h=typeof t=="function"?t:N6(t);return WC(c,a.draggable.measure),h({active:{id:i,data:o.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:s,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function N6(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...S6,...e};return i=>{let{active:s,dragOverlay:o,transform:c,...u}=i;if(!t)return;const d={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/o.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},p=a({...u,active:s,dragOverlay:o,transform:{initial:c,final:h}}),[g]=p,y=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(y))return;const v=n==null?void 0:n({active:s,dragOverlay:o,...u}),x=o.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v==null||v(),w()}})}}let p_=0;function C6(e){return m.useMemo(()=>{if(e!=null)return p_++,p_},[e])}const ZC=rt.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:s,wrapperElement:o="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:y,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:_,windowRect:j}=JC(),S=m.useContext(Ph),N=C6(f==null?void 0:f.id),k=XC(s,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:_,transform:S,windowRect:j}),E=N0(h),P=k6({config:n,draggableNodes:g,droppableContainers:y,measuringConfiguration:w}),O=E?v.setRef:void 0;return rt.createElement(y6,null,rt.createElement(g6,{animation:P},f&&N?rt.createElement(w6,{key:N,id:f.id,ref:O,as:o,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...a},transform:k},r):null))});function Ah(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function E6(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function Bu(e){return e!==null&&e>=0}function P6(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function O6(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Th=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=Ah(t,n,r),s=t[a],o=i[a];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},Uu={scaleX:1,scaleY:1},eE=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:s}=e;const o=(t=i[r])!=null?t:n;if(!o)return null;if(a===r){const u=i[s];return u?{x:0,y:r<s?u.top+u.height-(o.top+o.height):u.top-o.top,...Uu}:null}const c=A6(i,a,r);return a>r&&a<=s?{x:0,y:-o.height-c,...Uu}:a<r&&a>=s?{x:0,y:o.height+c,...Uu}:{x:0,y:0,...Uu}};function A6(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const tE="Sortable",rE=rt.createContext({activeIndex:-1,containerId:tE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Th,disabled:{draggable:!1,droppable:!1}});function Dh(e){let{children:t,id:r,items:n,strategy:a=Th,disabled:i=!1}=e;const{active:s,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:d}=JC(),f=Hc(tE,r),h=o.rect!==null,p=m.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),g=s!=null,y=s?p.indexOf(s.id):-1,v=u?p.indexOf(u.id):-1,x=m.useRef(p),w=!P6(p,x.current),b=v!==-1&&y===-1||w,_=O6(i);Fn(()=>{w&&g&&d(p)},[w,p,g,d]),m.useEffect(()=>{x.current=p},[p]);const j=m.useMemo(()=>({activeIndex:y,containerId:f,disabled:_,disableTransforms:b,items:p,overIndex:v,useDragOverlay:h,sortedRects:E6(p,c),strategy:a}),[y,f,_.draggable,_.droppable,b,p,v,c,h,a]);return rt.createElement(rE.Provider,{value:j},t)}const T6=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return Ah(r,n,a).indexOf(t)},D6=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:s,previousItems:o,previousContainerId:c,transition:u}=e;return!u||!n||o!==i&&a===s?!1:r?!0:s!==a&&t===c},I6={duration:200,easing:"ease"},nE="transform",R6=Bn.Transition.toString({property:nE,duration:0,easing:"linear"}),M6={roleDescription:"sortable"};function L6(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,s]=m.useState(null),o=m.useRef(r);return Fn(()=>{if(!t&&r!==o.current&&n.current){const c=a.current;if(c){const u=Jo(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}r!==o.current&&(o.current=r)},[t,r,n,a]),m.useEffect(()=>{i&&s(null)},[i]),i}function Ih(e){let{animateLayoutChanges:t=D6,attributes:r,disabled:n,data:a,getNewIndex:i=T6,id:s,strategy:o,resizeObserverConfig:c,transition:u=I6}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:y,overIndex:v,useDragOverlay:x,strategy:w}=m.useContext(rE),b=$6(n,p),_=d.indexOf(s),j=m.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...a}),[f,a,_,d]),S=m.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:N,node:k,isOver:E,setNodeRef:P}=QC({id:s,data:j,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:O,activatorEvent:C,activeNodeRect:F,attributes:K,setNodeRef:ee,listeners:Q,isDragging:V,over:T,setActivatorNodeRef:R,transform:M}=h6({id:s,data:j,attributes:{...M6,...r},disabled:b.draggable}),ae=Q3(P,ee),Z=!!O,ve=Z&&!g&&Bu(h)&&Bu(v),D=!x&&V,J=D&&ve?M:null,G=ve?J??(o??w)({rects:y,activeNodeRect:F,activeIndex:h,overIndex:v,index:_}):null,pe=Bu(h)&&Bu(v)?i({id:s,items:d,activeIndex:h,overIndex:v}):_,A=O==null?void 0:O.id,z=m.useRef({activeId:A,items:d,newIndex:pe,containerId:f}),Y=d!==z.current.items,L=t({active:O,containerId:f,isDragging:V,isSorting:Z,id:s,index:_,items:d,newIndex:z.current.newIndex,previousItems:z.current.items,previousContainerId:z.current.containerId,transition:u,wasDragging:z.current.activeId!=null}),_e=L6({disabled:!L,index:_,node:k,rect:N});return m.useEffect(()=>{Z&&z.current.newIndex!==pe&&(z.current.newIndex=pe),f!==z.current.containerId&&(z.current.containerId=f),d!==z.current.items&&(z.current.items=d)},[Z,pe,f,d]),m.useEffect(()=>{if(A===z.current.activeId)return;if(A!=null&&z.current.activeId==null){z.current.activeId=A;return}const Oe=setTimeout(()=>{z.current.activeId=A},50);return()=>clearTimeout(Oe)},[A]),{active:O,activeIndex:h,attributes:K,data:j,rect:N,index:_,newIndex:pe,items:d,isOver:E,isSorting:Z,isDragging:V,listeners:Q,node:k,overIndex:v,over:T,setNodeRef:ae,setActivatorNodeRef:R,setDroppableNodeRef:P,setDraggableNodeRef:ee,transform:_e??G,transition:ge()};function ge(){if(_e||Y&&z.current.newIndex===_)return R6;if(!(D&&!kh(C)||!u)&&(Z||L))return Bn.Transition.toString({...u,property:nE})}}function $6(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}Le.Down,Le.Right,Le.Up,Le.Left;function Cr(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function zu(e){return`${(e*100).toFixed(1)}%`}function m_(e){const t=new Date().getHours(),r=t<12?"Good morning":t<18?"Good afternoon":"Good evening",n=["Let's close some deals","Time to crush your goals","Ready to dominate the market","Another day, another opportunity","Let's make it a winning day","Time to turn leads into gold","Your next closing is waiting","Great things happen to closers","Let's build your empire","Success is calling your name","Time to level up your game","Let's make today count"],a=e?e.split(" ")[0]:"",i=a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"",s=i?`, ${i}`:"",o=n[Math.floor(Math.random()*n.length)];return`${r}${s}. ${o}!`}function F6(){return new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(new Date)}function B6(e,t,r){const n=new Date,a=n.getFullYear(),i=n.getMonth(),s=Math.floor(i/3);switch(e){case"this_month":return{start:new Date(a,i,1),end:new Date(a,i+1,0,23,59,59)};case"last_30_days":const o=new Date(n);return o.setDate(o.getDate()-30),{start:o,end:n};case"this_quarter":return{start:new Date(a,s*3,1),end:new Date(a,(s+1)*3,0,23,59,59)};case"ytd":return{start:new Date(a,0,1),end:n};case"custom":return{start:t||new Date(a,0,1),end:r||n};default:return{start:new Date(a,0,1),end:n}}}function zi(e){const n=(e.actual_sale_price||e.expected_sale_price)*e.gross_commission_rate*(1-e.brokerage_split_rate);return(e.referral_out_rate?n*(1-e.referral_out_rate):n)-e.transaction_fee}function aE(e){const t=new Date(e),n=new Date().getTime()-t.getTime();return Math.floor(n/(1e3*60*60*24))}function g_(e,t=30){return aE(e)>t}function U6(e){if(!e||!e.startsWith("hsl("))return null;const t=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return t?{h:parseInt(t[1],10),s:parseInt(t[2],10),l:parseInt(t[3],10)}:null}function z6(e){if(!e||!e.toLowerCase().startsWith("rgb("))return null;const t=e.match(/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/i);if(!t)return null;const[r,n,a]=t.slice(1).map(i=>parseInt(i,10));return[r,n,a].some(i=>Number.isNaN(i)||i<0||i>255)?null:{r,g:n,b:a}}function W6(e){if(!e||!e.startsWith("#"))return null;const r=e.trim().match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(!r)return null;let n=r[1];n.length===3&&(n=n.split("").map(o=>o+o).join(""));const a=parseInt(n.slice(0,2),16),i=parseInt(n.slice(2,4),16),s=parseInt(n.slice(4,6),16);return{r:a,g:i,b:s}}function K6(e){if(!e)return"#ffffff";const t=W6(e);if(t)return(.2126*t.r+.7152*t.g+.0722*t.b)/255>.6?"#000000":"#ffffff";const r=U6(e);if(r)return r.l>60?"#000000":"#ffffff";const n=z6(e);return n&&(.2126*n.r+.7152*n.g+.0722*n.b)/255>.6?"#000000":"#ffffff"}function Rh(e){if(!e)return"hsl(220, 70%, 50%)";const t=e.toLowerCase(),r=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);return r?r[0]:t.startsWith("hsl(")||t.startsWith("rgb(")?e:{blue:"hsl(220, 70%, 50%)",cyan:"hsl(190, 65%, 48%)",teal:"hsl(165, 60%, 45%)",green:"hsl(145, 65%, 45%)",lime:"hsl(80, 60%, 50%)",yellow:"hsl(45, 100%, 50%)",orange:"hsl(25, 95%, 55%)",red:"hsl(5, 75%, 55%)",pink:"hsl(340, 70%, 55%)",purple:"hsl(280, 65%, 55%)",violet:"hsl(260, 60%, 55%)",indigo:"hsl(240, 65%, 55%)",slate:"hsl(200, 20%, 50%)",gray:"hsl(0, 0%, 50%)",brown:"hsl(30, 40%, 45%)",amber:"hsl(40, 95%, 50%)",emerald:"hsl(160, 70%, 45%)",sky:"hsl(200, 90%, 50%)",rose:"hsl(350, 80%, 55%)",mint:"hsl(175, 60%, 45%)"}[t]||"hsl(220, 70%, 50%)"}function Mh(e){const t=Rh(e),r=K6(t);return{bg:t,text:r}}function iE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=iE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=iE(e))&&(n&&(n+=" "),n+=t);return n}var H6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function C0(e){if(typeof e!="string")return!1;var t=H6;return t.includes(e)}var q6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sE(e){if(typeof e!="string")return!1;var t=q6;return t.includes(e)}function oE(e){return typeof e=="string"&&e.startsWith("data-")}function zn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sE(n)||oE(n)});return Object.fromEntries(t)}function Vc(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return zn(t)}return typeof e=="object"&&!Array.isArray(e)?zn(e):null}function xr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sE(n)||oE(n)||C0(n)});return Object.fromEntries(t)}function V6(e){return e==null?null:m.isValidElement(e)?xr(e.props):typeof e=="object"&&!Array.isArray(e)?xr(e):null}var G6=["children","width","height","viewBox","className","style","title","desc"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function Y6(e,t){if(e==null)return{};var r,n,a=X6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lE=m.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,d=Y6(e,G6),f=i||{width:n,height:a,x:0,y:0},h=ze("recharts-surface",s);return m.createElement("svg",dv({},xr(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,u),r)}),J6=["children","className"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function Q6(e,t){if(e==null)return{};var r,n,a=Z6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bn=m.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Q6(e,J6),i=ze("recharts-layer",n);return m.createElement("g",fv({className:i},xr(a),{ref:t}),r)}),eF=m.createContext(null);function Xe(e){return function(){return e}}const cE=Math.cos,cf=Math.sin,Vn=Math.sqrt,uf=Math.PI,Lh=2*uf,hv=Math.PI,pv=2*hv,Vi=1e-6,tF=pv-Vi;function uE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uE;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class nF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uE:rF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Vi)if(!(Math.abs(f*c-u*d)>Vi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,y=c*c+u*u,v=p*p+g*g,x=Math.sqrt(y),w=Math.sqrt(h),b=i*Math.tan((hv-Math.acos((y+h-v)/(2*x*w)))/2),_=b/w,j=b/x;Math.abs(_-1)>Vi&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vi||Math.abs(this._y1-d)>Vi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%pv+pv),h>tF?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Vi&&this._append`A${n},${n},0,${+(h>=hv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function E0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nF(t)}function P0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $h(e){return new dE(e)}function fE(e){return e[0]}function hE(e){return e[1]}function pE(e,t){var r=Xe(!0),n=null,a=$h,i=null,s=E0(o);e=typeof e=="function"?e:e===void 0?fE:Xe(e),t=typeof t=="function"?t:t===void 0?hE:Xe(t);function o(c){var u,d=(c=P0(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xe(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Wu(e,t,r){var n=null,a=Xe(!0),i=null,s=$h,o=null,c=E0(u);e=typeof e=="function"?e:e===void 0?fE:Xe(+e),t=typeof t=="function"?t:Xe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hE:Xe(+r);function u(f){var h,p,g,y=(f=P0(f)).length,v,x=!1,w,b=new Array(y),_=new Array(y);for(i==null&&(o=s(w=c())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],_[g]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return o=null,w+""||null}function d(){return pE().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Xe(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class mE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aF(e){return new mE(e,!0)}function iF(e){return new mE(e,!1)}const O0={draw(e,t){const r=Vn(t/uf);e.moveTo(r,0),e.arc(0,0,r,0,Lh)}},sF={draw(e,t){const r=Vn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gE=Vn(1/3),oF=gE*2,lF={draw(e,t){const r=Vn(t/oF),n=r*gE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cF={draw(e,t){const r=Vn(t),n=-r/2;e.rect(n,n,r,r)}},uF=.8908130915292852,vE=cf(uf/10)/cf(7*uf/10),dF=cf(Lh/10)*vE,fF=-cE(Lh/10)*vE,hF={draw(e,t){const r=Vn(t*uF),n=dF*r,a=fF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Lh*i/5,o=cE(s),c=cf(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},km=Vn(3),pF={draw(e,t){const r=-Vn(t/(km*3));e.moveTo(0,r*2),e.lineTo(-km*r,-r),e.lineTo(km*r,-r),e.closePath()}},ln=-.5,cn=Vn(3)/2,mv=1/Vn(12),mF=(mv/2+1)*3,gF={draw(e,t){const r=Vn(t/mF),n=r/2,a=r*mv,i=n,s=r*mv+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(ln*n-cn*a,cn*n+ln*a),e.lineTo(ln*i-cn*s,cn*i+ln*s),e.lineTo(ln*o-cn*c,cn*o+ln*c),e.lineTo(ln*n+cn*a,ln*a-cn*n),e.lineTo(ln*i+cn*s,ln*s-cn*i),e.lineTo(ln*o+cn*c,ln*c-cn*o),e.closePath()}};function vF(e,t){let r=null,n=E0(a);e=typeof e=="function"?e:Xe(e||O0),t=typeof t=="function"?t:Xe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Xe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Xe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function df(){}function ff(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yE(e){this._context=e}yE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ff(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yF(e){return new yE(e)}function xE(e){this._context=e}xE.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xF(e){return new xE(e)}function bE(e){this._context=e}bE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ff(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bF(e){return new bE(e)}function wE(e){this._context=e}wE.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wF(e){return new wE(e)}function v_(e){return e<0?-1:1}function y_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(v_(i)+v_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function x_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Nm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function hf(e){this._context=e}hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nm(this,this._t0,x_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nm(this,x_(this,r=y_(this,e,t)),r);break;default:Nm(this,this._t0,r=y_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _E(e){this._context=new jE(e)}(_E.prototype=Object.create(hf.prototype)).point=function(e,t){hf.prototype.point.call(this,t,e)};function jE(e){this._context=e}jE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function _F(e){return new hf(e)}function jF(e){return new _E(e)}function SE(e){this._context=e}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=b_(e),a=b_(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function b_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function SF(e){return new SE(e)}function Fh(e,t){this._context=e,this._t=t}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function kF(e){return new Fh(e,.5)}function NF(e){return new Fh(e,0)}function CF(e){return new Fh(e,1)}function Ao(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function EF(e,t){return e[t]}function PF(e){const t=[];return t.key=e,t}function OF(){var e=Xe([]),t=gv,r=Ao,n=EF;function a(i){var s=Array.from(e.apply(this,arguments),PF),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=P0(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Xe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Xe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?gv:typeof i=="function"?i:Xe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ao,a):r},a}function AF(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ao(e,t)}}function TF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ao(e,t)}}function DF(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var y=e[t[g]],v=y[n][1]||0,x=y[n-1][1]||0;p+=v-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ao(e,t)}}var Bh={},kE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(kE);var A0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(A0);var Uh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Uh);var zh={},NE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(NE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NE,r=Uh;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];u?f==="\\"&&o+1<s?(o++,c+=a[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=n})(zh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE,r=A0,n=Uh,a=zh;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Bh);var IF=Bh.get;const To=Ba(IF);var Ar=e=>e===0?0:e>0?1:-1,Wn=e=>typeof e=="number"&&e!=+e,Da=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!Wn(e),oa=e=>ue(e)||typeof e=="string",RF=0,_c=e=>{var t=++RF;return"".concat(e||"").concat(t)},Kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var i;if(Da(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Wn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},CE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ht(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function EE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):To(n,t))===r)}var st=e=>e===null||typeof e>"u",Gc=e=>st(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function MF(e){return e!=null}function Zo(){}var LF=["type","size","sizeType"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){$F(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $F(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UF(e,t){if(e==null)return{};var r,n,a=zF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PE={symbolCircle:O0,symbolCross:sF,symbolDiamond:lF,symbolSquare:cF,symbolStar:hF,symbolTriangle:pF,symbolWye:gF},WF=Math.PI/180,KF=e=>{var t="symbol".concat(Gc(e));return PE[t]||O0},HF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*WF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qF=(e,t)=>{PE["symbol".concat(Gc(e))]=t},OE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=UF(e,LF),i=__(__({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=KF(s),p=vF().type(h).size(HF(r,n,s)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=xr(i);return ue(u)&&ue(d)&&ue(r)?m.createElement("path",vv({},f,{className:ze("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};OE.registerSymbol=qF;var AE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,T0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{C0(a)&&(n[a]=i=>r[a](r,i))}),n},VF=(e,t,r)=>n=>(e(t,r,n),null),D0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];C0(a)&&typeof i=="function"&&(n||(n={}),n[a]=VF(i,t,r))}),n};function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=JF(e,"string");return typeof t=="symbol"?t:t+""}function JF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t){var r=GF({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}var TE={},DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(DE);var I0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(I0);var IE={},Wh={},RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(RE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Wh);var ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wh,r=ME;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(IE);var LE={},$E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bh;function r(n){return function(a){return t.get(a,n)}}e.property=r})($E);var FE={},R0={},BE={},M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(M0);var L0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(L0);var $0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})($0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M0,r=L0,n=$0;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function p(g,y,v,x,w,b){const _=h(g,y,v,x,w,b);return _!==void 0?!!_:i(g,y,p,b)},new Map)}function i(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,p);case"function":return Object.keys(f).length>0?i(d,{...f},h,p):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,p);if(f instanceof Map)return o(d,f,h,p);if(f instanceof Set)return u(d,f,h,p);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===d;p==null||p.set(f,d);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const v=d.get(g);if(h(v,y,g,d,f,p)===!1)return!1}return!0}function c(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const v=f[y];let x=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const b=d[w];let _=!1;if(h(b,v,y,d,f,p)&&(_=!0),_){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,p){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=u})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BE;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(R0);var UE={},F0={},zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(zE);var B0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(B0);var U0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",E="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(U0);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE,r=B0,n=U0,a=L0,i=WE;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,g=void 0){const y=g==null?void 0:g(d,f,h,p);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[x,w]of d)v.set(x,o(w,x,h,p,g));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const x of d)v.add(o(x,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),c(v,d,h,p,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,p,g),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Number){const v=new Number(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof String){const v=new String(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),c(v,d,h,p,g),v}return d}function c(d,f,h=d,p,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const x=y[v],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(F0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0,r=UE;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(FE);var KE={},HE={},qE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F0,r=U0;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const d=i==null?void 0:i(s,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(qE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(HE);var VE={},z0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(z0);var GE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(GE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0,r=z0,n=GE,a=zh;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(VE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0,r=Uh,n=HE,a=Bh,i=VE;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(KE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0,r=$E,n=FE,a=KE;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(LE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE,r=I0,n=IE,a=LE;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(TE);var QF=TE.uniqBy;const S_=Ba(QF);function ZF(e,t,r){return t===!0?S_(e,r):typeof t=="function"?S_(e,t):e}var YE={exports:{}},XE={},JE={exports:{}},QE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=m;function eB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tB=typeof Object.is=="function"?Object.is:eB,rB=Do.useState,nB=Do.useEffect,aB=Do.useLayoutEffect,iB=Do.useDebugValue;function sB(e,t){var r=t(),n=rB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return aB(function(){a.value=r,a.getSnapshot=t,Cm(a)&&i({inst:a})},[e,r,t]),nB(function(){return Cm(a)&&i({inst:a}),e(function(){Cm(a)&&i({inst:a})})},[e]),iB(r),r}function Cm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tB(e,r)}catch{return!0}}function oB(e,t){return t()}var lB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oB:sB;QE.useSyncExternalStore=Do.useSyncExternalStore!==void 0?Do.useSyncExternalStore:lB;JE.exports=QE;var cB=JE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=m,uB=cB;function dB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fB=typeof Object.is=="function"?Object.is:dB,hB=uB.useSyncExternalStore,pB=Kh.useRef,mB=Kh.useEffect,gB=Kh.useMemo,vB=Kh.useDebugValue;XE.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=pB(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=gB(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,fB(d,p))return g;var y=n(p);return a!==void 0&&a(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=hB(e,i[0],i[1]);return mB(function(){s.hasValue=!0,s.value=o},[o]),vB(o),o};YE.exports=XE;var yB=YE.exports,W0=m.createContext(null),xB=e=>e,xt=()=>{var e=m.useContext(W0);return e?e.store.dispatch:xB},_d=()=>{},bB=()=>_d,wB=(e,t)=>e===t;function he(e){var t=m.useContext(W0);return yB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:bB,t?t.store.getState:_d,t?t.store.getState:_d,t?e:_d,wB)}function _B(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function jB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function SB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var k_=e=>Array.isArray(e)?e:[e];function kB(e){const t=Array.isArray(e[0])?e[0]:e;return SB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function NB(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var CB=class{constructor(e){this.value=e}deref(){return this.value}},EB=typeof WeakRef<"u"?WeakRef:CB,PB=0,N_=1;function Ku(){return{s:PB,v:void 0,o:null,p:null}}function ZE(e,t={}){let r=Ku();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(g);v===void 0?(o=Ku(),y.set(g,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(g);v===void 0?(o=Ku(),y.set(g,o)):o=v}}const u=o;let d;if(o.s===N_)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new EB(d):d}return u.s=N_,u.v=d,d}return s.clearCache=()=>{r=Ku(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function OB(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),_B(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=ZE,argsMemoizeOptions:g=[]}=d,y=k_(h),v=k_(g),x=kB(a),w=f(function(){return i++,u.apply(null,arguments)},...y),b=p(function(){s++;const j=NB(x,arguments);return o=w.apply(null,j),o},...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var $=OB(ZE),AB=Object.assign((e,t=$)=>{jB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>AB}),eP={},tP={},rP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(rP);var nP={},K0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(K0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(nP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rP,r=nP,n=zh;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let y=p;for(let v=0;v<g.length&&y!=null;++v)y=y[g[v]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(p.criteria[y],g.criteria[y],o[y]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(tP);var aP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(aP);var H0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z0,r=Wh,n=M0,a=$0;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(H0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP,r=aP,n=H0;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(eP);var TB=eP.sortBy;const Hh=Ba(TB);var iP=e=>e.legend.settings,DB=e=>e.legend.size,IB=e=>e.legend.payload;$([IB,iP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Hh(n,r):n});var Hu=1;function RB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Hu||Math.abs(s.left-t.left)>Hu||Math.abs(s.top-t.top)>Hu||Math.abs(s.width-t.width)>Hu)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MB=typeof Symbol=="function"&&Symbol.observable||"@@observable",C_=MB,Em=()=>Math.random().toString(36).substring(7).split("").join("."),LB={INIT:`@@redux/INIT${Em()}`,REPLACE:`@@redux/REPLACE${Em()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Em()}`},pf=LB;function q0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function sP(e,t,r){if(typeof e!="function")throw new Error(Zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Zt(1));return r(sP)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((v,x)=>{s.set(x,v)}))}function d(){if(c)throw new Error(Zt(3));return a}function f(v){if(typeof v!="function")throw new Error(Zt(4));if(c)throw new Error(Zt(5));let x=!0;u();const w=o++;return s.set(w,v),function(){if(x){if(c)throw new Error(Zt(6));x=!1,u(),s.delete(w),i=null}}}function h(v){if(!q0(v))throw new Error(Zt(7));if(typeof v.type>"u")throw new Error(Zt(8));if(typeof v.type!="string")throw new Error(Zt(17));if(c)throw new Error(Zt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=s).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(Zt(10));n=v,h({type:pf.REPLACE})}function g(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Zt(11));function w(){const _=x;_.next&&_.next(d())}return w(),{unsubscribe:v(w)}},[C_](){return this}}}return h({type:pf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[C_]:g}}function $B(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:pf.INIT})>"u")throw new Error(Zt(12));if(typeof r(void 0,{type:pf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function oP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{$B(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Zt(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(s).length,c?u:s}}function mf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function FB(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Zt(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=mf(...o)(a.dispatch),{...a,dispatch:i}}}function lP(e){return q0(e)&&"type"in e&&typeof e.type=="string"}var cP=Symbol.for("immer-nothing"),E_=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function In(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jc=Object.getPrototypeOf;function bs(e){return!!e&&!!e[tn]}function Ia(e){var t;return e?uP(e)||Array.isArray(e)||!!e[E_]||!!((t=e.constructor)!=null&&t[E_])||Yc(e)||Vh(e):!1}var BB=Object.prototype.constructor.toString(),P_=new WeakMap;function uP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=P_.get(r);return n===void 0&&(n=Function.toString.call(r),P_.set(r,n)),n===BB}function gf(e,t,r=!0){qh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function qh(e){const t=e[tn];return t?t.type_:Array.isArray(e)?1:Yc(e)?2:Vh(e)?3:0}function yv(e,t){return qh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dP(e,t,r){const n=qh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function UB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Yc(e){return e instanceof Map}function Vh(e){return e instanceof Set}function Gi(e){return e.copy_||e.base_}function xv(e,t){if(Yc(e))return new Map(e);if(Vh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=uP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(jc(e),n)}else{const n=jc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function V0(e,t=!1){return Gh(e)||bs(e)||!Ia(e)||(qh(e)>1&&Object.defineProperties(e,{set:qu,add:qu,clear:qu,delete:qu}),Object.freeze(e),t&&Object.values(e).forEach(r=>V0(r,!0))),e}function zB(){In(2)}var qu={value:zB};function Gh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WB={};function ws(e){const t=WB[e];return t||In(0,e),t}var Sc;function fP(){return Sc}function KB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O_(e,t){t&&(ws("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bv(e){wv(e),e.drafts_.forEach(HB),e.drafts_=null}function wv(e){e===Sc&&(Sc=e.parent_)}function A_(e){return Sc=KB(Sc,e)}function HB(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function T_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tn].modified_&&(bv(t),In(4)),Ia(e)&&(e=vf(t,e),t.parent_||yf(t,e)),t.patches_&&ws("Patches").generateReplacementPatches_(r[tn].base_,e,t.patches_,t.inversePatches_)):e=vf(t,r,[]),bv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cP?e:void 0}function vf(e,t,r){if(Gh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[tn];if(!a)return gf(t,(i,s)=>D_(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return yf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),gf(s,(c,u)=>D_(e,a,i,c,u,r,o),n),yf(e,i,!1),r&&e.patches_&&ws("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function D_(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=Gh(a);if(!(o&&!s)){if(bs(a)){const c=i&&t&&t.type_!==3&&!yv(t.assigned_,n)?i.concat(n):void 0,u=vf(e,a,c);if(dP(r,n,u),bs(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Ia(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;vf(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Yc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&yf(e,a)}}}function yf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V0(t,r)}function qB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=G0;r&&(a=[n],i=kc);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var G0={get(e,t){if(t===tn)return e;const r=Gi(e);if(!yv(r,t))return VB(e,r,t);const n=r[t];return e.finalized_||!Ia(n)?n:n===Pm(e.base_,t)?(Om(e),e.copy_[t]=jv(n,e)):n},has(e,t){return t in Gi(e)},ownKeys(e){return Reflect.ownKeys(Gi(e))},set(e,t,r){const n=hP(Gi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Pm(Gi(e),t),i=a==null?void 0:a[tn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(UB(r,a)&&(r!==void 0||yv(e.base_,t)))return!0;Om(e),_v(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Om(e),_v(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){In(11)},getPrototypeOf(e){return jc(e.base_)},setPrototypeOf(){In(12)}},kc={};gf(G0,(e,t)=>{kc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kc.deleteProperty=function(e,t){return kc.set.call(this,e,t,void 0)};kc.set=function(e,t,r){return G0.set.call(this,e[0],t,r,e[0])};function Pm(e,t){const r=e[tn];return(r?Gi(r):e)[t]}function VB(e,t,r){var a;const n=hP(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function hP(e,t){if(!(t in e))return;let r=jc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jc(r)}}function _v(e){e.modified_||(e.modified_=!0,e.parent_&&_v(e.parent_))}function Om(e){e.copy_||(e.copy_=xv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&In(6),n!==void 0&&typeof n!="function"&&In(7);let a;if(Ia(t)){const i=A_(this),s=jv(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?bv(i):wv(i)}return O_(i,n),T_(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===cP&&(a=void 0),this.autoFreeze_&&V0(a,!0),n){const i=[],s=[];ws("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else In(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ia(e)||In(8),bs(e)&&(e=ka(e));const t=A_(this),r=jv(e,void 0);return r[tn].isManual_=!0,wv(t),r}finishDraft(e,t){const r=e&&e[tn];(!r||!r.isManual_)&&In(9);const{scope_:n}=r;return O_(n,t),T_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ws("Patches").applyPatches_;return bs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function jv(e,t){const r=Yc(e)?ws("MapSet").proxyMap_(e,t):Vh(e)?ws("MapSet").proxySet_(e,t):qB(e,t);return(t?t.scope_:fP()).drafts_.push(r),r}function ka(e){return bs(e)||In(10,e),pP(e)}function pP(e){if(!Ia(e)||Gh(e))return e;const t=e[tn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=xv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=xv(e,!0);return gf(r,(a,i)=>{dP(r,a,pP(i))},n),t&&(t.finalized_=!1),r}var Sv=new GB,mP=Sv.produce,YB=Sv.setUseStrictIteration.bind(Sv);function gP(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var XB=gP(),JB=gP,QB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mf:mf.apply(null,arguments)};function wn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Qr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>lP(n)&&n.type===e,r}var vP=class Dl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Dl.prototype)}static get[Symbol.species](){return Dl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Dl(...t[0].concat(this)):new Dl(...t.concat(this))}};function I_(e){return Ia(e)?mP(e,()=>{}):e}function Vu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ZB(e){return typeof e=="boolean"}var eU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new vP;return r&&(ZB(r)?s.push(XB):s.push(JB(r.extraArgument))),s},yP="RTK_autoBatch",Rt=()=>e=>({payload:e,meta:{[yP]:!0}}),R_=e=>t=>{setTimeout(t,e)},xP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:R_(10):e.type==="callback"?e.queueNotification:R_(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[yP]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},tU=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new vP(e);return n&&a.push(xP(typeof n=="object"?n:void 0)),a};function rU(e){const t=eU(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(q0(r))o=oP(r);else throw new Error(Qr(1));let c;typeof n=="function"?c=n(t):c=t();let u=mf;a&&(u=QB({trace:!1,...typeof a=="object"&&a}));const d=FB(...c),f=tU(d);let h=typeof s=="function"?s(f):f();const p=u(...h);return sP(o,i,p)}function bP(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Qr(28));if(o in t)throw new Error(Qr(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}YB(!1);function nU(e){return typeof e=="function"}function aU(e,t){let[r,n,a]=bP(t),i;if(nU(e))i=()=>I_(e());else{const o=I_(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(bs(d)){const p=f(d,c);return p===void 0?d:p}else{if(Ia(d))return mP(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=i,s}var iU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sU=(e=21)=>{let t="",r=e;for(;r--;)t+=iU[Math.random()*64|0];return t},oU=Symbol.for("rtk-slice-createasyncthunk");function lU(e,t){return`${e}/${t}`}function cU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[oU];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Qr(11));const o=(typeof a.reducers=="function"?a.reducers(dU()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(Qr(12));if(S in u.sliceCaseReducersByType)throw new Error(Qr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=o[_],S={reducerName:_,type:lU(i,_),createNotation:typeof a.reducers=="function"};hU(j)?mU(S,j,d,t):fU(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?bP(a.extraReducers):[a.extraReducers],N={..._,...u.sliceCaseReducersByType};return aU(a.initialState,k=>{for(let E in N)k.addCase(E,N[E]);for(let E of u.sliceMatchers)k.addMatcher(E.matcher,E.reducer);for(let E of j)k.addMatcher(E.matcher,E.reducer);S&&k.addDefaultCase(S)})}const h=_=>_,p=new Map,g=new WeakMap;let y;function v(_,j){return y||(y=f()),y(_,j)}function x(){return y||(y=f()),y.getInitialState()}function w(_,j=!1){function S(k){let E=k[_];return typeof E>"u"&&j&&(E=Vu(g,S,x)),E}function N(k=h){const E=Vu(p,j,()=>new WeakMap);return Vu(E,k,()=>{const P={};for(const[O,C]of Object.entries(a.selectors??{}))P[O]=uU(C,k,()=>Vu(g,k,x),j);return P})}return{reducerPath:_,getSelectors:N,get selectors(){return N(S)},selectSlice:S}}const b={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(_,{reducerPath:j,...S}={}){const N=j??s;return _.inject({reducerPath:N,reducer:v},S),{...b,...w(N,!0)}}};return b}}function uU(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var Mr=cU();function dU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fU({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!pU(n))throw new Error(Qr(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?wn(e,s):wn(e))}function hU(e){return e._reducerDefinitionType==="asyncThunk"}function pU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mU({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Qr(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Gu,pending:o||Gu,rejected:c||Gu,settled:u||Gu})}function Gu(){}var gU="task",wP="listener",_P="completed",Y0="cancelled",vU=`task-${Y0}`,yU=`task-${_P}`,kv=`${wP}-${Y0}`,xU=`${wP}-${_P}`,Yh=class{constructor(e){Mp(this,"name","TaskAbortError");Mp(this,"message");this.code=e,this.message=`${gU} ${Y0} (reason: ${e})`}},X0=(e,t)=>{if(typeof e!="function")throw new TypeError(Qr(32))},xf=()=>{},jP=(e,t=xf)=>(e.catch(t),e),SP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ls=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},cs=e=>{if(e.aborted){const{reason:t}=e;throw new Yh(t)}};function kP(e,t){let r=xf;return new Promise((n,a)=>{const i=()=>a(new Yh(e.reason));if(e.aborted){i();return}r=SP(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=xf})}var bU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yh?"cancelled":"rejected",error:r}}finally{t==null||t()}},bf=e=>t=>jP(kP(e,t).then(r=>(cs(e),r))),NP=e=>{const t=bf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:xo}=Object,M_={},Xh="listenerMiddleware",wU=(e,t)=>{const r=n=>SP(e,()=>ls(n,e.reason));return(n,a)=>{X0(n);const i=new AbortController;r(i);const s=bU(async()=>{cs(e),cs(i.signal);const o=await n({pause:bf(i.signal),delay:NP(i.signal),signal:i.signal});return cs(i.signal),o},()=>ls(i,yU));return a!=null&&a.autoJoin&&t.push(s.catch(xf)),{result:bf(e)(s),cancel(){ls(i,vU)}}}},_U=(e,t)=>{const r=async(n,a)=>{cs(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await kP(t,Promise.race(o));return cs(t),c}finally{i()}};return(n,a)=>jP(r(n,a))},CP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=wn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Qr(21));return X0(i),{predicate:a,type:t,effect:i}},EP=xo(e=>{const{type:t,predicate:r,effect:n}=CP(e);return{id:sU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Qr(22))}}},{withTypes:()=>EP}),L_=(e,t)=>{const{type:r,effect:n,predicate:a}=CP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Nv=e=>{e.pending.forEach(t=>{ls(t,kv)})},jU=(e,t)=>()=>{for(const r of t.keys())Nv(r);e.clear()},$_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},PP=xo(wn(`${Xh}/add`),{withTypes:()=>PP}),SU=wn(`${Xh}/removeAll`),OP=xo(wn(`${Xh}/remove`),{withTypes:()=>OP}),kU=(...e)=>{console.error(`${Xh}/error`,...e)},Xc=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},a=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:i,onError:s=kU}=e;X0(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Nv(p)}),c=p=>{const g=L_(t,p)??EP(p);return o(g)};xo(c,{withTypes:()=>c});const u=p=>{const g=L_(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Nv(g)),!!g};xo(u,{withTypes:()=>u});const d=async(p,g,y,v)=>{const x=new AbortController,w=_U(c,x.signal),b=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(g,xo({},y,{getOriginalState:v,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:NP(x.signal),pause:bf(x.signal),extra:i,signal:x.signal,fork:wU(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,S)=>{_!==x&&(ls(_,kv),S.delete(_))})},cancel:()=>{ls(x,kv),p.pending.delete(x)},throwIfCancelled:()=>{cs(x.signal)}})))}catch(_){_ instanceof Yh||$_(s,_,{raisedBy:"effect"})}finally{await Promise.all(b),ls(x,xU),a(p),p.pending.delete(x)}},f=jU(t,r);return{middleware:p=>g=>y=>{if(!lP(y))return g(y);if(PP.match(y))return c(y.payload);if(SU.match(y)){f();return}if(OP.match(y))return u(y.payload);let v=p.getState();const x=()=>{if(v===M_)throw new Error(Qr(23));return v};let w;try{if(w=g(y),t.size>0){const b=p.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(y,b,v)}catch(N){S=!1,$_(s,N,{raisedBy:"predicate"})}S&&d(j,y,p,x)}}}finally{v=M_}return w},startListening:c,stopListening:u,clearListeners:f}};function Qr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},AP=Mr({name:"chartLayout",initialState:NU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CU,setLayout:EU,setChartSize:PU,setScale:OU}=AP.actions,AU=AP.reducer;function TP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,r){return st(e)||st(t)?r:oa(t)?To(e,t,r):typeof t=="function"?t(e):r}var RU=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&ue(e[i]))return lo(lo({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&ue(e[s]))return lo(lo({},e),{},{[s]:e[s]+(a||0)})}return e},Oi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",DP=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},IP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=p==="angleAxis"&&i&&i.length>=2?Ar(i[0]-i[1])*2*y:y,f||h){var v=(f||h||[]).map((x,w)=>{var b=n?n.indexOf(x):x;return{coordinate:s(b)+y,value:x,offset:y,index:w}});return v.filter(x=>!Wn(x.coordinate))}return c&&u?u.map((x,w)=>({coordinate:s(x)+y,value:x,index:w,offset:y})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+y,value:x,offset:y,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+y,value:n?n[x]:x,index:w,offset:y}))},B_=1e-4,MU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-B_,i=Math.max(n[0],n[1])+B_,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},LU=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(a[0]=r),(!ue(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},$U=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Wn(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},FU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Wn(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},BU={sign:$U,expand:AF,none:Ao,silhouette:TF,wiggle:DF,positive:FU},UU=(e,t,r)=>{var n=BU[r],a=OF().keys(t).value((i,s)=>Number(qt(i,s,0))).order(gv).offset(n);return a(e)};function zU(e){return e==null?void 0:String(e)}function U_(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!st(a[t.dataKey])){var o=EE(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=qt(a,st(s)?t.dataKey:s);return st(c)?null:t.scale(c)}var z_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=qt(i,t.dataKey,t.scale.domain()[s]);return st(o)?null:t.scale(o)-a/2+n},WU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},KU=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},HU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qU=(e,t,r)=>{if(e!=null)return HU(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var d=TP(u,t,r),f=KU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},W_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Io=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Hh(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function H_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return lo(lo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Jh(e,t){if(e)return String(e);if(typeof t=="string")return t}var VU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},GU=(e,t)=>t==="centric"?e.angle:e.radius,za=e=>e.layout.width,Wa=e=>e.layout.height,YU=e=>e.layout.scale,RP=e=>e.layout.margin,Qh=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zh=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),XU="data-recharts-item-index",JU="data-recharts-item-data-key",Jc=60;function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=ez(e,"string");return typeof t=="symbol"?t:t+""}function ez(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tz=e=>e.brush.height;function rz(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jc;return r+a}return r},0)}function nz(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Jc;return r+a}return r},0)}function az(e){var t=Qh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function iz(e){var t=Qh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Vt=$([za,Wa,RP,tz,rz,nz,az,iz,iP,DB],(e,t,r,n,a,i,s,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Yu(Yu({},f),d),p=h.bottom;h.bottom+=n,h=RU(h,c,u);var g=e-h.left-h.right,y=t-h.top-h.bottom;return Yu(Yu({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),sz=$(Vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),J0=$(za,Wa,(e,t)=>({x:0,y:0,width:e,height:t})),oz=m.createContext(null),fr=()=>m.useContext(oz)!=null,ep=e=>e.brush,tp=$([ep,Vt,RP],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),MP={},LP={},$P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),s=void 0,o=null},v=()=>{d()},x=function(...w){if(a!=null&&a.aborted)return;s=this,o=w;const b=h==null;p(),c&&b&&d()};return x.schedule=p,x.cancel=y,x.flush=v,a==null||a.addEventListener("abort",y,{once:!0}),x}e.debounce=t})($P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$P;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),p=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(MP);var lz=MP.throttle;const cz=Ba(lz);var wf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},FP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=Da(n)?e:Number(n),c=Da(a)?t:Number(a);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},uz={width:0,height:0,overflow:"visible"},dz={width:0,overflowX:"visible"},fz={height:0,overflowY:"visible"},hz={},pz=e=>{var{width:t,height:r}=e,n=Da(t),a=Da(r);return n&&a?uz:n?dz:a?fz:hz};function mz(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function yt(e){return Number.isFinite(e)}function la(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BP=m.createContext({width:-1,height:-1});function xz(e){return la(e.width)&&la(e.height)}function UP(e){var{children:t,width:r,height:n}=e,a=m.useMemo(()=>({width:r,height:n}),[r,n]);return xz(a)?m.createElement(BP.Provider,{value:a},t):null}var Q0=()=>m.useContext(BP),bz=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,y=m.useRef(null),v=m.useRef();v.current=p,m.useImperativeHandle(t,()=>y.current);var[x,w]=m.useState({containerWidth:n.width,containerHeight:n.height}),b=m.useCallback((k,E)=>{w(P=>{var O=Math.round(k),C=Math.round(E);return P.containerWidth===O&&P.containerHeight===C?P:{containerWidth:O,containerHeight:C}})},[]);m.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Zo;var k=C=>{var F,{width:K,height:ee}=C[0].contentRect;b(K,ee),(F=v.current)===null||F===void 0||F.call(v,K,ee)};d>0&&(k=cz(k,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(k),{width:P,height:O}=y.current.getBoundingClientRect();return b(P,O),E.observe(y.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=x;wf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:N}=FP(_,j,{width:a,height:i,aspect:r,maxHeight:c});return wf(S!=null&&S>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,N,a,i,s,o,r),m.createElement("div",{id:f?"".concat(f):void 0,className:ze("recharts-responsive-container",h),style:G_(G_({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:y},m.createElement("div",{style:pz({width:a,height:i})},m.createElement(UP,{width:S,height:N},u)))}),Y_=m.forwardRef((e,t)=>{var r=Q0();if(la(r.width)&&la(r.height))return e.children;var{width:n,height:a}=mz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=FP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ue(i)&&ue(s)?m.createElement(UP,{width:i,height:s},e.children):m.createElement(bz,Cv({},e,{width:n,height:a,ref:t}))});function zP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var rp=()=>{var e,t=fr(),r=he(sz),n=he(tp),a=(e=he(ep))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},wz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WP=()=>{var e;return(e=he(Vt))!==null&&e!==void 0?e:wz},KP=()=>he(za),HP=()=>he(Wa),$e=e=>e.layout.layoutType,Qc=()=>he($e),_z=()=>{var e=Qc();return e!==void 0},np=e=>{var t=xt(),r=fr(),{width:n,height:a}=e,i=Q0(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),m.useEffect(()=>{!r&&la(s)&&la(o)&&t(PU({width:s,height:o}))},[t,r,s,o]),null},jz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qP=Mr({name:"legend",initialState:jz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Rt()},removeLegendPayload:{reducer(e,t){var r=ka(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Rt()}}}),{setLegendSize:bee,setLegendSettings:wee,addLegendPayload:Sz,removeLegendPayload:kz}=qP.actions,Nz=qP.reducer;function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){Cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(e,t,r){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oz(e){return Array.isArray(e)&&oa(e[0])&&oa(e[1])?e.join(" ~ "):e}var Az=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(o?Hh(i,o):i).map((N,k)=>{if(N.type==="none")return null;var E=N.formatter||s||Oz,{value:P,name:O}=N,C=P,F=O;if(E){var K=E(P,O,N,k,i);if(Array.isArray(K))[C,F]=K;else if(K!=null)C=K;else return null}var ee=Am({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ee},oa(F)?m.createElement("span",{className:"recharts-tooltip-item-name"},F):null,oa(F)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},C),m.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=Am({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Am({margin:0},a),v=!st(d),x=v?d:"",w=ze("recharts-default-tooltip",c),b=ze("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(x=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Ev({className:w,style:g},_),m.createElement("p",{className:b,style:y},m.isValidElement(x)?x:"".concat(x)),p())},vl="recharts-tooltip-wrapper",Tz={visibility:"hidden"};function Dz(e){var{coordinate:t,translateX:r,translateY:n}=e;return ze(vl,{["".concat(vl,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(vl,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(vl,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(vl,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function J_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&ue(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+o,v=h+u;return y>v?Math.max(d,h):Math.max(f,h)}function Iz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Rz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=J_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=J_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Iz({translateX:d,translateY:f,useTranslate3d:o})):u=Tz,{cssProperties:u,cssClasses:Dz({translateX:d,translateY:f,coordinate:r})}}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Pv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pv(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $z extends m.PureComponent{constructor(){super(...arguments),Pv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:b}=Rz({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),_=x?{}:Xu(Xu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Xu(Xu({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:v},i)}}var Fz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ps={devToolsEnabled:!1,isSsr:Fz()},VP=()=>{var e;return(e=he(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(null,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){Bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bz(e,t,r){return(t=Uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uz(e){var t=zz(e,"string");return typeof t=="symbol"?t:t+""}function zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t1={curveBasisClosed:xF,curveBasisOpen:bF,curveBasis:yF,curveBumpX:aF,curveBumpY:iF,curveLinearClosed:wF,curveLinear:$h,curveMonotoneX:_F,curveMonotoneY:jF,curveNatural:SF,curveStep:kF,curveStepAfter:CF,curveStepBefore:NF},_f=e=>yt(e.x)&&yt(e.y),r1=e=>e.base!=null&&_f(e.base)&&_f(e),yl=e=>e.x,xl=e=>e.y,Wz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Gc(e));return(r==="curveMonotone"||r==="curveBump")&&t?t1["".concat(r).concat(t==="vertical"?"Y":"X")]:t1[r]||$h},Kz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=Wz(t,a),o=i?r.filter(_f):r,c;if(Array.isArray(n)){var u=r.map((p,g)=>e1(e1({},p),{},{base:n[g]}));a==="vertical"?c=Wu().y(xl).x1(yl).x0(p=>p.base.x):c=Wu().x(yl).y1(xl).y0(p=>p.base.y);var d=c.defined(r1).curve(s),f=i?u.filter(r1):u;return d(f)}a==="vertical"&&ue(n)?c=Wu().y(xl).x1(yl).x0(n):ue(n)?c=Wu().x(yl).y1(xl).y0(n):c=pE().x(yl).y(xl);var h=c.defined(_f).curve(s);return h(o)},GP=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Kz(e):n;return m.createElement("path",Ov({},zn(e),T0(e),{className:ze("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Hz=["x","y","top","left","width","height","className"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Yz(e,"string");return typeof t=="symbol"?t:t+""}function Yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xz(e,t){if(e==null)return{};var r,n,a=Jz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qz=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Zz=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=Xz(e,Hz),u=qz({x:t,y:r,top:n,left:a,width:i,height:s},c);return!ue(t)||!ue(r)||!ue(i)||!ue(s)||!ue(n)||!ue(a)?null:m.createElement("path",Av({},xr(u),{className:ze("recharts-cross",o),d:Qz(t,r,i,s,n,a)}))};function e8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){t8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8(e,t,r){return(t=r8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=n8(e,"string");return typeof t=="symbol"?t:t+""}function n8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YP=(e,t,r)=>e.map(n=>"".concat(a8(n)," ").concat(t,"ms ").concat(r)).join(","),i8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Nc=(e,t)=>Object.keys(t).reduce((r,n)=>i1(i1({},r),{},{[n]:e(n,t[n])}),{});function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){s8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s8(e,t,r){return(t=o8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=(e,t,r)=>e+(t-e)*r,Tv=e=>{var{from:t,to:r}=e;return t!==r},XP=(e,t,r)=>{var n=Nc((a,i)=>{if(Tv(i)){var[s,o]=e(i.from,i.to,i.velocity);return Dt(Dt({},i),{},{from:s,velocity:o})}return i},t);return r<1?Nc((a,i)=>Tv(i)?Dt(Dt({},i),{},{velocity:jf(i.velocity,n[a].velocity,r),from:jf(i.from,n[a].from,r)}):i,t):XP(e,n,r-1)};function c8(e,t,r,n,a,i){var s,o=n.reduce((h,p)=>Dt(Dt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Nc((h,p)=>p.from,o),u=()=>!Object.values(o).filter(Tv).length,d=null,f=h=>{s||(s=h);var p=h-s,g=p/r.dt;o=XP(r,o,g),a(Dt(Dt(Dt({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function u8(e,t,r,n,a,i,s){var o=null,c=a.reduce((f,h)=>Dt(Dt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=Nc((y,v)=>jf(...v,r(h)),c);if(i(Dt(Dt(Dt({},e),t),p)),h<1)o=s.setTimeout(d);else{var g=Nc((y,v)=>jf(...v,r(1)),c);i(Dt(Dt(Dt({},e),t),g))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const d8=(e,t,r,n,a,i)=>{var s=i8(e,t);return r==null?()=>(a(Dt(Dt({},e),t)),()=>{}):r.isStepper===!0?c8(e,t,r,s,a,i):u8(e,t,r,n,s,a,i)};var Sf=1e-4,JP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],QP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),o1=(e,t)=>r=>{var n=JP(e,t);return QP(n,r)},f8=(e,t)=>r=>{var n=JP(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return QP(a,r)},h8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},p8=(e,t,r,n)=>{var a=o1(e,r),i=o1(t,n),s=f8(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var p=a(f)-d,g=s(f);if(Math.abs(p-d)<Sf||g<Sf)return i(f);f=o(f-p/g)}return i(f)};return c.isStepper=!1,c},l1=function(){return p8(...h8(...arguments))},m8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-o)<Sf&&Math.abs(f)<Sf?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},g8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l1(e);case"spring":return m8();default:if(e.split("(")[0]==="cubic-bezier")return l1(e)}return typeof e=="function"?e:null};function v8(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class y8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function x8(){return v8(new y8)}var b8=m.createContext(x8);function w8(e,t){var r=m.useContext(b8);return m.useMemo(()=>t??r(e),[e,t,r])}var _8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},c1={t:0},Tm={t:1};function ap(e){var t=jr(e,_8),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=w8(t.animationId,t.animationManager),[f,h]=m.useState(r?c1:Tm),p=m.useRef(null);return m.useEffect(()=>{r||h(Tm)},[r]),m.useEffect(()=>{if(!r||!n)return Zo;var g=d8(c1,Tm,g8(i),a,h,d.getTimeoutController()),y=()=>{p.current=g()};return d.start([c,s,y,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,i,s,c,o,d]),u(f.t)}function ip(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(_c(t)),n=m.useRef(e);return n.current!==e&&(r.current=_c(t),n.current=e),r.current}var j8=["radius"],S8=["radius"];function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}function f1(e,t){if(e==null)return{};var r,n,a=E8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h1=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},p1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZP=e=>{var t=jr(e,p1),r=m.useRef(null),[n,a]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=t,v=m.useRef(o),x=m.useRef(c),w=m.useRef(i),b=m.useRef(s),_=m.useMemo(()=>({x:i,y:s,width:o,height:c,radius:u}),[i,s,o,c,u]),j=ip(_,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var S=ze("recharts-rectangle",d);if(!y){var N=xr(t),{radius:k}=N,E=f1(N,j8);return m.createElement("path",kf({},E,{radius:typeof u=="number"?u:void 0,className:S,d:h1(i,s,o,c,u)}))}var P=v.current,O=x.current,C=w.current,F=b.current,K="0px ".concat(n===-1?1:n,"px"),ee="".concat(n,"px 0px"),Q=YP(["strokeDasharray"],h,typeof f=="string"?f:p1.animationEasing);return m.createElement(ap,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:y,begin:p},V=>{var T=ht(P,o,V),R=ht(O,c,V),M=ht(C,i,V),ae=ht(F,s,V);r.current&&(v.current=T,x.current=R,w.current=M,b.current=ae);var Z;g?V>0?Z={transition:Q,strokeDasharray:ee}:Z={strokeDasharray:K}:Z={strokeDasharray:ee};var ve=xr(t),{radius:D}=ve,J=f1(ve,S8);return m.createElement("path",kf({},J,{radius:typeof u=="number"?u:void 0,className:S,d:h1(M,ae,T,R,u),ref:r,style:d1(d1({},Z),t.style)}))})};function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){P8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nf=Math.PI/180,T8=e=>e*180/Math.PI,tr=(e,t,r,n)=>({x:e+Math.cos(-Nf*n)*r,y:t+Math.sin(-Nf*n)*r}),D8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},I8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},R8=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=I8({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:T8(c),angleInRadian:c}},M8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},L8=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},$8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=R8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=M8(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?g1(g1({},t),{},{radius:a,angle:L8(d,t)}):null};function eO(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=tr(t,r,n,a),o=tr(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}var F8=(e,t)=>{var r=Ar(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ju=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/Nf,f=c?a:a+i*d,h=tr(t,r,u,f),p=tr(t,r,n,f),g=c?a-i*d:a,y=tr(t,r,u*Math.cos(d*Nf),g);return{center:h,circleTangency:p,lineTangency:y,theta:d}},tO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=F8(i,s),c=i+o,u=tr(t,r,a,i),d=tr(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=tr(t,r,n,i),p=tr(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},B8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Ar(u-c),{circleTangency:f,lineTangency:h,theta:p}=Ju({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:v}=Ju({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),x=o?Math.abs(c-u):Math.abs(c-u)-p-v;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):tO({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=Ju({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:N,theta:k}=Ju({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-j-k;if(E<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},U8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rO=e=>{var t=jr(e,U8),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=ze("recharts-sector",f),p=i-a,g=Kn(s,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=B8({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):y=tO({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),m.createElement("path",Dv({},xr(t),{className:h,d:y}))};function z8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(AE(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,c=tr(n,a,i,o),u=tr(n,a,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return eO(t)}}var nO={},aO={},iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H0,r=aO;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(nO);var W8=nO.range;const sO=Ba(W8);function yi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z0(e){let t,r,n;e.length!==2?(t=yi,r=(o,c)=>yi(e(o),c),n=(o,c)=>e(o)-c):(t=e===yi||e===K8?e:H8,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function H8(){return 0}function oO(e){return e===null?NaN:+e}function*q8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const V8=Z0(yi),Zc=V8.right;Z0(oO).center;class v1 extends Map{constructor(t,r=X8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(y1(this,t))}has(t){return super.has(y1(this,t))}set(t,r){return super.set(G8(this,t),r)}delete(t){return super.delete(Y8(this,t))}}function y1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function G8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function X8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function J8(e=yi){if(e===yi)return lO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function lO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Q8=Math.sqrt(50),Z8=Math.sqrt(10),e9=Math.sqrt(2);function Cf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Q8?10:i>=Z8?5:i>=e9?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Cf(e,t,r*2):[o,c,u]}function Iv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Cf(t,e,r):Cf(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function Rv(e,t,r){return t=+t,e=+e,r=+r,Cf(e,t,r)[2]}function Mv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Rv(t,e,r):Rv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function x1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?lO:J8(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));cO(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(bl(e,r,t),a(e[n],i)>0&&bl(e,r,n);s<o;){for(bl(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?bl(e,r,o):(++o,bl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function bl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function t9(e,t,r){if(e=Float64Array.from(q8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b1(e);if(t>=1)return x1(e);var n,a=(n-1)*t,i=Math.floor(a),s=x1(cO(e,i).subarray(0,i+1)),o=b1(e.subarray(i+1));return s+(o-s)*(a-i)}}function r9(e,t,r=oO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function n9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ka(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lv=Symbol("implicit");function ex(){var e=new v1,t=[],r=[],n=Lv;function a(i){let s=e.get(i);if(s===void 0){if(n!==Lv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new v1;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ex(t,r).unknown(n)},jn.apply(a,arguments),a}function tx(){var e=ex().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,y=p?n:a;i=(y-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(y-g-i*(h-c))*d,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var v=n9(h).map(function(x){return g+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tx(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},jn.apply(f(),arguments)}function uO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uO(t())},e}function a9(){return uO(tx.apply(null,arguments).paddingInner(1))}function rx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eu(){}var Cc=.7,Ef=1/Cc,bo="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i9=/^#([0-9a-f]{3,8})$/,s9=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),o9=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),l9=new RegExp(`^rgba\\(${bo},${bo},${bo},${Ec}\\)$`),c9=new RegExp(`^rgba\\(${sa},${sa},${sa},${Ec}\\)$`),u9=new RegExp(`^hsl\\(${Ec},${sa},${sa}\\)$`),d9=new RegExp(`^hsla\\(${Ec},${sa},${sa},${Ec}\\)$`),w1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rx(eu,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_1,formatHex:_1,formatHex8:f9,formatHsl:h9,formatRgb:j1,toString:j1});function _1(){return this.rgb().formatHex()}function f9(){return this.rgb().formatHex8()}function h9(){return fO(this).formatHsl()}function j1(){return this.rgb().formatRgb()}function Pc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=i9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?S1(t):r===3?new Tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s9.exec(e))?new Tr(t[1],t[2],t[3],1):(t=o9.exec(e))?new Tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=l9.exec(e))?Qu(t[1],t[2],t[3],t[4]):(t=c9.exec(e))?Qu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=u9.exec(e))?C1(t[1],t[2]/100,t[3]/100,1):(t=d9.exec(e))?C1(t[1],t[2]/100,t[3]/100,t[4]):w1.hasOwnProperty(e)?S1(w1[e]):e==="transparent"?new Tr(NaN,NaN,NaN,0):null}function S1(e){return new Tr(e>>16&255,e>>8&255,e&255,1)}function Qu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tr(e,t,r,n)}function p9(e){return e instanceof eu||(e=Pc(e)),e?(e=e.rgb(),new Tr(e.r,e.g,e.b,e.opacity)):new Tr}function $v(e,t,r,n){return arguments.length===1?p9(e):new Tr(e,t,r,n??1)}function Tr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rx(Tr,$v,dO(eu,{brighter(e){return e=e==null?Ef:Math.pow(Ef,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tr(us(this.r),us(this.g),us(this.b),Pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k1,formatHex:k1,formatHex8:m9,formatRgb:N1,toString:N1}));function k1(){return`#${ns(this.r)}${ns(this.g)}${ns(this.b)}`}function m9(){return`#${ns(this.r)}${ns(this.g)}${ns(this.b)}${ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function N1(){const e=Pf(this.opacity);return`${e===1?"rgb(":"rgba("}${us(this.r)}, ${us(this.g)}, ${us(this.b)}${e===1?")":`, ${e})`}`}function Pf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ns(e){return e=us(e),(e<16?"0":"")+e.toString(16)}function C1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rn(e,t,r,n)}function fO(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=Pc(e)),!e)return new Rn;if(e instanceof Rn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new Rn(s,o,c,e.opacity)}function g9(e,t,r,n){return arguments.length===1?fO(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rx(Rn,g9,dO(eu,{brighter(e){return e=e==null?Ef:Math.pow(Ef,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cc:Math.pow(Cc,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tr(Dm(e>=240?e-240:e+120,a,n),Dm(e,a,n),Dm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Rn(E1(this.h),Zu(this.s),Zu(this.l),Pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pf(this.opacity);return`${e===1?"hsl(":"hsla("}${E1(this.h)}, ${Zu(this.s)*100}%, ${Zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function E1(e){return e=(e||0)%360,e<0?e+360:e}function Zu(e){return Math.max(0,Math.min(1,e||0))}function Dm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nx=e=>()=>e;function v9(e,t){return function(r){return e+r*t}}function y9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function x9(e){return(e=+e)==1?hO:function(t,r){return r-t?y9(t,r,e):nx(isNaN(t)?r:t)}}function hO(e,t){var r=t-e;return r?v9(e,r):nx(isNaN(e)?t:e)}const P1=function e(t){var r=x9(t);function n(a,i){var s=r((a=$v(a)).r,(i=$v(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=hO(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function b9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function w9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=el(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function j9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Of(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function S9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=el(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Fv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Im=new RegExp(Fv.source,"g");function k9(e){return function(){return e}}function N9(e){return function(t){return e(t)+""}}function C9(e,t){var r=Fv.lastIndex=Im.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Fv.exec(e))&&(a=Im.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Of(n,a)})),r=Im.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?N9(c[0].x):k9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function el(e,t){var r=typeof t,n;return t==null||r==="boolean"?nx(t):(r==="number"?Of:r==="string"?(n=Pc(t))?(t=n,P1):C9:t instanceof Pc?P1:t instanceof Date?j9:w9(t)?b9:Array.isArray(t)?_9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?S9:Of)(e,t)}function ax(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function E9(e,t){t===void 0&&(t=e,e=el);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function P9(e){return function(){return e}}function Af(e){return+e}var O1=[0,1];function vr(e){return e}function Bv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:P9(isNaN(t)?NaN:.5)}function O9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function A9(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Bv(a,n),i=r(s,i)):(n=Bv(n,a),i=r(i,s)),function(o){return i(n(o))}}function T9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Bv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Zc(e,o,1,n)-1;return i[c](a[c](o))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sp(){var e=O1,t=O1,r=el,n,a,i,s=vr,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==vr&&(s=O9(e[0],e[h-1])),o=h>2?T9:A9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),Of)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ax,d()},f.clamp=function(h){return arguments.length?(s=h?!0:vr,d()):s!==vr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function ix(){return sp()(vr,vr)}function D9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ro(e){return e=Tf(Math.abs(e)),e?e[1]:NaN}function I9(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function R9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var M9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oc(e){if(!(t=M9.exec(e)))throw new Error("invalid format: "+e);var t;return new sx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Oc.prototype=sx.prototype;function sx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var pO;function $9(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(pO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Tf(e,Math.max(0,t+i-1))[0]}function A1(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const T1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:D9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A1(e*100,t),r:A1,s:$9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function D1(e){return e}var I1=Array.prototype.map,R1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F9(e){var t=e.grouping===void 0||e.thousands===void 0?D1:I9(I1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?D1:R9(I1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Oc(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,x=f.width,w=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(w=!0,j="g"):T1[j]||(b===void 0&&(b=12),_=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=y==="$"?n:/[%p]/.test(j)?s:"",k=T1[j],E=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(O){var C=S,F=N,K,ee,Q;if(j==="c")F=k(O)+F,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),b),_&&(O=L9(O)),V&&+O==0&&g!=="+"&&(V=!1),C=(V?g==="("?g:o:g==="-"||g==="("?"":g)+C,F=(j==="s"?R1[8+pO/3]:"")+F+(V&&g==="("?")":""),E){for(K=-1,ee=O.length;++K<ee;)if(Q=O.charCodeAt(K),48>Q||Q>57){F=(Q===46?a+O.slice(K+1):O.slice(K))+F,O=O.slice(0,K);break}}}w&&!v&&(O=t(O,1/0));var T=C.length+O.length+F.length,R=T<x?new Array(x-T+1).join(h):"";switch(w&&v&&(O=t(R+O,R.length?x-F.length:1/0),R=""),p){case"<":O=C+O+F+R;break;case"=":O=C+R+O+F;break;case"^":O=R.slice(0,T=R.length>>1)+C+O+F+R.slice(T);break;default:O=R+C+O+F;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Oc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ro(h)/3)))*3,y=Math.pow(10,-g),v=R1[8+g/3];return function(x){return p(y*x)+v}}return{format:u,formatPrefix:d}}var ed,ox,mO;B9({thousands:",",grouping:[3],currency:["$",""]});function B9(e){return ed=F9(e),ox=ed.format,mO=ed.formatPrefix,ed}function U9(e){return Math.max(0,-Ro(Math.abs(e)))}function z9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ro(t)/3)))*3-Ro(Math.abs(e)))}function W9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ro(t)-Ro(e))+1}function gO(e,t,r,n){var a=Mv(e,t,r),i;switch(n=Oc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=z9(a,s))&&(n.precision=i),mO(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=W9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=U9(a))&&(n.precision=i-(n.type==="%")*2);break}}return ox(n)}function Ai(e){var t=e.domain;return e.ticks=function(r){var n=t();return Iv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return gO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Rv(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function vO(){var e=ix();return e.copy=function(){return tu(e,vO())},jn.apply(e,arguments),Ai(e)}function yO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return yO(e).unknown(t)},e=arguments.length?Array.from(e,Af):[0,1],Ai(r)}function xO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function M1(e){return Math.log(e)}function L1(e){return Math.exp(e)}function K9(e){return-Math.log(-e)}function H9(e){return-Math.exp(-e)}function q9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function V9(e){return e===10?q9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function G9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $1(e){return(t,r)=>-e(-t,r)}function lx(e){const t=e(M1,L1),r=t.domain;let n=10,a,i;function s(){return a=G9(n),i=V9(n),r()[0]<0?(a=$1(a),i=$1(i),e(K9,H9)):e(M1,L1),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,y;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=Iv(u,d,v))}else x=Iv(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Oc(c)).precision==null&&(c.trim=!0),c=ox(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(xO(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function bO(){const e=lx(sp()).domain([1,10]);return e.copy=()=>tu(e,bO()).base(e.base()),jn.apply(e,arguments),e}function F1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function B1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cx(e){var t=1,r=e(F1(t),B1(t));return r.constant=function(n){return arguments.length?e(F1(t=+n),B1(t)):t},Ai(r)}function wO(){var e=cx(sp());return e.copy=function(){return tu(e,wO()).constant(e.constant())},jn.apply(e,arguments)}function U1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Y9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function X9(e){return e<0?-e*e:e*e}function ux(e){var t=e(vr,vr),r=1;function n(){return r===1?e(vr,vr):r===.5?e(Y9,X9):e(U1(r),U1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ai(t)}function dx(){var e=ux(sp());return e.copy=function(){return tu(e,dx()).exponent(e.exponent())},jn.apply(e,arguments),e}function J9(){return dx.apply(null,arguments).exponent(.5)}function z1(e){return Math.sign(e)*e*e}function Q9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _O(){var e=ix(),t=[0,1],r=!1,n;function a(i){var s=Q9(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(z1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Af)).map(z1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _O(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jn.apply(a,arguments),Ai(a)}function jO(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=r9(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Zc(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(yi),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jO().domain(e).range(t).unknown(n)},jn.apply(i,arguments)}function SO(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Zc(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return SO().domain([e,t]).range(a).unknown(i)},jn.apply(Ai(s),arguments)}function kO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Zc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return kO().domain(e).range(t).unknown(r)},jn.apply(a,arguments)}const Rm=new Date,Mm=new Date;function Lt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Lt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Rm.setTime(+i),Mm.setTime(+s),e(Rm),e(Mm),Math.floor(r(Rm,Mm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Df=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Df.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Df);Df.range;const wa=1e3,gn=wa*60,_a=gn*60,Ra=_a*24,fx=Ra*7,W1=Ra*30,Lm=Ra*365,as=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCSeconds());as.range;const hx=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getMinutes());hx.range;const px=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCMinutes());px.range;const mx=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa-e.getMinutes()*gn)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getHours());mx.range;const gx=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCHours());gx.range;const ru=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gn)/Ra,e=>e.getDate()-1);ru.range;const op=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>e.getUTCDate()-1);op.range;const NO=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>Math.floor(e/Ra));NO.range;function Os(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gn)/fx)}const lp=Os(0),If=Os(1),Z9=Os(2),e7=Os(3),Mo=Os(4),t7=Os(5),r7=Os(6);lp.range;If.range;Z9.range;e7.range;Mo.range;t7.range;r7.range;function As(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fx)}const cp=As(0),Rf=As(1),n7=As(2),a7=As(3),Lo=As(4),i7=As(5),s7=As(6);cp.range;Rf.range;n7.range;a7.range;Lo.range;i7.range;s7.range;const vx=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vx.range;const yx=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yx.range;const Ma=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ma.range;const La=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});La.range;function CO(e,t,r,n,a,i){const s=[[as,1,wa],[as,5,5*wa],[as,15,15*wa],[as,30,30*wa],[i,1,gn],[i,5,5*gn],[i,15,15*gn],[i,30,30*gn],[a,1,_a],[a,3,3*_a],[a,6,6*_a],[a,12,12*_a],[n,1,Ra],[n,2,2*Ra],[r,1,fx],[t,1,W1],[t,3,3*W1],[e,1,Lm]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=Z0(([,,v])=>v).right(s,h);if(p===s.length)return e.every(Mv(u/Lm,d/Lm,f));if(p===0)return Df.every(Math.max(Mv(u,d,f),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,c]}const[o7,l7]=CO(La,yx,cp,NO,gx,px),[c7,u7]=CO(Ma,vx,lp,ru,mx,hx);function $m(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function d7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=_l(a),d=jl(a),f=_l(i),h=jl(i),p=_l(s),g=jl(s),y=_l(o),v=jl(o),x=_l(c),w=jl(c),b={a:V,A:T,b:R,B:M,c:null,d:Y1,e:Y1,f:I7,g:K7,G:q7,H:A7,I:T7,j:D7,L:EO,m:R7,M:M7,p:ae,q:Z,Q:Q1,s:Z1,S:L7,u:$7,U:F7,V:B7,w:U7,W:z7,x:null,X:null,y:W7,Y:H7,Z:V7,"%":J1},_={a:ve,A:D,b:J,B:U,c:null,d:X1,e:X1,f:J7,g:oW,G:cW,H:G7,I:Y7,j:X7,L:OO,m:Q7,M:Z7,p:G,q:pe,Q:Q1,s:Z1,S:eW,u:tW,U:rW,V:nW,w:aW,W:iW,x:null,X:null,y:sW,Y:lW,Z:uW,"%":J1},j={a:P,A:O,b:C,B:F,c:K,d:V1,e:V1,f:C7,g:q1,G:H1,H:G1,I:G1,j:j7,L:N7,m:_7,M:S7,p:E,q:w7,Q:P7,s:O7,S:k7,u:g7,U:v7,V:y7,w:m7,W:x7,x:ee,X:Q,y:q1,Y:H1,Z:b7,"%":E7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(A,z){return function(Y){var L=[],_e=-1,ge=0,Oe=A.length,B,ie,Se;for(Y instanceof Date||(Y=new Date(+Y));++_e<Oe;)A.charCodeAt(_e)===37&&(L.push(A.slice(ge,_e)),(ie=K1[B=A.charAt(++_e)])!=null?B=A.charAt(++_e):ie=B==="e"?" ":"0",(Se=z[B])&&(B=Se(Y,ie)),L.push(B),ge=_e+1);return L.push(A.slice(ge,_e)),L.join("")}}function N(A,z){return function(Y){var L=wl(1900,void 0,1),_e=k(L,A,Y+="",0),ge,Oe;if(_e!=Y.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(z&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ge=Fm(wl(L.y,0,1)),Oe=ge.getUTCDay(),ge=Oe>4||Oe===0?Rf.ceil(ge):Rf(ge),ge=op.offset(ge,(L.V-1)*7),L.y=ge.getUTCFullYear(),L.m=ge.getUTCMonth(),L.d=ge.getUTCDate()+(L.w+6)%7):(ge=$m(wl(L.y,0,1)),Oe=ge.getDay(),ge=Oe>4||Oe===0?If.ceil(ge):If(ge),ge=ru.offset(ge,(L.V-1)*7),L.y=ge.getFullYear(),L.m=ge.getMonth(),L.d=ge.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Oe="Z"in L?Fm(wl(L.y,0,1)).getUTCDay():$m(wl(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Oe+5)%7:L.w+L.U*7-(Oe+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Fm(L)):$m(L)}}function k(A,z,Y,L){for(var _e=0,ge=z.length,Oe=Y.length,B,ie;_e<ge;){if(L>=Oe)return-1;if(B=z.charCodeAt(_e++),B===37){if(B=z.charAt(_e++),ie=j[B in K1?z.charAt(_e++):B],!ie||(L=ie(A,Y,L))<0)return-1}else if(B!=Y.charCodeAt(L++))return-1}return L}function E(A,z,Y){var L=u.exec(z.slice(Y));return L?(A.p=d.get(L[0].toLowerCase()),Y+L[0].length):-1}function P(A,z,Y){var L=p.exec(z.slice(Y));return L?(A.w=g.get(L[0].toLowerCase()),Y+L[0].length):-1}function O(A,z,Y){var L=f.exec(z.slice(Y));return L?(A.w=h.get(L[0].toLowerCase()),Y+L[0].length):-1}function C(A,z,Y){var L=x.exec(z.slice(Y));return L?(A.m=w.get(L[0].toLowerCase()),Y+L[0].length):-1}function F(A,z,Y){var L=y.exec(z.slice(Y));return L?(A.m=v.get(L[0].toLowerCase()),Y+L[0].length):-1}function K(A,z,Y){return k(A,t,z,Y)}function ee(A,z,Y){return k(A,r,z,Y)}function Q(A,z,Y){return k(A,n,z,Y)}function V(A){return s[A.getDay()]}function T(A){return i[A.getDay()]}function R(A){return c[A.getMonth()]}function M(A){return o[A.getMonth()]}function ae(A){return a[+(A.getHours()>=12)]}function Z(A){return 1+~~(A.getMonth()/3)}function ve(A){return s[A.getUTCDay()]}function D(A){return i[A.getUTCDay()]}function J(A){return c[A.getUTCMonth()]}function U(A){return o[A.getUTCMonth()]}function G(A){return a[+(A.getUTCHours()>=12)]}function pe(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var z=S(A+="",b);return z.toString=function(){return A},z},parse:function(A){var z=N(A+="",!1);return z.toString=function(){return A},z},utcFormat:function(A){var z=S(A+="",_);return z.toString=function(){return A},z},utcParse:function(A){var z=N(A+="",!0);return z.toString=function(){return A},z}}}var K1={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,f7=/^%/,h7=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function p7(e){return e.replace(h7,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(p7).join("|")+")","i")}function jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function m7(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function x7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H1(e,t,r){var n=Gt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function q1(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function b7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function w7(e,t,r){var n=Gt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function V1(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=Gt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function G1(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function k7(e,t,r){var n=Gt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=Gt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=Gt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E7(e,t,r){var n=f7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function P7(e,t,r){var n=Gt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function O7(e,t,r){var n=Gt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y1(e,t){return Re(e.getDate(),t,2)}function A7(e,t){return Re(e.getHours(),t,2)}function T7(e,t){return Re(e.getHours()%12||12,t,2)}function D7(e,t){return Re(1+ru.count(Ma(e),e),t,3)}function EO(e,t){return Re(e.getMilliseconds(),t,3)}function I7(e,t){return EO(e,t)+"000"}function R7(e,t){return Re(e.getMonth()+1,t,2)}function M7(e,t){return Re(e.getMinutes(),t,2)}function L7(e,t){return Re(e.getSeconds(),t,2)}function $7(e){var t=e.getDay();return t===0?7:t}function F7(e,t){return Re(lp.count(Ma(e)-1,e),t,2)}function PO(e){var t=e.getDay();return t>=4||t===0?Mo(e):Mo.ceil(e)}function B7(e,t){return e=PO(e),Re(Mo.count(Ma(e),e)+(Ma(e).getDay()===4),t,2)}function U7(e){return e.getDay()}function z7(e,t){return Re(If.count(Ma(e)-1,e),t,2)}function W7(e,t){return Re(e.getFullYear()%100,t,2)}function K7(e,t){return e=PO(e),Re(e.getFullYear()%100,t,2)}function H7(e,t){return Re(e.getFullYear()%1e4,t,4)}function q7(e,t){var r=e.getDay();return e=r>=4||r===0?Mo(e):Mo.ceil(e),Re(e.getFullYear()%1e4,t,4)}function V7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function X1(e,t){return Re(e.getUTCDate(),t,2)}function G7(e,t){return Re(e.getUTCHours(),t,2)}function Y7(e,t){return Re(e.getUTCHours()%12||12,t,2)}function X7(e,t){return Re(1+op.count(La(e),e),t,3)}function OO(e,t){return Re(e.getUTCMilliseconds(),t,3)}function J7(e,t){return OO(e,t)+"000"}function Q7(e,t){return Re(e.getUTCMonth()+1,t,2)}function Z7(e,t){return Re(e.getUTCMinutes(),t,2)}function eW(e,t){return Re(e.getUTCSeconds(),t,2)}function tW(e){var t=e.getUTCDay();return t===0?7:t}function rW(e,t){return Re(cp.count(La(e)-1,e),t,2)}function AO(e){var t=e.getUTCDay();return t>=4||t===0?Lo(e):Lo.ceil(e)}function nW(e,t){return e=AO(e),Re(Lo.count(La(e),e)+(La(e).getUTCDay()===4),t,2)}function aW(e){return e.getUTCDay()}function iW(e,t){return Re(Rf.count(La(e)-1,e),t,2)}function sW(e,t){return Re(e.getUTCFullYear()%100,t,2)}function oW(e,t){return e=AO(e),Re(e.getUTCFullYear()%100,t,2)}function lW(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function cW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lo(e):Lo.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function uW(){return"+0000"}function J1(){return"%"}function Q1(e){return+e}function Z1(e){return Math.floor(+e/1e3)}var Us,TO,DO;dW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dW(e){return Us=d7(e),TO=Us.format,Us.parse,DO=Us.utcFormat,Us.utcParse,Us}function fW(e){return new Date(e)}function hW(e){return e instanceof Date?+e:+new Date(+e)}function xx(e,t,r,n,a,i,s,o,c,u){var d=ix(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?p:o(S)<S?g:s(S)<S?y:i(S)<S?v:n(S)<S?a(S)<S?x:w:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,hW)):h().map(fW)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(xO(N,S)):d},d.copy=function(){return tu(d,xx(e,t,r,n,a,i,s,o,c,u))},d}function pW(){return jn.apply(xx(c7,u7,Ma,vx,lp,ru,mx,hx,as,TO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mW(){return jn.apply(xx(o7,l7,La,yx,cp,op,gx,px,as,DO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function up(){var e=0,t=1,r,n,a,i,s=vr,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(el),u.rangeRound=d(ax),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ti(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function IO(){var e=Ai(up()(vr));return e.copy=function(){return Ti(e,IO())},Ka.apply(e,arguments)}function RO(){var e=lx(up()).domain([1,10]);return e.copy=function(){return Ti(e,RO()).base(e.base())},Ka.apply(e,arguments)}function MO(){var e=cx(up());return e.copy=function(){return Ti(e,MO()).constant(e.constant())},Ka.apply(e,arguments)}function bx(){var e=ux(up());return e.copy=function(){return Ti(e,bx()).exponent(e.exponent())},Ka.apply(e,arguments)}function gW(){return bx.apply(null,arguments).exponent(.5)}function LO(){var e=[],t=vr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(yi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>t9(e,i/n))},r.copy=function(){return LO(t).domain(e)},Ka.apply(r,arguments)}function dp(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=vr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,u=E9(y,[x,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(el),p.rangeRound=g(ax),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function $O(){var e=Ai(dp()(vr));return e.copy=function(){return Ti(e,$O())},Ka.apply(e,arguments)}function FO(){var e=lx(dp()).domain([.1,1,10]);return e.copy=function(){return Ti(e,FO()).base(e.base())},Ka.apply(e,arguments)}function BO(){var e=cx(dp());return e.copy=function(){return Ti(e,BO()).constant(e.constant())},Ka.apply(e,arguments)}function wx(){var e=ux(dp());return e.copy=function(){return Ti(e,wx()).exponent(e.exponent())},Ka.apply(e,arguments)}function vW(){return wx.apply(null,arguments).exponent(.5)}const Il=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tx,scaleDiverging:$O,scaleDivergingLog:FO,scaleDivergingPow:wx,scaleDivergingSqrt:vW,scaleDivergingSymlog:BO,scaleIdentity:yO,scaleImplicit:Lv,scaleLinear:vO,scaleLog:bO,scaleOrdinal:ex,scalePoint:a9,scalePow:dx,scaleQuantile:jO,scaleQuantize:SO,scaleRadial:_O,scaleSequential:IO,scaleSequentialLog:RO,scaleSequentialPow:bx,scaleSequentialQuantile:LO,scaleSequentialSqrt:gW,scaleSequentialSymlog:MO,scaleSqrt:J9,scaleSymlog:wO,scaleThreshold:kO,scaleTime:pW,scaleUtc:mW,tickFormat:gO},Symbol.toStringTag,{value:"Module"}));var Di=e=>e.chartData,yW=$([Di],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fp=(e,t,r,n)=>n?yW(e):Di(e);function _s(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(yt(t)&&yt(r))return!0}return!1}function ej(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function UO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(yt(r))a=r;else if(typeof r=="function")return;if(yt(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(_s(s))return s}}function xW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_s(n))return ej(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(ue(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&W_.test(a)){var c=W_.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(ue(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&K_.test(i)){var d=K_.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(_s(h))return t==null?h:ej(h,t,r)}}}var tl=1e9,bW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jx,at=!0,_n="[DecimalError] ",ds=_n+"Invalid argument: ",_x=_n+"Exponent out of range: ",rl=Math.floor,Yi=Math.pow,wW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,Ut=1e7,Ze=7,zO=9007199254740991,Mf=rl(zO/Ze),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return Na(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return Ve(Na(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return kt(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yr))throw Error(_n+"NaN");if(r.s<1)throw Error(_n+(r.s?"NaN":"-Infinity"));return r.eq(Yr)?new n(0):(at=!1,t=Na(Ac(r,i),Ac(e,i),i),at=!0,Ve(t,a))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HO(t,e):WO(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_n+"NaN");return r.s?(at=!1,t=Na(r,e,0,1).times(e),at=!0,r.minus(t)):Ve(new n(r),a)};oe.naturalExponential=oe.exp=function(){return KO(this)};oe.naturalLogarithm=oe.ln=function(){return Ac(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WO(t,e):HO(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ds+e);if(t=kt(a)+1,n=a.d.length-1,r=n*Ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(_n+"NaN")}for(e=kt(o),at=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=na(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=rl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Na(o,i,s+2)).times(.5),na(i.d).slice(0,s)===(t=na(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ve(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return at=!0,Ve(n,r)};oe.times=oe.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Ut|0,t=o/Ut|0;i[a]=(i[a]+t)%Ut|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,at?Ve(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ca(e,0,tl),t===void 0?t=n.rounding:ca(t,0,8),Ve(r,e+kt(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=js(n,!0):(ca(e,0,tl),t===void 0?t=a.rounding:ca(t,0,8),n=Ve(new a(n),e+1,t),r=js(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?js(a):(ca(e,0,tl),t===void 0?t=i.rounding:ca(t,0,8),n=Ve(new i(a),e+kt(a)+1,t),r=js(n.abs(),!1,e+kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return Ve(new t(e),kt(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Yr);if(o=new c(o),!o.s){if(e.s<1)throw Error(_n+"Infinity");return o}if(o.eq(Yr))return o;if(n=c.precision,e.eq(Yr))return Ve(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=zO){for(a=new c(Yr),t=Math.ceil(n/Ze+4),at=!1;r%2&&(a=a.times(o),rj(a.d,t)),r=rl(r/2),r!==0;)o=o.times(o),rj(o.d,t);return at=!0,e.s<0?new c(Yr).div(a):Ve(a,n)}}else if(i<0)throw Error(_n+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,at=!1,a=e.times(Ac(o,n+u)),at=!0,a=KO(a),a.s=i,a};oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=kt(a),n=js(a,r<=i.toExpNeg||r>=i.toExpPos)):(ca(e,1,tl),t===void 0?t=i.rounding:ca(t,0,8),a=Ve(new i(a),e,t),r=kt(a),n=js(a,e<=r||r<=i.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ca(e,1,tl),t===void 0?t=n.rounding:ca(t,0,8)),Ve(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return js(e,t<=r.toExpNeg||t>=r.toExpPos)};function WO(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),at?Ve(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/Ze),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ut|0,c[i]%=Ut;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,at?Ve(t,f):t}function ca(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ds+e)}function na(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ze-n.length,r&&(i+=ti(r)),i+=n;s=e[t],n=s+"",r=Ze-n.length,r&&(i+=ti(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Na=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ut|0,s=i/Ut|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ut+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,g,y,v,x,w,b,_,j,S,N,k,E=n.constructor,P=n.s==a.s?1:-1,O=n.d,C=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(_n+"Division by zero");for(c=n.e-a.e,N=C.length,j=O.length,p=new E(P),g=p.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--c,i==null?w=i=E.precision:s?w=i+(kt(n)-kt(a))+1:w=i,w<0)return new E(0);if(w=w/Ze+2|0,u=0,N==1)for(d=0,C=C[0],w++;(u<j||d)&&w--;u++)b=d*Ut+(O[u]||0),g[u]=b/C|0,d=b%C|0;else{for(d=Ut/(C[0]+1)|0,d>1&&(C=e(C,d),O=e(O,d),N=C.length,j=O.length),_=N,y=O.slice(0,N),v=y.length;v<N;)y[v++]=0;k=C.slice(),k.unshift(0),S=C[0],C[1]>=Ut/2&&++S;do d=0,o=t(C,y,N,v),o<0?(x=y[0],N!=v&&(x=x*Ut+(y[1]||0)),d=x/S|0,d>1?(d>=Ut&&(d=Ut-1),f=e(C,d),h=f.length,v=y.length,o=t(f,y,h,v),o==1&&(d--,r(f,N<h?k:C,h))):(d==0&&(o=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),o==-1&&(v=y.length,o=t(C,y,N,v),o<1&&(d++,r(y,N<v?k:C,v))),v=y.length):o===0&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=O[_]||0:(y=[O[_]],v=1);while((_++<j||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,Ve(p,s?i+kt(p)+1:i)}}();function KO(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(kt(e)>16)throw Error(_x+kt(e));if(!e.s)return new d(Yr);for(at=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Yi(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Yr),d.precision=o;;){if(a=Ve(a.times(e),o),r=r.times(++c),s=i.plus(Na(a,r,o)),na(s.d).slice(0,o)===na(i.d).slice(0,o)){for(;u--;)i=Ve(i.times(i),o);return d.precision=f,t==null?(at=!0,Ve(i,f)):i}i=s}}function kt(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function Bm(e,t,r){if(t>e.LN10.sd())throw at=!0,r&&(e.precision=r),Error(_n+"LN10 precision limit exceeded");return Ve(new e(e.LN10),t)}function ti(e){for(var t="";e--;)t+="0";return t}function Ac(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(_n+(p.s?"NaN":"-Infinity"));if(p.eq(Yr))return new y(0);if(t==null?(at=!1,u=v):u=t,p.eq(10))return t==null&&(at=!0),Bm(y,u);if(u+=h,y.precision=u,r=na(g),n=r.charAt(0),i=kt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=na(p.d),n=r.charAt(0),f++;i=kt(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return c=Bm(y,u+2,v).times(i+""),p=Ac(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,t==null?(at=!0,Ve(p,v)):p;for(o=s=p=Na(p.minus(Yr),p.plus(Yr),u),d=Ve(p.times(p),u),a=3;;){if(s=Ve(s.times(d),u),c=o.plus(Na(s,new y(a),u)),na(c.d).slice(0,u)===na(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Bm(y,u+2,v).times(i+""))),o=Na(o,new y(f),u),y.precision=v,t==null?(at=!0,Ve(o,v)):o;o=c,a+=2}}function tj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=rl(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ze;n<a;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),at&&(e.e>Mf||e.e<-Mf))throw Error(_x+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ve(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ze,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ze),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Ze,a=n-Ze+s}if(r!==void 0&&(i=Yi(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Yi(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=kt(e),f.length=1,t=t-i-1,f[0]=Yi(10,(Ze-t%Ze)%Ze),e.e=rl(-t/Ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Yi(10,Ze-n),f[d]=a>0?(u/Yi(10,s-a)%Yi(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ut&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ut)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(at&&(e.e>Mf||e.e<-Mf))throw Error(_x+kt(e));return e}function HO(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),at?Ve(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/Ze),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ut-1;--c[i],c[a]+=Ut}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,at?Ve(t,p):t):new h(0)}function js(e,t,r){var n,a=kt(e),i=na(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ti(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ti(-a-1)+i,r&&(n=r-s)>0&&(i+=ti(n))):a>=s?(i+=ti(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ti(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ti(n))),e.s<0?"-"+i:i}function rj(e,t){if(e.length>t)return e.length=t,!0}function qO(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ds+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tj(s,i.toString())}else if(typeof i!="string")throw Error(ds+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,wW.test(i))tj(s,i);else throw Error(ds+i)}if(a.prototype=oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=qO,a.config=a.set=_W,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function _W(e){if(!e||typeof e!="object")throw Error(_n+"Object expected");var t,r,n,a=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(rl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ds+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ds+r+": "+n);return this}var jx=qO(bW);Yr=new jx(1);const Be=jx;var jW=e=>e,VO={},GO=e=>e===VO,nj=e=>function t(){return arguments.length===0||arguments.length===1&&GO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YO=(e,t)=>e===1?t:nj(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==VO).length;return i>=e?t(...n):YO(e-i,nj(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>GO(d)?o.shift():d);return t(...u,...o)}))}),hp=e=>YO(e.length,e),Uv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},SW=hp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),kW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jW;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},zv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),XO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function JO(e){var t;return e===0?t=1:t=Math.floor(new Be(e).abs().log(10).toNumber())+1,t}function QO(e,t,r){for(var n=new Be(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}hp((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});hp((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});hp((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var ZO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},eA=(e,t,r)=>{if(e.lte(0))return new Be(0);var n=JO(e.toNumber()),a=new Be(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Be(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new Be(c.toNumber()):new Be(Math.ceil(c.toNumber()))},NW=(e,t,r)=>{var n=new Be(1),a=new Be(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Be(10).pow(JO(e)-1),a=new Be(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Be(Math.floor(e)))}else e===0?a=new Be(Math.floor((t-1)/2)):r||(a=new Be(Math.floor(e)));var s=Math.floor((t-1)/2),o=kW(SW(c=>a.add(new Be(c-s).mul(n)).toNumber()),Uv);return o(0,t)},tA=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var s=eA(new Be(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Be(0):(o=new Be(t).add(r).div(2),o=o.sub(new Be(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Be(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?tA(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Be(c).mul(s)),tickMax:o.add(new Be(u).mul(s))})};function CW(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=ZO([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...Uv(0,n-1).map(()=>1/0)]:[...Uv(0,n-1).map(()=>-1/0),o];return t>r?zv(c):c}if(s===o)return NW(s,n,a);var{step:u,tickMin:d,tickMax:f}=tA(s,o,i,a,0),h=QO(d,f.add(new Be(.1).mul(u)),u);return t>r?zv(h):h}function EW(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=ZO([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),c=eA(new Be(s).sub(i).div(o-1),a,0),u=[...QO(new Be(i),new Be(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?zv(u):u}var PW=XO(CW),OW=XO(EW),rA=e=>e.rootProps.maxBarSize,AW=e=>e.rootProps.barGap,nA=e=>e.rootProps.barCategoryGap,TW=e=>e.rootProps.barSize,pp=e=>e.rootProps.stackOffset,Sx=e=>e.options.chartName,kx=e=>e.rootProps.syncId,aA=e=>e.rootProps.syncMethod,Nx=e=>e.options.eventEmitter,Kt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},va={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},mp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:va.type,unit:void 0},IW={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},RW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MW={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},Cx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?RW:DW,Ex=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MW:IW,gp=e=>e.polarOptions,Px=$([za,Wa,Vt],D8),iA=$([gp,Px],(e,t)=>{if(e!=null)return Kn(e.innerRadius,t,0)}),sA=$([gp,Px],(e,t)=>{if(e!=null)return Kn(e.outerRadius,t,t*.8)}),LW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},oA=$([gp],LW);$([Cx,oA],mp);var lA=$([Px,iA,sA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([Ex,lA],mp);var cA=$([$e,gp,iA,sA,za,Wa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Kn(s,a,a/2),cy:Kn(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),$t=(e,t)=>t,vp=(e,t,r)=>r;function Ox(e){return e==null?void 0:e.id}function uA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Ox(o);u.forEach((f,h)=>{var p=i==null||a?h:String(qt(f,i,null)),g=qt(f,o.dataKey,0),y;s.has(p)?y=s.get(p):y={},Object.assign(y,{[d]:g}),s.set(p,y)})}}),Array.from(s.values())}function yp(e){return e.stackId!=null&&e.dataKey!=null}var xp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function bp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $W(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ft=e=>{var t=$e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nl=e=>e.tooltip.settings.axisId;function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){FW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wv=[0,"auto"],Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dA=(e,t)=>e.cartesianAxis.xAxis[t],Ha=(e,t)=>{var r=dA(e,t);return r??Wr},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Wv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jc},fA=(e,t)=>e.cartesianAxis.yAxis[t],qa=(e,t)=>{var r=fA(e,t);return r??Kr},zW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ax=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??zW},Sr=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);case"zAxis":return Ax(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WW=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nu=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function pA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var wp=e=>e.graphicalItems.cartesianItems,KW=$([$t,vp],pA),mA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),au=$([wp,Sr,KW],mA,{memoizeOptions:{resultEqualityCheck:bp}}),gA=$([au],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yp)),vA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),HW=$([au],vA),yA=e=>e.map(t=>t.data).filter(Boolean).flat(1),qW=$([au],yA,{memoizeOptions:{resultEqualityCheck:bp}}),xA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Tx=$([qW,fp],xA),bA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:qt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qt(a,n)}))):e.map(n=>({value:n})),_p=$([Tx,Sr,au],bA);function wA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jd(e){if(oa(e)||e instanceof Date){var t=Number(e);if(yt(t))return t}}function ij(e){if(Array.isArray(e)){var t=[jd(e[0]),jd(e[1])];return _s(t)?t:void 0}var r=jd(e);if(r!=null)return[r,r]}function $a(e){return e.map(jd).filter(MF)}function VW(e,t,r){return!r||typeof t!="number"||Wn(t)?[]:r.length?$a(r.flatMap(n=>{var a=qt(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!yt(i)||!yt(s)))return[t-i,t+s]})):[]}var Bt=e=>{var t=Ft(e),r=nl(e);return nu(e,t,r)},_A=$([Bt],e=>e==null?void 0:e.dataKey),GW=$([gA,fp,Bt],uA),jA=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,c=o.map(Ox);return[s,{stackedData:UU(e,c,r),graphicalItems:o}]}))},Kv=$([GW,gA,pp],jA),SA=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=qU(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},YW=$([Sr],e=>e.allowDataOverflow),Dx=e=>{var t;if(e==null||!("domain"in e))return Wv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=$a(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Wv},kA=$([Sr],Dx),NA=$([kA,YW],UO),XW=$([Kv,Di,$t,NA],SA,{memoizeOptions:{resultEqualityCheck:xp}}),Ix=e=>e.errorBars,JW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>wA(r,n)),$f=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},CA=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>wA(a,x)),h=qt(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=VW(o,h,f);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(i==null||g<i)&&(i=g),(s==null||y>s)&&(s=y)}var v=ij(h);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=ij(qt(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),yt(i)&&yt(s))return[i,s]},QW=$([Tx,Sr,HW,Ix,$t],CA,{memoizeOptions:{resultEqualityCheck:xp}});function ZW(e){var{value:t}=e;if(oa(t)||t instanceof Date)return t}var eK=(e,t,r)=>{var n=e.map(ZW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&CE(n))?sO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},EA=e=>e.referenceElements.dots,al=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tK=$([EA,$t,vp],al),PA=e=>e.referenceElements.areas,rK=$([PA,$t,vp],al),OA=e=>e.referenceElements.lines,nK=$([OA,$t,vp],al),AA=(e,t)=>{var r=$a(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aK=$(tK,$t,AA),TA=(e,t)=>{var r=$a(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iK=$([rK,$t],TA);function sK(e){var t;if(e.x!=null)return $a([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:$a(r)}function oK(e){var t;if(e.y!=null)return $a([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:$a(r)}var DA=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?sK(n):oK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lK=$([nK,$t],DA),cK=$(aK,lK,iK,(e,t,r)=>$f(e,r,t)),IA=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?$f(n,i,a):$f(i,a);return xW(t,u,e.allowDataOverflow)},uK=$([Sr,kA,NA,XW,QW,cK,$e,$t],IA,{memoizeOptions:{resultEqualityCheck:xp}}),dK=[0,1],RA=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=Oi(t,i);if(u&&o==null){var d;return sO(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?eK(n,e,u):a==="expand"?dK:s}},Rx=$([Sr,$e,Tx,_p,pp,$t,uK],RA),MA=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Gc(i));return o in Il?o:"point"}}},iu=$([Sr,$e,hA,Sx,$t],MA);function fK(e){if(e!=null){if(e in Il)return Il[e]();var t="scale".concat(Gc(e));if(t in Il)return Il[t]()}}function Mx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=fK(t);if(a!=null){var i=a.domain(r).range(n);return MU(i),i}}}var LA=(e,t,r)=>{var n=Dx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_s(e))return PW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_s(e))return OW(e,t.tickCount,t.allowDecimals)}},Lx=$([Rx,nu,iu],LA),$A=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_s(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},hK=$([Sr,Rx,Lx,$t],$A),pK=$(_p,Sr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($a(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),FA=$(pK,$e,nA,Vt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!yt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Kn(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),mK=(e,t)=>{var r=Ha(e,t);return r==null||typeof r.padding!="string"?0:FA(e,"xAxis",t,r.padding)},gK=(e,t)=>{var r=qa(e,t);return r==null||typeof r.padding!="string"?0:FA(e,"yAxis",t,r.padding)},vK=$(Ha,mK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),yK=$(qa,gK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),xK=$([Vt,vK,tp,ep,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),bK=$([Vt,$e,yK,tp,ep,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),su=(e,t,r,n)=>{var a;switch(t){case"xAxis":return xK(e,r,n);case"yAxis":return bK(e,r,n);case"zAxis":return(a=Ax(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return oA(e);case"radiusAxis":return lA(e,r);default:return}},BA=$([Sr,su],mp),il=$([Sr,iu,hK,BA],Mx);$([au,Ix,$t],JW);function UA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jp=(e,t)=>t,Sp=(e,t,r)=>r,wK=$(Qh,jp,Sp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UA)),_K=$(Zh,jp,Sp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(UA)),zA=(e,t)=>({width:e.width,height:t.height}),jK=(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}},WA=$(Vt,Ha,zA),SK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},NK=$(Wa,Vt,wK,jp,Sp,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=zA(t,o);s==null&&(s=SK(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),CK=$(za,Vt,_K,jp,Sp,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=jK(t,o);s==null&&(s=kK(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),EK=(e,t)=>{var r=Ha(e,t);if(r!=null)return NK(e,r.orientation,r.mirror)},PK=$([Vt,Ha,EK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),OK=(e,t)=>{var r=qa(e,t);if(r!=null)return CK(e,r.orientation,r.mirror)},AK=$([Vt,qa,OK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),KA=$(Vt,qa,(e,t)=>{var r=typeof t.width=="number"?t.width:Jc;return{width:r,height:e.height}}),sj=(e,t,r)=>{switch(t){case"xAxis":return WA(e,r).width;case"yAxis":return KA(e,r).height;default:return}},HA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Oi(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&CE(c))return c}},$x=$([$e,_p,Sr,$t],HA),qA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Oi(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},Fx=$([$e,_p,nu,$t],qA),oj=$([$e,WW,iu,il,$x,Fx,su,Lx,$t],(e,t,r,n,a,i,s,o,c)=>{if(t!=null){var u=Oi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),TK=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=Oi(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Ar(i[0]-i[1])*2*g:g;var y=f||a;if(y){var v=y.map((x,w)=>{var b=s?s.indexOf(x):x;return{index:w,coordinate:n(b)+g,value:x,offset:g}});return v.filter(x=>yt(x.coordinate))}return u&&o?o.map((x,w)=>({coordinate:n(x)+g,value:x,index:w,offset:g})).filter(x=>yt(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,w)=>({coordinate:n(x)+g,value:s?s[x]:x,index:w,offset:g}))}},VA=$([$e,nu,iu,il,Lx,su,$x,Fx,$t],TK),DK=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Oi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ar(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Si=$([$e,nu,il,su,$x,Fx,$t],DK),ki=$(Sr,il,(e,t)=>{if(!(e==null||t==null))return Lf(Lf({},e),{},{scale:t})}),IK=$([Sr,iu,Rx,BA],Mx);$((e,t,r)=>Ax(e,r),IK,(e,t)=>{if(!(e==null||t==null))return Lf(Lf({},e),{},{scale:t})});var RK=$([$e,Qh,Zh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GA=e=>e.options.defaultTooltipEventType,YA=e=>e.options.validateTooltipEventTypes;function XA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bx(e,t){var r=GA(e),n=YA(e);return XA(t,r,n)}function MK(e){return he(t=>Bx(t,e))}var JA=(e,t)=>{var r,n=Number(t);if(!(Wn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LK=e=>e.tooltip.settings,si={active:!1,index:null,dataKey:void 0,coordinate:void 0},$K={itemInteraction:{click:si,hover:si},axisInteraction:{click:si,hover:si},keyboardInteraction:si,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QA=Mr({name:"tooltip",initialState:$K,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Rt()},removeTooltipEntrySettings:{reducer(e,t){var r=ka(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Rt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FK,removeTooltipEntrySettings:BK,setTooltipSettingsState:UK,setActiveMouseOverItemIndex:ZA,mouseLeaveItem:zK,mouseLeaveChart:eT,setActiveClickItemIndex:WK,setMouseOverAxisIndex:tT,setMouseClickAxisIndex:KK,setSyncInteraction:Hv,setKeyboardInteraction:qv}=QA.actions,HK=QA.reducer;function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return(t=VK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XK(e){return e.index!=null}var rT=(e,t,r,n)=>{if(t==null)return si;var a=YK(e,t,r);if(a==null)return si;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(XK(a)){if(i)return td(td({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return td(td({},si),{},{coordinate:a.coordinate})},Ux=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!yt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},nT=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},aT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},ou=e=>e.options.tooltipPayloadSearcher,sl=e=>e.tooltip;function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t){return e??t}var iT=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:y,settings:v}=p,x=eH(y,o),w=Array.isArray(x)?TP(x,u,d):x,b=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,_=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?j=EE(w,n,a):j=i(w,t,c,_),Array.isArray(j))j.forEach(N=>{var k=uj(uj({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(H_({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:qt(N.payload,N.dataKey),name:N.name}))});else{var S;h.push(H_({tooltipEntrySettings:v,dataKey:b,payload:j,value:qt(j,b),name:(S=qt(j,_))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},f)}},zx=$([Bt,$e,hA,Sx,Ft],MA),tH=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rH=$([Ft,nl],pA),lu=$([tH,Bt,rH],mA,{memoizeOptions:{resultEqualityCheck:bp}}),nH=$([lu],e=>e.filter(yp)),aH=$([lu],yA,{memoizeOptions:{resultEqualityCheck:bp}}),ol=$([aH,Di],xA),iH=$([nH,Di,Bt],uA),Wx=$([ol,Bt,lu],bA),sT=$([Bt],Dx),sH=$([Bt],e=>e.allowDataOverflow),oT=$([sT,sH],UO),oH=$([lu],e=>e.filter(yp)),lH=$([iH,oH,pp],jA),cH=$([lH,Di,Ft,oT],SA),uH=$([lu],vA),dH=$([ol,Bt,uH,Ix,Ft],CA,{memoizeOptions:{resultEqualityCheck:xp}}),fH=$([EA,Ft,nl],al),hH=$([fH,Ft],AA),pH=$([PA,Ft,nl],al),mH=$([pH,Ft],TA),gH=$([OA,Ft,nl],al),vH=$([gH,Ft],DA),yH=$([hH,vH,mH],$f),xH=$([Bt,sT,oT,cH,dH,yH,$e,Ft],IA),lT=$([Bt,$e,ol,Wx,pp,Ft,xH],RA),bH=$([lT,Bt,zx],LA),wH=$([Bt,lT,bH,Ft],$A),cT=e=>{var t=Ft(e),r=nl(e),n=!1;return su(e,t,r,n)},uT=$([Bt,cT],mp),dT=$([Bt,zx,wH,uT],Mx),_H=$([$e,Wx,Bt,Ft],HA),jH=$([$e,Wx,Bt,Ft],qA),SH=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=Oi(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ar(a[0]-a[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Va=$([$e,Bt,zx,dT,cT,_H,jH,Ft],SH),Kx=$([GA,YA,LK],(e,t,r)=>XA(r.shared,e,t)),fT=e=>e.tooltip.settings.trigger,Hx=e=>e.tooltip.settings.defaultIndex,kp=$([sl,Kx,fT,Hx],rT),Ss=$([kp,ol],Ux),hT=$([Va,Ss],JA),pT=$([kp],e=>{if(e)return e.dataKey}),mT=$([sl,Kx,fT,Hx],aT),kH=$([za,Wa,$e,Vt,Va,Hx,mT,ou],nT),NH=$([kp,kH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),CH=$([kp],e=>e.active),EH=$([mT,Ss,Di,_A,hT,ou,Kx],iT),PH=$([EH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DH=()=>he(Bt),IH=()=>{var e=DH(),t=he(Va),r=he(dT);return Io(!e||!r?void 0:fj(fj({},e),{},{scale:r}),t)};function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $H=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},FH=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return zs(zs(zs({},n),tr(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return zs(zs(zs({},n),tr(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function BH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var gT=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Ar(d-u)!==Ar(f-d)){var p=[];if(Ar(f-d)===Ar(a[1]-a[0])){h=f;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var y=f+a[1]-a[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var x=Math.min(u,f),w=Math.max(u,f);if(e>(x+d)/2&&e<=(w+d)/2){({index:s}=r[c]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},UH=()=>he(Sx),qx=(e,t)=>t,vT=(e,t,r)=>r,Vx=(e,t,r,n)=>n,zH=$(Va,e=>Hh(e,t=>t.coordinate)),Gx=$([sl,qx,vT,Vx],rT),yT=$([Gx,ol],Ux),WH=(e,t,r)=>{if(t!=null){var n=sl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},xT=$([sl,qx,vT,Vx],aT),Ff=$([za,Wa,$e,Vt,Va,Vx,xT,ou],nT),KH=$([Gx,Ff],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),bT=$([Va,yT],JA),HH=$([xT,yT,Di,_A,bT,ou,qx],iT),qH=$([Gx],e=>({isActive:e.active,activeIndex:e.index})),VH=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&BH(e,s)){var o=VU(e,t),c=gT(o,i,a,r,n),u=$H(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},GH=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var o=$8(e,r);if(o){var c=GU(o,t),u=gT(c,s,i,n,a),d=FH(t,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},YH=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?VH(e,t,n,a,i,s,o):GH(e,t,r,n,a,i,s)},XH=$(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),JH=$(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Kt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:$W}});function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tq={},rq={zIndexMap:Object.values(Kt).reduce((e,t)=>mj(mj({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),tq)},nq=new Set(Object.values(Kt));function aq(e){return nq.has(e)}var wT=Mr({name:"zIndex",initialState:rq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Rt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!aq(r)&&delete e.zIndexMap[r])},prepare:Rt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Rt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Rt()}}}),{registerZIndexPortal:iq,unregisterZIndexPortal:sq,registerZIndexPortalId:oq,unregisterZIndexPortalId:lq}=wT.actions,cq=wT.reducer;function Sn(e){var{zIndex:t,children:r}=e,n=_z(),a=n&&t!==void 0&&t!==0,i=fr(),s=xt();m.useLayoutEffect(()=>a?(s(iq({zIndex:t})),()=>{s(sq({zIndex:t}))}):Zo,[s,t,a]);var o=he(u=>XH(u,t,i));if(!a)return r;if(!o)return null;var c=document.getElementById(o);return c?ci.createPortal(r,c):null}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return(t=dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function pq(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,p=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,y,v;if(d==="ScatterChart")g=f,y=Zz,v=Kt.cursorLine;else if(d==="BarChart")g=e8(o,f,i,s),y=ZP,v=Kt.cursorRectangle;else if(o==="radial"&&AE(f)){var{cx:x,cy:w,radius:b,startAngle:_,endAngle:j}=eO(f);g={cx:x,cy:w,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},y=rO,v=Kt.cursorLine}else g={points:z8(o,f,i)},y=GP,v=Kt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,N=rd(rd(rd(rd({stroke:"#ccc",pointerEvents:"none"},i),g),Vc(c)),{},{payload:h,payloadIndex:p,className:ze("recharts-tooltip-cursor",S)});return m.createElement(Sn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},m.createElement(hq,{cursor:c,cursorComp:y,cursorProps:N}))}function mq(e){var t=IH(),r=WP(),n=Qc(),a=UH();return t==null||r==null||n==null||a==null?null:m.createElement(pq,Vv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var _T=m.createContext(null),gq=()=>m.useContext(_T),jT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,j;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(jT);var vq=jT.exports;const yq=Ba(vq);var Tc=new yq,Gv="recharts.syncEvent.tooltip",vj="recharts.syncEvent.brush";function ST(e,t){if(t){var r=Number.parseInt(t,10);if(!Wn(r))return e==null?void 0:e[r]}}var xq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kT=Mr({name:"options",initialState:xq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bq=kT.reducer,{createEventEmitter:wq}=kT.actions;function _q(e){return e.tooltip.syncInteraction}var jq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},NT=Mr({name:"chartData",initialState:jq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yj,setDataStartEndIndexes:Sq,setComputedData:_ee}=NT.actions,kq=NT.reducer,Nq=["x","y"];function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){Cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oq(e,t){if(e==null)return{};var r,n,a=Aq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tq(){var e=he(kx),t=he(Nx),r=xt(),n=he(aA),a=he(Va),i=Qc(),s=rp(),o=he(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return Zo;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,v=Oq(p,Nq),{x,y:w,width:b,height:_}=d.payload.sourceViewBox,j=Ws(Ws({},v),{},{x:s.x+(b?(g-x)/b:0)*s.width,y:s.y+(_?(y-w)/_:0)*s.height});r(Ws(Ws({},d),{},{payload:Ws(Ws({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(a,N);S=a[k]}else n==="value"&&(S=a.find(Q=>String(Q.value)===d.payload.label));var{coordinate:E}=d.payload;if(S==null||d.payload.active===!1||E==null||s==null){r(Hv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:O}=E,C=Math.min(P,s.x+s.width),F=Math.min(O,s.y+s.height),K={x:i==="horizontal"?S.coordinate:C,y:i==="horizontal"?F:S.coordinate},ee=Hv({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(ee)}}};return Tc.on(Gv,c),()=>{Tc.off(Gv,c)}},[o,r,t,e,n,a,i,s])}function Dq(){var e=he(kx),t=he(Nx),r=xt();m.useEffect(()=>{if(e==null)return Zo;var n=(a,i,s)=>{t!==s&&e===a&&r(Sq(i))};return Tc.on(vj,n),()=>{Tc.off(vj,n)}},[r,t,e])}function Iq(){var e=xt();m.useEffect(()=>{e(wq())},[e]),Tq(),Dq()}function Rq(e,t,r,n,a,i){var s=he(p=>WH(p,e,t)),o=he(Nx),c=he(kx),u=he(aA),d=he(_q),f=d==null?void 0:d.active,h=rp();m.useEffect(()=>{if(!f&&c!=null&&o!=null){var p=Hv({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});Tc.emit(Gv,c,p,o)}},[f,r,s,a,n,o,c,u,i,h])}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fq(e){return e.dataKey}function Bq(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(Az,t)}var _j=[],Uq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ps.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jj(e){var t,r,n=jr(e,Uq),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:v,cursor:x,shared:w,trigger:b,defaultIndex:_,portal:j,axisId:S}=n,N=xt(),k=typeof _=="number"?String(_):_;m.useEffect(()=>{N(UK({shared:w,trigger:b,axisId:S,active:a,defaultIndex:k}))},[N,w,b,S,a,k]);var E=rp(),P=VP(),O=MK(w),{activeIndex:C,isActive:F}=(t=he(G=>qH(G,O,b,k)))!==null&&t!==void 0?t:{},K=he(G=>HH(G,O,b,k)),ee=he(G=>bT(G,O,b,k)),Q=he(G=>KH(G,O,b,k)),V=K,T=gq(),R=(r=a??F)!==null&&r!==void 0?r:!1,[M,ae]=RB([V,R]),Z=O==="axis"?ee:void 0;Rq(O,b,Q,Z,C,R);var ve=j??T;if(ve==null||E==null||O==null)return null;var D=V??_j;R||(D=_j),u&&D.length&&(D=ZF(D.filter(G=>G.value!=null&&(G.hide!==!0||n.includeHidden)),h,Fq));var J=D.length>0,U=m.createElement($z,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:d,active:R,coordinate:Q,hasPayload:J,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:v,lastBoundingBox:M,innerRef:ae,hasPortalFromProps:!!j},Bq(c,wj(wj({},n),{},{payload:D,label:Z,active:R,activeIndex:C,coordinate:Q,accessibilityLayer:P})));return m.createElement(m.Fragment,null,ci.createPortal(U,ve),R&&m.createElement(mq,{cursor:x,tooltipEventType:O,coordinate:Q,payload:D,index:C}))}var CT=e=>null;CT.displayName="Cell";function zq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hq{constructor(t){zq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xq={cacheSize:2e3,enableCache:!0},ET=qq({},Xq),kj=new Hq(ET.cacheSize),Jq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Nj="recharts_measurement_span";function Qq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var Cj=(e,t)=>{try{var r=document.getElementById(Nj);r||(r=document.createElement("span"),r.setAttribute("id",Nj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Jq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ps.isSsr)return{width:0,height:0};if(!ET.enableCache)return Cj(t,r);var n=Qq(t,r),a=kj.get(n);if(a)return a;var i=Cj(t,r);return kj.set(n,i),i},Ej=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tV=Object.keys(PT),co="NaN";function rV(e,t){return e*PT[t]}class Er{static parse(t){var r,[,n,a]=(r=eV.exec(t))!==null&&r!==void 0?r:[];return new Er(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Wn(t)&&(this.unit=""),r!==""&&!Zq.test(r)&&(this.num=NaN,this.unit=""),tV.includes(r)&&(this.num=rV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Er(NaN,""):new Er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Er(NaN,""):new Er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wn(this.num)}}function OT(e){if(e.includes(co))return co;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Ej.exec(t))!==null&&r!==void 0?r:[],s=Er.parse(n??""),o=Er.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return co;t=t.replace(Ej,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Pj.exec(t))!==null&&u!==void 0?u:[],p=Er.parse(d??""),g=Er.parse(h??""),y=f==="+"?p.add(g):p.subtract(g);if(y.isNaN())return co;t=t.replace(Pj,y.toString())}return t}var Oj=/\(([^()]*)\)/;function nV(e){for(var t=e,r;(r=Oj.exec(t))!=null;){var[,n]=r;t=t.replace(Oj,OT(n))}return t}function aV(e){var t=e.replace(/\s+/g,"");return t=nV(t),t=OT(t),t}function iV(e){try{return aV(e)}catch{return co}}function Um(e){var t=iV(e.slice(5,-1));return t===co?"":t}var sV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oV=["dx","dy","angle","className","breakAll"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function Aj(e,t){if(e==null)return{};var r,n,a=lV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AT=/[ \f\n\r\t\v\u2028\u2029]+/,TT=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];st(t)||(r?a=t.toString().split(""):a=t.toString().split(AT));var i=a.map(o=>({word:o,width:Yl(o,n).width})),s=r?0:Yl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function cV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var DT=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:o}=i,c=a[a.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};a.push(u)}return a},[]),IT=e=>e.reduce((t,r)=>t.width>r.width?t:r),uV="",Tj=(e,t,r,n,a,i,s,o)=>{var c=e.slice(0,t),u=TT({breakAll:r,style:n,children:c+uV});if(!u)return[!1,[]];var d=DT(u.wordsWithComputedWidth,i,s,o),f=d.length>a||IT(d).width>Number(i);return[f,d]},dV=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=ue(i),d=String(s),f=DT(t,n,r,a);if(!u||a)return f;var h=f.length>i||IT(f).width>Number(n);if(!h)return f;for(var p=0,g=d.length-1,y=0,v;p<=g&&y<=d.length-1;){var x=Math.floor((p+g)/2),w=x-1,[b,_]=Tj(d,w,c,o,i,n,r,a),[j]=Tj(d,x,c,o,i,n,r,a);if(!b&&!j&&(p=x+1),b&&j&&(g=x-1),!b&&j){v=_;break}y++}return v||f},Dj=e=>{var t=st(e)?[]:e.toString().split(AT);return[{words:t,width:void 0}]},fV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Ps.isSsr){var o,c,u=TT({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return Dj(n);return dV({breakAll:i,children:n,maxLines:s,style:a},o,c,t,!!r)}return Dj(n)},RT="#808080",hV={breakAll:!1,capHeight:"0.71em",fill:RT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yx=m.forwardRef((e,t)=>{var r=jr(e,hV),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Aj(r,sV),h=m.useMemo(()=>fV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:p,dy:g,angle:y,className:v,breakAll:x}=f,w=Aj(f,oV);if(!oa(n)||!oa(a)||h.length===0)return null;var b=Number(n)+(ue(p)?p:0),_=Number(a)+(ue(g)?g:0);if(!yt(b)||!yt(_))return null;var j;switch(d){case"start":j=Um("calc(".concat(s,")"));break;case"middle":j=Um("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=Um("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(c){var N=h[0].width,{width:k}=f;S.push("scale(".concat(ue(k)&&ue(N)?k/N:1,")"))}return y&&S.push("rotate(".concat(y,", ").concat(b,", ").concat(_,")")),S.length&&(w.transform=S.join(" ")),m.createElement("text",Yv({},xr(w),{ref:t,x:b,y:_,className:ze("recharts-text",v),textAnchor:u,fill:o.includes("url")?RT:o}),h.map((E,P)=>{var O=E.words.join(x?"":" ");return m.createElement("tspan",{x:b,dy:P===0?j:i,key:"".concat(O,"-").concat(P)},O)}))});Yx.displayName="Text";var pV=["labelRef"];function mV(e,t){if(e==null)return{};var r,n,a=gV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){vV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vV(e,t,r){return(t=yV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}var MT=m.createContext(null),bV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=e,c=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return m.createElement(MT.Provider,{value:c},o)},LT=()=>{var e=m.useContext(MT),t=rp();return e||zP(t)},wV=m.createContext(null),_V=()=>{var e=m.useContext(wV),t=he(cA);return e||t},jV=e=>{var{value:t,formatter:r}=e,n=st(e.children)?t:e.children;return typeof r=="function"?r(n):n},Xx=e=>e!=null&&typeof e=="function",SV=(e,t)=>{var r=Ar(t-e),n=Math.min(Math.abs(t-e),360);return r*n},kV=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=a,g=(u+d)/2,y=SV(f,h),v=y>=0?1:-1,x,w;switch(t){case"insideStart":x=f+v*i,w=p;break;case"insideEnd":x=h-v*i,w=!p;break;case"end":x=h+v*i,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=tr(o,c,g,x),_=tr(o,c,g,x+(w?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=st(e.id)?_c("recharts-radial-line-"):e.id;return m.createElement("text",ya({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:j})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},NV=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=tr(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:p,y:g}=tr(n,a,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Xv=e=>"cx"in e&&ue(e.cx),CV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Xv(r)&&(i=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,p=(f+h)/2,g=(c+u)/2,y=f+c/2,v=d>=0?1:-1,x=v*n,w=v>0?"end":"start",b=v>0?"start":"end",_=c>=0?1:-1,j=_*n,S=_>0?"end":"start",N=_>0?"start":"end";if(a==="top"){var k={x:f+c/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return gt(gt({},k),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:b};return gt(gt({},E),i?{height:Math.max(i.y+i.height-(o+d),0),width:u}:{})}if(a==="left"){var P={x:p-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return gt(gt({},P),i?{width:Math.max(P.x-i.x,0),height:d}:{})}if(a==="right"){var O={x:p+g+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return gt(gt({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:d}:{})}var C=i?{width:g,height:d}:{};return a==="insideLeft"?gt({x:p+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},C):a==="insideRight"?gt({x:p+g-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},C):a==="insideTop"?gt({x:f+c/2,y:o+x,textAnchor:"middle",verticalAnchor:b},C):a==="insideBottom"?gt({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},C):a==="insideTopLeft"?gt({x:f+j,y:o+x,textAnchor:N,verticalAnchor:b},C):a==="insideTopRight"?gt({x:f+c-j,y:o+x,textAnchor:S,verticalAnchor:b},C):a==="insideBottomLeft"?gt({x:h+j,y:o+d-x,textAnchor:N,verticalAnchor:w},C):a==="insideBottomRight"?gt({x:h+u-j,y:o+d-x,textAnchor:S,verticalAnchor:w},C):a&&typeof a=="object"&&(ue(a.x)||Da(a.x))&&(ue(a.y)||Da(a.y))?gt({x:s+Kn(a.x,g),y:o+Kn(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):gt({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},EV={offset:5,zIndex:Kt.label};function ri(e){var t=jr(e,EV),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=_V(),f=LT(),h=n==="center"?f:d??f,p,g,y;if(r==null?p=h:Xv(r)?p=r:p=zP(r),!p||st(a)&&st(i)&&!m.isValidElement(s)&&typeof s!="function")return null;var v=gt(gt({},t),{},{viewBox:p});if(m.isValidElement(s)){var{labelRef:x}=v,w=mV(v,pV);return m.cloneElement(s,w)}if(typeof s=="function"){if(g=m.createElement(s,v),m.isValidElement(g))return g}else g=jV(t);var b=xr(t);if(Xv(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return kV(t,n,g,b,p);y=NV(p,t.offset,t.position)}else y=CV(t,p);return m.createElement(Sn,{zIndex:t.zIndex},m.createElement(Yx,ya({ref:u,className:ze("recharts-label",o)},b,y,{textAnchor:cV(b.textAnchor)?b.textAnchor:y.textAnchor,breakAll:c}),g))}ri.displayName="Label";var PV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(ri,ya({key:"label-implicit"},n)):oa(e)?m.createElement(ri,ya({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===ri?m.cloneElement(e,gt({key:"label-implicit"},n)):m.createElement(ri,ya({key:"label-implicit",content:e},n)):Xx(e)?m.createElement(ri,ya({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(ri,ya({},e,{key:"label-implicit"},n)):null};function OV(e){var{label:t,labelRef:r}=e,n=LT();return PV(t,n,r)||null}var $T={},FT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(FT);var BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(BT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT,r=BT,n=Wh;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})($T);var AV=$T.last;const TV=Ba(AV);var DV=["valueAccessor"],IV=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bf.apply(null,arguments)}function Rj(e,t){if(e==null)return{};var r,n,a=RV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MV=e=>Array.isArray(e.value)?TV(e.value):e.value,UT=m.createContext(void 0),zT=UT.Provider,WT=m.createContext(void 0);WT.Provider;function LV(){return m.useContext(UT)}function $V(){return m.useContext(WT)}function Sd(e){var{valueAccessor:t=MV}=e,r=Rj(e,DV),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,c=Rj(r,IV),u=LV(),d=$V(),f=u||d;return!f||!f.length?null:m.createElement(Sn,{zIndex:o??Kt.label},m.createElement(bn,{className:"recharts-label-list"},f.map((h,p)=>{var g,y=st(n)?t(h,p):qt(h&&h.payload,n),v=st(i)?{}:{id:"".concat(i,"-").concat(p)};return m.createElement(ri,Bf({key:"label-".concat(p)},xr(h),c,v,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}Sd.displayName="LabelList";function KT(e){var{label:t}=e;return t?t===!0?m.createElement(Sd,{key:"labelList-implicit"}):m.isValidElement(t)||Xx(t)?m.createElement(Sd,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(Sd,Bf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}var HT=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ze("recharts-dot",a);return ue(t)&&ue(r)&&ue(n)?m.createElement("circle",Jv({},zn(e),T0(e),{className:i,cx:t,cy:r,r:n})):null},FV={radiusAxis:{},angleAxis:{}},qT=Mr({name:"polarAxis",initialState:FV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jee,removeRadiusAxis:See,addAngleAxis:kee,removeAngleAxis:Nee}=qT.actions,BV=qT.reducer,VT={exports:{}},Ge={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=Symbol.for("react.transitional.element"),Qx=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),Pp=Symbol.for("react.consumer"),Op=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),Rp=Symbol.for("react.lazy"),UV=Symbol.for("react.view_transition"),zV=Symbol.for("react.client.reference");function kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jx:switch(e=e.type,e){case Np:case Ep:case Cp:case Tp:case Dp:case UV:return e;default:switch(e=e&&e.$$typeof,e){case Op:case Ap:case Rp:case Ip:return e;case Pp:return e;default:return t}}case Qx:return t}}}Ge.ContextConsumer=Pp;Ge.ContextProvider=Op;Ge.Element=Jx;Ge.ForwardRef=Ap;Ge.Fragment=Np;Ge.Lazy=Rp;Ge.Memo=Ip;Ge.Portal=Qx;Ge.Profiler=Ep;Ge.StrictMode=Cp;Ge.Suspense=Tp;Ge.SuspenseList=Dp;Ge.isContextConsumer=function(e){return kn(e)===Pp};Ge.isContextProvider=function(e){return kn(e)===Op};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jx};Ge.isForwardRef=function(e){return kn(e)===Ap};Ge.isFragment=function(e){return kn(e)===Np};Ge.isLazy=function(e){return kn(e)===Rp};Ge.isMemo=function(e){return kn(e)===Ip};Ge.isPortal=function(e){return kn(e)===Qx};Ge.isProfiler=function(e){return kn(e)===Ep};Ge.isStrictMode=function(e){return kn(e)===Cp};Ge.isSuspense=function(e){return kn(e)===Tp};Ge.isSuspenseList=function(e){return kn(e)===Dp};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Np||e===Ep||e===Cp||e===Tp||e===Dp||typeof e=="object"&&e!==null&&(e.$$typeof===Rp||e.$$typeof===Ip||e.$$typeof===Op||e.$$typeof===Pp||e.$$typeof===Ap||e.$$typeof===zV||e.getModuleId!==void 0)};Ge.typeOf=kn;VT.exports=Ge;var WV=VT.exports,Mj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Lj=null,zm=null,GT=e=>{if(e===Lj&&Array.isArray(zm))return zm;var t=[];return m.Children.forEach(e,r=>{st(r)||(WV.isFragment(r)?t=t.concat(GT(r.props.children)):t.push(r))}),zm=t,Lj=e,t};function KV(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Mj(a)):n=[Mj(t)],GT(e).forEach(a=>{var i=To(a,"type.displayName")||To(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var YT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,XT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(XT);var HV=XT.isPlainObject;const qV=Ba(HV);function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(null,arguments)}var Bj=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},XV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JV=e=>{var t=jr(e,XV),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,g]=m.useState(-1),y=m.useRef(a),v=m.useRef(i),x=m.useRef(s),w=m.useRef(r),b=m.useRef(n),_=ip(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var K=h.current.getTotalLength();K&&g(K)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var j=ze("recharts-trapezoid",o);if(!f)return m.createElement("g",null,m.createElement("path",Uf({},xr(t),{className:j,d:Bj(r,n,a,i,s)})));var S=y.current,N=v.current,k=x.current,E=w.current,P=b.current,O="0px ".concat(p===-1?1:p,"px"),C="".concat(p,"px 0px"),F=YP(["strokeDasharray"],u,c);return m.createElement(ap,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},K=>{var ee=ht(S,a,K),Q=ht(N,i,K),V=ht(k,s,K),T=ht(E,r,K),R=ht(P,n,K);h.current&&(y.current=ee,v.current=Q,x.current=V,w.current=T,b.current=R);var M=K>0?{transition:F,strokeDasharray:C}:{strokeDasharray:O};return m.createElement("path",Uf({},xr(t),{className:j,d:Bj(T,R,ee,Q,V),ref:h,style:Fj(Fj({},M),t.style)}))})},QV=["option","shapeType","propTransformer","activeClassName","isActive"];function ZV(e,t){if(e==null)return{};var r,n,a=eG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aG(e,t){return zf(zf({},t),e)}function iG(e,t){return e==="symbols"}function zj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(ZP,r);case"trapezoid":return m.createElement(JV,r);case"sector":return m.createElement(rO,r);case"symbols":if(iG(t))return m.createElement(OE,r);break;case"curve":return m.createElement(GP,r);default:return null}}function sG(e){return m.isValidElement(e)?e.props:e}function JT(e){var{option:t,shapeType:r,propTransformer:n=aG,activeClassName:a="recharts-active-shape",isActive:i}=e,s=ZV(e,QV),o;if(m.isValidElement(t))o=m.cloneElement(t,zf(zf({},s),sG(t)));else if(typeof t=="function")o=t(s);else if(qV(t)&&typeof t!="boolean"){var c=n(t,s);o=m.createElement(zj,{shapeType:r,elementProps:c})}else{var u=s;o=m.createElement(zj,{shapeType:r,elementProps:u})}return i?m.createElement(bn,{className:a},o):o}var QT=(e,t)=>{var r=xt();return(n,a)=>i=>{e==null||e(n,a,i),r(ZA({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},ZT=e=>{var t=xt();return(r,n)=>a=>{e==null||e(r,n,a),t(zK())}},eD=(e,t)=>{var r=xt();return(n,a)=>i=>{e==null||e(n,a,i),r(WK({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function tD(e){var{fn:t,args:r}=e,n=xt(),a=fr();return m.useLayoutEffect(()=>{if(!a){var i=t(r);return n(FK(i)),()=>{n(BK(i))}}},[t,r,n,a]),null}function rD(e){var{legendPayload:t}=e,r=xt(),n=fr();return m.useLayoutEffect(()=>n?Zo:(r(Sz(t)),()=>{r(kz(t))}),[r,n,t]),null}var Wm,oG=()=>{var[e]=m.useState(()=>_c("uid-"));return e},lG=(Wm=lI.useId)!==null&&Wm!==void 0?Wm:oG;function nD(e,t){var r=lG();return t||(e?"".concat(e,"-").concat(r):r)}var cG=m.createContext(void 0),aD=e=>{var{id:t,type:r,children:n}=e,a=nD("recharts-".concat(r),t);return m.createElement(cG.Provider,{value:a},n(a))},uG={cartesianItems:[],polarItems:[]},iD=Mr({name:"graphicalItems",initialState:uG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Rt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ka(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Rt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ka(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Rt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Rt()},removePolarGraphicalItem:{reducer(e,t){var r=ka(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Rt()}}}),{addCartesianGraphicalItem:dG,replaceCartesianGraphicalItem:fG,removeCartesianGraphicalItem:hG,addPolarGraphicalItem:Cee,removePolarGraphicalItem:Eee}=iD.actions,pG=iD.reducer;function sD(e){var t=xt(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(dG(e)):r.current!==e&&t(fG({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(hG(r.current)),r.current=null)},[t]),null}var mG=["points"];function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(null,arguments)}function xG(e,t){if(e==null)return{};var r,n,a=bG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wG(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ze(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,o=xG(i,mG);return m.createElement(HT,Wf({},o,{className:a}))}function _G(e,t){return e==null?!1:t?!0:e.length===1}function jG(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:o,clipPathId:c,zIndex:u=Kt.scatter}=e;if(!_G(t,r))return null;var d=YT(r),f=V6(r),h=t.map((g,y)=>{var v,x,w=Km(Km(Km({r:3},s),f),{},{index:y,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:i,value:g.value,payload:g.payload,points:t});return m.createElement(wG,{key:"dot-".concat(y),option:r,dotProps:w,className:a})}),p={};return o&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),m.createElement(Sn,{zIndex:u},m.createElement(bn,Wf({className:n},p),h))}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG={xAxis:{},yAxis:{},zAxis:{}},oD=Mr({name:"cartesianAxis",initialState:CG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Rt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Rt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Rt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Rt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Rt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Rt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=Hj(Hj({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:EG,removeXAxis:PG,addYAxis:OG,removeYAxis:AG,addZAxis:Pee,removeZAxis:Oee,updateYAxisWidth:TG}=oD.actions,DG=oD.reducer,IG=$([Vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),RG=$([IG,za,Wa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Zx=()=>he(RG),MG=()=>he(PH);function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=Hm(Hm(Hm({},s),Vc(a)),T0(a)),c;return m.isValidElement(a)?c=m.cloneElement(a,o):typeof a=="function"?c=a(o):c=m.createElement(HT,o),m.createElement(bn,{className:"recharts-active-dot"},c)};function UG(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,zIndex:i=Kt.activeDot}=e,s=he(Ss),o=MG();if(t==null||o==null)return null;var c=t.find(u=>o.includes(u.payload));return st(c)?null:m.createElement(Sn,{zIndex:i},m.createElement(BG,{point:c,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n}))}var zG="Invariant failed";function WG(e,t){throw new Error(zG)}var KG=["x","y"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){HG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e,t){if(e==null)return{};var r,n,a=YG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XG(e,t){var{x:r,y:n}=e,a=GG(e,KG),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Sl(Sl(Sl(Sl(Sl({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Kf(e){return m.createElement(JT,Qv({shapeType:"rectangle",propTransformer:XG,activeClassName:"recharts-active-bar"},e))}var JG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ue(t))return t;var i=ue(n)||st(n);return i?t(n,a):(i||WG(),r)}},QG={},lD=Mr({name:"errorBars",initialState:QG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Aee,replaceErrorBar:Tee,removeErrorBar:Dee}=lD.actions,ZG=lD.reducer,eY=["children"];function tY(e,t){if(e==null)return{};var r,n,a=rY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aY=m.createContext(nY);function cD(e){var{children:t}=e,r=tY(e,eY);return m.createElement(aY.Provider,{value:r},t)}function eb(e,t){var r,n,a=he(u=>Ha(u,e)),i=he(u=>qa(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Wr.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Kr.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function uD(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Zx(),{needClipX:i,needClipY:s,needClip:o}=eb(t,r);if(!o||!a)return null;var{x:c,y:u,width:d,height:f}=a;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}function iY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&yt(e.zIndex)?e.zIndex:t}var sY=["onMouseEnter","onMouseLeave","onClick"],oY=["value","background","tooltipPosition"],lY=["id"],cY=["onMouseEnter","onClick","onMouseLeave"];function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(null,arguments)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(e,t){if(e==null)return{};var r,n,a=hY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Jh(r,t),payload:e}]};function mY(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Jh(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function gY(e){var t=he(Ss),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,u=Hf(i,sY),d=QT(s,n),f=ZT(o),h=eD(c,n);if(!a||r==null)return null;var p=Vc(a);return m.createElement(Sn,{zIndex:iY(a,Kt.barBackground)},r.map((g,y)=>{var{value:v,background:x,tooltipPosition:w}=g,b=Hf(g,oY);if(!x)return null;var _=d(g,y),j=f(g,y),S=h(g,y),N=gr(gr(gr(gr(gr({option:a,isActive:String(y)===t},b),{},{fill:"#eee"},x),p),D0(u,g,y)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return m.createElement(Kf,Fa({key:"background-bar-".concat(y)},N))}))}function vY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return gr(gr({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return m.createElement(zT,{value:t?a:void 0},r)}function yY(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=he(Ss),c=he(pT),u=r&&String(i)===o&&(c==null||s===c),d=u?r:t;return u?m.createElement(Sn,{zIndex:Kt.activeBar},m.createElement(Kf,Fa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))):m.createElement(Kf,Fa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))}function xY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return m.createElement(Kf,Fa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function bY(e){var t,{data:r,props:n}=e,a=(t=zn(n))!==null&&t!==void 0?t:{},{id:i}=a,s=Hf(a,lY),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=Hf(n,cY),g=QT(d,c),y=ZT(h),v=eD(f,c);return r?m.createElement(m.Fragment,null,r.map((x,w)=>m.createElement(bn,Fa({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w),className:"recharts-bar-rectangle"},D0(p,x,w),{onMouseEnter:g(x,w),onMouseLeave:y(x,w),onClick:v(x,w)}),u?m.createElement(yY,{shape:o,activeBar:u,baseProps:s,entry:x,index:w,dataKey:c}):m.createElement(xY,{shape:o,baseProps:s,entry:x,index:w,dataKey:c})))):null}function wY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=ip(t,"recharts-bar-"),[p,g]=m.useState(!1),y=!p,v=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(vY,{showLabels:y,rects:n},m.createElement(ap,{animationId:h,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:x,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return gr(gr({},_),{},{x:ht(S.x,_.x,w),y:ht(S.y,_.y,w),width:ht(S.width,_.width,w),height:ht(S.height,_.height,w)});if(a==="horizontal"){var N=ht(0,_.height,w),k=ht(_.stackedBarStart,_.y,w);return gr(gr({},_),{},{y:k,height:N})}var E=ht(0,_.width,w),P=ht(_.stackedBarStart,_.x,w);return gr(gr({},_),{},{width:E,x:P})});return w>0&&(r.current=b??null),b==null?null:m.createElement(bn,null,m.createElement(bY,{props:t,data:b}))}),m.createElement(KT,{label:t.label}),t.children)}function _Y(e){var t=m.useRef(null);return m.createElement(wY,{previousRectanglesRef:t,props:e})}var dD=0,jY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qt(e,t)}};class SY extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=ze("recharts-bar",a),f=u;return m.createElement(bn,{className:d,id:u},o&&m.createElement("defs",null,m.createElement(uD,{clipPathId:f,xAxisId:i,yAxisId:s})),m.createElement(bn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},m.createElement(gY,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),m.createElement(_Y,this.props)))}}var kY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ps.isSsr,legendType:"rect",minPointSize:dD,xAxisId:0,yAxisId:0,zIndex:Kt.bar};function NY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=eb(t,r),h=Qc(),p=fr(),g=KV(e.children,CT),y=he(w=>eX(w,t,r,p,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var v,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?v=0:v=h==="vertical"?x.height/2:x.width/2,m.createElement(cD,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:jY,errorBarOffset:v},m.createElement(SY,Fa({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function CY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:g,dataStartIndex:y}=e,v=t==="horizontal"?o:s,x=d?v.scale.domain():null,w=WU({numericAxis:v}),b=v.scale(w);return f.map((_,j)=>{var S,N,k,E,P,O;d?S=LU(d[j+y],x):(S=qt(_,r),Array.isArray(S)||(S=[w,S]));var C=JG(n,dD)(S[1],j);if(t==="horizontal"){var F,[K,ee]=[o.scale(S[0]),o.scale(S[1])];N=z_({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),k=(F=ee??K)!==null&&F!==void 0?F:void 0,E=a.size;var Q=K-ee;if(P=Wn(Q)?0:Q,O={x:N,y:h.top,width:E,height:h.height},Math.abs(C)>0&&Math.abs(P)<Math.abs(C)){var V=Ar(P||C)*(Math.abs(C)-Math.abs(P));k-=V,P+=V}}else{var[T,R]=[s.scale(S[0]),s.scale(S[1])];if(N=T,k=z_({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),E=R-T,P=a.size,O={x:h.left,y:k,width:h.width,height:P},Math.abs(C)>0&&Math.abs(E)<Math.abs(C)){var M=Ar(E||C)*(Math.abs(C)-Math.abs(E));E+=M}}if(N==null||k==null||E==null||P==null)return null;var ae=gr(gr({},_),{},{stackedBarStart:b,x:N,y:k,width:E,height:P,value:d?S:S[1],payload:_,background:O,tooltipPosition:{x:N+E/2,y:k+P/2},parentViewBox:g},p&&p[j]&&p[j].props);return ae}).filter(Boolean)}function EY(e){var t=jr(e,kY),r=fr();return m.createElement(aD,{id:t.id,type:"bar"},n=>m.createElement(m.Fragment,null,m.createElement(rD,{legendPayload:pY(t)}),m.createElement(tD,{fn:mY,args:t}),m.createElement(sD,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:zU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(Sn,{zIndex:t.zIndex},m.createElement(NY,Fa({},t,{id:n})))))}var fD=m.memo(EY);fD.displayName="Bar";function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=OY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TY=(e,t)=>t,DY=(e,t,r)=>r,IY=(e,t,r,n)=>n,RY=(e,t,r,n,a)=>a,cu=$([wp,RY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),MY=$([cu],e=>e==null?void 0:e.maxBarSize),LY=(e,t,r,n,a,i)=>i,Xj=(e,t,r)=>{var n=r??e;if(!st(n))return Kn(n,t,0)},$Y=$([$e,wp,TY,DY,IY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),FY=(e,t,r,n)=>{var a=$e(e);return a==="horizontal"?Kv(e,"yAxis",r,n):Kv(e,"xAxis",t,n)},BY=(e,t,r)=>{var n=$e(e);return n==="horizontal"?sj(e,"xAxis",t):sj(e,"yAxis",r)},UY=(e,t,r)=>{var n={},a=e.filter(yp),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),p=Xj(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Xj(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},zY=$([$Y,TW,BY],UY),WY=(e,t,r,n,a)=>{var i,s,o=cu(e,t,r,n,a);if(o!=null){var c=$e(e),u=rA(e),{maxBarSize:d}=o,f=st(d)?u:d,h,p;return c==="horizontal"?(h=ki(e,"xAxis",t,n),p=Si(e,"xAxis",t,n)):(h=ki(e,"yAxis",r,n),p=Si(e,"yAxis",r,n)),(i=(s=Io(h,p,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},hD=(e,t,r,n)=>{var a=$e(e),i,s;return a==="horizontal"?(i=ki(e,"xAxis",t,n),s=Si(e,"xAxis",t,n)):(i=ki(e,"yAxis",r,n),s=Si(e,"yAxis",r,n)),Io(i,s)};function KY(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Kn(e,r,0,!0),o,c=[];if(yt(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((x,w)=>x+(w.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,p={offset:h-s,size:0};o=n.reduce((x,w)=>{var b,_={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+s,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},j=[...x,_];return p=j[j.length-1].position,j},c)}else{var g=Kn(t,r,0,!0);r-2*g-(i-1)*s<=0&&(s=0);var y=(r-2*g-(i-1)*s)/i;y>1&&(y>>=0);var v=yt(a)?Math.min(y,a):y;o=n.reduce((x,w,b)=>[...x,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+s)*b+(y-v)/2,size:v}}],c)}return o}}var HY=(e,t,r,n,a,i,s)=>{var o=st(s)?t:s,c=KY(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>nd(nd({},u),{},{position:nd(nd({},u.position),{},{offset:u.position.offset-a/2})}))),c},qY=$([zY,rA,AW,nA,WY,hD,MY],HY),VY=(e,t,r,n)=>ki(e,"xAxis",t,n),GY=(e,t,r,n)=>ki(e,"yAxis",r,n),YY=(e,t,r,n)=>Si(e,"xAxis",t,n),XY=(e,t,r,n)=>Si(e,"yAxis",r,n),JY=$([qY,cu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),QY=(e,t)=>{var r=Ox(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},ZY=$([FY,cu],QY),eX=$([Vt,J0,VY,GY,YY,XY,JY,$e,fp,hD,ZY,cu,LY],(e,t,r,n,a,i,s,o,c,u,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=f,x;if(v!=null&&v.length>0?x=v:x=p==null?void 0:p.slice(g,y+1),x!=null)return CY({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:g})}}),tX=e=>{var{chartData:t}=e,r=xt(),n=fr();return m.useEffect(()=>n?()=>{}:(r(yj(t)),()=>{r(yj(void 0))}),[t,r,n]),null},Jj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pD=Mr({name:"brush",initialState:Jj,reducers:{setBrushSettings(e,t){return t.payload==null?Jj:t.payload}}}),{setBrushSettings:Iee}=pD.actions,rX=pD.reducer;function nX(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tb{static create(t){return new tb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}nX(tb,"EPS",1e-4);function sX(e){return(e%180+180)%180}var oX=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=sX(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},lX={dots:[],areas:[],lines:[]},mD=Mr({name:"referenceElements",initialState:lX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ka(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ka(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ka(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ree,removeDot:Mee,addArea:Lee,removeArea:$ee,addLine:Fee,removeLine:Bee}=mD.actions,cX=mD.reducer,uX=m.createContext(void 0),dX=e=>{var{children:t}=e,[r]=m.useState("".concat(_c("recharts"),"-clip")),n=Zx();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return m.createElement(uX.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function $o(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function gD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function fX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oX(n,r)}function hX(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function qf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function pX(e,t){return gD(e,t+1)}function mX(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:gD(n,u)};var y=c,v,x=()=>(v===void 0&&(v=r(g,y)),v),w=g.coordinate,b=c===0||qf(e,w,x,d,o);b||(c=0,d=s,u+=1),b&&(d=w+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,u=function(h){var p=i[h],g,y=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var v=e*(p.coordinate+e*y()/2-c);i[h]=p=lr(lr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=lr(lr({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=qf(e,p.tickCoord,y,o,c);x&&(c=p.tickCoord-e*(y()/2+a),i[h]=lr(lr({},p),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return i}function bX(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=lr(lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=qf(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+a),s[o-1]=lr(lr({},d),{},{isShow:!0}))}}for(var g=i?o-1:o,y=function(w){var b=s[w],_,j=()=>(_===void 0&&(_=r(b,w)),_);if(w===0){var S=e*(b.coordinate-e*j()/2-c);s[w]=b=lr(lr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[w]=b=lr(lr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=qf(e,b.tickCoord,j,c,u);N&&(c=b.tickCoord+e*(j()/2+a),s[w]=lr(lr({},b),{},{isShow:!0}))}},v=0;v<g;v++)y(v);return s}function rb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ue(c)||Ps.isSsr){var h;return(h=pX(a,ue(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?Yl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return g==="width"?fX(Yl(j,{fontSize:t,letterSpacing:r}),y,f):Yl(j,{fontSize:t,letterSpacing:r})[g]},x=a.length>=2?Ar(a[1].coordinate-a[0].coordinate):1,w=hX(i,x,g);return c==="equidistantPreserveStart"?mX(x,w,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=bX(x,w,v,a,s,c==="preserveStartEnd"):p=xX(x,w,v,a,s),p.filter(b=>b.isShow))}var wX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+o+(r?n:0);return Math.round(u)}return 0},_X=["axisLine","width","height","className","hide","ticks","axisType"],jX=["viewBox"],SX=["viewBox"];function Zv(e,t){if(e==null)return{};var r,n,a=kX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(null,arguments)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Kt.axis};function PX(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=jt(jt(jt({},c),zn(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=jt(jt({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=jt(jt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return m.createElement("line",ks({},u,{className:ze("recharts-cartesian-axis-line",To(o,"className"))}))}function OX(e,t,r,n,a,i,s,o,c){var u,d,f,h,p,g,y=o?-1:1,v=e.tickSize||s,x=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!o*a,f=h-y*v,g=f-y*c,p=x;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-y*v,p=u-y*c,g=x;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+y*v,p=u+y*c,g=x;break;default:u=d=e.coordinate,h=r+ +o*a,f=h+y*v,g=f+y*c,p=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:g}}}function AX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function DX(e){var{option:t,tickProps:r,value:n}=e,a,i=ze(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))a=m.cloneElement(t,jt(jt({},r),{},{className:i}));else if(typeof t=="function")a=t(jt(jt({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ze(s,t==null?void 0:t.className)),a=m.createElement(Yx,ks({},r,{className:s}),n)}return a}var IX=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:p,width:g,height:y,tickSize:v,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:_,events:j,axisType:S}=e,N=rb(jt(jt({},_),{},{ticks:r}),w,b),k=AX(d,f),E=TX(d,f),P=zn(_),O=Vc(n),C={};typeof a=="object"&&(C=a);var F=jt(jt({},P),{},{fill:"none"},C),K=N.map(V=>jt({entry:V},OX(V,h,p,g,y,d,v,f,x))),ee=K.map(V=>{var{entry:T,line:R}=V;return m.createElement(bn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},a&&m.createElement("line",ks({},F,R,{className:ze("recharts-cartesian-axis-tick-line",To(a,"className"))})))}),Q=K.map((V,T)=>{var{entry:R,tick:M}=V,ae=jt(jt(jt(jt({textAnchor:k,verticalAnchor:E},P),{},{stroke:"none",fill:i},O),M),{},{index:T,payload:R,visibleTicksCount:N.length,tickFormatter:s,padding:c},u);return m.createElement(bn,ks({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},D0(j,R,T)),n&&m.createElement(DX,{option:n,tickProps:ae,value:"".concat(typeof s=="function"?s(R.value,T):R.value).concat(o||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},Q.length>0&&m.createElement(Sn,{zIndex:Kt.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},Q)),ee.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},ee))}),RX=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:c}=e,u=Zv(e,_X),[d,f]=m.useState(""),[h,p]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return wX({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=m.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,j=b.letterSpacing;(_!==d||j!==h)&&(f(_),p(j))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:m.createElement(Sn,{zIndex:e.zIndex},m.createElement(bn,{className:ze("recharts-cartesian-axis",i)},m.createElement(PX,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:zn(e)}),m.createElement(IX,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(bV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(OV,{label:e.label,labelRef:e.labelRef}),e.children)))}),MX=m.memo(RX,(e,t)=>{var{viewBox:r}=e,n=Zv(e,jX),{viewBox:a}=t,i=Zv(t,SX);return $o(r,a)&&$o(n,i)}),ab=m.forwardRef((e,t)=>{var r=jr(e,nb);return m.createElement(MX,ks({},r,{ref:t}))});ab.displayName="CartesianAxis";var LX=["x1","y1","x2","y2","key"],$X=["offset"],FX=["xAxisId","yAxisId"],BX=["xAxisId","yAxisId"];function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(null,arguments)}function Vf(e,t){if(e==null)return{};var r,n,a=KX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return m.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vD(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:o,y2:c,key:u}=r,d=Vf(r,LX),f=(a=zn(d))!==null&&a!==void 0?a:{},{offset:h}=f,p=Vf(f,$X);n=m.createElement("line",is({},p,{x1:i,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function qX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Vf(e,FX),c=a.map((u,d)=>{var f=ur(ur({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return m.createElement(vD,{key:"line-".concat(d),option:n,lineItemProps:f})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function VX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Vf(e,BX),c=a.map((u,d)=>{var f=ur(ur({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return m.createElement(vD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function GX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+s-f:u[h+1]-f;if(g<=0)return null;var y=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+s-f:u[h+1]-f;if(g<=0)return null;var y=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XX=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return DP(rb(ur(ur(ur({},nb),r),{},{ticks:IP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},JX=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return DP(rb(ur(ur(ur({},nb),r),{},{ticks:IP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},QX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Kt.grid};function ey(e){var t=KP(),r=HP(),n=WP(),a=ur(ur({},jr(e,QX)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,g=fr(),y=he(E=>oj(E,"xAxis",i,g)),v=he(E=>oj(E,"yAxis",s,g));if(!la(u)||!la(d)||!ue(o)||!ue(c))return null;var x=a.verticalCoordinatesGenerator||XX,w=a.horizontalCoordinatesGenerator||JX,{horizontalPoints:b,verticalPoints:_}=a;if((!b||!b.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:v?ur(ur({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);wf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof x=="function"){var N=p&&p.length,k=x({xAxis:y?ur(ur({},y),{},{ticks:N?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);wf(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return m.createElement(Sn,{zIndex:a.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(HX,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),m.createElement(GX,is({},a,{horizontalPoints:b})),m.createElement(YX,is({},a,{verticalPoints:_})),m.createElement(qX,is({},a,{offset:n,horizontalPoints:b,xAxis:y,yAxis:v})),m.createElement(VX,is({},a,{offset:n,verticalPoints:_,xAxis:y,yAxis:v}))))}ey.displayName="CartesianGrid";var yD=(e,t,r,n)=>ki(e,"xAxis",t,n),xD=(e,t,r,n)=>Si(e,"xAxis",t,n),bD=(e,t,r,n)=>ki(e,"yAxis",r,n),wD=(e,t,r,n)=>Si(e,"yAxis",r,n),ZX=$([$e,yD,bD,xD,wD],(e,t,r,n,a)=>Oi(e,"xAxis")?Io(t,n,!1):Io(r,a,!1)),eJ=(e,t,r,n,a)=>a;function tJ(e){return e.type==="line"}var rJ=$([wp,eJ],(e,t)=>e.filter(tJ).find(r=>r.id===t)),nJ=$([$e,yD,bD,xD,wD,rJ,ZX,fp],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return SJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:p})}});function aJ(e){var t=Vc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var iJ=["id"],sJ=["type","layout","connectNulls","needClip","shape"],oJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){lJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lJ(e,t,r){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ib(e,t){if(e==null)return{};var r,n,a=dJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fJ=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Jh(r,t),payload:e}]};function hJ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Jh(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var _D=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function pJ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var mJ=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return _D(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,s]:[s];return[...pJ(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function gJ(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:o}=n,c=ib(n,iJ),u=zn(c);return m.createElement(jG,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:t})}function vJ(e){var{showLabels:t,children:r,points:n}=e,a=m.useMemo(()=>n==null?void 0:n.map(i=>{var s,o,c={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ta(ta({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return m.createElement(zT,{value:t?a:void 0},r)}function rS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:u,shape:d}=i,f=ib(i,sJ),h=ta(ta({},xr(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return m.createElement(m.Fragment,null,(n==null?void 0:n.length)>1&&m.createElement(JT,Dc({shapeType:"curve",option:d},h,{pathRef:r})),m.createElement(gJ,{points:n,clipPathId:t,props:i}))}function yJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function xJ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:y,onAnimationStart:v}=r,x=a.current,w=ip(r,"recharts-line-"),[b,_]=m.useState(!1),j=!b,S=m.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),N=m.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),k=yJ(n.current),E=i.current;return m.createElement(vJ,{points:s,showLabels:j},r.children,m.createElement(ap,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:N,key:w},P=>{var O=ht(E,k+E,P),C=Math.min(O,k),F;if(c)if(o){var K="".concat(o).split(/[,\s]+/gim).map(V=>parseFloat(V));F=mJ(C,k,K)}else F=_D(k,C);else F=o==null?void 0:String(o);if(x){var ee=x.length/s.length,Q=P===1?s:s.map((V,T)=>{var R=Math.floor(T*ee);if(x[R]){var M=x[R];return ta(ta({},V),{},{x:ht(M.x,V.x,P),y:ht(M.y,V.y,P)})}return h?ta(ta({},V),{},{x:ht(p*2,V.x,P),y:ht(g/2,V.y,P)}):ta(ta({},V),{},{x:V.x,y:V.y})});return a.current=Q,m.createElement(rS,{props:r,points:Q,clipPathId:t,pathRef:n,strokeDasharray:F})}return P>0&&k>0&&(a.current=s,i.current=C),m.createElement(rS,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:F})}),m.createElement(KT,{label:r.label}))}function bJ(e){var{clipPathId:t,props:r}=e,n=m.useRef(null),a=m.useRef(0),i=m.useRef(null);return m.createElement(xJ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var wJ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:qt(e.payload,t)}};class _J extends m.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var g=ze("recharts-line",a),y=f,{r:v,strokeWidth:x}=aJ(r),w=YT(r),b=v*2+x;return m.createElement(Sn,{zIndex:p},m.createElement(bn,{className:g},h&&m.createElement("defs",null,m.createElement(uD,{clipPathId:y,xAxisId:i,yAxisId:s}),!w&&m.createElement("clipPath",{id:"clipPath-dots-".concat(y)},m.createElement("rect",{x:c-b/2,y:o-b/2,width:u+b,height:d+b}))),m.createElement(cD,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:wJ,errorBarOffset:0},m.createElement(bJ,{props:this.props,clipPathId:y}))),m.createElement(UG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var jD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ps.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Kt.line};function jJ(e){var t=jr(e,jD),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:y}=t,v=ib(t,oJ),{needClip:x}=eb(p,g),w=Zx(),b=Qc(),_=fr(),j=he(P=>nJ(P,p,g,_,y));if(b!=="horizontal"&&b!=="vertical"||j==null||w==null)return null;var{height:S,width:N,x:k,y:E}=w;return m.createElement(_J,Dc({},v,{id:y,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:g,points:j,layout:b,height:S,width:N,left:k,top:E,needClip:x}))}function SJ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=qt(u,s);if(t==="horizontal"){var h=U_({axis:r,ticks:a,bandSize:o,entry:u,index:d}),p=st(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var g=st(f)?null:r.scale(f),y=U_({axis:n,ticks:i,bandSize:o,entry:u,index:d});return g==null||y==null?null:{x:g,y,value:f,payload:u}}).filter(Boolean)}function kJ(e){var t=jr(e,jD),r=fr();return m.createElement(aD,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(rD,{legendPayload:fJ(t)}),m.createElement(tD,{fn:hJ,args:t}),m.createElement(sD,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(jJ,Dc({},t,{id:n}))))}var ty=m.memo(kJ);ty.displayName="Line";var NJ=["dangerouslySetInnerHTML","ticks"],CJ=["id"],EJ=["domain"],PJ=["domain"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function Gf(e,t){if(e==null)return{};var r,n,a=OJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AJ(e){var t=xt();return m.useLayoutEffect(()=>(t(EG(e)),()=>{t(PG(e))}),[e,t]),null}var TJ=e=>{var{xAxisId:t,className:r}=e,n=he(J0),a=fr(),i="xAxis",s=he(v=>il(v,i,t,a)),o=he(v=>VA(v,i,t,a)),c=he(v=>WA(v,t)),u=he(v=>PK(v,t)),d=he(v=>dA(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=Gf(e,NJ),{id:g}=d,y=Gf(d,CJ);return m.createElement(ab,ry({},p,y,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:ze("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},DJ={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,height:Wr.height,hide:!1,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tickCount:Wr.tickCount,type:Wr.type,xAxisId:0},IJ=e=>{var t,r,n,a,i,s=jr(e,DJ);return m.createElement(m.Fragment,null,m.createElement(AJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),m.createElement(TJ,s))},RJ=(e,t)=>{var{domain:r}=e,n=Gf(e,EJ),{domain:a}=t,i=Gf(t,PJ);return $o(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:$o({domain:r},{domain:a}):!1},ny=m.memo(IJ,RJ);ny.displayName="XAxis";var MJ=["dangerouslySetInnerHTML","ticks"],LJ=["id"],$J=["domain"],FJ=["domain"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(null,arguments)}function Yf(e,t){if(e==null)return{};var r,n,a=BJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UJ(e){var t=xt();return m.useLayoutEffect(()=>(t(OG(e)),()=>{t(AG(e))}),[e,t]),null}var zJ=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=m.useRef(null),s=m.useRef(null),o=he(J0),c=fr(),u=xt(),d="yAxis",f=he(j=>il(j,d,t,c)),h=he(j=>KA(j,t)),p=he(j=>AK(j,t)),g=he(j=>VA(j,d,t,c)),y=he(j=>fA(j,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Xx(a)||m.isValidElement(a)||y==null)){var j=i.current;if(j){var S=j.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(TG({id:t,width:S}))}}},[g,h,u,a,t,n,y]),h==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,w=Yf(e,MJ),{id:b}=y,_=Yf(y,LJ);return m.createElement(ab,ay({},w,_,{ref:i,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ze("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g,axisType:d}))},WJ={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,width:Kr.width,yAxisId:0},KJ=e=>{var t,r,n,a,i,s=jr(e,WJ);return m.createElement(m.Fragment,null,m.createElement(UJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),m.createElement(zJ,s))},HJ=(e,t)=>{var{domain:r}=e,n=Yf(e,$J),{domain:a}=t,i=Yf(t,FJ);return $o(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:$o({domain:r},{domain:a}):!1},iy=m.memo(KJ,HJ);iy.displayName="YAxis";var qJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=m;function VJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GJ=typeof Object.is=="function"?Object.is:VJ,YJ=uu.useSyncExternalStore,XJ=uu.useRef,JJ=uu.useEffect,QJ=uu.useMemo,ZJ=uu.useDebugValue;qJ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=XJ(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=QJ(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,GJ(d,p))return g;var y=n(p);return a!==void 0&&a(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=YJ(e,i[0],i[1]);return JJ(function(){s.hasValue=!0,s.value=o},[o]),ZJ(o),o};function eQ(e){e()}function tQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var nS={notify(){},get:()=>[]};function rQ(e,t){let r,n=nS,a=0,i=!1;function s(y){d();const v=n.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),f())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=tQ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=nS)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var nQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aQ=nQ(),iQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sQ=iQ(),oQ=()=>aQ||sQ?m.useLayoutEffect:m.useEffect,lQ=oQ(),qm=Symbol.for("react-redux-context"),Vm=typeof globalThis<"u"?globalThis:{};function cQ(){if(!m.createContext)return{};const e=Vm[qm]??(Vm[qm]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var uQ=cQ();function dQ(e){const{children:t,context:r,serverState:n,store:a}=e,i=m.useMemo(()=>{const c=rQ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=m.useMemo(()=>a.getState(),[a]);lQ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||uQ;return m.createElement(o.Provider,{value:i},t)}var fQ=dQ,hQ=(e,t)=>t,sb=$([hQ,$e,cA,Ft,uT,Va,zH,Vt],YH),ob=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},SD=wn("mouseClick"),kD=Xc();kD.startListening({actionCreator:SD,effect:(e,t)=>{var r=e.payload,n=sb(t.getState(),ob(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(KK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sy=wn("mouseMove"),ND=Xc();ND.startListening({actionCreator:sy,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Bx(n,n.tooltip.settings.shared),i=sb(n,ob(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(tT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(eT()))}});var aS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},CD=Mr({name:"rootProps",initialState:aS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),pQ=CD.reducer,{updateOptions:mQ}=CD.actions,ED=Mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Uee}=ED.actions,gQ=ED.reducer,PD=wn("keyDown"),OD=wn("focus"),lb=Xc();lb.startListening({actionCreator:PD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Ux(a,ol(r))),o=Va(r);if(i==="Enter"){var c=Ff(r,"axis","hover",String(a.index));t.dispatch(qv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=RK(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var p=Ff(r,"axis","hover",String(h));t.dispatch(qv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});lb.startListening({actionCreator:OD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Ff(r,"axis","hover",String(i));t.dispatch(qv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var un=wn("externalEvent"),AD=Xc();AD.startListening({actionCreator:un,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:NH(r),activeDataKey:pT(r),activeIndex:Ss(r),activeLabel:hT(r),activeTooltipIndex:Ss(r),isTooltipActive:CH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var vQ=$([sl],e=>e.tooltipItemPayloads),yQ=$([vQ,ou,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),TD=wn("touchMove"),DD=Xc();DD.startListening({actionCreator:TD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Bx(n,n.tooltip.settings.shared);if(a==="axis"){var i=sb(n,ob({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(tT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(XU),d=(s=c.getAttribute(JU))!==null&&s!==void 0?s:void 0,f=yQ(t.getState(),u,d);t.dispatch(ZA({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var xQ=oP({brush:rX,cartesianAxis:DG,chartData:kq,errorBars:ZG,graphicalItems:pG,layout:AU,legend:Nz,options:bq,polarAxis:BV,polarOptions:gQ,referenceElements:cX,rootProps:pQ,tooltip:HK,zIndex:cq}),bQ=function(t){return rU({reducer:xQ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([kD.middleware,ND.middleware,lb.middleware,AD.middleware,DD.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(xP({type:"raf"}))},devTools:Ps.devToolsEnabled})};function wQ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=fr(),i=m.useRef(null);if(a)return r;i.current==null&&(i.current=bQ(t));var s=W0;return m.createElement(fQ,{context:s,store:i.current},r)}function _Q(e){var{layout:t,margin:r}=e,n=xt(),a=fr();return m.useEffect(()=>{a||(n(EU(t)),n(CU(r)))},[n,a,t,r]),null}function jQ(e){var t=xt();return m.useEffect(()=>{t(mQ(e))},[t,e]),null}function iS(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=nD("".concat(n).concat(t)),i=xt();return m.useLayoutEffect(()=>(i(oq({zIndex:t,elementId:a,isPanorama:r})),()=>{i(lq({zIndex:t,isPanorama:r}))}),[i,t,a,r]),m.createElement("g",{id:a})}function sS(e){var{children:t,isPanorama:r}=e,n=he(JH);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return m.createElement(m.Fragment,null,a.map(s=>m.createElement(iS,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>m.createElement(iS,{key:s,zIndex:s,isPanorama:r})))}var SQ=["children"];function kQ(e,t){if(e==null)return{};var r,n,a=NQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(null,arguments)}var CQ={width:"100%",height:"100%",display:"block"},EQ=m.forwardRef((e,t)=>{var r=KP(),n=HP(),a=VP();if(!la(r)||!la(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),m.createElement(lE,Xf({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:CQ,ref:t}),i)}),PQ=e=>{var{children:t}=e,r=he(tp);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return m.createElement(lE,{width:n,height:a,x:s,y:i},t)},oS=m.forwardRef((e,t)=>{var{children:r}=e,n=kQ(e,SQ),a=fr();return a?m.createElement(PQ,null,m.createElement(sS,{isPanorama:!0},r)):m.createElement(EQ,Xf({ref:t},n),m.createElement(sS,{isPanorama:!1},r))});function OQ(){var e=xt(),[t,r]=m.useState(null),n=he(YU);return m.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;yt(i)&&i!==n&&e(OU(i))}},[t,e,n]),r}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}var RQ=()=>(Iq(),null);function Jf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var MQ=m.forwardRef((e,t)=>{var r,n,a=m.useRef(null),[i,s]=m.useState({containerWidth:Jf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Jf((n=e.style)===null||n===void 0?void 0:n.height)}),o=m.useCallback((u,d)=>{s(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),c=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=g=>{var{width:y,height:v}=g[0].contentRect;o(y,v)},p=new ResizeObserver(h);p.observe(u),a.current=p}},[t,o]);return m.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),m.createElement(m.Fragment,null,m.createElement(np,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",Ns({ref:c},e)))}),LQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=m.useState({containerWidth:Jf(r),containerHeight:Jf(n)}),s=m.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(np,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",Ns({ref:o},e)))}),$Q=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(np,{width:r,height:n}),m.createElement("div",Ns({ref:t},e)))}),FQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return Da(r)||Da(n)?m.createElement(LQ,Ns({},e,{ref:t})):m.createElement($Q,Ns({},e,{ref:t}))});function BQ(e){return e===!0?MQ:FQ}var UQ=m.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:v,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,_=m.useRef(null),j=xt(),[S,N]=m.useState(null),[k,E]=m.useState(null),P=OQ(),O=Q0(),C=(O==null?void 0:O.width)>0?O.width:x,F=(O==null?void 0:O.height)>0?O.height:a,K=m.useCallback(A=>{P(A),typeof t=="function"&&t(A),N(A),E(A),A!=null&&(_.current=A)},[P,t,N,E]),ee=m.useCallback(A=>{j(SD(A)),j(un({handler:i,reactEvent:A}))},[j,i]),Q=m.useCallback(A=>{j(sy(A)),j(un({handler:u,reactEvent:A}))},[j,u]),V=m.useCallback(A=>{j(eT()),j(un({handler:d,reactEvent:A}))},[j,d]),T=m.useCallback(A=>{j(sy(A)),j(un({handler:f,reactEvent:A}))},[j,f]),R=m.useCallback(()=>{j(OD())},[j]),M=m.useCallback(A=>{j(PD(A.key))},[j]),ae=m.useCallback(A=>{j(un({handler:s,reactEvent:A}))},[j,s]),Z=m.useCallback(A=>{j(un({handler:o,reactEvent:A}))},[j,o]),ve=m.useCallback(A=>{j(un({handler:c,reactEvent:A}))},[j,c]),D=m.useCallback(A=>{j(un({handler:h,reactEvent:A}))},[j,h]),J=m.useCallback(A=>{j(un({handler:y,reactEvent:A}))},[j,y]),U=m.useCallback(A=>{b&&j(TD(A)),j(un({handler:g,reactEvent:A}))},[j,b,g]),G=m.useCallback(A=>{j(un({handler:p,reactEvent:A}))},[j,p]),pe=BQ(w);return m.createElement(_T.Provider,{value:S},m.createElement(eF.Provider,{value:k},m.createElement(pe,{width:C??(v==null?void 0:v.width),height:F??(v==null?void 0:v.height),className:ze("recharts-wrapper",n),style:AQ({position:"relative",cursor:"default",width:C,height:F},v),onClick:ee,onContextMenu:ae,onDoubleClick:Z,onFocus:R,onKeyDown:M,onMouseDown:ve,onMouseEnter:Q,onMouseLeave:V,onMouseMove:T,onMouseUp:D,onTouchEnd:G,onTouchMove:U,onTouchStart:J,ref:K},m.createElement(RQ,null),r)))}),zQ=["width","height","responsive","children","className","style","compact","title","desc"];function WQ(e,t){if(e==null)return{};var r,n,a=KQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HQ=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:c,title:u,desc:d}=e,f=WQ(e,zQ),h=zn(f);return c?m.createElement(m.Fragment,null,m.createElement(np,{width:r,height:n}),m.createElement(oS,{otherAttributes:h,title:u,desc:d},i)):m.createElement(UQ,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(oS,{otherAttributes:h,title:u,desc:d,ref:t},m.createElement(dX,null,i)))});function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}var qQ={top:5,right:5,bottom:5,left:5},VQ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qQ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},ID=m.forwardRef(function(t,r){var n,a=jr(t.categoricalChartProps,VQ),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(wQ,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},m.createElement(tX,{chartData:u.data}),m.createElement(_Q,{layout:a.layout,margin:a.margin}),m.createElement(jQ,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(HQ,oy({},a,{ref:r})))}),GQ=["axis"],YQ=m.forwardRef((e,t)=>m.createElement(ID,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GQ,tooltipPayloadSearcher:ST,categoricalChartProps:e,ref:t})),XQ=["axis","item"],JQ=m.forwardRef((e,t)=>m.createElement(ID,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XQ,tooltipPayloadSearcher:ST,categoricalChartProps:e,ref:t}));function RD({options:e,value:t,onChange:r,className:n=""}){return l.jsx("div",{className:`inline-flex rounded-2xl border border-gray-200/80 bg-white p-1 shadow-sm ${n}`,children:e.map(a=>l.jsx("button",{onClick:()=>r(a.value),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-all duration-150 min-h-[40px] ${t===a.value?"bg-[rgb(0,122,255)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:a.label},a.value))})}const cS={new_lead:"New Lead",contacted:"Contacted",showing_scheduled:"Showing Scheduled",offer_submitted:"Offer Submitted",under_contract:"Under Contract",pending:"Pending",closed:"Closed",dead:"Lost"},uS=["under_contract","pending"],QQ=["closed","dead"],ZQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kl={buyer:"Buyer",seller:"Seller",buyer_and_seller:"Buyer & Seller",renter:"Renter",landlord:"Landlord"},dS=30*60*1e3,eZ=60*1e3,Qf=["luma-insights","pipeline-health","alerts-actions","monthly-momentum","deal-type-mix","lead-source","upcoming-deals"],tZ=e=>{const t=e.map(s=>s==="monthly-gci"?"monthly-momentum":s),r=t.filter((s,o)=>t.indexOf(s)===o),n=new Set(Qf),a=r.filter(s=>n.has(s)),i=Qf.filter(s=>!a.includes(s));return[...a,...i]},Zf=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const r=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const i=Number(r[1]),s=Number(r[2])-1,o=Number(r[3]);if(Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(o)||s<0||s>11||o<1||o>31)return null;const c=new Date(Date.UTC(i,s,o));return{year:i,month:s,date:c}}const n=t.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),a=new Date(n);return Number.isNaN(a.getTime())?null:{year:a.getUTCFullYear(),month:a.getUTCMonth(),date:a}},Gm=(e,t)=>{const r=e.split("T")[0],n=t.split("T")[0];return[`and(close_date.gte.${r},close_date.lte.${n})`,`and(close_date.is.null,closed_at.gte.${e},closed_at.lte.${t})`].join(",")},fS=(e,t,r)=>{const n=Zf(e.close_date)||Zf(e.closed_at);if(!n)return!1;const a=n.date.getTime();return a>=t.getTime()&&a<=r.getTime()};function rZ({id:e,children:t}){const{attributes:r,listeners:n,setNodeRef:a,transform:i,transition:s,isDragging:o}=Ih({id:e}),c={transform:Bn.Transform.toString(i),transition:s,opacity:o?.5:1,position:"relative"};return l.jsxs("div",{ref:a,style:c,className:"relative group",children:[l.jsx("div",{...r,...n,className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing bg-white rounded-lg shadow-lg p-2",children:l.jsx(y0,{className:"w-4 h-4 text-gray-400"})}),t]})}function nZ(){var Ie,sn;const{user:e,roleInfo:t}=pt(),[r,n]=m.useState({ytdGCI:0,ytdDeals:0,ytdVolume:0,avgCommission:0,closingThisMonth:0,conversionRate:0}),[a,i]=m.useState([]),[s,o]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState(!0),[v,x]=m.useState(!1),[w,b]=m.useState([]),[_,j]=m.useState(null),[S,N]=m.useState(null),[k,E]=m.useState(!1),P=m.useRef(!1),[O,C]=m.useState(0),[F,K]=m.useState(""),ee=m.useRef(null),[Q,V]=m.useState([]),[T,R]=m.useState([...Qf]),[M,ae]=m.useState(null),[Z,ve]=m.useState([]),[D,J]=m.useState([]),[U,G]=m.useState([]),[pe,A]=m.useState([]),[z,Y]=m.useState([]),[L,_e]=m.useState([]),[ge,Oe]=m.useState([]),[B,ie]=m.useState([]),[Se,We]=m.useState("ytd"),Me=m.useMemo(()=>B6(Se),[Se]),Gn=Ch(Nh(Qo,{activationConstraint:{distance:8}})),Yn=[{value:"this_month",label:"MTD"},{value:"last_30_days",label:"30D"},{value:"this_quarter",label:"QTD"},{value:"ytd",label:"YTD"}];m.useEffect(()=>{if(!e)return;(async()=>{var Pe;const q={id:e.id,label:((Pe=e.user_metadata)==null?void 0:Pe.name)||e.email||"You",email:e.email||""},te=async()=>{if(!(t!=null&&t.teamId))return[];const{data:ne,error:we}=await H.from("user_teams").select("user_id").eq("team_id",t.teamId);return we?(console.error("Unable to load team members",we),[]):(ne||[]).map(Ne=>Ne.user_id)},ye=async()=>{if(!t)return[e.id];switch(t.globalRole){case"admin":return await Oo(t);case"sales_manager":{const ne=await te();return ne.length?ne:await Oo(t)}case"team_lead":{const ne=await te();return ne.length?ne:[t.userId]}default:return[t.userId]}};if(!t||t.globalRole==="agent"){ve([q]),J([e.id]);return}const me=await ye();let be=[];const{data:Fe,error:ot}=await H.rpc("get_accessible_agents");if(ot)console.error("Unable to load accessible agents",ot);else if(Fe){const ne=Fe.map(Ne=>({id:Ne.user_id,label:Ne.display_name||Ne.email||"Agent",email:Ne.email||""}));be=(me.length?ne.filter(Ne=>me.includes(Ne.id)):ne).filter((Ne,Nr,on)=>on.findIndex(hr=>hr.id===Ne.id)===Nr)}const re=ne=>{var we;return ne===e.id?((we=e.user_metadata)==null?void 0:we.name)||e.email||"You":`Agent ${ne.slice(0,8)}`};if(!be.length)be=me.map(ne=>({id:ne,label:re(ne),email:""}));else{const ne=new Set(be.map(Ne=>Ne.id)),we=me.filter(Ne=>!ne.has(Ne));we.length&&(be=[...be,...we.map(Ne=>({id:Ne,label:re(Ne),email:""}))])}ve(be),J(me.length?me:[e.id])})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]);const da=m.useMemo(()=>D.length?[...D].sort().join("|"):"",[D]),Ts=m.useMemo(()=>L.length?[...L].sort().join("|"):"",[L]),Ds=m.useMemo(()=>ge.length?[...ge].sort().join("|"):"",[ge]),Ii=m.useMemo(()=>B.length?[...B].sort().join("|"):"",[B]),Nn=!!e&&((t==null?void 0:t.globalRole)==="team_lead"||(t==null?void 0:t.teamRole)==="team_lead"),Lr=D.length>0&&D.length===Z.length,Xn=m.useMemo(()=>{if(!D.length)return"No agents selected";if(Lr)return"All agents";if(D.length===1){const I=Z.find(q=>q.id===D[0]);return(I==null?void 0:I.label)||"Single agent"}return`${D.length} agents`},[Lr,D,Z]),Ri=()=>{Z.length&&J(Z.map(I=>I.id))},Ct=()=>{e&&J([e.id])},Cn=I=>{const q=Array.from(I.target.selectedOptions).map(te=>te.value);q.length!==0&&J(q)};m.useEffect(()=>{z.length&&ie(I=>I.filter(q=>z.includes(q)))},[z]);const Ga=I=>{const q=Array.from(I.target.selectedOptions).map(te=>te.value);Oe(q)},ar=I=>{const q=Array.from(I.target.selectedOptions).map(te=>te.value);_e(q)},Mi=I=>{const q=Array.from(I.target.selectedOptions).map(te=>te.value);ie(q)},Is=t&&t.globalRole!=="agent"||Z.length>1,Ya=m.useMemo(()=>a.reduce((I,q)=>I+q.count,0),[a]),Jn=m.useMemo(()=>a.reduce((I,q)=>I+q.expectedGCI,0),[a]),$r=m.useMemo(()=>a.reduce((I,q)=>I+q.stalledCount,0),[a]),Yt=m.useMemo(()=>d.reduce((I,q)=>I+zi(q),0),[d]);m.useEffect(()=>{!e||!da||Pt()},[e==null?void 0:e.id,da,Ts,Ds,Ii,Se]),m.useEffect(()=>{e&&kr()},[e]),m.useEffect(()=>{D.length&&Et(D)},[D]),m.useEffect(()=>{g||P.current||mt()},[g,O]),m.useEffect(()=>{if(!e)return;const I=()=>{var ye;const q=Date.now();(O===0||q-O>=dS||!F)&&(K(m_((ye=e.user_metadata)==null?void 0:ye.name)),C(q))};return I(),ee.current&&clearInterval(ee.current),ee.current=setInterval(I,eZ),()=>{ee.current&&clearInterval(ee.current)}},[(Ie=e==null?void 0:e.user_metadata)==null?void 0:Ie.name]);const Li=(I,q)=>q.length?q.length===1?I.eq("user_id",q[0]):I.in("user_id",q):I,Ke=(I,q)=>{if(I=Li(I,q),L.length&&(I=I.in("lead_source_id",L)),ge.length){const te=ge.filter(Boolean);te.length&&(I=I.in("pipeline_status_id",te))}return B.length&&(I=I.in("deal_type",B)),I},Et=async I=>{if(!I.length)return;let q=H.from("deals").select(`
        id,
        user_id,
        deal_type,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, color, sort_order)
      `).order("created_at",{ascending:!1}).limit(1e3);q=Li(q,I);const{data:te,error:ye}=await q;if(ye){console.error("Unable to load filter context",ye);return}const me=new Map,be=new Map,Fe=new Set;(te||[]).forEach(re=>{var Pe,ne;(Pe=re.lead_sources)!=null&&Pe.id&&me.set(re.lead_sources.id,{id:re.lead_sources.id,name:re.lead_sources.name||"Unknown"}),(ne=re.pipeline_statuses)!=null&&ne.id&&be.set(re.pipeline_statuses.id,{id:re.pipeline_statuses.id,label:re.pipeline_statuses.name,color:re.pipeline_statuses.color,sortOrder:re.pipeline_statuses.sort_order}),re.deal_type&&Fe.add(re.deal_type)}),G(Array.from(me.values()).sort((re,Pe)=>re.name.localeCompare(Pe.name))),A(Array.from(be.values()).sort((re,Pe)=>{const ne=re.sortOrder??999,we=Pe.sortOrder??999;return ne===we?re.label.localeCompare(Pe.label):ne-we}));const ot=Array.from(Fe).sort((re,Pe)=>{const ne=kl[re]??re,we=kl[Pe]??Pe;return ne.localeCompare(we)});Y(ot.length?ot:Object.keys(kl))},Pt=async()=>{if(!e||!D.length)return;const I=g;I?y(!0):x(!0);const q=Me.start.toISOString(),te=Me.end.toISOString();try{await Promise.all([Ot(D,q,te),bt(D),Xt(D),Fr(D,q,te),wt(D),an(D)])}catch(ye){console.error("Error loading dashboard data",ye)}finally{I&&y(!1),x(!1)}},mt=async()=>{if(!P.current&&e){E(!0);try{const{data:{session:I}}=await H.auth.getSession();if(!I)return;const te=await fetch("https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-insights",{method:"POST",headers:{Authorization:`Bearer ${I.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({stats:r,pipelineHealth:a.map(be=>({id:be.id,name:be.name,count:be.count,expectedGCI:be.expectedGCI,stalledCount:be.stalledCount})),leadSourceData:c,monthlyData:s,upcomingDealsCount:d.length,projectedGCI:Yt})});if(!te.ok){const be=await te.text();console.error("Failed to fetch AI insights:",be);return}const me=(await te.json()).insights||[];b(me),!_&&me.length&&(j(me),P.current=!0)}catch(I){console.error("Error loading AI insights:",I)}finally{E(!1)}}},Ot=async(I,q,te)=>{const ye=Gm(q,te);let me=H.from("deals").select("*").eq("status","closed").or(ye);me=Ke(me,I);const{data:be,error:Fe}=await me;Fe&&console.error("loadStats closedDeals error",Fe);let ot=H.from("deals").select("*").gte("created_at",q).lte("created_at",te);ot=Ke(ot,I);const{data:re,error:Pe}=await ot;Pe&&console.error("loadStats allDeals error",Pe);const ne=new Date().getFullYear(),we=new Date().getMonth(),Ne=new Date(ne,we,1).toISOString(),Nr=new Date(ne,we+1,0,23,59,59).toISOString();let on=H.from("deals").select("id").in("status",uS).gte("close_date",Ne).lte("close_date",Nr);on=Ke(on,I);const{data:hr,error:$i}=await on;$i&&console.error("loadStats closingThisMonth error",$i);let Qn=0,Fi=0;const ha=(be||[]).filter(fu=>fS(fu,Me.start,Me.end));ha.forEach(fu=>{const WD=fu.actual_sale_price||0;Qn+=WD,Fi+=zi(fu)});const du=ha.length,UD=du>0?Fi/du:0,ub=(re==null?void 0:re.length)||0,zD=ub>0?du/ub:0;n({ytdGCI:Fi,ytdDeals:du,ytdVolume:Qn,avgCommission:UD,closingThisMonth:(hr==null?void 0:hr.length)||0,conversionRate:zD})},bt=async I=>{let q=H.from("deals").select(`
        *,
        pipeline_statuses (id, name, color, sort_order),
        lead_sources (id, name)
      `).not("status","in",`(${QQ.join(",")})`);q=Ke(q,I);const{data:te,error:ye}=await q;if(ye){console.error("loadPipelineHealth deals error",ye);return}if(!te){i([]),V([]);return}const me=new Map;te.forEach(ne=>{var $i,Qn,Fi,ha;const we=(($i=ne.pipeline_statuses)==null?void 0:$i.id)||ne.pipeline_status_id||`status:${ne.status}`,Ne=((Qn=ne.pipeline_statuses)==null?void 0:Qn.name)||cS[ne.status]||ne.status,Nr=((Fi=ne.pipeline_statuses)==null?void 0:Fi.color)||null,on=((ha=ne.pipeline_statuses)==null?void 0:ha.sort_order)??null,hr=me.get(we)||{id:we,name:Ne,color:Nr,sortOrder:on,count:0,expectedGCI:0,stalledCount:0};hr.count+=1,hr.expectedGCI+=zi(ne),g_(ne.stage_entered_at,30)&&(hr.stalledCount+=1),me.set(we,hr)});const Fe=Array.from(me.values()).sort((ne,we)=>{const Ne=ne.sortOrder??999,Nr=we.sortOrder??999;return Ne===Nr?ne.name.localeCompare(we.name):Ne-Nr}).map(ne=>({id:ne.id,name:ne.name,color:ne.color,count:ne.count,expectedGCI:ne.expectedGCI,stalledCount:ne.stalledCount}));i(Fe);const ot=new Map;te.forEach(ne=>{const we=ot.get(ne.deal_type)??{count:0,gci:0,statusCounts:{}};we.count+=1,we.gci+=zi(ne);const Ne=we.statusCounts[ne.status]||0;we.statusCounts[ne.status]=Ne+1,ot.set(ne.deal_type,we)});const re=te.length,Pe=Array.from(ot.entries()).map(([ne,we])=>({dealType:ne,count:we.count,gci:we.gci,percentage:re>0?we.count/re:0,statusCounts:we.statusCounts})).sort((ne,we)=>we.count-ne.count);V(Pe)},Xt=async I=>{const q=Gm(Me.start.toISOString(),Me.end.toISOString());let te=H.from("deals").select("*").eq("status","closed").or(q);te=Ke(te,I);const{data:ye,error:me}=await te;if(me){console.error("loadMonthlyTrends error",me);return}if(!ye){o([]);return}const be=ZQ.map(Fe=>({month:Fe,gci:0,deals:0}));ye.forEach(Fe=>{const ot=Zf(Fe.close_date)||Zf(Fe.closed_at);if(!ot||ot.year!==currentYear)return;const re=ot.month,Pe=be[re];Pe.gci+=zi(Fe),Pe.deals+=1}),o(be.map(Fe=>({month:Fe.month,gci:Math.round(Fe.gci),deals:Fe.deals})))},Fr=async(I,q,te)=>{const ye=Gm(q,te);let me=H.from("deals").select("*, lead_sources(*)").eq("status","closed").or(ye);me=Ke(me,I);const{data:be,error:Fe}=await me;if(Fe){console.error("loadLeadSourcePerformance error",Fe);return}if(!be){u([]);return}const ot=be.filter(ne=>fS(ne,Me.start,Me.end)),re=new Map;ot.forEach(ne=>{var Nr;const we=((Nr=ne.lead_sources)==null?void 0:Nr.name)||"Unknown",Ne=re.get(we)||{deals:0,gci:0};Ne.deals+=1,Ne.gci+=zi(ne),re.set(we,Ne)});const Pe=Array.from(re.entries()).map(([ne,we])=>({name:ne,deals:we.deals,gci:Math.round(we.gci)})).sort((ne,we)=>we.gci-ne.gci).slice(0,5);u(Pe)},wt=async I=>{const q=new Date,te=new Date;te.setDate(q.getDate()+30);let ye=H.from("deals").select("*").in("status",uS).gte("close_date",q.toISOString()).lte("close_date",te.toISOString()).order("close_date",{ascending:!0}).limit(5);ye=Ke(ye,I);const{data:me,error:be}=await ye;if(be){console.error("loadUpcomingDeals error",be),f([]);return}f(me||[])},an=async I=>{let q=H.from("deals").select("*").neq("status","closed").neq("status","dead").order("stage_entered_at",{ascending:!0});q=Ke(q,I);const{data:te,error:ye}=await q;if(ye){console.error("loadStalledDeals error",ye),p([]);return}const me=(te||[]).filter(be=>g_(be.stage_entered_at,30)).slice(0,5);p(me)},kr=async()=>{if(e)try{const{data:I,error:q}=await H.from("dashboard_layouts").select("widget_order").eq("user_id",e.id).maybeSingle();if(q){console.error("Error loading widget layout:",q);return}I&&I.widget_order?R(tZ(I.widget_order)):R([...Qf])}catch(I){console.error("Error loading widget layout:",I)}},W=async I=>{if(e)try{const{error:q}=await H.from("dashboard_layouts").upsert({user_id:e.id,widget_order:I,updated_at:new Date().toISOString()},{onConflict:"user_id"});q&&console.error("Error saving widget layout:",q)}catch(q){console.error("Error saving widget layout:",q)}},de=I=>{const{active:q,over:te}=I;if(!te||q.id===te.id){ae(null);return}const ye=T.indexOf(q.id),me=T.indexOf(te.id),be=[...T],[Fe]=be.splice(ye,1);be.splice(me,0,Fe),R(be),W(be),ae(null)},Ae=()=>{window.location.href="/pipeline"},He=()=>{window.location.href="/pipeline"},Te=()=>{window.location.href="/luma"},tt=m.useMemo(()=>{const I=[];if(s.length>=2){const te=s.slice(-2);if(te.length===2){const[ye,me]=te;if(me.gci>ye.gci){const be=(me.gci-ye.gci)/ye.gci*100;I.push(`You're on track to beat last month by ${be.toFixed(0)}% in GCI.`)}else if(me.gci<ye.gci&&ye.gci>0){const be=(ye.gci-me.gci)/ye.gci*100;I.push(`GCI is down ${be.toFixed(0)}% compared to last month.`)}}}const q=new Map;if(a.forEach(te=>{te.stalledCount>0&&q.set(te.name,te.stalledCount)}),q.size>0){const te=Array.from(q.entries()).sort((ye,me)=>me[1]-ye[1])[0];I.push(`${te[1]} deal${te[1]>1?"s have":" has"} been stalled in '${te[0]}' for 30+ days.`)}if(c.length>0){const te=c[0];I.push(`${te.name} is your top performing lead source with ${Cr(te.gci)} in closed deals.`)}return r.conversionRate>0&&(r.conversionRate>=.3?I.push(`Strong ${zu(r.conversionRate)} conversion rate - keep up the momentum!`):r.conversionRate<.15&&I.push(`Conversion rate at ${zu(r.conversionRate)} - consider focusing on lead quality.`)),d.length>0&&Yt>0&&I.push(`${d.length} deals projected to close soon with ${Cr(Yt)} potential GCI.`),I.length===0&&I.push("Keep adding deals to your pipeline to get personalized insights."),I},[r,a,c,s,d,Yt]);m.useEffect(()=>{if(g)return;const I=Date.now();!(O===0||I-O>=dS)&&S||(N(tt),C(I),j(null),P.current=!1)},[tt,g,O]);const Jt=I=>{switch(I){case"luma-insights":return ir();case"pipeline-health":return Br();case"alerts-actions":return fa();case"monthly-momentum":return qe();case"deal-type-mix":return je();case"lead-source":return Ee();case"upcoming-deals":return d.length>0?ke():null;default:return null}},ir=()=>l.jsx("div",{className:"hig-card p-6 bg-gradient-to-br from-blue-50 to-white border-blue-200/60",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[rgb(0,122,255)] flex items-center justify-center shadow-lg",children:l.jsx(vs,{className:"w-6 h-6 text-white",strokeWidth:2})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"hig-text-heading",children:"Luma Insights"}),k&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[rgb(0,122,255)]"})]}),(_||w).length>0?l.jsx("div",{className:"space-y-3",children:(_||w).slice(0,3).map((I,q)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),l.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:I})]},q))}):l.jsx("div",{className:"space-y-3",children:(S||tt).slice(0,3).map((I,q)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),l.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:I})]},q))})]})]})}),Br=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Pipeline Health"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:Ya}),l.jsx("div",{className:"text-xs text-gray-500",children:"Active Deals"})]})]}),a.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline yet. Add a deal to see health metrics here."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Pipeline Value"}),l.jsx("span",{className:"text-lg font-semibold text-[rgb(0,122,255)]",children:Cr(Jn)})]})}),l.jsx("div",{className:"space-y-3",children:a.map(I=>{if(I.count===0)return null;const q=Ya>0?I.count/Ya*100:0;return l.jsxs("div",{className:"group p-4 rounded-xl border border-gray-200/60 hover:border-gray-300 hover:shadow-sm transition-all cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Rh(I.color)}}),l.jsx("span",{className:"font-medium text-gray-900",children:I.name})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[I.stalledCount>0&&l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 rounded-full",children:[l.jsx(xc,{className:"w-3.5 h-3.5 text-orange-600",strokeWidth:2}),l.jsxs("span",{className:"text-xs font-medium text-orange-700",children:[I.stalledCount," stalled"]})]}),l.jsx("span",{className:"text-lg font-semibold text-gray-900",children:I.count})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-[rgb(0,122,255)] font-medium",children:Cr(I.expectedGCI)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[q.toFixed(0),"% of pipeline"]})]})]},I.id)})}),$r>0&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/60",children:l.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-orange-50 rounded-xl border border-orange-200/60",children:[l.jsx(Ta,{className:"w-4 h-4 text-orange-600",strokeWidth:2}),l.jsxs("span",{className:"text-sm font-medium text-orange-700",children:[$r," deals need attention (30+ days)"]})]})})]})]}),fa=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h2",{className:"hig-text-heading",children:"Alerts & Actions"})}),h.length>0?l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-3",children:[l.jsx(Ta,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:"Stalled Deals Requiring Attention"})]}),l.jsx("div",{className:"space-y-2",children:h.slice(0,3).map(I=>l.jsx("div",{className:"p-3 bg-orange-50 rounded-xl border border-orange-200/60 hover:shadow-sm transition-all cursor-pointer",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I.client_name}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:I.property_address})]}),l.jsx("div",{className:"ml-3 px-2 py-1 bg-orange-100 rounded-lg",children:l.jsxs("div",{className:"text-xs text-orange-700 font-semibold",children:[aE(I.stage_entered_at),"d"]})})]})},I.id))})]}):l.jsx("div",{className:"mb-6 p-4 bg-green-50 rounded-xl border border-green-200/60",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-4 h-4 text-green-600",strokeWidth:2}),l.jsx("span",{className:"text-sm text-green-700",children:"All deals are moving smoothly!"})]})}),l.jsxs("div",{className:"pt-4 border-t border-gray-200/60",children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:Ae,children:[l.jsx(EC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"New Client"})]}),l.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:He,children:[l.jsx(vC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"New Task"})]}),l.jsxs("button",{className:"hig-btn-primary py-3 text-sm flex items-center justify-center gap-2",onClick:Te,children:[l.jsx(vs,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Ask Luma"})]})]})]})]}),qe=()=>{const I=s.some(re=>re.gci>0||re.deals>0),q=s.filter(re=>re.gci>0||re.deals>0),te=q.length>0?q[q.length-1]:null,ye=q.length>=2?q[q.length-2]:null,me=te&&ye&&ye.gci>0?(te.gci-ye.gci)/ye.gci*100:null,be=q.reduce((re,Pe)=>Pe.gci>((re==null?void 0:re.gci)??0)?Pe:re,null),Fe=s.map((re,Pe,ne)=>{const we=Math.max(0,Pe-2),Ne=ne.slice(we,Pe+1),Nr=Ne.reduce((on,hr)=>on+hr.gci,0);return Ne.length?Nr/Ne.length:re.gci}),ot=s.map((re,Pe)=>({...re,trend:Fe[Pe]??re.gci}));return l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading",children:"Monthly Momentum"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Track production pace and deal count across recent months."})]}),me!==null&&l.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${me>=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[me>=0?l.jsx(pC,{className:"w-3.5 h-3.5"}):l.jsx(g3,{className:"w-3.5 h-3.5"}),me>=0?"+":"",me.toFixed(1),"% vs prev. month"]})]}),I?l.jsxs(l.Fragment,{children:[l.jsx(Y_,{width:"100%",height:180,children:l.jsxs(YQ,{data:ot,children:[l.jsx(ey,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(ny,{dataKey:"month",tick:{fontSize:11},stroke:"#94a3b8"}),l.jsx(iy,{tick:{fontSize:11},stroke:"#94a3b8",tickFormatter:re=>`$${(re/1e3).toFixed(0)}K`}),l.jsx(jj,{formatter:re=>Cr(re),labelFormatter:re=>`Month: ${re}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsx(ty,{type:"monotone",dataKey:"gci",stroke:"#0ea5e9",strokeWidth:2,dot:{r:3,fill:"#0ea5e9"},activeDot:{r:5}}),l.jsx(ty,{type:"monotone",dataKey:"trend",stroke:"#ef4444",strokeWidth:1.5,dot:!1,strokeDasharray:"4 4"})]})}),l.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 text-xs text-gray-600",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#0ea5e9]"}),l.jsx("span",{children:"Monthly GCI"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#ef4444]"}),l.jsx("span",{children:"3-month trailing mean"})]})]}),be&&l.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:["Top month: ",be.month,"  ",Cr(be.gci)]})]})]}):l.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals yet in this period. Close your first deal to surface momentum insights."})]})},je=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Deal Type Mix"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Share of active deals by type & status"})]}),Q.length>0?l.jsx("div",{className:"space-y-4",children:Q.map(I=>l.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-base font-semibold text-gray-900",children:kl[I.dealType]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[I.count," active ",I.count===1?"deal":"deals"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[Cr(I.gci)," expected GCI"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:zu(I.percentage)}),l.jsx("p",{className:"text-xs text-gray-500",children:"of pipeline"})]})]}),l.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Object.entries(I.statusCounts).sort((q,te)=>te[1]-q[1]).map(([q,te])=>l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700",children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),cS[q]??q.replace(/_/g," "),l.jsxs("span",{className:"text-gray-500",children:["(",te,")"]})]},q))})]},I.dealType))}):l.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline. Add a deal to see the deal-type mix."})]}),Ee=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsx("h2",{className:"hig-text-heading mb-6",children:"Lead Source Performance"}),c.length>0?l.jsx(Y_,{width:"100%",height:250,children:l.jsxs(JQ,{data:c,layout:"vertical",children:[l.jsx(ey,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(ny,{type:"number",tick:{fontSize:12},stroke:"#6b7280",tickFormatter:I=>`$${(I/1e3).toFixed(0)}K`}),l.jsx(iy,{type:"category",dataKey:"name",tick:{fontSize:12},stroke:"#6b7280",width:100}),l.jsx(jj,{formatter:I=>Cr(I),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsx(fD,{dataKey:"gci",fill:"#0ea5e9",radius:[0,4,4,0]})]})}):l.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals in this period, so lead source performance is not available yet."})]}),ke=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Forecasted Closings (Next 30 Days)"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium text-gray-900",children:Cr(Yt)})," ","projected GCI"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(I=>l.jsxs("div",{className:"p-4 border border-gray-200/60 rounded-xl hover:shadow-sm hover:border-gray-300 transition-all cursor-pointer",children:[l.jsx("div",{className:"font-medium text-gray-900",children:I.client_name}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:I.property_address}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("div",{className:"text-sm font-semibold text-[rgb(0,122,255)]",children:Cr(zi(I))}),l.jsx(gC,{className:"w-4 h-4 text-gray-400",strokeWidth:2})]})]},I.id))})]});return g?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_10px_40px_rgba(15,23,42,0.08)] p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:F6()}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:F||m_((sn=e==null?void 0:e.user_metadata)==null?void 0:sn.name)}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.closingThisMonth," deal",r.closingThisMonth===1?"":"s"," closing soon "," ",Cr(Yt)," projected GCI over the next 30 days."]})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-gray-500 lg:ml-auto",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--app-accent)] animate-pulse"}),"Updating"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-blue-100/70 bg-blue-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600",children:"Pipeline Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Cr(Jn)}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Active stages only"})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-600",children:"Projected GCI"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Cr(Yt)}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Next 30 days"})]}),l.jsxs("div",{className:"rounded-2xl border border-purple-100/70 bg-purple-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-600",children:"Active Deals"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Ya}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across pipeline"})]})]})]}),Is&&l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_6px_30px_rgba(15,23,42,0.08)] p-4 space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),l.jsx("p",{className:"text-sm text-gray-700",children:Xn})]}),l.jsx(RD,{options:Yn,value:Se,onChange:I=>We(I)})]}),Z.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Agents"}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Pick one or more agents to focus this view."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:Ri,className:"rounded-full px-3 py-1.5 text-xs font-semibold bg-gray-900 text-white hover:bg-black transition",children:"All"}),Nn&&l.jsx("button",{type:"button",onClick:Ct,className:"rounded-full px-3 py-1.5 text-xs font-semibold bg-gray-100 text-gray-900 hover:bg-gray-200 transition",children:"Focus on me"})]})]}),l.jsx("select",{multiple:!0,value:D,onChange:Cn,className:"hig-input min-h-[120px] rounded-2xl border-gray-200 bg-white/90 text-sm",children:Z.map(I=>l.jsxs("option",{value:I.id,children:[I.label," ",I.email?` ${I.email}`:""]},I.id))}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Tip: Hold /Ctrl to select multiple agents."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),ge.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>Oe([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:ge,onChange:Ga,className:"hig-input min-h-[56px] mt-2",children:pe.map(I=>l.jsx("option",{value:I.id,children:I.label},I.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Deal Type"}),B.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>ie([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:B,onChange:Mi,className:"hig-input min-h-[56px] mt-2",children:z.map(I=>l.jsx("option",{value:I,children:kl[I]??I.replace(/_/g," ")},I))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),L.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>_e([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:L,onChange:ar,className:"hig-input min-h-[56px] mt-2",children:U.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-blue-50",children:l.jsx(_3,{className:"w-5 h-5 text-[rgb(0,122,255)]",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",children:"Total GCI"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:Cr(r.ytdGCI)})]}),l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-green-50",children:l.jsx(_i,{className:"w-5 h-5 text-green-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",children:"Closed Deals"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.ytdDeals})]}),l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-orange-50",children:l.jsx(vc,{className:"w-5 h-5 text-orange-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",children:"Closing Soon"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.closingThisMonth})]}),l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-gray-50",children:l.jsx(m3,{className:"w-5 h-5 text-gray-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",children:"Conv. Rate"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:zu(r.conversionRate)})]})]}),l.jsx(Oh,{sensors:Gn,collisionDetection:_0,onDragEnd:de,onDragStart:I=>ae(I.active.id),children:l.jsx(Dh,{items:T,strategy:Th,children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(I=>{const q=Jt(I);return q?l.jsx(rZ,{id:I,children:q},I):null})})})})]})}function MD({deal:e,netCommission:t,daysInStage:r,onClick:n,isDragging:a=!1}){const i=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return l.jsxs("div",{onClick:n,"data-deal-id":e.id,className:`rounded-2xl border border-gray-100/80 bg-white/95 p-4 shadow-[0_10px_30px_rgba(15,23,42,0.05)] ring-1 ring-black/5 cursor-move transition-transform duration-200 ${a?"opacity-60":"hover:-translate-y-0.5"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:e.client_name}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(xC,{className:"w-3.5 h-3.5 mr-1 text-gray-400"}),l.jsx("span",{className:"truncate",children:e.property_address})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Expected"}),l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:i(e.actual_sale_price||e.expected_sale_price)})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[l.jsx(xc,{className:"w-3.5 h-3.5 text-gray-400"}),l.jsxs("span",{children:[r,"d in stage"]})]}),e.lead_sources?l.jsxs("div",{className:"flex items-center gap-1 text-gray-500 justify-end",children:[l.jsx(CC,{className:"w-3.5 h-3.5 text-gray-400"}),l.jsx("span",{className:"truncate",children:e.lead_sources.name})]}):l.jsx("div",{})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-xl bg-gray-50 px-3 py-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Net Commission"}),l.jsx("div",{className:"text-sm font-semibold text-emerald-600",children:i(t)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Close Date"}),l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.close_date?new Date(e.close_date).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""})]})]})]})}const aZ=["buyer","seller","buyer_and_seller","renter","landlord"],Nl={buyer:{label:"Buyer",accentDot:"bg-blue-400",labelClass:"text-blue-900",panelBg:"bg-blue-50/60",panelBorder:"border-blue-100"},seller:{label:"Seller",accentDot:"bg-emerald-400",labelClass:"text-emerald-900",panelBg:"bg-emerald-50/60",panelBorder:"border-emerald-100"},buyer_and_seller:{label:"Buyer & Seller",accentDot:"bg-purple-400",labelClass:"text-purple-900",panelBg:"bg-purple-50/60",panelBorder:"border-purple-100"},renter:{label:"Renter",accentDot:"bg-orange-400",labelClass:"text-orange-900",panelBg:"bg-orange-50/60",panelBorder:"border-orange-100"},landlord:{label:"Landlord",accentDot:"bg-teal-400",labelClass:"text-teal-900",panelBg:"bg-teal-50/60",panelBorder:"border-teal-100"}};function iZ({status:e,label:t,color:r,deals:n,onDealClick:a,calculateNetCommission:i,getDaysInStage:s}){const{setNodeRef:o,isOver:c}=QC({id:e}),u=Mh(r),d=aZ.map(f=>({type:f,label:Nl[f].label,accentDot:Nl[f].accentDot,labelClass:Nl[f].labelClass,deals:n.filter(h=>h.deal_type===f),panelBg:Nl[f].panelBg,panelBorder:Nl[f].panelBorder})).filter(f=>f.deals.length>0);return l.jsxs("div",{className:"flex-shrink-0 w-72 sm:w-80 flex flex-col",children:[l.jsxs("div",{className:"rounded-lg p-2.5 sm:p-3 mb-2 sm:mb-3 flex-shrink-0",style:{backgroundColor:u.bg,color:u.text},children:[l.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:t}),l.jsxs("span",{className:"text-xs sm:text-sm opacity-80",children:[n.length," deal",n.length!==1?"s":""]})]}),l.jsx("div",{ref:o,className:`flex-1 min-h-[600px] rounded-lg p-3 transition overflow-y-auto ${c?"bg-blue-50 ring-2 ring-blue-400":"bg-gray-50"}`,style:{minHeight:"600px"},children:n.length===0?l.jsx("div",{className:"h-full min-h-[560px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Drop deals here"}),l.jsx("div",{className:"text-xs",children:"Drag cards to this column"})]})}):l.jsx("div",{className:"space-y-6",children:d.map((f,h)=>l.jsxs("div",{className:`rounded-2xl border px-3 py-3 sm:px-4 sm:py-4 ${f.panelBg} ${f.panelBorder} ${h>0?"mt-1":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${f.accentDot}`}),l.jsx("span",{className:`text-xs font-semibold ${f.labelClass}`,children:f.label})]}),l.jsxs("span",{className:"text-[11px] font-medium text-gray-400",children:[f.deals.length," deal",f.deals.length!==1?"s":""]})]}),l.jsx(Dh,{items:f.deals.map(p=>p.id),strategy:eE,children:l.jsx("div",{className:"mt-3 space-y-2 sm:space-y-3",children:f.deals.map(p=>l.jsx(sZ,{deal:p,onDealClick:a,calculateNetCommission:i,getDaysInStage:s},p.id))})})]},f.type))})})]})}function sZ({deal:e,onDealClick:t,calculateNetCommission:r,getDaysInStage:n}){const{attributes:a,listeners:i,setNodeRef:s,transform:o,transition:c,isDragging:u}=Ih({id:e.id,data:{type:"deal"}}),d={transform:Bn.Transform.toString(o),transition:c,zIndex:u?50:void 0};return l.jsx("div",{ref:s,style:d,...a,...i,children:l.jsx(MD,{deal:e,netCommission:r(e),daysInStage:n(e.stage_entered_at),onClick:()=>t(e),isDragging:u})})}const oZ={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,sept:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};function hS(e){return e.toString().padStart(2,"0")}function lZ(e,t,r){const n=new Date(Date.UTC(e,t-1,r));return n.getUTCFullYear()===e&&n.getUTCMonth()+1===t&&n.getUTCDate()===r}function Cl(e,t,r){return lZ(e,t,r)?`${e}-${hS(t)}-${hS(r)}`:null}function cZ(e){return e<100?e>=70?1900+e:2e3+e:e}function pS(e){const t=e.toLowerCase();return oZ[t]||null}function uZ(e){if(!e)return null;const t=e.trim();if(!t)return null;const r=t.replace(/\s+/g," "),n=r.match(/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/);if(n){const[c,u,d,f]=n;return Cl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const a=r.match(/^(\d{1,2})[\/\.\-](\d{1,2})[\/\.\-](\d{2}|\d{4})$/);if(a){const[c,u,d,f]=a,h=cZ(parseInt(f,10));return Cl(h,parseInt(u,10),parseInt(d,10))}const i=r.match(/^(\d{4})\.(\d{1,2})\.(\d{1,2})$/);if(i){const[c,u,d,f]=i;return Cl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const s=r.match(/^([A-Za-z]+)[\s\-](\d{1,2}),?[\s\-]*(\d{4})$/);if(s){const c=pS(s[1]);if(c)return Cl(parseInt(s[3],10),c,parseInt(s[2],10))}const o=r.match(/^(\d{1,2})[\s\-]([A-Za-z]+),?[\s\-]*(\d{4})$/);if(o){const c=pS(o[2]);if(c)return Cl(parseInt(o[3],10),c,parseInt(o[1],10))}return null}function dZ(e=[]){const t=["client_name","client_phone","client_email","property_address","city","state","zip","deal_type","lead_source_name","pipeline_status","expected_sale_price","actual_sale_price","gross_commission_rate","brokerage_split_rate","referral_out_rate","referral_in_rate","transaction_fee","close_date"].join(","),r=["New Lead","Contacted","Under Contract"],n=e.length>0?e:r,i=[{client_name:"John Smith",client_phone:"555-123-4567",client_email:"john.smith@example.com",property_address:"123 Main Street",city:"Austin",state:"TX",zip:"78701",deal_type:"buyer",lead_source_name:"Zillow",pipeline_status:n[Math.min(2,n.length-1)]||n[0],expected_sale_price:"450000",actual_sale_price:"",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"500",close_date:""},{client_name:"Sarah Johnson",client_phone:"555-987-6543",client_email:"sarah.j@example.com",property_address:"456 Oak Avenue",city:"Dallas",state:"TX",zip:"75201",deal_type:"seller",lead_source_name:"Past Client",pipeline_status:n[n.length-1]||n[0],expected_sale_price:"525000",actual_sale_price:"520000",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"0.25",referral_in_rate:"",transaction_fee:"500",close_date:"2024-12-15"},{client_name:"Mike Davis",client_phone:"555-456-7890",client_email:"mike.davis@example.com",property_address:"789 Elm Street",city:"Houston",state:"TX",zip:"77001",deal_type:"renter",lead_source_name:"Referral",pipeline_status:n[Math.min(1,n.length-1)]||n[0],expected_sale_price:"2400",actual_sale_price:"",gross_commission_rate:"0.5",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"0",close_date:""}].map(s=>Object.values(s).map(o=>{const c=String(o);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c}).join(",")).join(`
`);return`${t}
${i}`}function fZ(e,t){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function hZ(e){const t=[];let r=[],n="",a=!1;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];a?s==='"'&&o==='"'?(n+='"',i++):s==='"'?a=!1:n+=s:s==='"'?a=!0:s===","?(r.push(n.trim()),n=""):s===`
`||s==="\r"?((n||r.length>0)&&(r.push(n.trim()),r.some(c=>c!=="")&&t.push(r),r=[],n=""),s==="\r"&&o===`
`&&i++):n+=s}return(n||r.length>0)&&(r.push(n.trim()),r.some(i=>i!=="")&&t.push(r)),t}function pZ(e,t=[]){const r=[];(!e.client_name||e.client_name.trim()==="")&&r.push("client_name is required"),(!e.lead_source_name||e.lead_source_name.trim()==="")&&r.push("lead_source_name is required");const n=["buyer","seller","buyer_and_seller","renter","landlord"];if((!e.deal_type||!n.includes(e.deal_type))&&r.push(`deal_type must be one of: ${n.join(", ")}`),!e.pipeline_status||e.pipeline_status.trim()==="")r.push("pipeline_status is required");else if(t.length>0){const a=e.pipeline_status.toLowerCase().trim();t.includes(a)||r.push(`pipeline_status must be one of your configured statuses: ${t.join(", ")}`)}return{valid:r.length===0,errors:r}}function mZ(e,t){const r={};return e.forEach((n,a)=>{const i=t[a]||"";r[n]=i}),r}function gZ({onClose:e,onSuccess:t}){const{user:r,roleInfo:n}=pt(),a=(n==null?void 0:n.teamId)||null,[i,s]=m.useState(null),[o,c]=m.useState(!1),[u,d]=m.useState(null),f=async()=>{if(!r)return;const{data:g}=a?await H.from("pipeline_statuses").select("name").eq("team_id",a).order("sort_order"):{data:null},{data:y}=g!=null&&g.length?{data:g}:await H.from("pipeline_statuses").select("name").eq("user_id",r.id).order("sort_order"),v=(y==null?void 0:y.map(w=>w.name))||[],x=dZ(v);fZ(x,"deals-import-example.csv")},h=g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&y.type==="text/csv"?(s(y),d(null)):alert("Please select a valid CSV file")},p=async()=>{var g,y,v,x,w,b;if(!(!i||!r)){c(!0),d(null);try{const _=await i.text(),j=hZ(_);if(j.length<2){alert("CSV file must contain a header row and at least one data row"),c(!1);return}const S=j[0].map(R=>R.toLowerCase().trim()),N=j.slice(1),{data:k}=a?await H.from("lead_sources").select("id, name").eq("team_id",a):{data:null},{data:E}=k!=null&&k.length?{data:k}:await H.from("lead_sources").select("id, name").eq("user_id",r.id),P=new Map((E==null?void 0:E.map(R=>[R.name.toLowerCase(),R.id]))||[]),{data:O}=a?await H.from("pipeline_statuses").select("id, name").eq("team_id",a):{data:null},{data:C}=O!=null&&O.length?{data:O}:await H.from("pipeline_statuses").select("id, name").eq("user_id",r.id),F=new Map((C==null?void 0:C.map(R=>[R.name.toLowerCase(),R.id]))||[]),{data:K}=await H.from("user_settings").select("default_brokerage_split_rate").eq("user_id",r.id).single(),ee=(K==null?void 0:K.default_brokerage_split_rate)||.2;let Q=0,V=0;const T=[];for(let R=0;R<N.length;R++){const M=mZ(S,N[R]),ae=pZ(M,Array.from(F.keys()));if(!ae.valid){V++,T.push({row:R+2,errors:ae.errors});continue}const Z=P.get(M.lead_source_name.toLowerCase().trim());if(!Z){V++,T.push({row:R+2,errors:[`Lead source "${M.lead_source_name}" not found. Please create it in Lead Sources settings first.`]});continue}let ve=null,D="new_lead";if(M.pipeline_status&&M.pipeline_status.trim()!==""){ve=F.get(M.pipeline_status.toLowerCase().trim())||null;const pe=M.pipeline_status.toLowerCase().trim();pe==="closed"?D="closed":pe==="dead"&&(D="dead")}let J=null;if(M.close_date&&M.close_date.trim()!==""&&(J=uZ(M.close_date),!J)){V++,T.push({row:R+2,errors:[`Close date "${M.close_date}" is not recognized. Use formats like YYYY-MM-DD, MM/DD/YYYY, or December 15, 2024.`]});continue}const U={user_id:r.id,client_name:M.client_name.trim(),client_phone:((g=M.client_phone)==null?void 0:g.trim())||null,client_email:((y=M.client_email)==null?void 0:y.trim())||null,property_address:((v=M.property_address)==null?void 0:v.trim())||null,city:((x=M.city)==null?void 0:x.trim())||null,state:((w=M.state)==null?void 0:w.trim())||null,zip:((b=M.zip)==null?void 0:b.trim())||null,deal_type:M.deal_type.trim(),lead_source_id:Z,pipeline_status_id:ve,status:D,expected_sale_price:M.expected_sale_price&&M.expected_sale_price.trim()!==""?Number(M.expected_sale_price):null,actual_sale_price:M.actual_sale_price&&M.actual_sale_price.trim()!==""?Number(M.actual_sale_price):null,gross_commission_rate:M.gross_commission_rate&&M.gross_commission_rate.trim()!==""?Number(M.gross_commission_rate):.03,brokerage_split_rate:M.brokerage_split_rate&&M.brokerage_split_rate.trim()!==""?Number(M.brokerage_split_rate):ee,referral_out_rate:M.referral_out_rate&&M.referral_out_rate.trim()!==""?Number(M.referral_out_rate):null,referral_in_rate:M.referral_in_rate&&M.referral_in_rate.trim()!==""?Number(M.referral_in_rate):null,transaction_fee:M.transaction_fee&&M.transaction_fee.trim()!==""?Number(M.transaction_fee):0,close_date:J,stage_entered_at:new Date().toISOString(),closed_at:D==="closed"?new Date().toISOString():null},{error:G}=await H.from("deals").insert(U);G?(V++,T.push({row:R+2,errors:[G.message]})):Q++}d({success:Q,failed:V,errors:T})}catch(_){console.error("Import error:",_),alert("An error occurred while importing. Please check your file format.")}finally{c(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Import Deals from CSV"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(xs,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Import Deals"}),l.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Download the example CSV file to see the required format"}),l.jsx("li",{children:"Fill in your deal data following the example structure"}),l.jsx("li",{children:"Save your file as CSV format"}),l.jsx("li",{children:"Upload your CSV file using the button below"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 1: Download Example"}),l.jsxs("button",{onClick:f,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center space-x-2 transition",children:[l.jsx(j3,{className:"w-5 h-5"}),l.jsx("span",{children:"Download Example CSV"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 2: Upload Your CSV"}),l.jsxs("label",{className:"block w-full px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 cursor-pointer transition text-center",children:[l.jsx("input",{type:"file",accept:".csv",onChange:h,className:"hidden",disabled:o}),l.jsx(ov,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),l.jsx("div",{className:"text-sm text-gray-600",children:i?l.jsx("span",{className:"font-medium text-blue-600",children:i.name}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium text-blue-600",children:"Click to upload"})," ","or drag and drop"]})}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"CSV files only"})]})]}),i&&!u&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 3: Import"}),l.jsx("button",{onClick:p,disabled:o,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center space-x-2 transition",children:o?l.jsxs(l.Fragment,{children:[l.jsx(P3,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ov,{className:"w-5 h-5"}),l.jsx("span",{children:"Import Deals"})]})})]}),u&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Import Results"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center space-x-3",children:[l.jsx(_i,{className:"w-6 h-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.success}),l.jsx("div",{className:"text-xs text-gray-600",children:"Successfully Imported"})]})]}),l.jsxs("div",{className:"bg-red-50 rounded-lg p-3 flex items-center space-x-3",children:[l.jsx(Ta,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failed}),l.jsx("div",{className:"text-xs text-gray-600",children:"Failed"})]})]})]})]}),u.errors.length>0&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:[l.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Errors"}),l.jsx("div",{className:"space-y-2",children:u.errors.map((g,y)=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium text-red-800",children:["Row ",g.row,":"]}),l.jsx("ul",{className:"list-disc list-inside text-red-700 ml-2",children:g.errors.map((v,x)=>l.jsx("li",{children:v},x))})]},y))})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{s(null),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Import Another File"}),l.jsx("button",{onClick:()=>{u.success>0&&t(),e()},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Done"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Required Fields"}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"client_name:"})," Client's full name"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"lead_source_name:"})," Must match one of your configured lead sources"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"deal_type:"})," buyer, seller, buyer_and_seller, renter, or landlord"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"pipeline_status:"})," Must match one of your configured pipeline statuses"]})]}),l.jsx("div",{className:"mt-3 text-xs text-gray-600",children:"Note: Property address and price are optional. Lead source and pipeline status names must match exactly or the import will fail."})]})]})]})})}const vZ=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),ad=e=>e==null||Number.isNaN(e)?"":vZ.format(e),id=e=>e==null||Number.isNaN(e)?"":`${(e*100).toFixed(1)}%`,Ks=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},mS=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",wo=[{id:"client",label:"Client",defaultVisible:!0,cellClassName:"px-4 py-4 align-top whitespace-nowrap cursor-pointer",render:({deal:e})=>l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.client_name||""}),e.client_email&&l.jsx("div",{className:"text-xs text-gray-500",children:e.client_email}),e.client_phone&&l.jsx("div",{className:"text-xs text-gray-500",children:e.client_phone})]})},{id:"clientEmail",label:"Client Email",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.client_email?"text-gray-700":"text-gray-400",children:e.client_email||""})},{id:"clientPhone",label:"Client Phone",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.client_phone?"text-gray-700":"text-gray-400",children:e.client_phone||""})},{id:"property",label:"Property",defaultVisible:!0,cellClassName:"px-4 py-4 text-sm text-gray-900 cursor-pointer min-w-[220px]",render:({deal:e})=>l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(xC,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{children:e.property_address||""}),(e.city||e.state)&&l.jsx("div",{className:"text-xs text-gray-500",children:[e.city,e.state].filter(Boolean).join(", ")})]})]})},{id:"city",label:"City",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.city?"text-gray-700":"text-gray-400",children:e.city||""})},{id:"state",label:"State",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.state?"text-gray-700":"text-gray-400",children:e.state||""})},{id:"zip",label:"ZIP",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.zip?"text-gray-700":"text-gray-400",children:e.zip||""})},{id:"dealType",label:"Deal Type",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>{const t=e.deal_type==="buyer"?"bg-blue-100 text-blue-700":e.deal_type==="seller"?"bg-green-100 text-green-700":e.deal_type==="buyer_and_seller"?"bg-purple-100 text-purple-700":e.deal_type==="renter"?"bg-orange-100 text-orange-700":e.deal_type==="landlord"?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-700",r=e.deal_type==="buyer"?"Buyer":e.deal_type==="seller"?"Seller":e.deal_type==="buyer_and_seller"?"Both":e.deal_type==="renter"?"Renter":e.deal_type==="landlord"?"Landlord":mS(e.deal_type);return l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${t}`,children:r})}},{id:"pipelineStatus",label:"Pipeline Status",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e,getStatusForDeal:t})=>{const r=t(e);if(!r)return l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:"No Status"});const n=Mh(r.color);return l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:n.bg,color:n.text},children:r.name})}},{id:"status",label:"System Status",cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:mS(e.status)})},{id:"leadSource",label:"Lead Source",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>{var t,r;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(CC,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:(t=e.lead_sources)!=null&&t.name?"text-gray-900":"text-gray-400",children:((r=e.lead_sources)==null?void 0:r.name)||""})]})}},{id:"expectedPrice",label:"Expected Price",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ad(e.actual_sale_price||e.expected_sale_price)})},{id:"actualPrice",label:"Actual Price",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ad(e.actual_sale_price)})},{id:"netCommission",label:"Net Commission",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-green-600 cursor-pointer text-right",render:({deal:e,calculateNetCommission:t})=>l.jsx("span",{children:ad(t(e))})},{id:"grossCommissionRate",label:"Commission %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:id(e.gross_commission_rate)})},{id:"brokerageSplitRate",label:"Broker Split %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:id(e.brokerage_split_rate)})},{id:"referralOutRate",label:"Referral Out %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:id(e.referral_out_rate)})},{id:"referralInRate",label:"Referral In %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:id(e.referral_in_rate)})},{id:"transactionFee",label:"Transaction Fee",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ad(e.transaction_fee)})},{id:"daysInStage",label:"Days in Stage",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 cursor-pointer",render:({deal:e,getDaysInStage:t})=>l.jsxs("div",{className:"flex items-center justify-start gap-2",children:[l.jsx(xc,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{children:[t(e.stage_entered_at)," days"]})]})},{id:"stageEnteredAt",label:"Stage Entered",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ks(e.stage_entered_at)})},{id:"closeDate",label:"Close Date",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ks(e.close_date)})},{id:"closedAt",label:"Closed On",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ks(e.closed_at)})},{id:"nextTaskDescription",label:"Next Task",cellClassName:"px-4 py-4 text-sm text-gray-700 cursor-pointer min-w-[200px]",render:({deal:e})=>l.jsx("span",{className:e.next_task_description?"text-gray-700":"text-gray-400",children:e.next_task_description||""})},{id:"nextTaskDueDate",label:"Next Task Due",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ks(e.next_task_due_date)})},{id:"createdAt",label:"Created",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vc,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:Ks(e.created_at)})]})},{id:"updatedAt",label:"Updated",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ks(e.updated_at)})}],gS="pipeline-table-columns-v1",vS=new Set(wo.map(e=>e.id)),yS=new Map(wo.map((e,t)=>[e.id,t])),Ym=wo.filter(e=>e.defaultVisible).map(e=>e.id),Xm=e=>[...e].sort((t,r)=>(yS.get(t)??0)-(yS.get(r)??0));function yZ({deals:e,statuses:t,onDealClick:r,calculateNetCommission:n,getDaysInStage:a,onBulkDelete:i,onBulkEdit:s,onImportSuccess:o}){const[c,u]=m.useState(new Set),[d,f]=m.useState(!1),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(!1),[w,b]=m.useState(!1),[_,j]=m.useState({column:"pipelineOrder",direction:"asc"}),[S,N]=m.useState(()=>{if(typeof window>"u")return Ym;try{const D=window.localStorage.getItem(gS);if(D){const U=JSON.parse(D).filter(G=>vS.has(G));if(U.length>0)return Xm(U)}}catch{}return Ym});m.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(gS,JSON.stringify(S))},[S]);const k=D=>{N(J=>J.includes(D)?J.length===1?J:J.filter(U=>U!==D):Xm([...J,D]))},E=()=>N(Xm(Array.from(vS))),P=()=>N(Ym),O=wo.filter(D=>S.includes(D.id)),C=O.length+1,F=D=>{const J=new Set(c);J.has(D)?J.delete(D):J.add(D),u(J)},K=()=>{c.size===M.length?u(new Set):u(new Set(M.map(D=>D.id)))},ee=()=>{i&&c.size>0&&(i(Array.from(c)),u(new Set))},Q=()=>{s&&c.size>0&&h&&(s(Array.from(c),{pipeline_status_id:h}),u(new Set),f(!1),p(""))},V=m.useMemo(()=>new Map(t.map((D,J)=>[D.id,J])),[t]),T=D=>t.find(J=>J.id===D.pipeline_status_id),M=m.useMemo(()=>{let D=e;if(g.trim()){const A=g.toLowerCase(),z=Y=>Y?Y.toLowerCase().includes(A):!1;D=D.filter(Y=>{var L;return z(Y.client_name)||z(Y.property_address)||z(Y.city)||z(Y.state)||z(Y.client_email)||z(Y.client_phone)||z((L=Y.lead_sources)==null?void 0:L.name)})}const J=A=>{if(!A.stage_entered_at)return null;const z=new Date(A.stage_entered_at).getTime();return Number.isNaN(z)?null:Date.now()-z},U=(A,z)=>{var L;const Y=_e=>_e?_e.toLowerCase():null;switch(z){case"pipelineOrder":return V.get(A.pipeline_status_id||"")??9999;case"client":return Y(A.client_name);case"clientEmail":return Y(A.client_email);case"clientPhone":return Y(A.client_phone);case"property":return Y(A.property_address);case"city":return Y(A.city);case"state":return Y(A.state);case"zip":return Y(A.zip);case"dealType":return Y(A.deal_type);case"pipelineStatus":return V.get(A.pipeline_status_id||"")??9999;case"status":return Y(A.status);case"leadSource":return Y(((L=A.lead_sources)==null?void 0:L.name)||A.lead_source_name);case"expectedPrice":return A.expected_sale_price??null;case"actualPrice":return A.actual_sale_price??null;case"netCommission":return n(A);case"grossCommissionRate":return A.gross_commission_rate??null;case"brokerageSplitRate":return A.brokerage_split_rate??null;case"referralOutRate":return A.referral_out_rate??null;case"referralInRate":return A.referral_in_rate??null;case"transactionFee":return A.transaction_fee??null;case"daysInStage":return J(A);case"stageEnteredAt":return A.stage_entered_at?new Date(A.stage_entered_at).getTime():null;case"closeDate":return A.close_date?new Date(A.close_date).getTime():null;case"closedAt":return A.closed_at?new Date(A.closed_at).getTime():null;case"nextTaskDueDate":return A.next_task_due_date?new Date(A.next_task_due_date).getTime():null;case"nextTaskDescription":return Y(A.next_task_description);case"createdAt":return A.created_at?new Date(A.created_at).getTime():null;case"updatedAt":return A.updated_at?new Date(A.updated_at).getTime():null;default:return Y(A[z])}},G=(A,z)=>A==null?z==null?0:1:z==null?-1:typeof A=="number"&&typeof z=="number"?A-z:String(A).localeCompare(String(z));return[...D].sort((A,z)=>{const Y=_.column,L=U(A,Y),_e=U(z,Y),ge=G(L,_e);if(ge!==0)return ge*(_.direction==="asc"?1:-1);const Oe=new Date(z.created_at).getTime()-new Date(A.created_at).getTime();return _.direction==="asc"?Oe:-Oe})},[e,g,_,V,n]),ae=_.column==="pipelineOrder"?"pipelineStatus":_.column,Z=D=>{const J=D==="pipelineStatus"?"pipelineOrder":D;j(U=>U.column===J?{column:J,direction:U.direction==="asc"?"desc":"asc"}:{column:J,direction:"asc"})},ve=D=>ae===D||_.column==="pipelineOrder"&&D==="pipelineStatus"?l.jsx("span",{className:"text-[11px] font-semibold text-gray-500",children:_.direction==="asc"?"":""}):l.jsx(v3,{className:"w-3 h-3 text-gray-300"});return l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(x0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:g,onChange:D=>y(D.target.value),placeholder:"Search by client, property, city, or lead source...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>b(D=>!D),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition whitespace-nowrap",children:[l.jsx(kC,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Columns"}),l.jsx("span",{className:"sm:hidden",children:"Cols"})]}),l.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-[rgb(0,122,255)] hover:bg-[rgb(0,110,230)] text-white rounded-lg transition-colors whitespace-nowrap",children:[l.jsx(ov,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Import Deals"}),l.jsx("span",{className:"sm:hidden",children:"Import"})]})]})]}),w&&l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Visible Columns (",S.length," of ",wo.length,")"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Choose which deal fields appear in the table."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:E,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Select All"}),l.jsx("button",{onClick:P,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Reset Defaults"}),l.jsx("button",{onClick:()=>b(!1),className:"px-3 py-1.5 text-xs font-medium text-blue-600",children:"Done"})]})]}),l.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:wo.map(D=>l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 bg-white border border-gray-200 rounded-lg px-3 py-2",children:[l.jsx("input",{type:"checkbox",checked:S.includes(D.id),onChange:()=>k(D.id),className:"text-blue-600 rounded"}),l.jsx("span",{children:D.label})]},D.id))})]})]}),c.size>0&&l.jsxs("div",{className:"bg-sky-50 border-b border-sky-200 px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm font-medium text-sky-900",children:[c.size," deal",c.size>1?"s":""," selected"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>f(!d),className:"px-3 py-1.5 bg-white border border-sky-300 text-sky-700 rounded-lg hover:bg-sky-50 transition flex items-center gap-2 text-sm",children:[l.jsx(R3,{className:"w-4 h-4"}),"Update Status"]}),l.jsxs("button",{onClick:ee,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center gap-2 text-sm",children:[l.jsx(ys,{className:"w-4 h-4"}),"Delete"]})]})]}),d&&c.size>0&&l.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Update status to:"}),l.jsxs("select",{value:h,onChange:D=>p(D.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"",children:"Select status..."}),t.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]}),l.jsx("button",{onClick:Q,disabled:!h,className:"px-4 py-1.5 bg-sky-600 hover:bg-sky-700 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Apply"}),l.jsx("button",{onClick:()=>{f(!1),p("")},className:"px-4 py-1.5 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:M.length>0&&c.size===M.length,onChange:K,className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),O.map(D=>l.jsx("th",{scope:"col",className:`px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider ${D.headerClassName||""}`,children:l.jsxs("button",{type:"button",onClick:()=>Z(D.id),className:"flex items-center gap-1 text-left uppercase tracking-wider text-[11px]",children:[l.jsx("span",{children:D.label}),ve(D.id)]})},D.id))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:C,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No deals yet. Create your first deal to get started!"})}):M.map(D=>l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",onClick:J=>J.stopPropagation(),children:l.jsx("input",{type:"checkbox",checked:c.has(D.id),onChange:()=>F(D.id),className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),O.map(J=>l.jsx("td",{className:J.cellClassName||"px-4 py-4 text-sm text-gray-900 cursor-pointer",onClick:()=>!J.disableClick&&r(D),children:J.render({deal:D,onDealClick:r,calculateNetCommission:n,getDaysInStage:a,getStatusForDeal:T})},J.id))]},D.id))})]})}),v&&l.jsx(gZ,{onClose:()=>x(!1),onSuccess:()=>{x(!1),o==null||o()}})]})}function xZ({dealId:e}){const{user:t}=pt(),[r,n]=m.useState([]),[a,i]=m.useState(!0),[s,o]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState("");m.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:_,error:j}=await H.from("deal_notes").select("*").eq("deal_id",e).order("created_at",{ascending:!1});if(j)throw j;const S=(_||[]).map(N=>{var k,E;return{...N,user_email:t==null?void 0:t.email,user_name:N.user_id===(t==null?void 0:t.id)?((k=t==null?void 0:t.user_metadata)==null?void 0:k.name)||((E=t==null?void 0:t.email)==null?void 0:E.split("@")[0])||"You":"Team Member"}});n(S)}catch(_){console.error("Error loading notes:",_)}finally{i(!1)}},y=async()=>{if(!(!t||!h.trim())){o(!0);try{if(c){const{error:_}=await H.from("deal_notes").update({content:h,updated_at:new Date().toISOString()}).eq("id",c.id);if(_)throw _}else{const{error:_}=await H.from("deal_notes").insert({deal_id:e,user_id:t.id,content:h});if(_)throw _}p(""),u(null),f(!1),g()}catch(_){console.error("Error saving note:",_)}finally{o(!1)}}},v=async _=>{if(confirm("Are you sure you want to delete this note?"))try{const{error:j}=await H.from("deal_notes").delete().eq("id",_);if(j)throw j;g()}catch(j){console.error("Error deleting note:",j)}},x=_=>{u(_),p(_.content),f(!0)},w=()=>{u(null),p(""),f(!1)},b=_=>{const j=new Date(_),N=new Date().getTime()-j.getTime(),k=Math.floor(N/6e4),E=Math.floor(N/36e5),P=Math.floor(N/864e5);return k<1?"Just now":k<60?`${k}m ago`:E<24?`${E}h ago`:P<7?`${P}d ago`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return a?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(Nt,{className:"w-6 h-6 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(I3,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Notes"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",r.length,")"]})]}),!d&&l.jsxs("button",{onClick:()=>f(!0),className:"hig-btn-secondary text-sm py-2",children:[l.jsx(ji,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Note"})]})]}),d&&l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:[l.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Write a note...",className:"hig-input min-h-[100px] resize-y",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[l.jsx("button",{onClick:w,className:"hig-btn-secondary text-sm py-2",disabled:s,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:s||!h.trim(),className:"hig-btn-primary text-sm py-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[c?"Update":"Add"," Note"]})})]})]}),r.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No notes yet. Add your first note to track important information."}):l.jsx("div",{className:"space-y-3",children:r.map(_=>l.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 hover:shadow-sm transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-gray-900",children:_.user_name}),l.jsx("span",{className:"text-gray-400",children:""}),l.jsx("span",{className:"text-gray-500",children:b(_.created_at)}),_.updated_at!==_.created_at&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-400",children:""}),l.jsx("span",{className:"text-gray-500 text-xs",children:"edited"})]})]})}),_.user_id===(t==null?void 0:t.id)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>x(_),className:"p-1.5 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit note",children:l.jsx(wC,{className:"w-4 h-4",strokeWidth:2})}),l.jsx("button",{onClick:()=>v(_.id),className:"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete note",children:l.jsx(ys,{className:"w-4 h-4",strokeWidth:2})})]})]}),l.jsx("p",{className:"text-[15px] text-gray-700 whitespace-pre-wrap leading-relaxed",children:_.content})]},_.id))})]})}function LD({deal:e,onClose:t,onDelete:r}){const{user:n,roleInfo:a}=pt(),i=(a==null?void 0:a.teamId)||null,[s,o]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState([]),[v,x]=m.useState(""),[w,b]=m.useState(""),[_,j]=m.useState(!1),[S,N]=m.useState(null),[k,E]=m.useState(""),[P,O]=m.useState(""),[C,F]=m.useState({client_name:(e==null?void 0:e.client_name)||"",client_phone:(e==null?void 0:e.client_phone)||"",client_email:(e==null?void 0:e.client_email)||"",property_address:(e==null?void 0:e.property_address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zip:(e==null?void 0:e.zip)||"",deal_type:(e==null?void 0:e.deal_type)||"buyer",lead_source_id:(e==null?void 0:e.lead_source_id)||"",pipeline_status_id:(e==null?void 0:e.pipeline_status_id)||"",expected_sale_price:(e==null?void 0:e.expected_sale_price)||"",actual_sale_price:(e==null?void 0:e.actual_sale_price)||"",gross_commission_rate:(e==null?void 0:e.gross_commission_rate)||.03,brokerage_split_rate:(e==null?void 0:e.brokerage_split_rate)||.2,referral_out_rate:(e==null?void 0:e.referral_out_rate)||"",referral_in_rate:(e==null?void 0:e.referral_in_rate)||"",transaction_fee:(e==null?void 0:e.transaction_fee)||"",close_date:(e==null?void 0:e.close_date)||""});m.useEffect(()=>{K(),ee(),e&&Q()},[e,i,n==null?void 0:n.id]);const K=async()=>{if(!n)return;const{data:B,error:ie}=i?await H.from("lead_sources").select("*").eq("team_id",i).order("name"):{data:null,error:null};if(ie)return;const{data:Se}=B!=null&&B.length?{data:B}:await H.from("lead_sources").select("*").eq("user_id",n.id).order("name");Se&&f(Se)},ee=async()=>{if(!n)return;const{data:B,error:ie}=i?await H.from("pipeline_statuses").select("*").eq("team_id",i).order("sort_order"):{data:null,error:null};if(ie)return;const{data:Se}=B!=null&&B.length?{data:B}:await H.from("pipeline_statuses").select("*").eq("user_id",n.id).order("sort_order");Se&&(p(Se),!e&&Se.length>0&&!C.pipeline_status_id&&F(We=>({...We,pipeline_status_id:Se[0].id})))},Q=async()=>{if(!e||!n)return;const{data:B}=await H.from("tasks").select("*").eq("deal_id",e.id).eq("user_id",n.id);if(B){const ie=B.sort((Se,We)=>!Se.due_date&&!We.due_date?0:Se.due_date?We.due_date?new Date(Se.due_date).getTime()-new Date(We.due_date).getTime():1:-1);y(ie)}},V=B=>{F({...C,lead_source_id:B});const ie=d.find(Se=>Se.id===B);ie&&!e&&F(Se=>({...Se,lead_source_id:B,brokerage_split_rate:ie.brokerage_split_rate}))},T=async B=>{if(B.preventDefault(),!n)return;o(!0);const ie=h.find(We=>We.id===C.pipeline_status_id);if(!C.lead_source_id){alert("Please select a lead source"),o(!1);return}const Se={...C,user_id:n.id,lead_source_id:C.lead_source_id,pipeline_status_id:C.pipeline_status_id||null,status:ie?(ie.slug||ie.name||"new_lead").toLowerCase():"new_lead",expected_sale_price:Number(C.expected_sale_price)||0,actual_sale_price:C.actual_sale_price?Number(C.actual_sale_price):null,referral_out_rate:C.referral_out_rate?Number(C.referral_out_rate):null,referral_in_rate:C.referral_in_rate?Number(C.referral_in_rate):null,transaction_fee:Number(C.transaction_fee)||0,close_date:C.close_date||null};e?await H.from("deals").update(Se).eq("id",e.id):await H.from("deals").insert(Se),o(!1),t()},R=async()=>{!v.trim()||!e||!n||(await H.from("tasks").insert({deal_id:e.id,user_id:n.id,title:v,due_date:w||null,completed:!1}),x(""),b(""),j(!1),Q())},M=async(B,ie)=>{await H.from("tasks").update({completed:!ie}).eq("id",B),Q()},ae=B=>{N(B.id),E(B.title),O(B.due_date||"")},Z=async()=>{!k.trim()||!S||(await H.from("tasks").update({title:k,due_date:P||null}).eq("id",S),N(null),E(""),O(""),Q())},ve=async B=>{await H.from("tasks").delete().eq("id",B),Q()},D=()=>{N(null),E(""),O("")},J=async()=>{e&&(o(!0),await H.from("deals").delete().eq("id",e.id),o(!1),r&&r(),t())},U=()=>{if(!e)return;const B={client_name:C.client_name,client_email:C.client_email,client_phone:C.client_phone,property_address:C.property_address,city:C.city,state:C.state,zip:C.zip,deal_type:C.deal_type,expected_sale_price:C.expected_sale_price,actual_sale_price:C.actual_sale_price},ie=new URLSearchParams({source:"pipelineiq",...Object.entries(B).reduce((Se,[We,Me])=>(Me!=null&&Me!==""&&(Se[We]=String(Me)),Se),{})});window.open(`/contractscribe?${ie.toString()}`,"_blank","noopener,noreferrer")},pe=(Number(C.actual_sale_price)||Number(C.expected_sale_price)||0)*C.gross_commission_rate,A=pe*(1-C.brokerage_split_rate),z=Number(C.referral_out_rate)||0,Y=Number(C.referral_in_rate)||0,L=Number(C.transaction_fee)||0,_e=z?A*(1-z):A,Oe=(Y?_e*(1+Y):_e)-L;return l.jsxs(l.Fragment,{children:[c&&l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",children:l.jsxs("div",{className:"hig-card max-w-md w-full p-6",children:[l.jsx("h3",{className:"hig-text-heading mb-2",children:"Delete Deal"}),l.jsx("p",{className:"hig-text-body text-gray-600 mb-6",children:"Are you sure you want to delete this deal? This action cannot be undone."}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:J,disabled:s,className:"bg-[rgb(255,59,48)] hover:bg-red-600 active:bg-red-700 text-white font-medium px-5 py-2 rounded-lg transition-colors duration-150 disabled:opacity-40 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:s?"Deleting...":"Delete"})]})]})}),l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"hig-card max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200/60 px-6 py-5 flex justify-between items-center backdrop-blur-md bg-white/95",children:[l.jsx("h2",{className:"hig-text-display",children:e?"Edit Deal":"New Deal"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-150",children:l.jsx(xs,{className:"w-5 h-5 text-gray-600",strokeWidth:2})})]}),l.jsxs("form",{onSubmit:T,className:"p-6 space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Client Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Client Name *"}),l.jsx("input",{type:"text",value:C.client_name,onChange:B=>F({...C,client_name:B.target.value}),className:"hig-input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Phone"}),l.jsx("input",{type:"tel",value:C.client_phone,onChange:B=>F({...C,client_phone:B.target.value}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",value:C.client_email,onChange:B=>F({...C,client_email:B.target.value}),className:"hig-input"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Property Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"hig-label",children:"Property Address"}),l.jsx("input",{type:"text",value:C.property_address,onChange:B=>F({...C,property_address:B.target.value}),className:"hig-input",placeholder:"e.g., 123 Main St"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"City"}),l.jsx("input",{type:"text",value:C.city,onChange:B=>F({...C,city:B.target.value}),className:"hig-input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"State"}),l.jsx("input",{type:"text",value:C.state,onChange:B=>F({...C,state:B.target.value}),className:"hig-input",maxLength:2,placeholder:"CA"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"ZIP"}),l.jsx("input",{type:"text",value:C.zip,onChange:B=>F({...C,zip:B.target.value}),className:"hig-input",maxLength:10})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Deal Configuration"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Deal Type *"}),l.jsxs("select",{value:C.deal_type,onChange:B=>F({...C,deal_type:B.target.value}),className:"hig-input",children:[l.jsx("option",{value:"buyer",children:"Buyer"}),l.jsx("option",{value:"seller",children:"Seller"}),l.jsx("option",{value:"buyer_and_seller",children:"Buyer & Seller"}),l.jsx("option",{value:"renter",children:"Renter"}),l.jsx("option",{value:"landlord",children:"Landlord"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Lead Source *"}),l.jsxs("select",{value:C.lead_source_id,onChange:B=>V(B.target.value),className:"hig-input",required:!0,children:[l.jsx("option",{value:"",children:"Select a source"}),d.map(B=>l.jsxs("option",{value:B.id,children:[B.name," (",(B.brokerage_split_rate*100).toFixed(0),"% split)"]},B.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Pipeline Status"}),l.jsxs("select",{value:C.pipeline_status_id,onChange:B=>F({...C,pipeline_status_id:B.target.value}),className:"hig-input",children:[l.jsx("option",{value:"",children:"Select a status"}),h.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Close Date"}),l.jsx("input",{type:"date",value:C.close_date,onChange:B=>F({...C,close_date:B.target.value}),className:"hig-input"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Financial Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Expected Sale Price *"}),l.jsx("input",{type:"number",value:C.expected_sale_price,onChange:B=>F({...C,expected_sale_price:B.target.value}),className:"hig-input",placeholder:"500,000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Actual Sale Price"}),l.jsx("input",{type:"number",value:C.actual_sale_price,onChange:B=>F({...C,actual_sale_price:B.target.value}),className:"hig-input",placeholder:"505,000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Commission Rate (%)"}),l.jsx("input",{type:"number",step:"0.01",value:C.gross_commission_rate*100,onChange:B=>F({...C,gross_commission_rate:parseFloat(B.target.value)/100||0}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Brokerage Split (% to broker)"}),l.jsx("input",{type:"number",step:"0.01",value:C.brokerage_split_rate*100,onChange:B=>F({...C,brokerage_split_rate:parseFloat(B.target.value)/100||0}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Transaction Fee"}),l.jsx("input",{type:"number",value:C.transaction_fee,onChange:B=>F({...C,transaction_fee:B.target.value}),className:"hig-input",placeholder:"500"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200/60",children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Commission Breakdown"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"Gross Commission"}),l.jsxs("span",{className:"hig-text-body font-medium",children:["$",pe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"After Brokerage Split"}),l.jsxs("span",{className:"hig-text-body font-medium",children:["$",A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"Transaction Fee"}),l.jsxs("span",{className:"hig-text-body font-medium text-gray-500",children:["-$",L.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"hig-divider my-3"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-heading",children:"Net to Agent"}),l.jsxs("span",{className:"text-xl font-semibold text-[rgb(52,199,89)]",children:["$",Oe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),e&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mC,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Tasks"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",g.length,")"]})]}),!_&&l.jsxs("button",{type:"button",onClick:()=>j(!0),className:"hig-btn-secondary text-sm py-2",children:[l.jsx(ji,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Task"})]})]}),_&&l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{id:"task-title-input",type:"text",value:v,onChange:B=>x(B.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:B=>{B.key==="Enter"&&(B.preventDefault(),R())}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"date",value:w,onChange:B=>b(B.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),l.jsx("button",{type:"button",onClick:()=>{j(!1),x(""),b("")},className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),l.jsx("button",{type:"button",onClick:R,disabled:!v.trim(),className:"hig-btn-primary text-sm py-2",children:l.jsx("span",{children:"Add Task"})})]})]})}),l.jsx("div",{className:"space-y-2",children:g.map(B=>{const ie=B.due_date&&!B.completed&&new Date(B.due_date)<new Date,Se=B.due_date&&!B.completed&&new Date(B.due_date).toDateString()===new Date().toDateString();return S===B.id?l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",value:k,onChange:We=>E(We.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:We=>{We.key==="Enter"&&(We.preventDefault(),Z())}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"date",value:P,onChange:We=>O(We.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),l.jsx("button",{type:"button",onClick:D,className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),l.jsx("button",{type:"button",onClick:Z,disabled:!k.trim(),className:"hig-btn-primary text-sm py-2",children:"Save"})]})]})},B.id):l.jsx("div",{className:"group flex items-center p-3 bg-white border border-gray-200/60 rounded-xl hover:shadow-sm transition-all",children:l.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[l.jsx("button",{type:"button",onClick:()=>M(B.id,B.completed),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-150 ${B.completed?"bg-[rgb(52,199,89)] border-[rgb(52,199,89)]":"border-gray-300 hover:border-[rgb(52,199,89)]"}`,children:B.completed&&l.jsx(yc,{className:"w-3 h-3 text-white",strokeWidth:2.5})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:B.completed?"line-through text-gray-500 hig-text-body":"text-gray-900 hig-text-body",children:B.title}),B.due_date&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[l.jsx(vc,{className:"w-3.5 h-3.5 text-gray-400",strokeWidth:2}),l.jsxs("span",{className:`hig-text-caption ${ie?"text-[rgb(255,59,48)] font-medium":Se?"text-[rgb(255,149,0)] font-medium":B.completed?"text-gray-400":"text-gray-500"}`,children:[ie?"Overdue: ":Se?"Due today: ":"",new Date(B.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{type:"button",onClick:()=>ae(B),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit task",children:l.jsx(wC,{className:"w-4 h-4 text-gray-600",strokeWidth:2})}),l.jsx("button",{type:"button",onClick:()=>ve(B.id),className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete task",children:l.jsx(ys,{className:"w-4 h-4 text-red-600",strokeWidth:2})})]})]})},B.id)})})]}),e&&l.jsx("div",{className:"pt-8 border-t border-gray-200/60",children:l.jsx(xZ,{dealId:e.id})}),l.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200/60",children:[l.jsx("div",{className:"flex gap-3",children:e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:U,className:"hig-btn-secondary gap-2",children:[l.jsx(vC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Generate Offer"})]}),l.jsxs("button",{type:"button",onClick:()=>u(!0),className:"bg-white hover:bg-red-50 active:bg-red-100 text-[rgb(255,59,48)] font-medium px-5 py-2 rounded-lg border border-red-200 transition-colors duration-150 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:[l.jsx(ys,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Delete"})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,className:"hig-btn-primary",children:s?"Saving...":e?"Update Deal":"Create Deal"})]})]})]})]})})]})}const Ic=[{name:"Snow",value:"#F9FAFB"},{name:"Pearl",value:"#F3F4F6"},{name:"Mist",value:"#E5E7EB"},{name:"Silver Fog",value:"#D1D5DB"},{name:"Ice Blue",value:"#E8F1FF"},{name:"Cloud Blue",value:"#D6E7FF"},{name:"Sky Wash",value:"#C3DBFF"},{name:"Pale Azure",value:"#AECFFF"},{name:"Soft Blue",value:"#98C3FF"},{name:"Bluebell",value:"#87B6F9"},{name:"Foggy Indigo",value:"#AEB8D9"},{name:"Lavender Mist",value:"#F2EDFF"},{name:"Lilac Whisper",value:"#E8E2FF"},{name:"Soft Violet",value:"#D8D0FF"},{name:"Periwinkle Light",value:"#C7C3FF"},{name:"Muted Orchid",value:"#B7B2F2"},{name:"Barely Purple",value:"#DDD6F6"},{name:"Blush Tint",value:"#FFE8F3"},{name:"Pink Dew",value:"#FFD6E8"},{name:"Rosewater",value:"#F9C8DB"},{name:"Petal Pink",value:"#F5B8CD"},{name:"Soft Berry",value:"#E8A7C3"},{name:"Muted Magenta",value:"#D3A6C9"},{name:"Rose Mist",value:"#FFE5E5"},{name:"Pale Coral",value:"#FFD4D4"},{name:"Soft Clay",value:"#F5B8B8"},{name:"Muted Red",value:"#EFA9A9"},{name:"Peach Wash",value:"#FFF1E6"},{name:"Apricot Mist",value:"#FFE3CC"},{name:"Soft Tangerine",value:"#FFD1AE"},{name:"Warm Peach",value:"#F7C39C"},{name:"Muted Orange",value:"#E7B690"},{name:"Sunhaze",value:"#FFF8DD"},{name:"Lemon Tint",value:"#FFF2BB"},{name:"Buttercream",value:"#FFECA1"},{name:"Golden Mist",value:"#FFE38C"},{name:"Muted Amber",value:"#F6D67C"},{name:"Mint Wash",value:"#E6FFF5"},{name:"Soft Mint",value:"#CFF9EA"},{name:"Pale Green",value:"#B7F0D9"},{name:"Seafoam",value:"#A1E8CC"},{name:"Soft Teal",value:"#8EDCC0"},{name:"Muted Green",value:"#7BCDB1"},{name:"Aqua Mist",value:"#E5FAFF"},{name:"Arctic Blue",value:"#CDF2FA"},{name:"Icy Teal",value:"#B5E8F0"},{name:"Soft Cyan",value:"#A1DEEA"},{name:"Muted Teal",value:"#8DCFD9"},{name:"Sandstone",value:"#F7EFE6"},{name:"Driftwood",value:"#EADFD2"},{name:"Clay Neutral",value:"#DDCEBF"},{name:"Soft Taupe",value:"#CFC1B2"}],Ys=Ic[0].value;function xS({value:e,onChange:t}){const r=e?Rh(e):Ys,n=r.toLowerCase(),a=Ic.find(i=>i.value.toLowerCase()===n);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 shadow-inner",children:[l.jsxs("div",{className:"relative flex h-12 w-12 items-center justify-center rounded-2xl border border-white/40 shadow",children:[l.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{backgroundColor:r}}),l.jsx(yc,{className:"relative h-5 w-5 text-white drop-shadow",strokeWidth:2.5})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Selected color"}),l.jsx("span",{className:"text-xs text-gray-500",children:a?"From palette":"Custom"})]})]}),l.jsx("div",{className:"grid grid-cols-6 gap-3 sm:grid-cols-8",children:Ic.map(i=>{const s=i.value.toLowerCase()===n;return l.jsxs("button",{type:"button",onClick:()=>t(i.value),className:`relative h-10 w-10 rounded-2xl border transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--app-accent)]/40 ${s?"border-[var(--app-accent)] shadow-[0_8px_18px_rgba(15,23,42,0.15)]":"border-white/70 shadow-inner hover:border-gray-300"}`,style:{backgroundColor:i.value},"aria-label":`${i.name} color`,children:[s&&l.jsx(yc,{className:"absolute inset-0 m-auto h-4 w-4 text-white drop-shadow",strokeWidth:2.5}),l.jsx("span",{className:"sr-only",children:i.name})]},i.value)})})]})}const bZ=e=>Ic[e%Ic.length].value,wZ={"new lead":"#E8F1FF",contacted:"#AECFFF","warm lead":"#FFF1E6","hot lead":"#FFD1AE","showing scheduled":"#98C3FF","offer submitted":"#87B6F9",inspection:"#B7F0D9",appraisal:"#C3DBFF","under contract":"#8EDCC0",financing:"#FFE38C","title review":"#8DCFD9","clear to close":"#CFF9EA",closed:"#E6FFF5",lost:"#FFE5E5",lead:"#C3DBFF","in progress":"#98C3FF",pending:"#8EDCC0","advanced transaction pipeline":"#E5FAFF"},Jm=(e,t)=>{const r=wZ[e.trim().toLowerCase()];return r||bZ(t)},_Z=e=>`pipeline-status-color-overrides:${e}`;function $D(){const{user:e,roleInfo:t}=pt(),[r,n]=m.useState([]),[a,i]=m.useState(!0),[s,o]=m.useState(null),[c,u]=m.useState({}),d=m.useRef({}),f=(t==null?void 0:t.teamId)||null,h=e?_Z(e.id):null,p=m.useCallback(()=>{if(typeof window>"u"||!h)return{};try{const E=window.localStorage.getItem(h);if(!E)return{};const P=JSON.parse(E);if(P&&typeof P=="object")return P}catch(E){console.warn("Failed to read status color overrides",E)}return{}},[h]),g=m.useCallback(E=>{typeof window>"u"||!h||window.localStorage.setItem(h,JSON.stringify(E))},[h]),y=m.useCallback((E,P)=>{var C;const O=(C=E.color)==null?void 0:C.trim();return O||Jm(E.name,P)},[]),v=m.useCallback(async()=>{if(!e){n([]),i(!1);return}i(!0);try{const{data:E,error:P}=f?await H.from("pipeline_statuses").select("*").eq("team_id",f).order("sort_order",{ascending:!0}):{data:null,error:null};if(P)throw P;const O=!!(E!=null&&E.length),{data:C,error:F}=O?{data:null,error:null}:await H.from("pipeline_statuses").select("*").eq("user_id",e.id).order("sort_order",{ascending:!0});if(F)throw F;const K=O?E:C;if(!K)throw new Error("Failed to load pipeline statuses");const ee=K||[],Q=[],V=p(),T={},R=ee.map((M,ae)=>{const Z=y(M,ae);T[M.id]=Z;const ve=V[M.id];return!M.color&&Z&&Q.push({id:M.id,color:Z}),{...M,color:ve||Z}});Q.length>0&&await Promise.all(Q.map(M=>H.from("pipeline_statuses").update({color:M.color}).eq("id",M.id))),d.current=T,u(V),n(R),o(null)}catch(E){console.error("Error loading pipeline statuses:",E),o(E instanceof Error?E.message:"Failed to load statuses")}finally{i(!1)}},[e,f,p,y]);return m.useEffect(()=>{v()},[v]),{statuses:r,loading:a,error:s,colorOverrides:c,addStatus:async(E,P)=>{if(!e)return;const O=Math.max(...r.map(Q=>Q.sort_order),0),C=E.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),F=(P==null?void 0:P.trim())||Jm(E,O),{data:K,error:ee}=await H.from("pipeline_statuses").insert({user_id:e.id,team_id:f,name:E,slug:C,sort_order:O+1,color:F,is_default:!1}).select().single();if(ee)throw ee;return await v(),K},updateStatus:async(E,P)=>{const{error:O}=await H.from("pipeline_statuses").update(P).eq("id",E);if(O)throw O;await v()},deleteStatus:async E=>{const{data:P}=await H.from("deals").select("id",{count:"exact",head:!0}).eq("pipeline_status_id",E);if(P&&P.count>0)throw new Error("Cannot delete status with active deals. Please reassign deals first.");const{error:O}=await H.from("pipeline_statuses").delete().eq("id",E);if(O)throw O;await v()},reorderStatuses:async E=>{const P=E.map((O,C)=>({id:O.id,sort_order:C+1}));for(const O of P)await H.from("pipeline_statuses").update({sort_order:O.sort_order}).eq("id",O.id);await v()},applyTemplate:async E=>{if(!e)return;const{error:P}=await H.rpc("apply_pipeline_template",{p_user_id:e.id,p_template_name:E});if(P)throw P;f&&await H.from("pipeline_statuses").update({team_id:f}).eq("user_id",e.id).is("team_id",null);const{error:O}=await H.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});O&&console.error("Error migrating deals:",O),await v()},createCustomWorkflow:async E=>{if(!e)return;const P=E.map(Q=>Q.trim()).filter(Q=>Q.length>0);if(P.length===0)throw new Error("Please provide at least one stage.");const O=f?{team_id:f}:{user_id:e.id},{error:C}=await H.from("pipeline_statuses").delete().match(O);if(C)throw C;const F=P.map((Q,V)=>({user_id:e.id,team_id:f,name:Q,slug:Q.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),sort_order:V+1,color:Jm(Q,V),is_default:V===0})),{error:K}=await H.from("pipeline_statuses").insert(F);if(K)throw K;const{error:ee}=await H.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});ee&&console.error("Error migrating deals after custom workflow:",ee),await v()},reload:v,setPersonalStatusColor:(E,P)=>{if(!h)return;const C={...p(),[E]:P};g(C),u(C),n(F=>F.map(K=>K.id===E?{...K,color:P}:K))},clearPersonalStatusColor:E=>{if(!h)return;const P=p();if(!(E in P))return;const{[E]:O,...C}=P;g(C),u(C),n(F=>F.map(K=>{if(K.id!==E)return K;const ee=d.current[E]||y(K,(K.sort_order||1)-1);return{...K,color:ee}}))}}}function jZ(){const[e,t]=m.useState([]),[r,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{const{data:i,error:s}=await H.from("pipeline_templates").select("*").eq("is_system",!0).order("name");!s&&i&&t(i),n(!1)})()},[]),{templates:e,loading:r}}const SZ={"Basic Pipeline":{description:"Simple 6-stage pipeline ideal for new agents",stages:["New Lead","Contacted","Showing Scheduled","Offer Submitted","Under Contract","Closed"]},"Advanced Transaction Pipeline":{description:"Comprehensive 13-stage pipeline covering all transaction phases",stages:["New Lead","Warm Lead","Hot Lead","Showing Scheduled","Offer Submitted","Inspection","Appraisal","Under Contract","Financing","Title Review","Clear to Close","Closed","Lost"]},Minimalist:{description:"Streamlined 4-stage pipeline for quick deal tracking",stages:["Lead","In Progress","Pending","Closed"]}};function FD({onClose:e,onSelect:t,onCreateCustomWorkflow:r,title:n="Choose Your Pipeline Workflow"}){const{templates:a}=jZ(),[i,s]=m.useState(null),[o,c]=m.useState(!1),[u,d]=m.useState(["New Lead","Contacted","Closed"]),[f,h]=m.useState(""),[p,g]=m.useState(!1),[y,v]=m.useState(null),x=async()=>{if(o){if(!r){v("Custom workflows are not supported here.");return}if(u.length<2){v("Add at least two stages to create a custom workflow.");return}g(!0),v(null);try{await r(u),e()}catch(w){console.error("Error creating custom workflow:",w),v(w instanceof Error?w.message:"Failed to create workflow")}finally{g(!1)}return}if(i){g(!0),v(null);try{await t(i),e()}catch(w){console.error("Error applying template:",w),v(w instanceof Error?w.message:"Failed to apply template")}finally{g(!1)}}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"app-surface w-full max-w-4xl max-h-[92vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Pipeline"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:n}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Start from a proven template or create a custom workflow tailored to your team."})]}),l.jsx("button",{onClick:e,className:"rounded-full border border-gray-200/80 bg-white p-2 text-gray-500 hover:text-gray-900",children:l.jsx(xs,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-5 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recommended workflows"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Choose the pipeline structure that mirrors your current process."})]}),r&&l.jsxs("button",{onClick:()=>c(w=>!w),className:"inline-flex items-center gap-2 rounded-2xl border border-white/60 bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30 hover:text-[var(--app-accent)]",children:[l.jsx(ji,{className:"h-4 w-4"}),"Custom workflow"]})]}),o?l.jsxs("div",{className:"rounded-2xl border border-[var(--app-border)] bg-white/90 p-5 shadow-inner",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Custom workflow"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Define the stages that reflect your teams unique process. Drag to reorder later in settings."}),l.jsxs("div",{className:"mt-4 space-y-3",children:[u.map((w,b)=>l.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[l.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:["Stage ",b+1]}),l.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:w}),l.jsx("button",{onClick:()=>d(_=>_.filter((j,S)=>S!==b)),className:"text-gray-400 hover:text-red-500",type:"button",children:l.jsx(ys,{className:"h-4 w-4"})})]},w)),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:f,onChange:w=>h(w.target.value),placeholder:"Add a stage...",className:"hig-input flex-1 text-sm"}),l.jsx("button",{onClick:()=>{f.trim()&&(d(w=>[...w,f.trim()]),h(""))},className:"hig-btn-primary",type:"button",children:"Add"})]})]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.filter(w=>w.name!=="Buyer/Seller Split Pipeline").map(w=>{const b=SZ[w.name],_=i===w.name;return l.jsxs("button",{onClick:()=>s(w.name),className:`rounded-2xl border px-5 py-4 text-left transition ${_?"border-[var(--app-accent)]/40 bg-[var(--app-surface-muted)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.08)]":"border-white/70 bg-white hover:border-[var(--app-accent)]/30"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:w.name}),l.jsx("p",{className:"text-sm text-gray-600",children:(b==null?void 0:b.description)||w.description})]}),_&&l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:l.jsx(yc,{className:"h-4 w-4"})})]}),b&&l.jsxs("div",{className:"mt-3 space-y-1 text-xs text-gray-500",children:[l.jsxs("p",{className:"font-semibold",children:["Stages (",b.stages.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.stages.map((j,S)=>l.jsx("span",{className:"rounded-full border border-gray-200/70 px-2 py-0.5 text-[11px] text-gray-600",children:j},S))})]})]},w.id)})}),y&&l.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:y})]}),l.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/60 px-6 py-4",children:[l.jsx("button",{onClick:e,disabled:p,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Cancel"}),l.jsx("button",{onClick:x,disabled:o&&u.length<2||!o&&!i||p,className:"hig-btn-primary min-w-[140px] justify-center",children:p?"Applying":o?"Create Workflow":"Apply Template"})]})]})})}const kZ="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",NZ="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-3 py-1.5 text-sm font-medium text-gray-600 transition",bS="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",CZ=["buyer","seller","buyer_and_seller","renter","landlord"],wS={buyer:{label:"Buyer",accentClass:"bg-blue-50 text-blue-700 border-blue-200",matches:["buyer","buyer_and_seller"]},seller:{label:"Seller",accentClass:"bg-emerald-50 text-emerald-700 border-emerald-200",matches:["seller","buyer_and_seller"]},buyer_and_seller:{label:"Buyer & Seller",accentClass:"bg-purple-50 text-purple-700 border-purple-200",matches:["buyer_and_seller"]},renter:{label:"Renter",accentClass:"bg-orange-50 text-orange-700 border-orange-200",matches:["renter"]},landlord:{label:"Landlord",accentClass:"bg-teal-50 text-teal-700 border-teal-200",matches:["landlord"]}};function EZ(){const{user:e,roleInfo:t}=pt(),{statuses:r,loading:n,applyTemplate:a,createCustomWorkflow:i}=$D(),[s,o]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,p]=m.useState(!1),[g,y]=m.useState(null),[v,x]=m.useState(!1),[w,b]=m.useState("kanban"),[_,j]=m.useState("all"),[S,N]=r2(),k=S.get("newDeal"),E=m.useMemo(()=>{const U=new Map;return r.forEach(G=>{U.set(G.id,G)}),s.forEach(G=>{G.pipeline_statuses&&!U.has(G.pipeline_statuses.id)&&U.set(G.pipeline_statuses.id,G.pipeline_statuses)}),Array.from(U.values()).sort((G,pe)=>{const A=G.sort_order??999,z=pe.sort_order??999;return A===z?G.name.localeCompare(pe.name):A-z})},[r,s]),P=Ch(Nh(Qo,{activationConstraint:{distance:5}}));m.useEffect(()=>{O()},[e,t]),m.useEffect(()=>{if(k){y(null),p(!0);const U=new URLSearchParams(S);U.delete("newDeal"),N(U,{replace:!0})}},[k,S,N]),m.useEffect(()=>{!n&&E.length===0&&x(!0)},[n,E]);const O=async()=>{if(!(!e||!t)){u(!0);try{const U=async()=>{if(!t.teamId)return[];const{data:Y,error:L}=await H.from("user_teams").select("user_id").eq("team_id",t.teamId);return L?(console.error("Error loading team members",L),[]):(Y||[]).map(_e=>_e.user_id)};let G=[];switch(t.globalRole){case"admin":{G=await Oo(t);break}case"sales_manager":{const Y=await U();G=Y.length?Y:await Oo(t);break}case"team_lead":{const Y=await U();G=Y.length?Y:[t.userId];break}default:G=[t.userId]}let pe=H.from("deals").select(`
          *,
          lead_sources (*),
          pipeline_statuses (*)
        `).order("created_at",{ascending:!1});G.length===1?pe=pe.eq("user_id",G[0]):G.length>1&&(pe=pe.in("user_id",G));const{data:A,error:z}=await pe;z?(console.error("Error loading deals",z),o([])):o(A||[])}catch(U){console.error("Error resolving visible users",U),o([])}finally{u(!1)}}},C=U=>{const G=s.find(pe=>pe.id===U.active.id);f(G||null)},F=async U=>{const{active:G,over:pe}=U;if(f(null),!pe)return;const A=G.id,z=s.find(ie=>ie.id===A);if(!z)return;const Y=s.find(ie=>ie.id===pe.id),L=Y?Y.pipeline_status_id:pe.id;if(!L)return;if(L===z.pipeline_status_id){Y&&Y.id!==z.id&&Y.deal_type===z.deal_type&&o(ie=>{const Se=ie.findIndex(Me=>Me.id===z.id),We=ie.findIndex(Me=>Me.id===Y.id);return Se===-1||We===-1?ie:Ah(ie,Se,We)});return}const _e=E.find(ie=>ie.id===L);if(!_e)return;const ge={pipeline_status_id:L,status:(_e.slug||_e.name||"").toLowerCase(),stage_entered_at:new Date().toISOString()};(typeof _e.slug=="string"&&_e.slug.length>0?_e.slug.toLowerCase():(_e.name||"").toLowerCase()).includes("closed")&&(ge.closed_at=new Date().toISOString());const{error:B}=await H.from("deals").update(ge).eq("id",A);B||O()},K=U=>{y(U),p(!0)},ee=()=>{p(!1),y(null),O()},Q=_==="all"?s:s.filter(U=>wS[_].matches.includes(U.deal_type)),V=U=>Q.filter(G=>G.pipeline_status_id===U),T=U=>{const A=(U.actual_sale_price||U.expected_sale_price)*U.gross_commission_rate*(1-U.brokerage_split_rate);return(U.referral_out_rate?A*(1-U.referral_out_rate):A)-U.transaction_fee},R=U=>{const G=new Date(U),A=new Date().getTime()-G.getTime();return Math.floor(A/(1e3*60*60*24))},M=async U=>{if(!confirm(`Are you sure you want to delete ${U.length} deal${U.length>1?"s":""}?`))return;const{error:G}=await H.from("deals").delete().in("id",U);G||O()},ae=async(U,G)=>{const pe={};if(G.pipeline_status_id){pe.pipeline_status_id=G.pipeline_status_id,pe.stage_entered_at=new Date().toISOString();const z=E.find(Y=>Y.id===G.pipeline_status_id);(z==null?void 0:z.name.toLowerCase())==="closed"?(pe.status="closed",pe.closed_at=new Date().toISOString()):(z==null?void 0:z.name.toLowerCase())==="dead"&&(pe.status="dead")}const{error:A}=await H.from("deals").update(pe).in("id",U);A||O()},Z=U=>{const G=U.filter(L=>L.deal_type==="buyer"||L.deal_type==="buyer_and_seller").length,pe=U.filter(L=>L.deal_type==="seller"||L.deal_type==="buyer_and_seller").length,A=U.filter(L=>L.deal_type==="renter").length,z=U.filter(L=>L.deal_type==="landlord").length,Y=U.reduce((L,_e)=>L+T(_e),0);return{buyers:G,sellers:pe,renters:A,landlords:z,totalCommission:Y}},ve=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(U),D=Z(Q),J=[{label:"Buyers",value:D.buyers,display:D.buyers.toString()},{label:"Sellers",value:D.sellers,display:D.sellers.toString()},{label:"Renters",value:D.renters,display:D.renters.toString()},{label:"Landlords",value:D.landlords,display:D.landlords.toString()},{label:"Net Commission",value:D.totalCommission,display:ve(D.totalCommission)}].filter(U=>U.value>0);return c||n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6 min-h-full",children:[l.jsxs("div",{className:`${kZ} p-6 space-y-4`,children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Pipeline"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Active deals workspace"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Monitor every opportunity, shift deals between stages, and launch new work without leaving this view."})]}),l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsxs("div",{className:"inline-flex items-center rounded-full border border-gray-200/80 bg-white/80 p-1 shadow-inner",children:[l.jsxs("button",{onClick:()=>b("kanban"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${w==="kanban"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(C3,{className:"w-4 h-4"}),l.jsx("span",{children:"Kanban"})]}),l.jsxs("button",{onClick:()=>b("table"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${w==="table"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(bC,{className:"w-4 h-4"}),l.jsx("span",{children:"Table"})]})]}),l.jsxs("button",{onClick:()=>{y(null),p(!0)},className:"inline-flex items-center justify-center gap-2 rounded-2xl border border-white/50 bg-[var(--app-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_8px_16px_rgba(15,23,42,0.12)] transition hover:bg-[var(--app-accent-dark,#0052cc)]",children:[l.jsx(ji,{className:"w-4 h-4"}),l.jsx("span",{children:"New Deal"})]})]})]}),J.length>0&&l.jsx("div",{className:"flex flex-wrap gap-3",children:J.map(U=>l.jsxs("div",{className:`${NZ} gap-2`,children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:U.label}),l.jsx("span",{className:"font-semibold text-gray-900",children:U.display})]},U.label))}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Deal types"}),_!=="all"&&l.jsx("button",{onClick:()=>j("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>j("all"),className:`${bS} ${_==="all"?"bg-gray-900 text-white border-gray-900 shadow-sm":"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:"All deals"}),CZ.map(U=>{const G=wS[U],pe=_===U;return l.jsx("button",{onClick:()=>j(U),className:`${bS} ${pe?`${G.accentClass} shadow-sm ring-1 ring-black/5`:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:G.label},U)})]})]})]}),E.length===0?l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(wh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configure Your Pipeline"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Choose a template to get started with your pipeline workflow"}),l.jsx("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Choose Pipeline Template"})]})}):w==="kanban"?l.jsxs(Oh,{sensors:P,collisionDetection:x$,onDragStart:C,onDragEnd:F,children:[l.jsx("div",{className:"pb-2 overflow-x-auto",children:l.jsx("div",{className:"flex gap-3 sm:gap-4 pb-4 px-2 sm:px-6 min-w-max",children:E.map(U=>l.jsx(iZ,{status:U.id,label:U.name,color:U.color,deals:V(U.id),onDealClick:K,calculateNetCommission:T,getDaysInStage:R},U.id))})}),l.jsx(ZC,{children:d?l.jsx(MD,{deal:d,netCommission:T(d),daysInStage:R(d.stage_entered_at),onClick:()=>{},isDragging:!0}):null})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsx(yZ,{deals:Q,statuses:E,onDealClick:K,calculateNetCommission:T,getDaysInStage:R,onBulkDelete:M,onBulkEdit:ae,onImportSuccess:O})}),h&&l.jsx(LD,{deal:g,onClose:ee,onDelete:ee}),v&&l.jsx(FD,{onClose:()=>x(!1),onSelect:a,onCreateCustomWorkflow:i})]})}const PZ=["under_contract","pending","closed"],sd={buyer:"Buyer",seller:"Seller",buyer_and_seller:"Buyer & Seller",renter:"Renter",landlord:"Landlord"};function OZ(){const{user:e,roleInfo:t}=pt(),[r,n]=m.useState(new Date().getFullYear()),[a,i]=m.useState({closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0}),[s,o]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState({count:0,gci:0}),[h,p]=m.useState(0),[g,y]=m.useState(!0),[v,x]=m.useState(!1),[w,b]=m.useState([]),[_,j]=m.useState([]),[S,N]=m.useState([]),[k,E]=m.useState([]),[P,O]=m.useState([]),[C,F]=m.useState([]),[K,ee]=m.useState([]),[Q,V]=m.useState([]),T=m.useMemo(()=>_.length?[..._].sort().join("|"):"",[_]),R=m.useMemo(()=>C.length?[...C].sort().join("|"):"",[C]),M=m.useMemo(()=>K.length?[...K].sort().join("|"):"",[K]),ae=m.useMemo(()=>Q.length?[...Q].sort().join("|"):"",[Q]),Z=!!e&&((t==null?void 0:t.globalRole)==="team_lead"||(t==null?void 0:t.teamRole)==="team_lead"),ve=_.length>0&&_.length===w.length,D=m.useMemo(()=>{if(!_.length)return"No agents selected";if(ve)return"All agents";if(_.length===1){const W=w.find(de=>de.id===_[0]);return(W==null?void 0:W.label)||"Agent"}return`${_.length} agents`},[ve,_,w]),J=()=>{w.length&&j(w.map(W=>W.id))},U=()=>{e&&j([e.id])},G=W=>{const de=Array.from(W.target.selectedOptions).map(Ae=>Ae.value);de.length!==0&&j(de)},pe=W=>{const de=Array.from(W.target.selectedOptions).map(Ae=>Ae.value);ee(de)},A=W=>{const de=Array.from(W.target.selectedOptions).map(Ae=>Ae.value);F(de)},z=W=>{const de=Array.from(W.target.selectedOptions).map(Ae=>Ae.value);V(de)};m.useEffect(()=>{P.length&&V(W=>W.filter(de=>P.includes(de)))},[P]);const Y=(W,de)=>de.length?de.length===1?W.eq("user_id",de[0]):W.in("user_id",de):W,L=(W,de)=>{if(W=Y(W,de),C.length&&(W=W.in("lead_source_id",C)),K.length){const Ae=K.filter(Boolean);Ae.length&&(W=W.in("pipeline_status_id",Ae))}return Q.length&&(W=W.in("deal_type",Q)),W},_e=t&&t.globalRole!=="agent"||w.length>1,ge=async(W,de)=>{if(!W.length)return;const Ae=new Date(de,0,1).toISOString(),He=new Date(de,11,31,23,59,59).toISOString();let Te=H.from("deals").select(`
        id,
        deal_type,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, sort_order)
      `).gte("created_at",Ae).lte("created_at",He);Te=Y(Te,W);const{data:tt,error:Jt}=await Te;if(Jt){console.error("Unable to load analytics filter context",Jt);return}const ir=new Map,Br=new Map,fa=new Set;(tt||[]).forEach(je=>{var Ee,ke;(Ee=je.lead_sources)!=null&&Ee.id&&ir.set(je.lead_sources.id,{id:je.lead_sources.id,name:je.lead_sources.name||"Unknown"}),(ke=je.pipeline_statuses)!=null&&ke.id&&Br.set(je.pipeline_statuses.id,{id:je.pipeline_statuses.id,label:je.pipeline_statuses.name,sortOrder:je.pipeline_statuses.sort_order}),je.deal_type&&fa.add(je.deal_type)}),N(Array.from(ir.values()).sort((je,Ee)=>je.name.localeCompare(Ee.name))),E(Array.from(Br.values()).sort((je,Ee)=>{const ke=je.sortOrder??999,Ie=Ee.sortOrder??999;return ke===Ie?je.label.localeCompare(Ee.label):ke-Ie}));const qe=Array.from(fa).sort((je,Ee)=>{const ke=sd[je]??je,Ie=sd[Ee]??Ee;return ke.localeCompare(Ie)});O(qe.length?qe:Object.keys(sd))},Oe=W=>{if(!W)return null;const de=W.trim();if(!de)return null;const Ae=de.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(Ae){const tt=Number(Ae[1]),Jt=Number(Ae[2])-1,ir=Number(Ae[3]);if(Number.isNaN(tt)||Number.isNaN(Jt)||Number.isNaN(ir)||Jt<0||Jt>11||ir<1||ir>31)return null;const Br=new Date(Date.UTC(tt,Jt,ir));return{year:tt,month:Jt,date:Br}}const He=de.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),Te=new Date(He);return Number.isNaN(Te.getTime())?null:{year:Te.getUTCFullYear(),month:Te.getUTCMonth(),date:Te}};m.useEffect(()=>{if(!e)return;(async()=>{var fa;const de={id:e.id,label:((fa=e.user_metadata)==null?void 0:fa.name)||e.email||"You",email:e.email||""},Ae=async()=>{if(!(t!=null&&t.teamId))return[];const{data:qe,error:je}=await H.from("user_teams").select("user_id").eq("team_id",t.teamId);return je?(console.error("Unable to load team members",je),[]):(qe||[]).map(Ee=>Ee.user_id)},He=async()=>{if(!t)return[e.id];switch(t.globalRole){case"admin":return await Oo(t);case"sales_manager":{const qe=await Ae();return qe.length?qe:await Oo(t)}case"team_lead":{const qe=await Ae();return qe.length?qe:[t.userId]}default:return[t.userId]}};if(!t||t.globalRole==="agent"){b([de]),j([e.id]);return}const Te=await He();let tt=[];const{data:Jt,error:ir}=await H.rpc("get_accessible_agents");if(ir)console.error("Unable to load accessible agents",ir);else if(Jt){const qe=Jt.map(Ee=>({id:Ee.user_id,label:Ee.display_name||Ee.email||"Agent",email:Ee.email||""}));tt=(Te.length?qe.filter(Ee=>Te.includes(Ee.id)):qe).filter((Ee,ke,Ie)=>Ie.findIndex(sn=>sn.id===Ee.id)===ke)}const Br=qe=>{var je;return qe===e.id?((je=e.user_metadata)==null?void 0:je.name)||e.email||"You":`Agent ${qe.slice(0,8)}`};if(!tt.length)tt=Te.map(qe=>({id:qe,label:Br(qe),email:""}));else{const qe=new Set(tt.map(Ee=>Ee.id)),je=Te.filter(Ee=>!qe.has(Ee));je.length&&(tt=[...tt,...je.map(Ee=>({id:Ee,label:Br(Ee),email:""}))])}b(tt),j(Te.length?Te:[e.id])})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]),m.useEffect(()=>{!e||!T||B()},[e==null?void 0:e.id,r,T,R,M,ae]),m.useEffect(()=>{_.length&&ge(_,r)},[_,r]);const B=async()=>{if(!e||!_.length)return;const W=g;W?y(!0):x(!0);const de=new Date(r,0,1).toISOString(),Ae=new Date(r,11,31,23,59,59).toISOString(),{data:He}=await H.from("user_settings").select("annual_gci_goal").eq("user_id",e.id).maybeSingle();He&&p(He.annual_gci_goal||0);let Te=H.from("deals").select(`
        *,
        lead_sources (name),
        pipeline_statuses (id, name, sort_order)
      `).eq("status","closed");Te=L(Te,_);const{data:tt}=await Te;let Jt=H.from("deals").select(`
        *,
        lead_sources (name),
        pipeline_statuses (id, name, sort_order)
      `).gte("created_at",de).lte("created_at",Ae);Jt=L(Jt,_);const{data:ir}=await Jt;if(tt){const je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let Ee=0,ke=0,Ie=0,sn=0,I=0,q=0,te=0;const ye={},me={},be=new Date;be.getMonth(),be.getFullYear(),tt.forEach(re=>{const Pe=Oe(re.close_date)||Oe(re.closed_at);if(!Pe||Pe.year!==r)return;te+=1;const ne=re.actual_sale_price||re.expected_sale_price||0;Ee+=ne;const Ne=ne*(re.gross_commission_rate||0)*(1-(re.brokerage_split_rate||0)),on=(re.referral_out_rate?Ne*(1-re.referral_out_rate):Ne)-(re.transaction_fee||0);ke+=on,re.deal_type==="buyer"&&Ie++,re.deal_type==="seller"&&sn++,re.deal_type==="buyer_and_seller"&&(Ie++,sn++);const hr=Oe(re.created_at);if(hr){const ha=(Pe.date.getTime()-hr.date.getTime())/(1e3*60*60*24);!Number.isNaN(ha)&&ha>=0&&(I+=ha,q++)}const $i=Pe.month,Qn=je[$i];ye[Qn]=(ye[Qn]||0)+on,me[Qn]=(me[Qn]||0)+1});const Fe=q>0?I/q:0;i({closedDeals:te,totalVolume:Ee,totalGCI:ke,avgSalePrice:te>0?Ee/te:0,avgCommission:te>0?ke/te:0,buyerDeals:Ie,sellerDeals:sn,avgDaysToClose:Fe});const ot=je.map(re=>({month:re,gci:ye[re]||0,deals:me[re]||0}));u(ot)}else i(je=>({...je,closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0})),u([]),f({count:0,gci:0});const Br=new Date,fa=Br.getFullYear()===r,qe={count:0,gci:0};if(ir){fa&&ir.forEach(ke=>{const Ie=Oe(ke.close_date)||Oe(ke.closed_at);if(!Ie||!(Ie.year===Br.getFullYear()&&Ie.month===Br.getMonth())||!PZ.includes(ke.status))return;const te=(ke.actual_sale_price||ke.expected_sale_price||0)*(ke.gross_commission_rate||0)*(1-(ke.brokerage_split_rate||0)),me=(ke.referral_out_rate?te*(1-ke.referral_out_rate):te)-(ke.transaction_fee||0);qe.count+=1,qe.gci+=me});const je={};ir.forEach(ke=>{var sn;const Ie=((sn=ke.lead_sources)==null?void 0:sn.name)||"Unknown";if(je[Ie]||(je[Ie]={total:0,closed:0,commission:0}),je[Ie].total++,ke.status==="closed"){je[Ie].closed++;const te=(ke.actual_sale_price||ke.expected_sale_price||0)*(ke.gross_commission_rate||0)*(1-(ke.brokerage_split_rate||0)),me=(ke.referral_out_rate?te*(1-ke.referral_out_rate):te)-(ke.transaction_fee||0);je[Ie].commission+=me}});const Ee=Object.entries(je).map(([ke,Ie])=>({name:ke,totalDeals:Ie.total,closedDeals:Ie.closed,conversionRate:Ie.total>0?Ie.closed/Ie.total*100:0,totalCommission:Ie.commission}));o(Ee.sort((ke,Ie)=>Ie.totalCommission-ke.totalCommission))}else f({count:0,gci:0}),o([]);f(qe),W&&y(!1),x(!1)},ie=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(W),Se=W=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(W),We=h>0?a.totalGCI/h*100:0,Me=new Date,Gn=r===Me.getFullYear(),Yn=new Date(r,0,1),da=new Date(r,11,31,23,59,59),Ts=Gn?Math.max(0,Math.min(Me.getTime(),da.getTime())-Yn.getTime()):da.getTime()-Yn.getTime(),Ds=da.getTime()-Yn.getTime(),Ii=Ds>0?Ts/Ds:1,Nn=Ii>0?a.totalGCI/Ii:a.totalGCI,Lr=Math.max(0,h-a.totalGCI),Xn=Gn&&Me.getFullYear()===r?12-Me.getMonth():0,Ri=h>0&&Xn>0?Lr/Xn:0,{bestMonth:Ct,worstMonth:Cn}=m.useMemo(()=>{const W=c.filter(He=>He.gci>0);if(W.length===0)return{bestMonth:null,worstMonth:null};const de=W.reduce((He,Te)=>Te.gci>He.gci?Te:He),Ae=W.reduce((He,Te)=>Te.gci<He.gci?Te:He);return{bestMonth:de,worstMonth:Ae}},[c]),Ga=m.useMemo(()=>c.filter(W=>W.gci>0),[c]),ar=Ga.length,Mi=ar>0?a.totalGCI/ar:0,Is=Ga.reduce((W,de)=>W+de.deals,0),Ya=ar>0?Is/ar:0,Jn=ar>0?Ga[ar-1]:null,$r=ar>1?Ga[ar-2]:null,Yt=Jn&&$r?Jn.gci-$r.gci:null,Li=m.useMemo(()=>c.reduce((W,de)=>Math.max(W,de.gci),0),[c]),Ke=m.useMemo(()=>c.reduce((W,de)=>Math.max(W,de.deals),0),[c]),Et=Ct?c.find(W=>W.month===Ct.month):null,Pt=Cn?c.find(W=>W.month===Cn.month):null,mt="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",Ot="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-2.5 py-0.5 text-[11px] font-medium text-gray-600",bt="rounded-xl border border-gray-100/80 bg-white px-4 py-3",Xt=s[0]||null,Fr=s.length>1?[...s].filter(W=>W.totalDeals>=3).sort((W,de)=>W.conversionRate-de.conversionRate)[0]:null,an=Array.from({length:5},(W,de)=>new Date().getFullYear()-de).map(W=>({value:W.toString(),label:W.toString()})),kr=`Jan 1  Dec 31, ${r}${Gn?"  In progress":""}`;return g?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:`${mt} p-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Analytics"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Year in Review"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"A cohesive digest of production, pace, and lead-source efficiency for your selected year."})]}),l.jsxs("div",{className:"flex flex-col gap-3 items-start sm:items-end",children:[l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Timeframe"}),l.jsx("p",{className:"text-sm text-gray-500",children:kr})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-gray-500",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--app-accent)] animate-pulse"}),"Updating"]}),l.jsx(RD,{options:an,value:String(r),onChange:W=>n(parseInt(W,10)),className:"self-start sm:self-end w-max"})]})]}),_e&&l.jsxs("section",{className:`${mt} p-5 space-y-4`,children:[l.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),l.jsx("p",{className:"text-sm text-gray-700",children:D})]})}),w.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Agents"}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Select one or more agents to scope results."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:J,className:"rounded-full px-3 py-1.5 text-xs font-semibold bg-gray-900 text-white hover:bg-black transition",children:"All"}),Z&&l.jsx("button",{type:"button",onClick:U,className:"rounded-full px-3 py-1.5 text-xs font-semibold bg-gray-100 text-gray-900 hover:bg-gray-200 transition",children:"Focus on me"})]})]}),l.jsx("select",{multiple:!0,value:_,onChange:G,className:"hig-input min-h-[120px] rounded-2xl border-gray-200 bg-white/90 text-sm",children:w.map(W=>l.jsxs("option",{value:W.id,children:[W.label," ",W.email?` ${W.email}`:""]},W.id))}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Tip: Hold /Ctrl to select multiple agents."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),K.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>ee([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:K,onChange:pe,className:"hig-input min-h-[56px] mt-2",children:k.map(W=>l.jsx("option",{value:W.id,children:W.label},W.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Deal Type"}),Q.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>V([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:Q,onChange:z,className:"hig-input min-h-[56px] mt-2",children:P.map(W=>l.jsx("option",{value:W,children:sd[W]??W.replace(/_/g," ")},W))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),C.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>F([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:C,onChange:A,className:"hig-input min-h-[56px] mt-2",children:S.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))})]})]})]}),l.jsx("section",{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[l.jsxs("div",{className:`${mt} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Pipeline"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Se(a.closedDeals)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Closed deals"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:[a.buyerDeals," buyer  ",a.sellerDeals," seller"]})]}),l.jsxs("div",{className:`${mt} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-green-600 uppercase tracking-wide",children:"Volume"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:ie(a.totalVolume)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total sales volume"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg sale price  ",ie(a.avgSalePrice)]})]}),l.jsxs("div",{className:`${mt} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide",children:"Net GCI"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:ie(a.totalGCI)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total earnings after splits"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg commission  ",ie(a.avgCommission)]})]}),l.jsxs("div",{className:`${mt} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-indigo-600 uppercase tracking-wide",children:"Pace"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Se(d.count)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Deals closing this month"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["GCI this month  ",ie(d.gci)]}),a.avgDaysToClose>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg time to close  ",a.avgDaysToClose.toFixed(0)," days"]})]})]})}),l.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:`${mt} p-6`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Performance"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How each producing month contributes to pace and income."})]}),l.jsx("div",{className:"text-xs text-gray-500",children:ar>0?l.jsxs("span",{className:Ot,children:[ar," active months"]}):l.jsx("span",{className:"text-gray-400",children:"No closed months yet"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:bt,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Top Month"}),Ct?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[Ct.month,l.jsxs("span",{className:Ot,children:[(Et==null?void 0:Et.deals)??0," deals"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:ie(Ct.gci)})]}):l.jsx("p",{className:"text-sm text-gray-500",children:"No producing months yet."})]}),l.jsxs("div",{className:bt,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Slow Month"}),Cn&&Ct&&Cn.month!==Ct.month?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[Cn.month,l.jsxs("span",{className:Ot,children:[(Pt==null?void 0:Pt.deals)??0," deals"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:ie(Cn.gci)})]}):Ct?l.jsx("p",{className:"text-sm text-gray-500",children:"Only one producing month so far."}):l.jsx("p",{className:"text-sm text-gray-500",children:"No data yet."})]}),l.jsxs("div",{className:bt,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Avg Active Month"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ie(Mi||0)}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[ar||0," active month",ar===1?"":"s",l.jsxs("span",{className:Ot,children:[Ya.toFixed(1)," deals/mo"]})]})]}),l.jsxs("div",{className:bt,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Momentum"}),Yt!==null&&Jn?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-semibold ${Yt>=0?"text-emerald-600":"text-rose-600"}`,children:[Yt>=0?"+":"-",ie(Math.abs(Yt))]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Vs. ",($r==null?void 0:$r.month)??"previous month"," GCI"]})]}):l.jsx("p",{className:"text-sm text-gray-500",children:"Log at least two producing months to see momentum."})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Monthly Ledger"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Peak GCI: ",Li?ie(Li):"","  Peak deals:"," ",Ke||""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b border-gray-100",children:[l.jsx("th",{className:"pb-2 pr-4",children:"Month"}),l.jsx("th",{className:"pb-2 pr-4",children:"Deals"}),l.jsx("th",{className:"pb-2 pr-4",children:"GCI"}),l.jsx("th",{className:"pb-2 pr-4",children:"Avg / Deal"}),l.jsx("th",{className:"pb-2 text-right",children:"Share"})]})}),l.jsx("tbody",{children:c.map(W=>{const de=W.deals>0?W.gci/W.deals:0,Ae=a.totalGCI>0?W.gci/a.totalGCI*100:0;return l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"py-2 pr-4 font-medium text-gray-900",children:W.month}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:W.deals}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:ie(W.gci)}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:W.deals>0?ie(de):""}),l.jsx("td",{className:"py-2 text-right text-gray-700",children:a.totalGCI>0?`${Ae.toFixed(1)}%`:""})]},W.month)})})]})})]})]}),l.jsxs("div",{className:`${mt} p-6`,children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Momentum & Pace"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Are you ahead or behind last years GCI at this point on the calendar?"})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-gradient-to-br from-white to-[var(--app-bg-start)] p-5 shadow-inner",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Year-over-year pace"}),l.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ie(a.totalGCI)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current GCI"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Pace needed"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ie(Nn)})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Current"}),l.jsx("span",{children:"Goal"})]}),l.jsx("div",{className:"mt-1 h-3 rounded-full bg-gray-100",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 transition-all",style:{width:`${Math.min(100,a.totalGCI/(h||1)*100)}%`}})}),l.jsxs("div",{className:"mt-1 text-xs font-semibold text-gray-600",children:[We.toFixed(1),"% of goal  year is ",(Ii*100).toFixed(1),"% complete"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-white/90 p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Active pipeline outlook"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Se(d.count)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deals expected to close this month"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ie(d.gci)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Projected monthly GCI"})]})]}),l.jsx("div",{className:"mt-4 rounded-xl bg-[var(--app-surface-muted)] p-4 text-sm text-gray-600",children:Yt!==null&&Jn?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"font-semibold",children:[Yt>=0?"Ahead":"Trailing"," pace"]})," ","by ",ie(Math.abs(Yt))," versus ",($r==null?void 0:$r.month)??"previous",". Keep this cadence to end the year at"," ",l.jsx("span",{className:"font-semibold",children:ie(Nn)}),"."]}):"Once two months close well highlight whether you are accelerating or slowing down."})]})]})]})]}),l.jsxs("section",{className:`${mt} overflow-hidden`,children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Lead Source Performance"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Compare volume, conversion, and commissions by source."})]})}),l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Deals"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Closed"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conv. Rate"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Commission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insight"})]})}),l.jsxs("tbody",{className:"bg-white/70 divide-y divide-gray-100",children:[s.map(W=>{let de="Solid";return W.conversionRate>=25&&W.totalCommission>(a.totalGCI||0)/4?de="Power Source":W.conversionRate<10&&W.totalDeals>=3&&(de="Underperformer"),l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:W.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:W.totalDeals}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:W.closedDeals}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[W.conversionRate.toFixed(1),"%"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:ie(W.totalCommission)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:l.jsx("span",{className:de==="Power Source"?"inline-flex px-2 py-1 rounded-full bg-green-50 text-green-700":de==="Underperformer"?"inline-flex px-2 py-1 rounded-full bg-amber-50 text-amber-700":"inline-flex px-2 py-1 rounded-full bg-gray-50 text-gray-600",children:de})})]},W.name)}),s.length===0&&l.jsx("tr",{children:l.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:["No data available for ",r]})})]})]})]}),l.jsxs("section",{className:`${mt} p-6`,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Focus Areas"}),l.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Practical follow-ups informed by what the data is highlighting this year."}),l.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[h>0&&Lr>0&&l.jsxs("li",{className:"leading-relaxed",children:["You need approximately"," ",l.jsx("span",{className:"font-semibold",children:ie(Lr)})," ","more GCI to hit your annual goal.",Ri>0&&l.jsxs(l.Fragment,{children:[" ","That's about"," ",l.jsxs("span",{className:"font-semibold",children:[ie(Ri)," per month"]})," ","for the rest of the year."]})]}),Xt&&l.jsxs("li",{className:"leading-relaxed",children:[l.jsx("span",{className:"font-semibold",children:Xt.name})," continues to be your most profitable channel with"," ",l.jsx("span",{className:"font-semibold",children:ie(Xt.totalCommission)})," ","in GCI. Consider increasing budget or nurture time here."]}),Fr&&l.jsxs("li",{className:"leading-relaxed",children:[l.jsx("span",{className:"font-semibold",children:Fr.name})," is converting at"," ",Fr.conversionRate.toFixed(1),"%. Revisit the script or pause the spend until it improves."]}),a.avgDaysToClose>0&&l.jsxs("li",{className:"leading-relaxed",children:["Average time from lead to close is"," ",l.jsxs("span",{className:"font-semibold",children:[a.avgDaysToClose.toFixed(0)," days"]}),". Tighten follow-up cadences or pre-qualification steps to reduce the cycle."]}),(!Xt||!Fr)&&a.closedDeals===0&&l.jsx("li",{className:"leading-relaxed",children:"Add a few deals to the pipeline this year to unlock richer insight. Once production starts, this dashboard will reveal which channels earn the most."})]})]})]})}const Qm="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",AZ="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",TZ=[{label:"All tasks",value:"all",accentClass:"bg-gray-900 text-white border-gray-900 shadow-sm"},{label:"Overdue",value:"overdue",accentClass:"bg-red-50 text-red-700 border-red-200 shadow-sm ring-1 ring-red-100"},{label:"Due today",value:"today",accentClass:"bg-amber-50 text-amber-700 border-amber-200 shadow-sm ring-1 ring-amber-100"},{label:"Upcoming",value:"upcoming",accentClass:"bg-sky-50 text-sky-700 border-sky-200 shadow-sm ring-1 ring-sky-100"}];function DZ(){const{user:e}=pt(),[t,r]=m.useState([]),[n,a]=m.useState([]),[i,s]=m.useState("all"),[o,c]=m.useState(""),[u,d]=m.useState(!0),[f,h]=m.useState(null),[p,g]=m.useState(!1),[y,v]=m.useState(null),x=m.useMemo(()=>{const k=new Date;k.setHours(0,0,0,0);let E=0,P=0,O=0,C=0;const F=[];return t.forEach(K=>{if(!K.due_date){C+=1;return}const ee=new Date(K.due_date);ee.setHours(0,0,0,0),ee<k?E+=1:ee.getTime()===k.getTime()?P+=1:O+=1,F.push(K)}),F.sort((K,ee)=>K.due_date?ee.due_date?new Date(K.due_date).getTime()-new Date(ee.due_date).getTime():-1:1),{total:t.length,overdue:E,dueToday:P,upcoming:O,unscheduled:C,nextTask:F[0]||null}},[t]);m.useEffect(()=>{e&&w()},[e]),m.useEffect(()=>{let k=[...t];const E=new Date;if(E.setHours(0,0,0,0),i==="overdue"?k=k.filter(P=>P.due_date&&new Date(P.due_date)<E):i==="today"?k=k.filter(P=>{if(!P.due_date)return!1;const O=new Date(P.due_date);return O.setHours(0,0,0,0),O.getTime()===E.getTime()}):i==="upcoming"&&(k=k.filter(P=>P.due_date&&new Date(P.due_date)>E)),o.trim()){const P=o.toLowerCase();k=k.filter(O=>O.title.toLowerCase().includes(P)||O.deals.client_name.toLowerCase().includes(P)||O.deals.property_address.toLowerCase().includes(P))}a(k)},[i,o,t]);const w=async()=>{if(!e)return;d(!0);const{data:k,error:E}=await H.from("tasks").select("*, deals(*, lead_sources(*))").eq("user_id",e.id).eq("completed",!1).order("due_date",{ascending:!0});!E&&k&&r(k.filter(P=>P.deals).map(P=>P)),d(!1)},b=k=>k?new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",_=k=>{if(!k.due_date)return l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"No due date"});const E=new Date(k.due_date),P=new Date;return P.setHours(0,0,0,0),E<P?l.jsx("span",{className:"text-xs font-semibold text-red-600",children:"Overdue"}):E.getTime()===P.getTime()?l.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Due today"}):l.jsx("span",{className:"text-xs font-semibold text-emerald-600",children:"Upcoming"})},j=k=>{v(k.deals),g(!0)},S=async(k,E)=>{if(E.stopPropagation(),!!e){h(k.id);try{const{error:P}=await H.from("tasks").update({completed:!0}).eq("id",k.id).eq("user_id",e.id);if(P)throw P;r(O=>O.filter(C=>C.id!==k.id)),a(O=>O.filter(C=>C.id!==k.id))}catch(P){console.error("Error completing task",P)}finally{h(null)}}},N=()=>{g(!1),v(null),w()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`${Qm} p-6 space-y-5`,children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Tasks"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Outstanding work"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Track every open commitment across all deals in a single, prioritized list."})]}),l.jsx("div",{className:"w-full md:w-auto",children:l.jsx("input",{value:o,onChange:k=>c(k.target.value),placeholder:"Search by client, task, property...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2.5 pl-4 pr-4 text-sm text-gray-900 shadow-inner placeholder:text-gray-400 focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15 md:min-w-[280px]"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Task status"}),i!=="all"&&l.jsx("button",{onClick:()=>s("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:TZ.map(k=>{const E=i===k.value;return l.jsx("button",{onClick:()=>s(k.value),className:`${AZ} ${E?k.accentClass:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:k.label},k.value)})})]})]}),l.jsx("div",{className:`${Qm} p-0 overflow-hidden`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500",children:[l.jsx("th",{className:"px-5 py-3",children:"Task"}),l.jsx("th",{className:"px-5 py-3",children:"Due"}),l.jsx("th",{className:"px-5 py-3",children:"Deal"}),l.jsx("th",{className:"px-5 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/90",children:u?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-5 py-8 text-center text-gray-500 text-sm",children:"Loading tasks"})}):n.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-5 py-12 text-center text-gray-500 text-sm",children:"Nothing to show here  take a moment to plan your next steps."})}):n.map(k=>{var E;return l.jsxs("tr",{className:"hover:bg-[var(--app-surface-muted)]/60 cursor-pointer",onClick:()=>j(k),children:[l.jsx("td",{className:"px-5 py-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{type:"button",className:"pt-1",onClick:P=>S(k,P),disabled:f===k.id,"aria-label":"Mark task complete",children:f===k.id?l.jsx(Nt,{className:"h-4 w-4 text-emerald-500 animate-spin"}):k.completed?l.jsx(_i,{className:"h-4 w-4 text-emerald-500"}):l.jsx(t_,{className:"h-4 w-4 text-gray-300"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:k.title}),((E=k.deals)==null?void 0:E.next_task_description)&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Related: ",k.deals.next_task_description]})]})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:b(k.due_date)})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_h,{className:"h-3.5 w-3.5 text-gray-400"}),l.jsx("span",{className:"font-medium text-gray-900",children:k.deals.client_name})]}),k.deals.property_address&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(D3,{className:"h-3 w-3"}),l.jsxs("span",{className:"truncate",children:[k.deals.property_address,k.deals.city?`, ${k.deals.city}`:""]})]})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xc,{className:"h-4 w-4 text-gray-400"}),_(k)]})})]},k.id)})})]})})}),l.jsxs("section",{className:`${Qm} p-6`,children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Focus cues"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Where attention is needed"})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-red-100/60 bg-red-50/70 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(hC,{className:"h-4 w-4"}),"Overdue"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-700",children:x.overdue}),l.jsx("p",{className:"text-xs text-red-600",children:"Tasks waiting on you"})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100/70 bg-amber-50/60 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(xc,{className:"h-4 w-4"}),"Due today"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-amber-700",children:x.dueToday}),l.jsx("p",{className:"text-xs text-amber-600",children:"Expected before midnight"})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/60 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(pC,{className:"h-4 w-4"}),"Upcoming"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-emerald-700",children:x.upcoming}),l.jsx("p",{className:"text-xs text-emerald-600",children:"On the horizon"})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-100/70 bg-gray-50/80 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(t_,{className:"h-4 w-4"}),"Unscheduled"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-gray-700",children:x.unscheduled}),l.jsx("p",{className:"text-xs text-gray-500",children:"Add due dates to keep momentum"})]})]}),l.jsxs("div",{className:"mt-6 rounded-2xl border border-gray-100/80 bg-[var(--app-surface-muted)] p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Next actionable"}),x.nextTask?l.jsxs("div",{className:"mt-3 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:x.nextTask.title}),l.jsx("p",{className:"text-sm text-gray-600",children:x.nextTask.deals.client_name})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(vc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:b(x.nextTask.due_date)})]})]}):l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No dated tasks remain. Assign due dates to keep focus on high-leverage work."})]})]}),p&&y&&l.jsx(LD,{deal:y,onClose:N,onDelete:N})]})}const _S="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_8px_20px_rgba(15,23,42,0.08)]",IZ="inline-flex items-center gap-2 rounded-2xl border border-white/80 bg-white/80 px-4 py-1.5 text-sm font-medium text-gray-700 shadow-inner transition hover:-translate-y-0.5 hover:border-[var(--app-accent)]/40 hover:text-gray-900";function RZ(){const[e,t]=m.useState([]),[r,n]=m.useState(""),[a,i]=m.useState(!1),s=["Show me the deals expected to close this month.","Which clients need new activity this week?","Summarize my pipeline stage mix.","How is my projected GCI pacing for Q3?","Who owns the next step on the Torres deal?"],o=async u=>{if(u.preventDefault(),!r.trim()||a)return;const d={role:"user",content:r};t(f=>[...f,d]),n(""),i(!0);try{const{data:{session:f}}=await H.auth.getSession();if(!f)throw new Error("Not authenticated");const h="https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-query",p={Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},g=e.slice(-6).map(w=>({role:w.role,content:w.content})),v=await(await fetch(h,{method:"POST",headers:p,body:JSON.stringify({query:d.content,conversation_history:g})})).json();if(v.error)throw new Error(v.error);const x={role:"assistant",content:v.answer,supportingData:v.supporting_data};t(w=>[...w,x])}catch(f){console.error("Luma query error:",f);const h={role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again."};t(p=>[...p,h])}finally{i(!1)}},c=u=>{n(u)};return l.jsxs("div",{className:"flex h-full flex-col gap-6",children:[l.jsx("section",{className:`${_S} space-y-4 bg-white/95 px-6 py-6 sm:px-8 sm:py-8`,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Luma AI"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Chat with your data-aware copilot"}),l.jsx("p",{className:"max-w-3xl text-sm text-gray-600",children:"Ask natural questions about deals, tasks, lead sources, or performance and get calm answers without breaking your workflow. Luma keeps context from your workspace so you can move quickly."})]})}),l.jsxs("section",{className:`${_S} flex flex-1 flex-col overflow-hidden bg-gradient-to-b from-[#f5f9ff] to-white`,children:[l.jsxs("div",{className:"border-b border-white/60 px-4 py-5 sm:px-6",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Conversation"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Bring up deals, follow-ups, or performance goalsLuma replies with grounded insight."})]}),l.jsxs("div",{className:"border-b border-white/60 px-4 py-4 sm:px-6",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Starter prompts"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.map((u,d)=>l.jsxs("button",{type:"button",onClick:()=>c(u),className:IZ,children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-300"}),u]},d))})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-4 py-6 pr-2 sm:px-6",children:[e.map((u,d)=>l.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-3xl rounded-3xl px-5 py-4 ${u.role==="user"?"bg-[var(--app-accent)] text-white shadow-[0_25px_50px_rgba(0,122,255,0.25)]":"border border-white/80 bg-white/90 shadow-[0_15px_30px_rgba(15,23,42,0.08)]"}`,children:[u.role==="assistant"&&l.jsxs("div",{className:"mb-3 flex items-center gap-2 text-gray-500",children:[l.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:l.jsx(vs,{className:"h-4 w-4",strokeWidth:2})}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),l.jsx("div",{className:`whitespace-pre-wrap text-sm leading-relaxed ${u.role==="user"?"text-white":"text-gray-900"}`,children:u.content}),u.supportingData&&l.jsx("div",{className:"mt-4 border-t border-gray-100 pt-4",children:l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.supportingData.total_deals!==void 0&&l.jsx(Hs,{label:"Total Deals",value:u.supportingData.total_deals,accent:"blue"}),u.supportingData.total_gci!==void 0&&l.jsx(Hs,{label:"Total GCI",value:`$${u.supportingData.total_gci.toLocaleString("en-US",{maximumFractionDigits:0})}`,accent:"green"}),u.supportingData.closed_deals!==void 0&&l.jsx(Hs,{label:"Closed Deals",value:u.supportingData.closed_deals,accent:"indigo"}),u.supportingData.active_deals!==void 0&&l.jsx(Hs,{label:"Active Deals",value:u.supportingData.active_deals,accent:"orange"}),u.supportingData.under_contract!==void 0&&l.jsx(Hs,{label:"Under Contract",value:u.supportingData.under_contract,accent:"purple"}),u.supportingData.team_members!==void 0&&l.jsx(Hs,{label:"Team Members",value:u.supportingData.team_members,accent:"teal"})]})})]})},d)),a&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"max-w-3xl rounded-3xl border border-white/80 bg-white/90 px-5 py-4 shadow-[0_15px_30px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-gray-500",children:[l.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:l.jsx(vs,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400"}),l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.2s"}})]})]})})]}),l.jsx("form",{onSubmit:o,className:"border-t border-white/60 bg-white/80 px-4 py-4 backdrop-blur sm:px-6",children:l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"rounded-2xl border border-[#d0e2ff] bg-white px-4 py-3 shadow-inner focus-within:border-[var(--app-accent)]/40 focus-within:ring-2 focus-within:ring-[var(--app-accent)]/15",children:l.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Ask Luma anything about your pipeline...",className:"w-full border-none bg-transparent text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none",disabled:a})}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Enter to send  Luma respects the same roles as PipelineIQ."})]}),l.jsxs("button",{type:"submit",disabled:a||!r.trim(),className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-[rgb(0,122,255)] px-6 py-3 text-sm font-semibold text-white shadow-[0_20px_40px_rgba(0,122,255,0.35)] transition hover:bg-[rgb(0,100,210)] disabled:opacity-60",children:[l.jsx(B3,{className:"h-4 w-4"}),l.jsx("span",{children:"Send"})]})]})})]})]})}const MZ={blue:"from-blue-50 to-blue-100 text-blue-900",green:"from-emerald-50 to-emerald-100 text-emerald-900",indigo:"from-indigo-50 to-indigo-100 text-indigo-900",orange:"from-orange-50 to-orange-100 text-orange-900",purple:"from-purple-50 to-purple-100 text-purple-900",teal:"from-teal-50 to-teal-100 text-teal-900"};function Hs({label:e,value:t,accent:r}){return l.jsxs("div",{className:`rounded-2xl bg-gradient-to-br ${MZ[r]} px-4 py-3`,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:e}),l.jsx("div",{className:"text-xl font-semibold text-gray-900",children:t})]})}function LZ({status:e,onEdit:t,onDelete:r}){const{attributes:n,listeners:a,setNodeRef:i,transform:s,transition:o,isDragging:c}=Ih({id:e.id}),u={transform:Bn.Transform.toString(s),transition:o,opacity:c?.5:1},d=Mh(e.color);return l.jsxs("div",{ref:i,style:u,className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center gap-4 hover:shadow-sm hover:border-gray-300 transition-all",children:[l.jsx("div",{...n,...a,className:"cursor-grab active:cursor-grabbing",children:l.jsx(y0,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full shadow-sm",style:{backgroundColor:d.bg}}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),l.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-lg",children:["Order: ",e.sort_order]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit status",children:l.jsx(_C,{className:"w-4 h-4",strokeWidth:2})}),l.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete status",children:l.jsx(ys,{className:"w-4 h-4",strokeWidth:2})})]})]})}function $Z({status:e,onPersonalize:t,onResetOverride:r,hasPersonalOverride:n}){const a=Mh(e.color);return l.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a.bg}}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Order ",e.sort_order]}),n&&l.jsx("p",{className:"text-[11px] font-semibold text-[rgb(0,122,255)]",children:"Personalized"})]})]}),t?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-xs font-semibold text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",children:"Personalize color"}),n&&r&&l.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1.5 text-xs font-semibold text-gray-500 hover:bg-gray-100 rounded-lg transition",children:"Reset"})]}):l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"View only"})]})}function FZ({canEdit:e=!0}){const{statuses:t,loading:r,addStatus:n,updateStatus:a,deleteStatus:i,reorderStatuses:s,applyTemplate:o,createCustomWorkflow:c,colorOverrides:u,setPersonalStatusColor:d,clearPersonalStatusColor:f}=$D(),[h,p]=m.useState(!1),[g,y]=m.useState(!1),[v,x]=m.useState(null),[w,b]=m.useState(""),[_,j]=m.useState(Ys),[S,N]=m.useState(null),[k,E]=m.useState(!1),[P,O]=m.useState(null),[C,F]=m.useState(null),K=Ch(Nh(Qo,{activationConstraint:{distance:8}})),ee=async D=>{const{active:J,over:U}=D;if(!U||J.id===U.id)return;const G=t.findIndex(Y=>Y.id===J.id),pe=t.findIndex(Y=>Y.id===U.id),A=[...t],[z]=A.splice(G,1);A.splice(pe,0,z);try{await s(A)}catch(Y){console.error("Error reordering:",Y),N("Failed to reorder statuses")}},Q=async()=>{if(!w.trim()){N("Status name is required");return}E(!0),N(null);try{v?await a(v.id,{name:w.trim(),color:_}):await n(w.trim(),_),V()}catch(D){console.error("Error saving status:",D),N(D instanceof Error?D.message:"Failed to save status")}finally{E(!1)}},V=()=>{y(!1),x(null),b(""),j(Ys),N(null)},T=async D=>{if(confirm("Are you sure you want to delete this status? This action cannot be undone."))try{await i(D)}catch(J){console.error("Error deleting status:",J),N(J instanceof Error?J.message:"Failed to delete status")}},R=D=>{x(D),b(D.name),j(Rh(D.color)||Ys),y(!0)},M=async D=>{try{await o(D)}catch(J){throw console.error("Error applying template:",J),J}},ae=D=>{O(D),F(D.color||Ys)},Z=()=>{!P||!C||(d(P.id,C),O(null))},ve=D=>{if(!P&&!D)return;const J=D||(P==null?void 0:P.id);J&&(f(J),D||O(null))};return r?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Nt,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Pipeline Statuses"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Customize your pipeline stages, colors, and workflow order"}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viewing workspace stages from your workspace. You can personalize colors without changing the shared setup."})]}),S&&l.jsxs("div",{className:"mb-4 flex items-center gap-3 p-4 rounded-xl bg-red-50 text-red-700 border border-red-200/60",children:[l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:S})]}),e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[l.jsxs("button",{onClick:()=>{b(""),j(Ys),y(!0)},className:"hig-btn-primary",children:[l.jsx(ji,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Status"})]}),l.jsxs("button",{onClick:()=>p(!0),className:"hig-btn-secondary",children:[l.jsx(F3,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Load Template"})]})]}),h&&l.jsx(FD,{onClose:()=>p(!1),onSelect:M,onCreateCustomWorkflow:c})]}),t.length===0?l.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center border border-gray-200/60",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"No pipeline stages configured"}),e?l.jsx("button",{onClick:()=>p(!0),className:"hig-btn-primary",children:"Load a Template to Get Started"}):l.jsx("p",{className:"text-sm text-gray-500",children:"Ask an admin to configure stages for this workspace."})]}):e?l.jsx(Oh,{sensors:K,collisionDetection:_0,onDragEnd:ee,children:l.jsx(Dh,{items:t.map(D=>D.id),strategy:eE,children:l.jsx("div",{className:"space-y-3",children:t.map(D=>l.jsx(LZ,{status:D,onEdit:R,onDelete:T},D.id))})})}):l.jsx("div",{className:"space-y-3",children:t.map(D=>l.jsx($Z,{status:D,hasPersonalOverride:!!u[D.id],onPersonalize:e?void 0:ae,onResetOverride:e?void 0:()=>ve(D.id)},D.id))}),e&&g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v?"Edit Status":"Add New Status"}),l.jsx("button",{onClick:V,className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(xs,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Status Name"}),l.jsx("input",{type:"text",value:w,onChange:D=>b(D.target.value),className:"hig-input",placeholder:"e.g., Inspection, Appraisal",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Color"}),l.jsx(xS,{value:_,onChange:j})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200/60 bg-gray-50/50",children:[l.jsx("button",{onClick:V,className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:Q,disabled:k||!w.trim(),className:"hig-btn-primary",children:k?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[v?"Update":"Add"," Status"]})})]})]})}),!e&&P&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:['Personalize "',P.name,'"']}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Changes apply only to your view. Workspace defaults stay intact."})]}),l.jsx("button",{onClick:()=>O(null),className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(xs,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsx("div",{className:"p-6 space-y-6",children:l.jsx(xS,{value:C,onChange:F})}),l.jsxs("div",{className:"flex justify-between items-center gap-3 p-6 border-t border-gray-200/60 bg-gray-50/50",children:[l.jsx("button",{onClick:()=>ve(),className:"text-sm font-semibold text-gray-600 hover:text-gray-800 hover:bg-gray-100 px-3 py-2 rounded-lg transition",children:"Use workspace default"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>O(null),className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:Z,className:"hig-btn-primary",children:"Save for me"})]})]})]})})]})}const qs=()=>({name:"",brokerage_split_rate:20,payout_structure:"standard",partnership_split_rate:35,partnership_notes:""});function BZ({canEdit:e=!0}){const{user:t,roleInfo:r}=pt(),n=(r==null?void 0:r.teamId)||null,[a,i]=m.useState([]),[s,o]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[g,y]=m.useState(null),[v,x]=m.useState(qs()),[w,b]=m.useState(null),[_,j]=m.useState("all"),[S,N]=m.useState("");m.useEffect(()=>{k()},[t==null?void 0:t.id,n]);const k=async()=>{if(t){o(!0);try{const{data:T,error:R}=n?await H.from("lead_sources").select("*").eq("team_id",n).order("sort_order",{ascending:!0,nullsLast:!0}).order("name",{ascending:!0}):{data:null,error:null};if(R)throw R;const M=!!(T!=null&&T.length),{data:ae,error:Z}=M?{data:T,error:null}:await H.from("lead_sources").select("*").eq("user_id",t.id).order("sort_order",{ascending:!0,nullsLast:!0}).order("name",{ascending:!0});if(Z)throw Z;if(!ae){i([]),o(!1);return}const ve=[...ae].sort((J,U)=>J.sort_order===U.sort_order?J.name.localeCompare(U.name):(J.sort_order??0)-(U.sort_order??0));if(ve.some((J,U)=>J.sort_order!==U+1)){const J=ve.map((U,G)=>({...U,sort_order:G+1}));i(J),await Promise.all(J.map((U,G)=>H.from("lead_sources").update({sort_order:G+1}).eq("id",U.id)))}else i(ve)}catch(T){console.error("Error loading lead sources:",T),b(T instanceof Error?T.message:"Failed to load lead sources")}finally{o(!1)}}},E=async T=>{if(T.preventDefault(),!e||!t||!v.name.trim()){b("Lead source name is required");return}u(!0),b(null);try{const R={name:v.name,team_id:n,brokerage_split_rate:v.brokerage_split_rate/100,payout_structure:v.payout_structure,partnership_split_rate:v.payout_structure==="partnership"?v.partnership_split_rate/100:null,partnership_notes:v.payout_structure==="partnership"&&v.partnership_notes.trim()||null};if(h){const{error:M}=await H.from("lead_sources").update(R).eq("id",h.id);if(M)throw M}else{const M=a.reduce((Z,ve)=>Math.max(Z,ve.sort_order??0),0),{error:ae}=await H.from("lead_sources").insert({user_id:t.id,sort_order:M+1,...R});if(ae)throw ae}f(!1),x(qs()),p(null),k()}catch(R){console.error("Error saving lead source:",R),b(R instanceof Error?R.message:"Failed to save lead source")}finally{u(!1)}},P=T=>{e&&(p(T),x({name:T.name,brokerage_split_rate:T.brokerage_split_rate*100,payout_structure:T.payout_structure,partnership_split_rate:(T.partnership_split_rate??.35)*100,partnership_notes:T.partnership_notes||""}),f(!0),b(null))},O=async T=>{if(e&&confirm("Are you sure you want to delete this lead source? This action cannot be undone."))try{const{error:R}=await H.from("lead_sources").delete().eq("id",T);if(R)throw R;k()}catch(R){console.error("Error deleting lead source:",R),b(R instanceof Error?R.message:"Failed to delete lead source")}},C=[{value:"standard",title:"Standard Split",description:"Only your brokerage split applies."},{value:"partnership",title:"Partnership Program",description:"Pay the partner first, then split the remainder with your brokerage."}],F=[{value:"all",label:"All sources"},{value:"standard",label:"Standard"},{value:"partnership",label:"Partnership"}],K=Ch(Nh(Qo,{activationConstraint:{distance:3}})),ee=m.useMemo(()=>{const T=S.trim().toLowerCase();return a.filter(R=>{const M=_==="all"||R.payout_structure===_,ae=!T||[R.name,R.partnership_notes||""].some(Z=>Z.toLowerCase().includes(T));return M&&ae})},[a,S,_]),Q=e&&_==="all"&&S.trim()==="",V=async T=>{if(y(null),!Q)return;const{active:R,over:M}=T;if(!M||R.id===M.id)return;const ae=a.findIndex(G=>G.id===R.id),Z=a.findIndex(G=>G.id===M.id);if(ae===-1||Z===-1)return;const D=Ah(a,ae,Z).map((G,pe)=>({...G,sort_order:pe+1}));i(D);const J=new Map(a.map(G=>[G.id,G.sort_order])),U=D.filter(G=>G.sort_order!==J.get(G.id));try{U.length>0&&await Promise.all(U.map(G=>H.from("lead_sources").update({sort_order:G.sort_order}).eq("id",G.id)))}catch(G){console.error("Error reordering lead sources:",G),b("Unable to save lead source order. Please try again."),k()}};return s?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Nt,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-1",children:"Lead Sources"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Track partner programs, portals, and referral channels."}),!e&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can review workspace lead sources. Only admins can make edits."})]}),e&&l.jsxs("button",{onClick:()=>{f(!0),p(null),x(qs()),b(null)},className:"hig-btn-primary self-start",children:[l.jsx(ji,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Lead Source"})]})]})}),w&&l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-red-200/70 bg-red-50 px-4 py-3 text-red-700",children:[l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:w})]}),l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"relative w-full md:w-72",children:[l.jsx(x0,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",value:S,onChange:T=>N(T.target.value),placeholder:"Search lead sources",className:"w-full rounded-2xl border border-gray-200/70 bg-white/90 py-2 pl-9 pr-3 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/50 focus:ring-2 focus:ring-[var(--app-accent)]/20"})]}),l.jsx("div",{className:"inline-flex flex-wrap gap-2 rounded-2xl border border-gray-200/70 bg-white/80 p-1.5 shadow-inner",children:F.map(T=>{const R=_===T.value;return l.jsx("button",{type:"button",onClick:()=>j(T.value),className:`rounded-xl px-3 py-1.5 text-sm font-medium transition ${R?"bg-gray-900 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:T.label},T.value)})})]}),e&&l.jsx("p",{className:"text-xs text-gray-400",children:"Drag handles appear when viewing all sources without filters so you can reorder tiles."}),a.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-gray-300 bg-gray-50/80 p-10 text-center",children:[l.jsx(NC,{className:"mx-auto mb-4 h-10 w-10 text-gray-400",strokeWidth:1.5}),l.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:"No lead sources configured"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Add your first lead source to start tracking where your deals originate."}),e?l.jsxs("button",{onClick:()=>{f(!0),p(null),x(qs()),b(null)},className:"hig-btn-primary",children:[l.jsx(ji,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Lead Source"})]}):l.jsx("p",{className:"text-xs text-gray-500",children:"Ask a workspace admin to configure lead sources."})]}):ee.length===0?l.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white/80 p-10 text-center text-sm text-gray-500",children:"No sources match your filters."}):l.jsxs(Oh,{sensors:K,collisionDetection:_0,onDragStart:T=>{const R=a.find(M=>M.id===T.active.id);y(R||null)},onDragEnd:V,onDragCancel:()=>y(null),children:[l.jsx(Dh,{items:ee.map(T=>T.id),strategy:Th,children:l.jsx("div",{className:"grid w-full gap-4",style:{gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))"},children:ee.map(T=>l.jsx(UZ,{source:T,canEdit:e,disableDrag:!Q,onEdit:()=>P(T),onDelete:()=>O(T.id)},T.id))})}),l.jsx(ZC,{dropAnimation:{duration:200,easing:"ease"},children:g?l.jsx(zZ,{source:g}):null})]}),e&&d&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?"Edit Lead Source":"Add Lead Source"}),l.jsx("button",{onClick:()=>{f(!1),p(null),x(qs()),b(null)},className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(xs,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source Name"}),l.jsx("input",{type:"text",value:v.name,onChange:T=>x({...v,name:T.target.value}),className:"hig-input",placeholder:"e.g., Zillow, Past Client, Open House",required:!0,autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Deal Structure"}),l.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:C.map(T=>{const R=v.payout_structure===T.value;return l.jsxs("button",{type:"button",onClick:()=>x({...v,payout_structure:T.value}),className:`text-left rounded-2xl border p-4 transition-all ${R?"border-[rgb(0,122,255)] bg-[rgb(0,122,255)]/5":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:T.title}),l.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:T.description})]},T.value)})}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Choose partnership when working with platforms like Redfin or Zillow that take their fee before your team split."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Brokerage Split Rate"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:v.brokerage_split_rate,onChange:T=>x({...v,brokerage_split_rate:Number.isNaN(parseFloat(T.target.value))?0:parseFloat(T.target.value)}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Percentage of the remaining commission that goes to your brokerage/team."})]}),v.payout_structure==="partnership"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Split Rate"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:v.partnership_split_rate,onChange:T=>x({...v,partnership_split_rate:Number.isNaN(parseFloat(T.target.value))?0:parseFloat(T.target.value)}),className:"hig-input pr-8",placeholder:"35",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Portion of the gross commission that goes to the partner program before any brokerage split."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Notes"}),l.jsx("textarea",{value:v.partnership_notes,onChange:T=>x({...v,partnership_notes:T.target.value}),className:"hig-input min-h-[88px]",placeholder:"e.g., Pay Redfin 35% within 5 days, then 50/50 split with brokerage"})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-3",children:"Payout Preview"}),l.jsxs("ol",{className:"space-y-3 text-sm text-gray-800",children:[v.payout_structure==="partnership"&&l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:"1"}),"Pay partner first (",v.partnership_split_rate||0,"% of gross commission)"]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:v.payout_structure==="partnership"?"2":"1"}),"Split the remaining commission with your brokerage (",v.brokerage_split_rate||0,"% to broker)"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-200/60",children:[l.jsx("button",{type:"button",onClick:()=>{f(!1),p(null),x(qs()),b(null)},className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c||!v.name.trim(),className:"hig-btn-primary",children:c?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[h?"Update":"Add"," Source"]})})]})]})]})})]})}function UZ({source:e,canEdit:t,disableDrag:r,onEdit:n,onDelete:a}){const{attributes:i,listeners:s,setNodeRef:o,transform:c,transition:u,isDragging:d}=Ih({id:e.id,disabled:r}),f={transform:Bn.Transform.toString(c),transition:u??"transform 200ms ease"},h=e.payout_structure==="partnership",p=`${(e.brokerage_split_rate*100).toFixed(1)}%`,g=h?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return l.jsxs("div",{ref:o,style:f,className:`w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_14px_40px_rgba(15,23,42,0.08)] transition ${d?"ring-2 ring-[var(--app-accent)]/40 shadow-[0_20px_50px_rgba(15,23,42,0.15)]":"hover:border-gray-300/80 hover:shadow-[0_24px_60px_rgba(15,23,42,0.12)]"}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t&&l.jsx("button",{type:"button",...i,...s,disabled:r,className:`rounded-full border border-gray-200/70 bg-white/80 p-2 text-gray-400 transition ${r?"cursor-not-allowed opacity-40":"cursor-grab hover:text-gray-700 active:cursor-grabbing"}`,"aria-label":"Drag to reorder lead source",children:l.jsx(y0,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[h?l.jsx(yC,{className:"h-3 w-3 text-[var(--app-accent)]",strokeWidth:2}):l.jsx(vs,{className:"h-3 w-3 text-gray-500",strokeWidth:2}),l.jsx("span",{className:h?"text-[var(--app-accent)]":"",children:h?"PARTNERSHIP":"STANDARD"})]}),l.jsx("h3",{className:"mt-1 text-base font-semibold text-gray-900",children:e.name})]})]}),t?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:n,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-blue-50 hover:text-[var(--app-accent)]",title:"Edit lead source",children:l.jsx(_C,{className:"h-4 w-4",strokeWidth:2})}),l.jsx("button",{onClick:a,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-red-50 hover:text-red-600",title:"Delete lead source",children:l.jsx(ys,{className:"h-4 w-4",strokeWidth:2})})]}):l.jsx("span",{className:"text-[11px] uppercase tracking-[0.35em] text-gray-400",children:"View only"})]}),l.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[h&&g&&l.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Partner share"}),l.jsx("span",{className:"font-semibold text-gray-900",children:g})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Broker split"}),l.jsx("span",{className:"font-semibold text-gray-900",children:p})]})]}),e.partnership_notes&&l.jsx("p",{className:"mt-3 rounded-[18px] border border-gray-100 bg-white/80 px-3 py-2 text-[12px] text-gray-600 shadow-inner line-clamp-2",children:e.partnership_notes})]})}function zZ({source:e}){const t=e.payout_structure==="partnership",r=`${(e.brokerage_split_rate*100).toFixed(1)}%`,n=t?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return l.jsxs("div",{className:"w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[t?l.jsx(yC,{className:"h-3.5 w-3.5 text-[var(--app-accent)]",strokeWidth:2}):l.jsx(vs,{className:"h-3.5 w-3.5 text-gray-500",strokeWidth:2}),l.jsx("span",{className:t?"text-[var(--app-accent)]":"",children:t?"PARTNERSHIP":"STANDARD"})]}),l.jsx("h3",{className:"mt-2 text-base font-semibold text-gray-900",children:e.name}),l.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[t&&n&&l.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Partner share"}),l.jsx("span",{className:"font-semibold text-gray-900",children:n})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Broker split"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]})}function BD(){const{roleInfo:e}=pt(),t=(e==null?void 0:e.workspaceId)||null,[r,n]=m.useState(null),[a,i]=m.useState(!0),[s,o]=m.useState(null),c=m.useCallback(async()=>{if(!t){n(null),i(!1);return}i(!0),o(null);const{data:d,error:f}=await H.from("workspace_settings").select("*").eq("id",t).maybeSingle();f?(console.error("Error loading workspace settings:",f),o("Unable to load workspace settings.")):n(d),i(!1)},[t]);return m.useEffect(()=>{c()},[c]),{workspace:r,loading:a,error:s,refresh:c,updateWorkspace:async d=>{if(!t)return{error:new Error("Workspace not found")};const{data:f,error:h}=await H.from("workspace_settings").update({...d,updated_at:new Date().toISOString()}).eq("id",t).select("*").maybeSingle();return h?(console.error("Error updating workspace settings:",h),{error:h}):(f&&n(f),{error:null})}}}function WZ({canEdit:e}){const{workspace:t,loading:r,updateWorkspace:n}=BD(),[a,i]=m.useState({name:"",company_name:"",timezone:"America/Los_Angeles",locale:"en-US"}),[s,o]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{t&&i({name:t.name||"",company_name:t.company_name||"",timezone:t.timezone||"America/Los_Angeles",locale:t.locale||"en-US"})},[t]);const d=async f=>{if(f.preventDefault(),!e)return;o(!0),u(null);const{error:h}=await n(a);u(h?{type:"error",text:"Unable to update workspace info."}:{type:"success",text:"Workspace updated."}),o(!1)};return r?l.jsx("div",{className:"flex items-center justify-center py-10",children:l.jsx(Nt,{className:"w-6 h-6 animate-spin text-[var(--app-accent)]"})}):l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Company Info"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Company identity, locale, and defaults shared with your agents and teams."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Workspace details are managed by admins. You can view but not edit."})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Company Name"}),l.jsx("input",{type:"text",value:a.name,onChange:f=>i(h=>({...h,name:f.target.value})),className:"hig-input",disabled:!e,placeholder:"Luminex Realty Group"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Timezone"}),l.jsxs("select",{value:a.timezone,onChange:f=>i(h=>({...h,timezone:f.target.value})),className:"hig-input",disabled:!e,children:[l.jsx("option",{value:"America/Los_Angeles",children:"Pacific (PT)"}),l.jsx("option",{value:"America/Denver",children:"Mountain (MT)"}),l.jsx("option",{value:"America/Chicago",children:"Central (CT)"}),l.jsx("option",{value:"America/New_York",children:"Eastern (ET)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Locale"}),l.jsxs("select",{value:a.locale,onChange:f=>i(h=>({...h,locale:f.target.value})),className:"hig-input",disabled:!e,children:[l.jsx("option",{value:"en-US",children:"English (US)"}),l.jsx("option",{value:"en-CA",children:"English (Canada)"}),l.jsx("option",{value:"es-US",children:"Espaol"})]})]})]}),c&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${c.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[c.type==="error"?l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(_i,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:c.text})]}),e&&l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Workspace"})]})})]})]})}const jS={crm:{provider:"Follow Up Boss",description:"Sync contacts + deals bi-directionally.",status:"not_connected"},email:{provider:"Google Workspace",description:"Log emails to deals and trigger automations.",status:"not_connected"},marketing:{provider:"Zapier",description:"Push new leads into PipelineIQ automatically.",status:"not_connected"}};function KZ({canEdit:e}){const{workspace:t,updateWorkspace:r}=BD(),[n,a]=m.useState(jS),[i,s]=m.useState(null);m.useEffect(()=>{if(t!=null&&t.integration_settings){const c=t.integration_settings;a({...jS,...c})}},[t==null?void 0:t.integration_settings]);const o=async c=>{if(!e)return;s(c);const u=n[c].status==="connected"?"not_connected":"connected",d={...n,[c]:{...n[c],status:u,lastSync:u==="connected"?new Date().toISOString():void 0}};a(d),await r({integration_settings:d}),s(null)};return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Integrations"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Connect your CRM, email, and marketing tools so deals stay in sync."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only workspace admins can manage integrations."})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([c,u])=>l.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/80 px-4 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.provider}),l.jsx("p",{className:"text-xs text-gray-500",children:u.description}),u.lastSync&&l.jsxs("p",{className:"text-[11px] text-gray-400 mt-1",children:["Last sync ",new Date(u.lastSync).toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:`text-xs font-semibold ${u.status==="connected"?"text-emerald-600":"text-gray-500"}`,children:u.status==="connected"?"Connected":"Not connected"}),l.jsx("button",{type:"button",onClick:()=>o(c),disabled:!e||i===c,className:`rounded-full border px-4 py-2 text-sm font-semibold transition ${u.status==="connected"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-50 text-gray-600 border-gray-200"} ${e?"":"opacity-50 cursor-not-allowed"}`,children:u.status==="connected"?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(z3,{className:"w-4 h-4"}),"Disconnect"]}):l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(U3,{className:"w-4 h-4"}),"Connect"]})})]})]},c))})]})}const HZ=[{title:"Deal Templates",description:"Define repeatable sets of tasks, stages, and documents for each pipeline type."},{title:"Custom Fields",description:"Capture additional data points (loan type, co-borrower, transaction coordinator) across every deal."},{title:"Default Views",description:"Control which boards, filters, and metrics new team members inherit on first login."}];function qZ({canEdit:e}){return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Shared Configuration"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Templates, custom fields, and default views that keep your workspace aligned."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ask an admin to adjust shared templates or defaults for the workspace."})]}),l.jsx("div",{className:"space-y-4",children:HZ.map(t=>l.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:t.title}),l.jsx("p",{className:"text-xs text-gray-500",children:t.description})]}),l.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl border text-sm font-medium ${e?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!e,children:e?"Configure":"View only"})]})},t.title))})]})}function VZ(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),[i,s]=m.useState(null),o=m.useCallback(async()=>{if(!e)return;a(!0),s(null);const{data:u,error:d}=await H.rpc("get_workspace_members",{p_workspace_id:e});d?(s(d.message),r([])):r(u||[]),a(!1)},[e]);m.useEffect(()=>{o()},[o]);const c=m.useCallback(async(u,d,f)=>{const{error:h}=await H.rpc("manage_workspace_member",{target_user:u,action:d,new_role:f??null});return h||await o(),{error:h}},[o]);return{members:t,loading:n,error:i,refresh:o,changeRole:(u,d)=>c(u,"update_role",d),deactivate:u=>c(u,"deactivate"),reactivate:u=>c(u,"reactivate"),updateTeam:async(u,d)=>{if(!d)return{error:new Error("Team is required")};const{error:f}=await H.from("user_teams").delete().eq("user_id",u);if(f)return{error:f};const{error:h}=await H.from("user_teams").upsert({user_id:u,team_id:d,role:"agent"});return h?{error:h}:(await o(),{error:null})}}}function cb(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),i=m.useCallback(async()=>{if(!e)return;a(!0);const{data:o,error:c}=await H.rpc("get_workspace_teams",{p_workspace_id:e});r(c?[]:o||[]),a(!1)},[e]);m.useEffect(()=>{i()},[i]);const s=m.useCallback(async(o,c)=>{if(!e)return{error:new Error("Workspace is required")};const u=o.trim();if(!u)return{error:new Error("Team name is required")};const{data:d,error:f}=await H.from("teams").insert({name:u}).select("id, name").single();if(f||!d)return{error:f};if(c){const{error:h}=await H.from("user_teams").upsert({user_id:c,team_id:d.id,role:"team_lead"});if(h)return{error:h}}return await i(),{error:null}},[e,i]);return{teams:t,loading:n,refresh:i,createTeam:s}}const GZ=["admin","sales_manager","team_lead","agent"];function YZ(){const{roleInfo:e,user:t}=pt(),r=(e==null?void 0:e.workspaceId)||null,n=dC(e),[a,i]=m.useState(null),{members:s,loading:o,error:c,changeRole:u,deactivate:d,reactivate:f,updateTeam:h}=VZ(r),{teams:p,loading:g}=cb(r),[y,v]=m.useState(null),x=m.useMemo(()=>s.filter(S=>S.global_role==="admin"&&S.is_active).length,[s]),w=async(S,N)=>{i(S+N),await u(S,N),i(null)},b=async S=>{i(`deactivate-${S}`),await d(S),i(null)},_=async S=>{i(`reactivate-${S}`),await f(S),i(null)},j=async(S,N)=>{i(`team-${S}`);const{error:k}=await h(S,N);v((k==null?void 0:k.message)??null),i(null)};return!r||!n?l.jsx("div",{className:"text-sm text-gray-600",children:"Workspace member management is limited to administrators. Contact an admin if you need to add or update teammates."}):o?l.jsx("div",{className:"flex items-center justify-center py-10 text-gray-500",children:l.jsx(Nt,{className:"h-5 w-5 animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Workspace Members"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["View and manage everyone in your workspace. You currently have ",x," admin",x===1?"":"s","."]}),c&&l.jsx("div",{className:"mt-3 rounded-xl border border-red-200/70 bg-red-50 px-3 py-2 text-sm text-red-600",children:c}),y&&!c&&l.jsx("div",{className:"mt-3 rounded-xl border border-red-200/70 bg-red-50 px-3 py-2 text-sm text-red-600",children:y}),!c&&g&&l.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-xl border border-gray-200/70 bg-white px-3 py-1 text-xs text-gray-600",children:[l.jsx(Nt,{className:"h-3.5 w-3.5 animate-spin"}),"Loading teams"]})]}),l.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-200/70",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50/60",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Member"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Team"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Last active"}),l.jsx("th",{className:"px-4 py-3"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/80",children:s.map(S=>{var C;const N=S.user_id===(t==null?void 0:t.id),k=S.is_active,E=a!==null,P=E&&((a==null?void 0:a.includes(S.user_id))??!1),O=E&&!P;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S.full_name||S.email||"Member"}),l.jsx("span",{className:"text-xs text-gray-500",children:S.email})]})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("select",{className:"hig-input text-sm",value:S.global_role,disabled:!k||O||N,onChange:F=>w(S.user_id,F.target.value),children:GZ.map(F=>l.jsx("option",{value:F,children:wi(F)},F))}),N&&l.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"You cant change your own role from this screen."})]}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("select",{className:"hig-input text-sm",value:S.team_id||((C=p[0])==null?void 0:C.team_id)||"",disabled:!k||O||g||p.length===0,onChange:F=>j(S.user_id,F.target.value),children:p.map(F=>l.jsx("option",{value:F.team_id,children:F.name},F.team_id))})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${k?"bg-emerald-50 text-emerald-700 border border-emerald-200/70":"bg-gray-100 text-gray-500 border border-gray-200"}`,children:k?"Active":"Inactive"})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:S.last_sign_in_at?new Date(S.last_sign_in_at).toLocaleDateString():""}),l.jsx("td",{className:"px-4 py-4 text-right",children:k?l.jsxs("button",{onClick:()=>b(S.user_id),disabled:O||N,className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-sm font-semibold text-red-600 hover:bg-red-100 disabled:opacity-50",children:[l.jsx($3,{className:"h-4 w-4"}),"Deactivate"]}):l.jsxs("button",{onClick:()=>_(S.user_id),disabled:O,className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-sm font-semibold text-blue-600 hover:bg-blue-100 disabled:opacity-50",children:[l.jsx(jC,{className:"h-4 w-4"}),"Reactivate"]})})]},S.user_id)})})]})})]})}function XZ(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),[i,s]=m.useState(null),o=async h=>{try{const{error:p}=await H.functions.invoke("send-invite-email",{body:{inviteId:h,origin:typeof window<"u"?window.location.origin:void 0}});p&&console.error("Invite email dispatch failed",p)}catch(p){console.error("Invite email dispatch failed",p)}},c=m.useCallback(async()=>{if(!e)return;a(!0),s(null);const{data:h,error:p}=await H.from("workspace_invitations").select("*").eq("workspace_id",e).eq("status","pending").order("created_at",{ascending:!1});p?(s(p.message),r([])):r(h||[]),a(!1)},[e]);m.useEffect(()=>{c()},[c]),m.useEffect(()=>{if(!e)return;const h=H.channel(`workspace-invitations-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"workspace_invitations",filter:`workspace_id=eq.${e}`},()=>{c()}).subscribe();return()=>{H.removeChannel(h)}},[e,c]);const u=m.useCallback(async({email:h,intendedRole:p,teamId:g})=>{if(!e)return{error:new Error("Workspace is required")};if(!g)return{error:new Error("Team is required for invites")};const{data:y,error:v}=await H.from("workspace_invitations").insert({email:h,intended_role:p,workspace_id:e,team_id:g??null}).select("*").single();return!v&&y&&(await o(y.id),await c()),{error:v}},[e,c]),d=m.useCallback(async h=>{const{error:p}=await H.from("workspace_invitations").update({status:"canceled"}).eq("id",h);return p||await c(),{error:p}},[c]),f=m.useCallback(async h=>{const{data:p,error:g}=await H.from("workspace_invitations").update({status:"pending",expires_at:new Date(Date.now()+12096e5).toISOString()}).eq("id",h).select("*").single();return!g&&p&&(await o(p.id),await c()),{error:g}},[c]);return{invites:t,loading:n,error:i,refresh:c,createInvite:u,cancelInvite:d,resendInvite:f}}const SS=[{value:"admin",label:"Admin"},{value:"sales_manager",label:"Sales Manager"},{value:"team_lead",label:"Team Lead"},{value:"agent",label:"Agent"}];function JZ(){var O;const{roleInfo:e}=pt(),t=(e==null?void 0:e.workspaceId)||null,r=uC(e),n=d3(e),{invites:a,loading:i,createInvite:s,resendInvite:o,cancelInvite:c}=XZ(t),{teams:u}=cb(t),[d,f]=m.useState(""),[h,p]=m.useState("agent"),[g,y]=m.useState((e==null?void 0:e.teamId)||null),[v,x]=m.useState(!1),[w,b]=m.useState(null),[_,j]=m.useState(null),S=(O=u.find(C=>C.team_id===(e==null?void 0:e.teamId)))==null?void 0:O.name,N=n?SS:SS.filter(C=>C.value==="agent");m.useEffect(()=>{n||p("agent")},[n]),m.useEffect(()=>{!g&&u.length>0&&y(u[0].team_id)},[u,g]);const k=C=>`${window.location.origin}/invite/${C}`,E=async C=>{if(C.preventDefault(),!d)return;if(!t){b({type:"error",text:"Workspace is required before sending invites. Please refresh or contact an admin."});return}if(!g){b({type:"error",text:"A team is required so pipeline statuses and lead sources stay in sync. Create a team first if none exist."});return}x(!0),b(null);const{error:F}=await s({email:d.trim().toLowerCase(),intendedRole:h,teamId:g});if(x(!1),F){b({type:"error",text:F.message||"Unable to send invite. Please try again."});return}f(""),b({type:"success",text:`Invitation sent to ${d.trim().toLowerCase()}. Share the link or let them check their inbox.`})};if(m.useEffect(()=>{e!=null&&e.teamId&&y(e.teamId)},[e==null?void 0:e.teamId]),!r)return l.jsx("div",{className:"text-sm text-gray-600",children:"Only admins, sales managers, or team leads can invite new members. Contact an admin if you need to add someone to your workspace."});const P=a.filter(C=>C.status==="pending");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Invitations"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Invite teammates by email and manage pending invitations. Links stay valid for 14 days."})]}),l.jsxs("form",{onSubmit:E,className:"rounded-2xl border border-gray-200/70 bg-white/80 p-5 space-y-4",children:[w&&l.jsx("div",{className:`flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm ${w.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:w.text}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",required:!0,className:"hig-input",placeholder:"newagent@example.com",value:d,onChange:C=>f(C.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsx("select",{className:"hig-input",value:h,onChange:C=>p(C.target.value),children:N.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Team *"}),(e==null?void 0:e.globalRole)==="agent"||!n&&(e!=null&&e.teamId)?l.jsx("input",{type:"text",className:"hig-input bg-gray-50",value:S||"Assigned automatically",readOnly:!0}):u.length===0?l.jsx("input",{type:"text",className:"hig-input bg-gray-50",value:"Create a team first to send invites",readOnly:!0}):l.jsx("select",{className:"hig-input",value:g||"",onChange:C=>y(C.target.value||null),children:u.map(C=>l.jsx("option",{value:C.team_id,children:C.name},C.team_id))})]})}),l.jsx("button",{type:"submit",disabled:v||!g,className:"hig-btn-primary inline-flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(A3,{className:"h-4 w-4"}),"Send invitation"]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending invitations"}),i?l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[l.jsx(Nt,{className:"h-4 w-4 animate-spin"}),"Loading invitations"]}):P.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"No active invitations."}):l.jsx("div",{className:"space-y-4",children:P.map(C=>{const K=C.status==="pending"&&new Date(C.expires_at).getTime()<Date.now()?"expired":C.status;return l.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[wi(C.intended_role),"  expires ",new Date(C.expires_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.status==="pending"&&l.jsx("button",{type:"button",onClick:async()=>{await navigator.clipboard.writeText(k(C.token)),j(C.id),setTimeout(()=>j(null),2e3)},className:`inline-flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs font-semibold transition shadow-sm ${_===C.id?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-700 hover:border-emerald-200/80 hover:bg-emerald-50/60 hover:text-emerald-700 hover:shadow-md"}`,children:_===C.id?l.jsxs(l.Fragment,{children:[l.jsx(yc,{className:"h-3.5 w-3.5"}),"Copied"]}):l.jsxs(l.Fragment,{children:[l.jsx(E3,{className:"h-3.5 w-3.5"}),"Copy link"]})}),K==="pending"?l.jsxs("button",{type:"button",onClick:()=>o(C.id),className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-600 hover:bg-blue-100",children:[l.jsx(jC,{className:"h-3.5 w-3.5"}),"Resend"]}):l.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-semibold text-gray-600 capitalize",children:K}),C.status==="pending"&&l.jsxs("button",{type:"button",onClick:()=>c(C.id),className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-100",children:[l.jsx(K3,{className:"h-3.5 w-3.5"}),"Cancel"]})]})]},C.id)})})]})]})}function QZ(){const{roleInfo:e,user:t}=pt(),r=(e==null?void 0:e.workspaceId)||null,n=cC(e),{teams:a,loading:i,createTeam:s}=cb(r),[o,c]=m.useState(""),[u,d]=m.useState(!1),[f,h]=m.useState(null),p=m.useMemo(()=>[...a].sort((y,v)=>y.name.localeCompare(v.name)),[a]),g=async y=>{var x;if(y.preventDefault(),!o.trim())return;d(!0),h(null);const{error:v}=await s(o,t==null?void 0:t.id);if(d(!1),v){const w=(x=v.message)==null?void 0:x.toLowerCase().includes("duplicate");h({type:"error",text:w?"A team with that name already exists.":v.message||"Unable to create team right now."});return}c(""),h({type:"success",text:"Team created. Assign members from the Members tab."})};return!r||!n?l.jsx("div",{className:"text-sm text-gray-600",children:"Only workspace admins can create teams. Ask an admin to set this up if you need a new team."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Teams"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Create lightweight teams to group agents and route invitations. You can add members after creating the team."})]}),l.jsxs("form",{onSubmit:g,className:"space-y-4 rounded-2xl border border-gray-200/70 bg-white/80 p-5",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"hig-label",children:"Team name"}),l.jsx("input",{type:"text",className:"hig-input",placeholder:"Example: East Coast Team",value:o,onChange:y=>c(y.target.value),required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Names must be unique across your workspace."})]}),l.jsx("button",{type:"submit",disabled:u,className:"hig-btn-primary inline-flex items-center justify-center gap-2 px-4",children:u?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"h-4 w-4 animate-spin"}),"Creating"]}):l.jsxs(l.Fragment,{children:[l.jsx(L3,{className:"h-4 w-4"}),"Create team"]})})]}),f&&l.jsx("div",{className:`flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm ${f.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:f.text})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/80 p-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Existing teams"}),l.jsx("p",{className:"text-xs text-gray-500",children:i?"Loading teams":`${p.length||"No"} team${p.length===1?"":"s"}`})]}),i&&l.jsx(Nt,{className:"h-4 w-4 animate-spin text-gray-500"})]}),!i&&p.length===0&&l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"No teams yet. Create one to get started."}),!i&&p.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:p.map(y=>l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-100/80 bg-white px-4 py-3 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.6)]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:y.name}),l.jsx("p",{className:"text-xs text-gray-500",children:"Assign members from the Members tab."})]}),l.jsx("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] text-gray-600",children:"Team"})]},y.team_id))})]})]})}const ZZ=[{id:"workspace.info",label:"Workspace Info",description:"Identity, locale, and defaults",icon:b3},{id:"workspace.pipeline-statuses",label:"Pipeline Statuses",description:"Shared stage definitions",icon:bC},{id:"workspace.lead-sources",label:"Lead Sources",description:"Partner & portal sources",icon:NC},{id:"workspace.integrations",label:"Integrations",description:"CRM & email connections",icon:M3},{id:"workspace.configuration",label:"Shared Configuration",description:"Templates & custom fields",icon:k3}];function eee(){const{user:e,roleInfo:t}=pt(),r=wi(t==null?void 0:t.globalRole),n=e_(t),a=e_(t)||u3(t)||c3(t),i=dC(t),s=uC(t),o=cC(t),[c,u]=m.useState("workspace.info"),d=m.useMemo(()=>{const h=[...ZZ];return o&&h.push({id:"workspace.teams",label:"Teams",description:"Create teams for routing",icon:S3}),i&&h.push({id:"workspace.members",label:"Members",description:"Roles, status, and access",icon:EC}),s&&h.push({id:"workspace.invites",label:"Invitations",description:"Pending & sent invites",icon:T3}),h},[i,s]),f=()=>{switch(c){case"workspace.info":return l.jsx(WZ,{canEdit:n});case"workspace.pipeline-statuses":return l.jsx(FZ,{canEdit:a});case"workspace.lead-sources":return l.jsx(BZ,{canEdit:a});case"workspace.integrations":return l.jsx(KZ,{canEdit:n});case"workspace.teams":return l.jsx(QZ,{});case"workspace.members":return l.jsx(YZ,{});case"workspace.invites":return l.jsx(JZ,{});case"workspace.configuration":default:return l.jsx(qZ,{canEdit:n})}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:l.jsx(wh,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Workspace Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Configuration shared across your entire workspace"})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]}),!n&&l.jsx("span",{className:"text-xs text-gray-500",children:"Workspace configuration is managed by admins. You have read-only access."})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("aside",{className:"lg:w-72 space-y-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Workspace"}),l.jsx("div",{className:"space-y-1",children:d.map(h=>{const p=h.icon,g=c===h.id;return l.jsx("button",{onClick:()=>u(h.id),className:`group w-full rounded-2xl border px-4 py-3 text-left transition-all duration-200 ${g?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:-translate-y-[1px] hover:border-[rgba(0,122,255,0.25)] hover:bg-[rgba(0,122,255,0.04)] hover:shadow-[0_12px_30px_rgba(0,0,0,0.06)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(0,122,255,0.35)]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`rounded-2xl border p-2 ${g?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50 group-hover:border-[rgba(0,122,255,0.2)] group-hover:bg-white"}`,children:l.jsx(p,{className:`w-4 h-4 ${g?"text-[rgb(0,122,255)]":"text-gray-500 group-hover:text-[rgb(0,122,255)]"}`})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-semibold ${g?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:h.label}),l.jsx("p",{className:"text-xs text-gray-500",children:h.description})]})]})},h.id)})})]})}),l.jsx("section",{className:"flex-1 hig-card p-6",children:f()})]})]})}function tee(){var f;const{user:e,roleInfo:t}=pt(),[r,n]=m.useState(((f=e==null?void 0:e.user_metadata)==null?void 0:f.name)||""),[a,i]=m.useState(!1),[s,o]=m.useState(null),c=async h=>{if(h.preventDefault(),!e)return;i(!0),o(null);const{error:p}=await H.auth.updateUser({data:{...e.user_metadata,name:r.trim()||e.email}});o(p?{type:"error",text:p.message||"Unable to update profile."}:{type:"success",text:"Profile updated."}),i(!1)},u=(r||(e==null?void 0:e.email)||"PI").split(" ").map(h=>h.charAt(0).toUpperCase()).slice(0,2).join(""),d=wi(t==null?void 0:t.globalRole);return l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage your display name, login email, and view the role assigned by your workspace admin."})]}),l.jsxs("form",{onSubmit:c,className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-2xl bg-[var(--app-accent)] text-white flex items-center justify-center text-xl font-semibold",children:u}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Signed in as"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e==null?void 0:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Full Name"}),l.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"hig-input",placeholder:"Jane Agent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Primary Email"}),l.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"hig-input bg-gray-50 text-gray-500"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change your login email."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsxs("div",{className:"hig-input bg-gray-50 text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-[11px] uppercase tracking-wide text-gray-500",children:d}),l.jsx("span",{className:"text-sm text-gray-600",children:"Workspace permissions are managed by your admin."})]})]})]}),s&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${s.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[s.type==="error"?l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(_i,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:s.text})]}),l.jsx("div",{className:"flex gap-3",children:l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Profile"})]})})})]})]})}function ree(){const[e,t]=m.useState({newPassword:"",confirmPassword:""}),[r,n]=m.useState(!1),[a,i]=m.useState(null),s=async o=>{if(o.preventDefault(),!e.newPassword||e.newPassword!==e.confirmPassword){i({type:"error",text:"Passwords must match."});return}n(!0),i(null);const{error:c}=await H.auth.updateUser({password:e.newPassword});c?i({type:"error",text:c.message||"Unable to update password."}):(i({type:"success",text:"Password updated successfully."}),t({newPassword:"",confirmPassword:""})),n(!1)};return l.jsxs("div",{className:"max-w-xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Password & Security"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Update your login password. Changes apply immediately across all PipelineIQ sessions."})]}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"New Password"}),l.jsx("input",{type:"password",value:e.newPassword,onChange:o=>t(c=>({...c,newPassword:o.target.value})),className:"hig-input",minLength:8,required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use at least 8 characters including a number or symbol."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Confirm Password"}),l.jsx("input",{type:"password",value:e.confirmPassword,onChange:o=>t(c=>({...c,confirmPassword:o.target.value})),className:"hig-input",required:!0})]}),a&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${a.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-emerald-700 border-emerald-200/60"}`,children:[a.type==="error"?l.jsx(hC,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(SC,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:a.text})]}),l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Updating"})]}):l.jsx("span",{children:"Update Password"})})]})]})}const nee=[{id:"new_lead",label:"New lead assigned"},{id:"stage_change",label:"Deal moved to a new stage"},{id:"reminders",label:"Task & follow-up reminders"},{id:"analytics",label:"Weekly pipeline summary"}],kS={new_lead:!0,stage_change:!0,reminders:!0,analytics:!1};function aee(){var c;const{user:e}=pt(),[t,r]=m.useState(kS),[n,a]=m.useState(!1),[i,s]=m.useState(null);m.useEffect(()=>{var u;(u=e==null?void 0:e.user_metadata)!=null&&u.notifications&&r({...kS,...e.user_metadata.notifications})},[(c=e==null?void 0:e.user_metadata)==null?void 0:c.notifications]);const o=async()=>{if(!e)return;a(!0),s(null);const{error:u}=await H.auth.updateUser({data:{...e.user_metadata,notifications:t}});s(u?{type:"error",text:u.message||"Unable to update notifications."}:{type:"success",text:"Notification preferences saved."}),a(!1)};return l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Choose which alerts to receive. These preferences only affect your PipelineIQ account."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:nee.map(u=>l.jsxs("label",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/90 px-4 py-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.label}),l.jsx("p",{className:"text-xs text-gray-500",children:"Delivered via email & in-app"})]}),l.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-[var(--app-accent)] focus:ring-[var(--app-accent)]",checked:t[u.id]??!1,onChange:d=>r(f=>({...f,[u.id]:d.target.checked}))})]},u.id))}),i&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${i.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[i.type==="error"?l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(_i,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:i.text})]}),l.jsx("button",{onClick:o,className:"hig-btn-primary",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Preferences"})]})})]})]})}function iee(){const{user:e}=pt(),[t,r]=m.useState(!0),[n,a]=m.useState(!1),[i,s]=m.useState(null),[o,c]=m.useState({annual_gci_goal:0,default_tax_rate:25,default_brokerage_split_rate:20});m.useEffect(()=>{u()},[e]);const u=async()=>{if(!e)return;const{data:f}=await H.from("user_settings").select("*").eq("user_id",e.id).maybeSingle();f&&c({annual_gci_goal:f.annual_gci_goal,default_tax_rate:f.default_tax_rate*100,default_brokerage_split_rate:f.default_brokerage_split_rate*100}),r(!1)},d=async f=>{if(f.preventDefault(),!e)return;a(!0),s(null);const{error:h}=await H.from("user_settings").upsert({user_id:e.id,annual_gci_goal:o.annual_gci_goal,default_tax_rate:o.default_tax_rate/100,default_brokerage_split_rate:o.default_brokerage_split_rate/100});h?s({type:"error",text:"Failed to save preferences. Please try again."}):(s({type:"success",text:"Preferences updated!"}),setTimeout(()=>s(null),3e3)),a(!1)};return t?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(Nt,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Personal Preferences"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Set your financial targets and default assumptions. These only apply to your profile."})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Annual GCI Goal"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),l.jsx("input",{type:"number",value:o.annual_gci_goal,onChange:f=>c({...o,annual_gci_goal:parseFloat(f.target.value)||0}),className:"hig-input pl-8",placeholder:"100000",min:"0",step:"1000"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Your personal net commission goal for the year."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Tax Allocation"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:o.default_tax_rate,onChange:f=>c({...o,default_tax_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"25",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Used to forecast take-home pay inside PipelineIQ."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Brokerage Split"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:o.default_brokerage_split_rate,onChange:f=>c({...o,default_brokerage_split_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Determines what portion of each deal is allocated to your brokerage by default."})]}),i&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${i.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[i.type==="error"?l.jsx(Ta,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(_i,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:i.text})]}),l.jsx("div",{className:"pt-4 border-t border-gray-200/60 flex flex-wrap gap-3",children:l.jsx("button",{type:"submit",disabled:n,className:"hig-btn-primary px-8",children:n?l.jsxs(l.Fragment,{children:[l.jsx(Nt,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Preferences"})]})})})]})]})}const see=[{id:"personal.profile",label:"Profile",description:"Name & identity",icon:_h},{id:"personal.security",label:"Password & Security",description:"Account protection",icon:SC},{id:"personal.notifications",label:"Notifications",description:"Email + in-app alerts",icon:x3},{id:"personal.preferences",label:"Preferences",description:"Goals & defaults",icon:kC}];function oee(){const{user:e,roleInfo:t}=pt(),r=wi(t==null?void 0:t.globalRole),[n,a]=m.useState("personal.profile"),i=()=>{switch(n){case"personal.profile":return l.jsx(tee,{});case"personal.security":return l.jsx(ree,{});case"personal.notifications":return l.jsx(aee,{});case"personal.preferences":default:return l.jsx(iee,{})}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:l.jsx(_h,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Account Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Preferences that only apply to your login."})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Signed in"}),l.jsx("span",{className:"font-semibold text-gray-900",children:e==null?void 0:e.email})]}),l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("aside",{className:"lg:w-72 space-y-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Account"}),l.jsx("div",{className:"space-y-1",children:see.map(s=>{const o=s.icon,c=n===s.id;return l.jsx("button",{onClick:()=>a(s.id),className:`group w-full rounded-2xl border px-4 py-3 text-left transition-all duration-200 ${c?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:-translate-y-[1px] hover:border-[rgba(0,122,255,0.25)] hover:bg-[rgba(0,122,255,0.04)] hover:shadow-[0_12px_30px_rgba(0,0,0,0.06)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(0,122,255,0.35)]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`rounded-2xl border p-2 ${c?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50 group-hover:border-[rgba(0,122,255,0.2)] group-hover:bg-white"}`,children:l.jsx(o,{className:`w-4 h-4 ${c?"text-[rgb(0,122,255)]":"text-gray-500 group-hover:text-[rgb(0,122,255)]"}`})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-semibold ${c?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:s.label}),l.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})]})},s.id)})})]})}),l.jsx("section",{className:"flex-1 hig-card p-6",children:i()})]})]})}const lee=[{title:"AI Contract Drafting",description:"Instinctively assemble Dotloop-ready agreements from natural-language prompts."},{title:"Smart Field Autofill",description:"Pull buyer, seller, property, and financing data directly from your CRM or files."},{title:"Amendments in Seconds",description:"Request edits in plain English and regenerate updated paperwork instantly."},{title:"Compliance Checker",description:"Let AI scan for missing signatures, incorrect clauses, or jurisdictional nuances."},{title:"Team Collaboration Tools",description:"Shared templates, version history, and real-time updates for every stakeholder."}];function cee(){const[e,t]=m.useState(""),[r,n]=m.useState("idle"),a=i=>{if(i.preventDefault(),!e.trim()){n("error");return}n("loading"),setTimeout(()=>{n("success"),t("")},1200)};return l.jsxs("div",{className:"min-h-screen bg-white text-slate-900 flex flex-col",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f4f7fb] via-white to-[#eef4fa] pointer-events-none"}),l.jsx("header",{className:"relative z-10 border-b border-slate-200/60",children:l.jsx("div",{className:"max-w-5xl mx-auto px-6 py-6 flex items-center",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uee,{}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs tracking-[0.3em] text-slate-500 uppercase font-semibold",children:"Contract"}),l.jsx("p",{className:"text-xl font-semibold tracking-tight text-slate-800",children:"Scribe"})]})]})})}),l.jsxs("main",{className:"relative z-10 flex-1",children:[l.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500 mb-4",children:"ContractScribe"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-slate-900 leading-tight mb-4",children:"ContractScribe is Coming Soon"}),l.jsx("p",{className:"text-lg text-slate-600 mb-8 max-w-3xl mx-auto",children:"The fastest way for real-estate professionals to draft, edit, and manage contracts with AI-powered precision. Automation that feels human, accuracy that feels inevitable."}),l.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-3 justify-center max-w-2xl mx-auto",children:[l.jsx("input",{type:"email",value:e,onChange:i=>{t(i.target.value),r!=="idle"&&n("idle")},placeholder:"Enter your work email",className:"flex-1 rounded-2xl border border-slate-200/80 bg-white/90 px-5 py-3 text-sm shadow-inner focus:outline-none focus:ring-2 focus:ring-[#0E4B72]/20 focus:border-[#0E4B72]/50"}),l.jsx("button",{type:"submit",className:"rounded-2xl bg-[#0E4B72] text-white font-semibold px-6 py-3 text-sm shadow-[0_12px_24px_rgba(14,75,114,0.25)] hover:bg-[#0b3c5b] transition-colors",disabled:r==="loading",children:r==="loading"?"Joining":r==="success"?"Added!":"Join the Waitlist"})]}),r==="success"&&l.jsx("p",{className:"mt-3 text-sm text-emerald-600 animate-fade-in",children:"Thanks! Well be in touch shortly."}),r==="error"&&l.jsx("p",{className:"mt-3 text-sm text-rose-500",children:"Please enter a valid email address."})]}),l.jsx("section",{className:"max-w-6xl mx-auto px-6 pb-16",children:l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:lee.map(i=>l.jsxs("div",{className:"rounded-2xl border border-slate-200/70 bg-white/80 p-6 shadow-[0_12px_30px_rgba(15,23,42,0.08)] hover:-translate-y-1 transition-transform",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-[#0E4B72] mb-3",children:"Coming Feature"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:i.title}),l.jsx("p",{className:"text-sm text-slate-600",children:i.description})]},i.title))})}),l.jsx("section",{className:"max-w-3xl mx-auto px-6 pb-20 text-center",children:l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:"ContractScribe empowers agents, teams, and brokerages with lightning-fast contract workflows so you can spend more time closing dealsnot filling out paperwork."})})]}),l.jsx("footer",{className:"relative z-10 border-t border-slate-200/70 bg-white/80 backdrop-blur",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-slate-500",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{children:[" ",new Date().getFullYear()," ContractScribe"]}),l.jsx("span",{children:"Terms"}),l.jsx("span",{children:"Privacy"}),l.jsx("span",{children:"Security"})]}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Made by ",l.jsx("span",{className:"font-semibold text-slate-700",children:"Luminex Ventures"})]})]})})]})}const uee=()=>l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 56","aria-hidden":"true",className:"drop-shadow-sm",children:[l.jsx("path",{d:"M2 12L22 0L22 32L2 44Z",fill:"#F3C6C5"}),l.jsx("path",{d:"M12 18L32 6V38L12 50Z",fill:"#CF7A7A"}),l.jsx("path",{d:"M22 24L42 12V44L22 56Z",fill:"#C85757"})]});function dee(){const{token:e}=YM(),t=Ho();return l.jsx(PC,{onToggle:()=>t("/login"),presetToken:e})}function Wi({children:e}){const{user:t,loading:r,roleInfo:n,signOut:a}=pt();return r?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?n&&n.isActive===!1?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md rounded-2xl border border-[var(--app-border)] bg-white/90 p-6 text-center shadow-xl space-y-3",children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Account deactivated"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your PipelineIQ access has been suspended. Please reach out to an administrator if you believe this is a mistake."}),l.jsx("button",{onClick:a,className:"hig-btn-secondary mx-auto",children:"Back to login"})]})}):l.jsx(X3,{children:e}):l.jsx(Xd,{to:"/login",replace:!0})}function NS({children:e}){const{user:t,loading:r}=pt();return r?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?l.jsx(Xd,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:e})}function fee(){const[e,t]=m.useState(!0);return e?l.jsx(J3,{onToggle:()=>t(!1)}):l.jsx(PC,{onToggle:()=>t(!0)})}function hee(){return l.jsx(f3,{children:l.jsx(I5,{children:l.jsxs(u5,{children:[l.jsx(Ur,{path:"/login",element:l.jsx(NS,{children:l.jsx(fee,{})})}),l.jsx(Ur,{path:"/",element:l.jsx(Wi,{children:l.jsx(nZ,{})})}),l.jsx(Ur,{path:"/invite/:token",element:l.jsx(NS,{children:l.jsx(dee,{})})}),l.jsx(Ur,{path:"/pipeline",element:l.jsx(Wi,{children:l.jsx(EZ,{})})}),l.jsx(Ur,{path:"/tasks",element:l.jsx(Wi,{children:l.jsx(DZ,{})})}),l.jsx(Ur,{path:"/luma",element:l.jsx(Wi,{children:l.jsx(RZ,{})})}),l.jsx(Ur,{path:"/analytics",element:l.jsx(Wi,{children:l.jsx(OZ,{})})}),l.jsx(Ur,{path:"/workspace-settings",element:l.jsx(Wi,{children:l.jsx(eee,{})})}),l.jsx(Ur,{path:"/settings",element:l.jsx(Wi,{children:l.jsx(oee,{})})}),l.jsx(Ur,{path:"/lead-sources",element:l.jsx(Xd,{to:"/workspace-settings",replace:!0})}),l.jsx(Ur,{path:"/pipeline-settings",element:l.jsx(Xd,{to:"/workspace-settings",replace:!0})}),l.jsx(Ur,{path:"/contractscribe",element:l.jsx(cee,{})})]})})})}BN(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(hee,{})}));
