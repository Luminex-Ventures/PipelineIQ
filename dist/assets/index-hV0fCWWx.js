var HD=Object.defineProperty;var qD=(e,t,r)=>t in e?HD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Up=(e,t,r)=>qD(e,typeof t!="symbol"?t+"":t,r);function TS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Ya(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function VD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var DS={exports:{}},ih={},IS={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),GD=Symbol.for("react.portal"),YD=Symbol.for("react.fragment"),XD=Symbol.for("react.strict_mode"),JD=Symbol.for("react.profiler"),QD=Symbol.for("react.provider"),ZD=Symbol.for("react.context"),eI=Symbol.for("react.forward_ref"),tI=Symbol.for("react.suspense"),rI=Symbol.for("react.memo"),nI=Symbol.for("react.lazy"),mb=Symbol.iterator;function aI(e){return e===null||typeof e!="object"?null:(e=mb&&e[mb]||e["@@iterator"],typeof e=="function"?e:null)}var RS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MS=Object.assign,$S={};function Wo(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||RS}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LS(){}LS.prototype=Wo.prototype;function hy(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||RS}var py=hy.prototype=new LS;py.constructor=hy;MS(py,Wo.prototype);py.isPureReactComponent=!0;var gb=Array.isArray,FS=Object.prototype.hasOwnProperty,my={current:null},BS={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)FS.call(t,n)&&!BS.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Wc,type:e,key:i,ref:s,props:a,_owner:my.current}}function iI(e,t){return{$$typeof:Wc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wc}function sI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vb=/\/+/g;function zp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sI(""+e.key):t.toString(36)}function hd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wc:case GD:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+zp(s,0):n,gb(a)?(r="",e!=null&&(r=e.replace(vb,"$&/")+"/"),hd(a,t,r,"",function(u){return u})):a!=null&&(gy(a)&&(a=iI(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(vb,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",gb(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+zp(i,o);s+=hd(i,t,r,c,a)}else if(c=aI(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+zp(i,o++),s+=hd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function xu(e,t,r){if(e==null)return e;var n=[],a=0;return hd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function oI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Er={current:null},pd={transition:null},lI={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:pd,ReactCurrentOwner:my};function zS(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:xu,forEach:function(e,t,r){xu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!gy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Wo;Re.Fragment=YD;Re.Profiler=JD;Re.PureComponent=hy;Re.StrictMode=XD;Re.Suspense=tI;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lI;Re.act=zS;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=MS({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=my.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)FS.call(t,c)&&!BS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Wc,type:e.type,key:a,ref:i,props:n,_owner:s}};Re.createContext=function(e){return e={$$typeof:ZD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QD,_context:e},e.Consumer=e};Re.createElement=US;Re.createFactory=function(e){var t=US.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:eI,render:e}};Re.isValidElement=gy;Re.lazy=function(e){return{$$typeof:nI,_payload:{_status:-1,_result:e},_init:oI}};Re.memo=function(e,t){return{$$typeof:rI,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=pd.transition;pd.transition={};try{e()}finally{pd.transition=t}};Re.unstable_act=zS;Re.useCallback=function(e,t){return Er.current.useCallback(e,t)};Re.useContext=function(e){return Er.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Er.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Er.current.useEffect(e,t)};Re.useId=function(){return Er.current.useId()};Re.useImperativeHandle=function(e,t,r){return Er.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return Er.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Er.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Er.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return Er.current.useReducer(e,t,r)};Re.useRef=function(e){return Er.current.useRef(e)};Re.useState=function(e){return Er.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return Er.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return Er.current.useTransition()};Re.version="18.3.1";IS.exports=Re;var m=IS.exports;const ct=Ya(m),cI=TS({__proto__:null,default:ct},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI=m,dI=Symbol.for("react.element"),fI=Symbol.for("react.fragment"),hI=Object.prototype.hasOwnProperty,pI=uI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mI={key:!0,ref:!0,__self:!0,__source:!0};function WS(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)hI.call(t,n)&&!mI.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dI,type:e,key:i,ref:s,props:a,_owner:pI.current}}ih.Fragment=fI;ih.jsx=WS;ih.jsxs=WS;DS.exports=ih;var l=DS.exports,KS={exports:{}},hn={},HS={exports:{}},qS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,M){var L=A.length;A.push(M);e:for(;0<L;){var se=L-1>>>1,ee=A[se];if(0<a(ee,M))A[se]=M,A[L]=ee,L=se;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],L=A.pop();if(L!==M){A[0]=L;e:for(var se=0,ee=A.length,me=ee>>>1;se<me;){var I=2*(se+1)-1,te=A[I],z=I+1,X=A[z];if(0>a(te,L))z<ee&&0>a(X,te)?(A[se]=X,A[z]=L,se=z):(A[se]=te,A[I]=L,se=I);else if(z<ee&&0>a(X,L))A[se]=X,A[z]=L,se=z;else break e}}return M}function a(A,M){var L=A.sortIndex-M.sortIndex;return L!==0?L:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(A){if(y=!1,b(A),!g)if(r(c)!==null)g=!0,U(j);else{var M=r(u);M!==null&&W(_,M.startTime-A)}}function j(A,M){g=!1,y&&(y=!1,x(k),k=-1),p=!0;var L=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||A&&!P());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ee=se(f.expirationTime<=M);M=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var me=!0;else{var I=r(u);I!==null&&W(_,I.startTime-M),me=!1}return me}finally{f=null,h=L,p=!1}}var S=!1,N=null,k=-1,C=5,E=-1;function P(){return!(e.unstable_now()-E<C)}function O(){if(N!==null){var A=e.unstable_now();E=A;var M=!0;try{M=N(!0,A)}finally{M?q():(S=!1,N=null)}}else S=!1}var q;if(typeof w=="function")q=function(){w(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=O,q=function(){Z.postMessage(null)}}else q=function(){v(O,0)};function U(A){N=A,S||(S=!0,q())}function W(A,M){k=v(function(){A(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,U(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return A()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=h;h=A;try{return M()}finally{h=L}},e.unstable_scheduleCallback=function(A,M,L){var se=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?se+L:se):L=se,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=L+ee,A={id:d++,callback:M,priorityLevel:A,startTime:L,expirationTime:ee,sortIndex:-1},L>se?(A.sortIndex=L,t(u,A),r(c)===null&&A===r(u)&&(y?(x(k),k=-1):y=!0,W(_,L-se))):(A.sortIndex=ee,t(c,A),g||p||(g=!0,U(j))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var M=h;return function(){var L=h;h=M;try{return A.apply(this,arguments)}finally{h=L}}}})(qS);HS.exports=qS;var gI=HS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI=m,un=gI;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VS=new Set,nc={};function Ts(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(nc[e]=t,e=0;e<t.length;e++)VS.add(t[e])}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ng=Object.prototype.hasOwnProperty,yI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yb={},xb={};function xI(e){return ng.call(xb,e)?!0:ng.call(yb,e)?!1:yI.test(e)?xb[e]=!0:(yb[e]=!0,!1)}function bI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wI(e,t,r,n){if(t===null||typeof t>"u"||bI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dr[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dr[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dr[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dr[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dr[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dr[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dr[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dr[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dr[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function yy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vy,yy);dr[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vy,yy);dr[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vy,yy);dr[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xy(e,t,r,n){var a=dr.hasOwnProperty(t)?dr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wI(t,r,a,n)&&(r=null),n||a===null?xI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xa=vI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),to=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),GS=Symbol.for("react.provider"),YS=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),_y=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),XS=Symbol.for("react.offscreen"),bb=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=bb&&e[bb]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,Wp;function Rl(e){if(Wp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wp=t&&t[1]||""}return`
`+Wp+e}var Kp=!1;function Hp(e,t){if(!e||Kp)return"";Kp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Kp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function _I(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=Hp(e.type,!1),e;case 11:return e=Hp(e.type.render,!1),e;case 1:return e=Hp(e.type,!0),e;default:return""}}function og(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case to:return"Portal";case ag:return"Profiler";case by:return"StrictMode";case ig:return"Suspense";case sg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YS:return(e.displayName||"Context")+".Consumer";case GS:return(e._context.displayName||"Context")+".Provider";case wy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _y:return t=e.displayName||null,t!==null?t:og(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return og(e(t))}catch{}}return null}function jI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return og(t);case 8:return t===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ei(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SI(e){var t=JS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wu(e){e._valueTracker||(e._valueTracker=SI(e))}function QS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lg(e,t){var r=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ei(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZS(e,t){t=t.checked,t!=null&&xy(e,"checked",t,!1)}function cg(e,t){ZS(e,t);var r=Ei(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ug(e,t.type,r):t.hasOwnProperty("defaultValue")&&ug(e,t.type,Ei(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _b(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ug(e,t,r){(t!=="number"||Ad(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function go(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ei(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function dg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Ml(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ei(r)}}function eN(e,t){var r=Ei(t.value),n=Ei(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _u,rN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_u.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ac(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NI=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(e){NI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zl[t]=zl[e]})});function nN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zl.hasOwnProperty(e)&&zl[e]?(""+t).trim():t+"px"}function aN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=nN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kI=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(e,t){if(t){if(kI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function pg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=null;function jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gg=null,vo=null,yo=null;function Nb(e){if(e=qc(e)){if(typeof gg!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=uh(t),gg(e.stateNode,e.type,t))}}function iN(e){vo?yo?yo.push(e):yo=[e]:vo=e}function sN(){if(vo){var e=vo,t=yo;if(yo=vo=null,Nb(e),t)for(e=0;e<t.length;e++)Nb(t[e])}}function oN(e,t){return e(t)}function lN(){}var qp=!1;function cN(e,t,r){if(qp)return e(t,r);qp=!0;try{return oN(e,t,r)}finally{qp=!1,(vo!==null||yo!==null)&&(lN(),sN())}}function ic(e,t){var r=e.stateNode;if(r===null)return null;var n=uh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var vg=!1;if(Ra)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){vg=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{vg=!1}function CI(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wl=!1,Td=null,Dd=!1,yg=null,EI={onError:function(e){Wl=!0,Td=e}};function PI(e,t,r,n,a,i,s,o,c){Wl=!1,Td=null,CI.apply(EI,arguments)}function OI(e,t,r,n,a,i,s,o,c){if(PI.apply(this,arguments),Wl){if(Wl){var u=Td;Wl=!1,Td=null}else throw Error(ne(198));Dd||(Dd=!0,yg=u)}}function Ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kb(e){if(Ds(e)!==e)throw Error(ne(188))}function AI(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return kb(a),e;if(i===n)return kb(a),t;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function dN(e){return e=AI(e),e!==null?fN(e):null}function fN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fN(e);if(t!==null)return t;e=e.sibling}return null}var hN=un.unstable_scheduleCallback,Cb=un.unstable_cancelCallback,TI=un.unstable_shouldYield,DI=un.unstable_requestPaint,St=un.unstable_now,II=un.unstable_getCurrentPriorityLevel,Sy=un.unstable_ImmediatePriority,pN=un.unstable_UserBlockingPriority,Id=un.unstable_NormalPriority,RI=un.unstable_LowPriority,mN=un.unstable_IdlePriority,sh=null,fa=null;function MI(e){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(sh,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:FI,$I=Math.log,LI=Math.LN2;function FI(e){return e>>>=0,e===0?32:31-($I(e)/LI|0)|0}var ju=64,Su=4194304;function $l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=$l(o):(i&=s,i!==0&&(n=$l(i)))}else s=r&~a,s!==0?n=$l(s):i!==0&&(n=$l(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vn(t),a=1<<r,n|=e[r],t&=~a;return n}function BI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Vn(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=BI(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gN(){var e=ju;return ju<<=1,!(ju&4194240)&&(ju=64),e}function Vp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=r}function zI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Vn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Ny(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ge=0;function vN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yN,ky,xN,bN,wN,bg=!1,Nu=[],yi=null,xi=null,bi=null,sc=new Map,oc=new Map,di=[],WI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eb(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function vl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=qc(t),t!==null&&ky(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KI(e,t,r,n,a){switch(t){case"focusin":return yi=vl(yi,e,t,r,n,a),!0;case"dragenter":return xi=vl(xi,e,t,r,n,a),!0;case"mouseover":return bi=vl(bi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return sc.set(i,vl(sc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,oc.set(i,vl(oc.get(i)||null,e,t,r,n,a)),!0}return!1}function _N(e){var t=is(e.target);if(t!==null){var r=Ds(t);if(r!==null){if(t=r.tag,t===13){if(t=uN(r),t!==null){e.blockedOn=t,wN(e.priority,function(){xN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function md(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mg=n,r.target.dispatchEvent(n),mg=null}else return t=qc(r),t!==null&&ky(t),e.blockedOn=r,!1;t.shift()}return!0}function Pb(e,t,r){md(e)&&r.delete(t)}function HI(){bg=!1,yi!==null&&md(yi)&&(yi=null),xi!==null&&md(xi)&&(xi=null),bi!==null&&md(bi)&&(bi=null),sc.forEach(Pb),oc.forEach(Pb)}function yl(e,t){e.blockedOn===t&&(e.blockedOn=null,bg||(bg=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,HI)))}function lc(e){function t(a){return yl(a,e)}if(0<Nu.length){yl(Nu[0],e);for(var r=1;r<Nu.length;r++){var n=Nu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yi!==null&&yl(yi,e),xi!==null&&yl(xi,e),bi!==null&&yl(bi,e),sc.forEach(t),oc.forEach(t),r=0;r<di.length;r++)n=di[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<di.length&&(r=di[0],r.blockedOn===null);)_N(r),r.blockedOn===null&&di.shift()}var xo=Xa.ReactCurrentBatchConfig,Md=!0;function qI(e,t,r,n){var a=Ge,i=xo.transition;xo.transition=null;try{Ge=1,Cy(e,t,r,n)}finally{Ge=a,xo.transition=i}}function VI(e,t,r,n){var a=Ge,i=xo.transition;xo.transition=null;try{Ge=4,Cy(e,t,r,n)}finally{Ge=a,xo.transition=i}}function Cy(e,t,r,n){if(Md){var a=wg(e,t,r,n);if(a===null)nm(e,t,n,$d,r),Eb(e,n);else if(KI(a,e,t,r,n))n.stopPropagation();else if(Eb(e,n),t&4&&-1<WI.indexOf(e)){for(;a!==null;){var i=qc(a);if(i!==null&&yN(i),i=wg(e,t,r,n),i===null&&nm(e,t,n,$d,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else nm(e,t,n,null,r)}}var $d=null;function wg(e,t,r,n){if($d=null,e=jy(n),e=is(e),e!==null)if(t=Ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $d=e,null}function jN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(II()){case Sy:return 1;case pN:return 4;case Id:case RI:return 16;case mN:return 536870912;default:return 16}default:return 16}}var mi=null,Ey=null,gd=null;function SN(){if(gd)return gd;var e,t=Ey,r=t.length,n,a="value"in mi?mi.value:mi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return gd=a.slice(e,1<n?1-n:void 0)}function vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ku(){return!0}function Ob(){return!1}function pn(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ku:Ob,this.isPropagationStopped=Ob,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),t}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=pn(Ko),Hc=yt({},Ko,{view:0,detail:0}),GI=pn(Hc),Gp,Yp,xl,oh=yt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xl&&(xl&&e.type==="mousemove"?(Gp=e.screenX-xl.screenX,Yp=e.screenY-xl.screenY):Yp=Gp=0,xl=e),Gp)},movementY:function(e){return"movementY"in e?e.movementY:Yp}}),Ab=pn(oh),YI=yt({},oh,{dataTransfer:0}),XI=pn(YI),JI=yt({},Hc,{relatedTarget:0}),Xp=pn(JI),QI=yt({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),ZI=pn(QI),eR=yt({},Ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tR=pn(eR),rR=yt({},Ko,{data:0}),Tb=pn(rR),nR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iR[e])?!!t[e]:!1}function Oy(){return sR}var oR=yt({},Hc,{key:function(e){if(e.key){var t=nR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(e){return e.type==="keypress"?vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lR=pn(oR),cR=yt({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Db=pn(cR),uR=yt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),dR=pn(uR),fR=yt({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=pn(fR),pR=yt({},oh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=pn(pR),gR=[9,13,27,32],Ay=Ra&&"CompositionEvent"in window,Kl=null;Ra&&"documentMode"in document&&(Kl=document.documentMode);var vR=Ra&&"TextEvent"in window&&!Kl,NN=Ra&&(!Ay||Kl&&8<Kl&&11>=Kl),Ib=" ",Rb=!1;function kN(e,t){switch(e){case"keyup":return gR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function yR(e,t){switch(e){case"compositionend":return CN(t);case"keypress":return t.which!==32?null:(Rb=!0,Ib);case"textInput":return e=t.data,e===Ib&&Rb?null:e;default:return null}}function xR(e,t){if(no)return e==="compositionend"||!Ay&&kN(e,t)?(e=SN(),gd=Ey=mi=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return NN&&t.locale!=="ko"?null:t.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bR[e.type]:t==="textarea"}function EN(e,t,r,n){iN(n),t=Ld(t,"onChange"),0<t.length&&(r=new Py("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,cc=null;function wR(e){FN(e,0)}function lh(e){var t=so(e);if(QS(t))return e}function _R(e,t){if(e==="change")return t}var PN=!1;if(Ra){var Jp;if(Ra){var Qp="oninput"in document;if(!Qp){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),Qp=typeof $b.oninput=="function"}Jp=Qp}else Jp=!1;PN=Jp&&(!document.documentMode||9<document.documentMode)}function Lb(){Hl&&(Hl.detachEvent("onpropertychange",ON),cc=Hl=null)}function ON(e){if(e.propertyName==="value"&&lh(cc)){var t=[];EN(t,cc,e,jy(e)),cN(wR,t)}}function jR(e,t,r){e==="focusin"?(Lb(),Hl=t,cc=r,Hl.attachEvent("onpropertychange",ON)):e==="focusout"&&Lb()}function SR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lh(cc)}function NR(e,t){if(e==="click")return lh(t)}function kR(e,t){if(e==="input"||e==="change")return lh(t)}function CR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:CR;function uc(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ng.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Fb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bb(e,t){var r=Fb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fb(r)}}function AN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TN(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ad(e.document)}return t}function Ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ER(e){var t=TN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&AN(r.ownerDocument.documentElement,r)){if(n!==null&&Ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Bb(r,i);var s=Bb(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PR=Ra&&"documentMode"in document&&11>=document.documentMode,ao=null,_g=null,ql=null,jg=!1;function Ub(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jg||ao==null||ao!==Ad(n)||(n=ao,"selectionStart"in n&&Ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ql&&uc(ql,n)||(ql=n,n=Ld(_g,"onSelect"),0<n.length&&(t=new Py("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ao)))}function Cu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var io={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Zp={},DN={};Ra&&(DN=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ch(e){if(Zp[e])return Zp[e];if(!io[e])return e;var t=io[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DN)return Zp[e]=t[r];return e}var IN=ch("animationend"),RN=ch("animationiteration"),MN=ch("animationstart"),$N=ch("transitionend"),LN=new Map,zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){LN.set(e,t),Ts(t,[e])}for(var em=0;em<zb.length;em++){var tm=zb[em],OR=tm.toLowerCase(),AR=tm[0].toUpperCase()+tm.slice(1);Ri(OR,"on"+AR)}Ri(IN,"onAnimationEnd");Ri(RN,"onAnimationIteration");Ri(MN,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri($N,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function Wb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OI(n,t,void 0,e),e.currentTarget=null}function FN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Wb(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Wb(a,o,u),i=c}}}if(Dd)throw e=yg,Dd=!1,yg=null,e}function at(e,t){var r=t[Eg];r===void 0&&(r=t[Eg]=new Set);var n=e+"__bubble";r.has(n)||(BN(t,e,2,!1),r.add(n))}function rm(e,t,r){var n=0;t&&(n|=4),BN(r,e,n,t)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[Eu]){e[Eu]=!0,VS.forEach(function(r){r!=="selectionchange"&&(TR.has(r)||rm(r,!1,e),rm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eu]||(t[Eu]=!0,rm("selectionchange",!1,t))}}function BN(e,t,r,n){switch(jN(t)){case 1:var a=qI;break;case 4:a=VI;break;default:a=Cy}r=a.bind(null,t,r,e),a=void 0,!vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function nm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=is(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}cN(function(){var u=i,d=jy(r),f=[];e:{var h=LN.get(e);if(h!==void 0){var p=Py,g=e;switch(e){case"keypress":if(vd(r)===0)break e;case"keydown":case"keyup":p=lR;break;case"focusin":g="focus",p=Xp;break;case"focusout":g="blur",p=Xp;break;case"beforeblur":case"afterblur":p=Xp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dR;break;case IN:case RN:case MN:p=ZI;break;case $N:p=hR;break;case"scroll":p=GI;break;case"wheel":p=mR;break;case"copy":case"cut":case"paste":p=tR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Db}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=ic(w,x),_!=null&&y.push(fc(w,_,b)))),v)break;w=w.return}0<y.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==mg&&(g=r.relatedTarget||r.fromElement)&&(is(g)||g[Ma]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?is(g):null,g!==null&&(v=Ds(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Ab,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Db,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?h:so(p),b=g==null?h:so(g),h=new y(_,w+"leave",p,r,d),h.target=v,h.relatedTarget=b,_=null,is(d)===u&&(y=new y(x,w+"enter",g,r,d),y.target=b,y.relatedTarget=v,_=y),v=_,p&&g)t:{for(y=p,x=g,w=0,b=y;b;b=Fs(b))w++;for(b=0,_=x;_;_=Fs(_))b++;for(;0<w-b;)y=Fs(y),w--;for(;0<b-w;)x=Fs(x),b--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Fs(y),x=Fs(x)}y=null}else y=null;p!==null&&Kb(f,h,p,y,!1),g!==null&&v!==null&&Kb(f,v,g,y,!0)}}e:{if(h=u?so(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=_R;else if(Mb(h))if(PN)j=kR;else{j=SR;var S=jR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=NR);if(j&&(j=j(e,u))){EN(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ug(h,"number",h.value)}switch(S=u?so(u):window,e){case"focusin":(Mb(S)||S.contentEditable==="true")&&(ao=S,_g=u,ql=null);break;case"focusout":ql=_g=ao=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,Ub(f,r,d);break;case"selectionchange":if(PR)break;case"keydown":case"keyup":Ub(f,r,d)}var N;if(Ay)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else no?kN(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(NN&&r.locale!=="ko"&&(no||k!=="onCompositionStart"?k==="onCompositionEnd"&&no&&(N=SN()):(mi=d,Ey="value"in mi?mi.value:mi.textContent,no=!0)),S=Ld(u,k),0<S.length&&(k=new Tb(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=CN(r),N!==null&&(k.data=N)))),(N=vR?yR(e,r):xR(e,r))&&(u=Ld(u,"onBeforeInput"),0<u.length&&(d=new Tb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}FN(f,t)})}function fc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ld(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ic(e,r),i!=null&&n.unshift(fc(e,i,a)),i=ic(e,t),i!=null&&n.push(fc(e,i,a))),e=e.return}return n}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kb(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=ic(r,i),c!=null&&s.unshift(fc(r,c,o))):a||(c=ic(r,i),c!=null&&s.push(fc(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var DR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function Hb(e){return(typeof e=="string"?e:""+e).replace(DR,`
`).replace(IR,"")}function Pu(e,t,r){if(t=Hb(t),Hb(e)!==t&&r)throw Error(ne(425))}function Fd(){}var Sg=null,Ng=null;function kg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cg=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(e){return qb.resolve(null).then(e).catch($R)}:Cg;function $R(e){setTimeout(function(){throw e})}function am(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),lc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);lc(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),ua="__reactFiber$"+Ho,hc="__reactProps$"+Ho,Ma="__reactContainer$"+Ho,Eg="__reactEvents$"+Ho,LR="__reactListeners$"+Ho,FR="__reactHandles$"+Ho;function is(e){var t=e[ua];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ma]||r[ua]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vb(e);e!==null;){if(r=e[ua])return r;e=Vb(e)}return t}e=r,r=e.parentNode}return null}function qc(e){return e=e[ua]||e[Ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function uh(e){return e[hc]||null}var Pg=[],oo=-1;function Mi(e){return{current:e}}function st(e){0>oo||(e.current=Pg[oo],Pg[oo]=null,oo--)}function nt(e,t){oo++,Pg[oo]=e.current,e.current=t}var Pi={},yr=Mi(Pi),Ur=Mi(!1),ys=Pi;function Eo(e,t){var r=e.type.contextTypes;if(!r)return Pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zr(e){return e=e.childContextTypes,e!=null}function Bd(){st(Ur),st(yr)}function Gb(e,t,r){if(yr.current!==Pi)throw Error(ne(168));nt(yr,t),nt(Ur,r)}function UN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ne(108,jI(e)||"Unknown",a));return yt({},r,n)}function Ud(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,ys=yr.current,nt(yr,e),nt(Ur,Ur.current),!0}function Yb(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=UN(e,t,ys),n.__reactInternalMemoizedMergedChildContext=e,st(Ur),st(yr),nt(yr,e)):st(Ur),nt(Ur,r)}var Sa=null,dh=!1,im=!1;function zN(e){Sa===null?Sa=[e]:Sa.push(e)}function BR(e){dh=!0,zN(e)}function $i(){if(!im&&Sa!==null){im=!0;var e=0,t=Ge;try{var r=Sa;for(Ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sa=null,dh=!1}catch(a){throw Sa!==null&&(Sa=Sa.slice(e+1)),hN(Sy,$i),a}finally{Ge=t,im=!1}}return null}var lo=[],co=0,zd=null,Wd=0,Nn=[],kn=0,xs=null,Ca=1,Ea="";function Xi(e,t){lo[co++]=Wd,lo[co++]=zd,zd=e,Wd=t}function WN(e,t,r){Nn[kn++]=Ca,Nn[kn++]=Ea,Nn[kn++]=xs,xs=e;var n=Ca;e=Ea;var a=32-Vn(n)-1;n&=~(1<<a),r+=1;var i=32-Vn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ca=1<<32-Vn(t)+a|r<<a|n,Ea=i+e}else Ca=1<<i|r<<a|n,Ea=e}function Dy(e){e.return!==null&&(Xi(e,1),WN(e,1,0))}function Iy(e){for(;e===zd;)zd=lo[--co],lo[co]=null,Wd=lo[--co],lo[co]=null;for(;e===xs;)xs=Nn[--kn],Nn[kn]=null,Ea=Nn[--kn],Nn[kn]=null,Ca=Nn[--kn],Nn[kn]=null}var ln=null,on=null,ut=!1,Kn=null;function KN(e,t){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,on=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xs!==null?{id:Ca,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,on=null,!0):!1;default:return!1}}function Og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ag(e){if(ut){var t=on;if(t){var r=t;if(!Xb(e,t)){if(Og(e))throw Error(ne(418));t=wi(r.nextSibling);var n=ln;t&&Xb(e,t)?KN(n,r):(e.flags=e.flags&-4097|2,ut=!1,ln=e)}}else{if(Og(e))throw Error(ne(418));e.flags=e.flags&-4097|2,ut=!1,ln=e}}}function Jb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Ou(e){if(e!==ln)return!1;if(!ut)return Jb(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kg(e.type,e.memoizedProps)),t&&(t=on)){if(Og(e))throw HN(),Error(ne(418));for(;t;)KN(e,t),t=wi(t.nextSibling)}if(Jb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){on=wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}on=null}}else on=ln?wi(e.stateNode.nextSibling):null;return!0}function HN(){for(var e=on;e;)e=wi(e.nextSibling)}function Po(){on=ln=null,ut=!1}function Ry(e){Kn===null?Kn=[e]:Kn.push(e)}var UR=Xa.ReactCurrentBatchConfig;function bl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Au(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qb(e){var t=e._init;return t(e._payload)}function qN(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function a(x,w){return x=Ni(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,_){return w===null||w.tag!==6?(w=fm(b,x.mode,_),w.return=x,w):(w=a(w,b),w.return=x,w)}function c(x,w,b,_){var j=b.type;return j===ro?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===si&&Qb(j)===w.type)?(_=a(w,b.props),_.ref=bl(x,w,b),_.return=x,_):(_=Sd(b.type,b.key,b.props,null,x.mode,_),_.ref=bl(x,w,b),_.return=x,_)}function u(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=hm(b,x.mode,_),w.return=x,w):(w=a(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,j){return w===null||w.tag!==7?(w=hs(b,x.mode,_,j),w.return=x,w):(w=a(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=fm(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bu:return b=Sd(w.type,w.key,w.props,null,x.mode,b),b.ref=bl(x,null,w),b.return=x,b;case to:return w=hm(w,x.mode,b),w.return=x,w;case si:var _=w._init;return f(x,_(w._payload),b)}if(Ml(w)||ml(w))return w=hs(w,x.mode,b,null),w.return=x,w;Au(x,w)}return null}function h(x,w,b,_){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:return b.key===j?c(x,w,b,_):null;case to:return b.key===j?u(x,w,b,_):null;case si:return j=b._init,h(x,w,j(b._payload),_)}if(Ml(b)||ml(b))return j!==null?null:d(x,w,b,_,null);Au(x,b)}return null}function p(x,w,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(w,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bu:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,j);case to:return x=x.get(_.key===null?b:_.key)||null,u(w,x,_,j);case si:var S=_._init;return p(x,w,b,S(_._payload),j)}if(Ml(_)||ml(_))return x=x.get(b)||null,d(w,x,_,j,null);Au(w,_)}return null}function g(x,w,b,_){for(var j=null,S=null,N=w,k=w=0,C=null;N!==null&&k<b.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var E=h(x,N,b[k],_);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(x,N),w=i(E,w,k),S===null?j=E:S.sibling=E,S=E,N=C}if(k===b.length)return r(x,N),ut&&Xi(x,k),j;if(N===null){for(;k<b.length;k++)N=f(x,b[k],_),N!==null&&(w=i(N,w,k),S===null?j=N:S.sibling=N,S=N);return ut&&Xi(x,k),j}for(N=n(x,N);k<b.length;k++)C=p(N,x,k,b[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),w=i(C,w,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(P){return t(x,P)}),ut&&Xi(x,k),j}function y(x,w,b,_){var j=ml(b);if(typeof j!="function")throw Error(ne(150));if(b=j.call(b),b==null)throw Error(ne(151));for(var S=j=null,N=w,k=w=0,C=null,E=b.next();N!==null&&!E.done;k++,E=b.next()){N.index>k?(C=N,N=null):C=N.sibling;var P=h(x,N,E.value,_);if(P===null){N===null&&(N=C);break}e&&N&&P.alternate===null&&t(x,N),w=i(P,w,k),S===null?j=P:S.sibling=P,S=P,N=C}if(E.done)return r(x,N),ut&&Xi(x,k),j;if(N===null){for(;!E.done;k++,E=b.next())E=f(x,E.value,_),E!==null&&(w=i(E,w,k),S===null?j=E:S.sibling=E,S=E);return ut&&Xi(x,k),j}for(N=n(x,N);!E.done;k++,E=b.next())E=p(N,x,k,E.value,_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),w=i(E,w,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(O){return t(x,O)}),ut&&Xi(x,k),j}function v(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===ro&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bu:e:{for(var j=b.key,S=w;S!==null;){if(S.key===j){if(j=b.type,j===ro){if(S.tag===7){r(x,S.sibling),w=a(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===si&&Qb(j)===S.type){r(x,S.sibling),w=a(S,b.props),w.ref=bl(x,S,b),w.return=x,x=w;break e}r(x,S);break}else t(x,S);S=S.sibling}b.type===ro?(w=hs(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=Sd(b.type,b.key,b.props,null,x.mode,_),_.ref=bl(x,w,b),_.return=x,x=_)}return s(x);case to:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=a(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=hm(b,x.mode,_),w.return=x,x=w}return s(x);case si:return S=b._init,v(x,w,S(b._payload),_)}if(Ml(b))return g(x,w,b,_);if(ml(b))return y(x,w,b,_);Au(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=a(w,b),w.return=x,x=w):(r(x,w),w=fm(b,x.mode,_),w.return=x,x=w),s(x)):r(x,w)}return v}var Oo=qN(!0),VN=qN(!1),Kd=Mi(null),Hd=null,uo=null,My=null;function $y(){My=uo=Hd=null}function Ly(e){var t=Kd.current;st(Kd),e._currentValue=t}function Tg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bo(e,t){Hd=e,My=uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(My!==e)if(e={context:e,memoizedValue:t,next:null},uo===null){if(Hd===null)throw Error(ne(308));uo=e,Hd.dependencies={lanes:0,firstContext:e}}else uo=uo.next=e;return t}var ss=null;function Fy(e){ss===null?ss=[e]:ss.push(e)}function GN(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Fy(t)):(r.next=a.next,a.next=r),t.interleaved=r,$a(e,n)}function $a(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oi=!1;function By(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,$a(e,r)}return a=n.interleaved,a===null?(t.next=t,Fy(n)):(t.next=a.next,a.next=t),n.interleaved=t,$a(e,r)}function yd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ny(e,r)}}function Zb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qd(e,t,r,n){var a=e.updateQueue;oi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(h=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=yt({},f,h);break e;case 2:oi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ws|=s,e.lanes=s,e.memoizedState=f}}function ew(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ne(191,a));a.call(n)}}}var Vc={},ha=Mi(Vc),pc=Mi(Vc),mc=Mi(Vc);function os(e){if(e===Vc)throw Error(ne(174));return e}function Uy(e,t){switch(nt(mc,t),nt(pc,e),nt(ha,Vc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fg(t,e)}st(ha),nt(ha,t)}function Ao(){st(ha),st(pc),st(mc)}function XN(e){os(mc.current);var t=os(ha.current),r=fg(t,e.type);t!==r&&(nt(pc,e),nt(ha,r))}function zy(e){pc.current===e&&(st(ha),st(pc))}var gt=Mi(0);function Vd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sm=[];function Wy(){for(var e=0;e<sm.length;e++)sm[e]._workInProgressVersionPrimary=null;sm.length=0}var xd=Xa.ReactCurrentDispatcher,om=Xa.ReactCurrentBatchConfig,bs=0,vt=null,Ft=null,Xt=null,Gd=!1,Vl=!1,gc=0,zR=0;function hr(){throw Error(ne(321))}function Ky(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function Hy(e,t,r,n,a,i){if(bs=i,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xd.current=e===null||e.memoizedState===null?qR:VR,e=r(n,a),Vl){i=0;do{if(Vl=!1,gc=0,25<=i)throw Error(ne(301));i+=1,Xt=Ft=null,t.updateQueue=null,xd.current=GR,e=r(n,a)}while(Vl)}if(xd.current=Yd,t=Ft!==null&&Ft.next!==null,bs=0,Xt=Ft=vt=null,Gd=!1,t)throw Error(ne(300));return e}function qy(){var e=gc!==0;return gc=0,e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?vt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function An(){if(Ft===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Xt===null?vt.memoizedState:Xt.next;if(t!==null)Xt=t,Ft=e;else{if(e===null)throw Error(ne(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Xt===null?vt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function vc(e,t){return typeof t=="function"?t(e):t}function lm(e){var t=An(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Ft,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,vt.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,Yn(n,t.memoizedState)||(Lr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,vt.lanes|=i,ws|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cm(e){var t=An(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Yn(i,t.memoizedState)||(Lr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function JN(){}function QN(e,t){var r=vt,n=An(),a=t(),i=!Yn(n.memoizedState,a);if(i&&(n.memoizedState=a,Lr=!0),n=n.queue,Vy(tk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,yc(9,ek.bind(null,r,n,a,t),void 0,null),Zt===null)throw Error(ne(349));bs&30||ZN(r,t,a)}return a}function ZN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ek(e,t,r,n){t.value=r,t.getSnapshot=n,rk(t)&&nk(e)}function tk(e,t,r){return r(function(){rk(t)&&nk(e)})}function rk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function nk(e){var t=$a(e,1);t!==null&&Gn(t,e,1,-1)}function tw(e){var t=la();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=HR.bind(null,vt,e),[t.memoizedState,e]}function yc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ak(){return An().memoizedState}function bd(e,t,r,n){var a=la();vt.flags|=e,a.memoizedState=yc(1|t,r,void 0,n===void 0?null:n)}function fh(e,t,r,n){var a=An();n=n===void 0?null:n;var i=void 0;if(Ft!==null){var s=Ft.memoizedState;if(i=s.destroy,n!==null&&Ky(n,s.deps)){a.memoizedState=yc(t,r,i,n);return}}vt.flags|=e,a.memoizedState=yc(1|t,r,i,n)}function rw(e,t){return bd(8390656,8,e,t)}function Vy(e,t){return fh(2048,8,e,t)}function ik(e,t){return fh(4,2,e,t)}function sk(e,t){return fh(4,4,e,t)}function ok(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lk(e,t,r){return r=r!=null?r.concat([e]):null,fh(4,4,ok.bind(null,t,e),r)}function Gy(){}function ck(e,t){var r=An();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ky(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uk(e,t){var r=An();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ky(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dk(e,t,r){return bs&21?(Yn(r,t)||(r=gN(),vt.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function WR(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var n=om.transition;om.transition={};try{e(!1),t()}finally{Ge=r,om.transition=n}}function fk(){return An().memoizedState}function KR(e,t,r){var n=Si(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hk(e))pk(t,r);else if(r=GN(e,t,r,n),r!==null){var a=kr();Gn(r,e,n,a),mk(r,t,n)}}function HR(e,t,r){var n=Si(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hk(e))pk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,s)){var c=t.interleaved;c===null?(a.next=a,Fy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=GN(e,t,a,n),r!==null&&(a=kr(),Gn(r,e,n,a),mk(r,t,n))}}function hk(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function pk(e,t){Vl=Gd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ny(e,r)}}var Yd={readContext:On,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},qR={readContext:On,useCallback:function(e,t){return la().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:rw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bd(4194308,4,ok.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return bd(4,2,e,t)},useMemo:function(e,t){var r=la();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=la();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KR.bind(null,vt,e),[n.memoizedState,e]},useRef:function(e){var t=la();return e={current:e},t.memoizedState=e},useState:tw,useDebugValue:Gy,useDeferredValue:function(e){return la().memoizedState=e},useTransition:function(){var e=tw(!1),t=e[0];return e=WR.bind(null,e[1]),la().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vt,a=la();if(ut){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Zt===null)throw Error(ne(349));bs&30||ZN(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,rw(tk.bind(null,n,i,e),[e]),n.flags|=2048,yc(9,ek.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=la(),t=Zt.identifierPrefix;if(ut){var r=Ea,n=Ca;r=(n&~(1<<32-Vn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VR={readContext:On,useCallback:ck,useContext:On,useEffect:Vy,useImperativeHandle:lk,useInsertionEffect:ik,useLayoutEffect:sk,useMemo:uk,useReducer:lm,useRef:ak,useState:function(){return lm(vc)},useDebugValue:Gy,useDeferredValue:function(e){var t=An();return dk(t,Ft.memoizedState,e)},useTransition:function(){var e=lm(vc)[0],t=An().memoizedState;return[e,t]},useMutableSource:JN,useSyncExternalStore:QN,useId:fk,unstable_isNewReconciler:!1},GR={readContext:On,useCallback:ck,useContext:On,useEffect:Vy,useImperativeHandle:lk,useInsertionEffect:ik,useLayoutEffect:sk,useMemo:uk,useReducer:cm,useRef:ak,useState:function(){return cm(vc)},useDebugValue:Gy,useDeferredValue:function(e){var t=An();return Ft===null?t.memoizedState=e:dk(t,Ft.memoizedState,e)},useTransition:function(){var e=cm(vc)[0],t=An().memoizedState;return[e,t]},useMutableSource:JN,useSyncExternalStore:QN,useId:fk,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hh={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=kr(),a=Si(e),i=Aa(n,a);i.payload=t,r!=null&&(i.callback=r),t=_i(e,i,a),t!==null&&(Gn(t,e,a,n),yd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=kr(),a=Si(e),i=Aa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=_i(e,i,a),t!==null&&(Gn(t,e,a,n),yd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=kr(),n=Si(e),a=Aa(r,n);a.tag=2,t!=null&&(a.callback=t),t=_i(e,a,n),t!==null&&(Gn(t,e,n,r),yd(t,e,n))}};function nw(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!uc(r,n)||!uc(a,i):!0}function gk(e,t,r){var n=!1,a=Pi,i=t.contextType;return typeof i=="object"&&i!==null?i=On(i):(a=zr(t)?ys:yr.current,n=t.contextTypes,i=(n=n!=null)?Eo(e,a):Pi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function aw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hh.enqueueReplaceState(t,t.state,null)}function Ig(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},By(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=On(i):(i=zr(t)?ys:yr.current,a.context=Eo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dg(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&hh.enqueueReplaceState(a,a.state,null),qd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function To(e,t){try{var r="",n=t;do r+=_I(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function um(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YR=typeof WeakMap=="function"?WeakMap:Map;function vk(e,t,r){r=Aa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jd||(Jd=!0,Hg=n),Rg(e,t)},r}function yk(e,t,r){r=Aa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Rg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rg(e,t),typeof n!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function iw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new YR;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=cM.bind(null,e,t,r),t.then(e,e))}function sw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ow(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Aa(-1,1),t.tag=2,_i(r,t,1))),r.lanes|=1),e)}var XR=Xa.ReactCurrentOwner,Lr=!1;function _r(e,t,r,n){t.child=e===null?VN(t,null,r,n):Oo(t,e.child,r,n)}function lw(e,t,r,n,a){r=r.render;var i=t.ref;return bo(t,a),n=Hy(e,t,r,n,i,a),r=qy(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,La(e,t,a)):(ut&&r&&Dy(t),t.flags|=1,_r(e,t,n,a),t.child)}function cw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!r0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xk(e,t,i,n,a)):(e=Sd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:uc,r(s,n)&&e.ref===t.ref)return La(e,t,a)}return t.flags|=1,e=Ni(i,n),e.ref=t.ref,e.return=t,t.child=e}function xk(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(uc(i,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,La(e,t,a)}return Mg(e,t,r,n,a)}function bk(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ho,tn),tn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(ho,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nt(ho,tn),tn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,nt(ho,tn),tn|=n;return _r(e,t,a,r),t.child}function wk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mg(e,t,r,n,a){var i=zr(r)?ys:yr.current;return i=Eo(t,i),bo(t,a),r=Hy(e,t,r,n,i,a),n=qy(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,La(e,t,a)):(ut&&n&&Dy(t),t.flags|=1,_r(e,t,r,a),t.child)}function uw(e,t,r,n,a){if(zr(r)){var i=!0;Ud(t)}else i=!1;if(bo(t,a),t.stateNode===null)wd(e,t),gk(t,r,n),Ig(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=On(u):(u=zr(r)?ys:yr.current,u=Eo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&aw(t,s,n,u),oi=!1;var h=t.memoizedState;s.state=h,qd(t,n,s,a),c=t.memoizedState,o!==n||h!==c||Ur.current||oi?(typeof d=="function"&&(Dg(t,r,d,n),c=t.memoizedState),(o=oi||nw(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,YN(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Un(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=On(c):(c=zr(r)?ys:yr.current,c=Eo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&aw(t,s,n,c),oi=!1,h=t.memoizedState,s.state=h,qd(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Ur.current||oi?(typeof p=="function"&&(Dg(t,r,p,n),g=t.memoizedState),(u=oi||nw(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return $g(e,t,r,n,i,a)}function $g(e,t,r,n,a,i){wk(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Yb(t,r,!1),La(e,t,i);n=t.stateNode,XR.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Oo(t,e.child,null,i),t.child=Oo(t,null,o,i)):_r(e,t,o,i),t.memoizedState=n.state,a&&Yb(t,r,!0),t.child}function _k(e){var t=e.stateNode;t.pendingContext?Gb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gb(e,t.context,!1),Uy(e,t.containerInfo)}function dw(e,t,r,n,a){return Po(),Ry(a),t.flags|=256,_r(e,t,r,n),t.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function jk(e,t,r){var n=t.pendingProps,a=gt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),nt(gt,a&1),e===null)return Ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gh(s,n,0,null),e=hs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fg(r),t.memoizedState=Lg,e):Yy(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return JR(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ni(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ni(o,i):(i=hs(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Fg(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Lg,n}return i=e.child,e=i.sibling,n=Ni(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yy(e,t){return t=gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tu(e,t,r,n){return n!==null&&Ry(n),Oo(t,e.child,null,r),e=Yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JR(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=um(Error(ne(422))),Tu(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=gh({mode:"visible",children:n.children},a,0,null),i=hs(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oo(t,e.child,null,s),t.child.memoizedState=Fg(s),t.memoizedState=Lg,i);if(!(t.mode&1))return Tu(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ne(419)),n=um(i,n,void 0),Tu(e,t,s,n)}if(o=(s&e.childLanes)!==0,Lr||o){if(n=Zt,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$a(e,a),Gn(n,e,a,-1))}return t0(),n=um(Error(ne(421))),Tu(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uM.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,on=wi(a.nextSibling),ln=t,ut=!0,Kn=null,e!==null&&(Nn[kn++]=Ca,Nn[kn++]=Ea,Nn[kn++]=xs,Ca=e.id,Ea=e.overflow,xs=t),t=Yy(t,n.children),t.flags|=4096,t)}function fw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tg(e.return,t,r)}function dm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Sk(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_r(e,t,n.children,r),n=gt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fw(e,r,t);else if(e.tag===19)fw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(nt(gt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Vd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),dm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}dm(t,!0,r,null,i);break;case"together":dm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function La(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Ni(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ni(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QR(e,t,r){switch(t.tag){case 3:_k(t),Po();break;case 5:XN(t);break;case 1:zr(t.type)&&Ud(t);break;case 4:Uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;nt(Kd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(nt(gt,gt.current&1),t.flags|=128,null):r&t.child.childLanes?jk(e,t,r):(nt(gt,gt.current&1),e=La(e,t,r),e!==null?e.sibling:null);nt(gt,gt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sk(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nt(gt,gt.current),n)break;return null;case 22:case 23:return t.lanes=0,bk(e,t,r)}return La(e,t,r)}var Nk,Bg,kk,Ck;Nk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bg=function(){};kk=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,os(ha.current);var i=null;switch(r){case"input":a=lg(e,a),n=lg(e,n),i=[];break;case"select":a=yt({},a,{value:void 0}),n=yt({},n,{value:void 0}),i=[];break;case"textarea":a=dg(e,a),n=dg(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fd)}hg(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ck=function(e,t,r,n){r!==n&&(t.flags|=4)};function wl(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZR(e,t,r){var n=t.pendingProps;switch(Iy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return zr(t.type)&&Bd(),pr(t),null;case 3:return n=t.stateNode,Ao(),st(Ur),st(yr),Wy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(Gg(Kn),Kn=null))),Bg(e,t),pr(t),null;case 5:zy(t);var a=os(mc.current);if(r=t.type,e!==null&&t.stateNode!=null)kk(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return pr(t),null}if(e=os(ha.current),Ou(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ua]=t,n[hc]=i,e=(t.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(a=0;a<Ll.length;a++)at(Ll[a],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":wb(n,i),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},at("invalid",n);break;case"textarea":jb(n,i),at("invalid",n)}hg(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Pu(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Pu(n.textContent,o,e),a=["children",""+o]):nc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&at("scroll",n)}switch(r){case"input":wu(n),_b(n,i,!0);break;case"textarea":wu(n),Sb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ua]=t,e[hc]=n,Nk(e,t,!1,!1),t.stateNode=e;e:{switch(s=pg(r,n),r){case"dialog":at("cancel",e),at("close",e),a=n;break;case"iframe":case"object":case"embed":at("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ll.length;a++)at(Ll[a],e);a=n;break;case"source":at("error",e),a=n;break;case"img":case"image":case"link":at("error",e),at("load",e),a=n;break;case"details":at("toggle",e),a=n;break;case"input":wb(e,n),a=lg(e,n),at("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=yt({},n,{value:void 0}),at("invalid",e);break;case"textarea":jb(e,n),a=dg(e,n),at("invalid",e);break;default:a=n}hg(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?aN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ac(e,c):typeof c=="number"&&ac(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&at("scroll",e):c!=null&&xy(e,i,c,s))}switch(r){case"input":wu(e),_b(e,n,!1);break;case"textarea":wu(e),Sb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ei(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?go(e,!!n.multiple,i,!1):n.defaultValue!=null&&go(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)Ck(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=os(mc.current),os(ha.current),Ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[ua]=t,(i=n.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:Pu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ua]=t,t.stateNode=n}return pr(t),null;case 13:if(st(gt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&on!==null&&t.mode&1&&!(t.flags&128))HN(),Po(),t.flags|=98560,i=!1;else if(i=Ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[ua]=t}else Po(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),i=!1}else Kn!==null&&(Gg(Kn),Kn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?Wt===0&&(Wt=3):t0())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return Ao(),Bg(e,t),e===null&&dc(t.stateNode.containerInfo),pr(t),null;case 10:return Ly(t.type._context),pr(t),null;case 17:return zr(t.type)&&Bd(),pr(t),null;case 19:if(st(gt),i=t.memoizedState,i===null)return pr(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)wl(i,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vd(e),s!==null){for(t.flags|=128,wl(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return nt(gt,gt.current&1|2),t.child}e=e.sibling}i.tail!==null&&St()>Do&&(t.flags|=128,n=!0,wl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ut)return pr(t),null}else 2*St()-i.renderingStartTime>Do&&r!==1073741824&&(t.flags|=128,n=!0,wl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=St(),t.sibling=null,r=gt.current,nt(gt,n?r&1|2:r&1),t):(pr(t),null);case 22:case 23:return e0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tn&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function eM(e,t){switch(Iy(t),t.tag){case 1:return zr(t.type)&&Bd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ao(),st(Ur),st(yr),Wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zy(t),null;case 13:if(st(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Po()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(gt),null;case 4:return Ao(),null;case 10:return Ly(t.type._context),null;case 22:case 23:return e0(),null;case 24:return null;default:return null}}var Du=!1,gr=!1,tM=typeof WeakSet=="function"?WeakSet:Set,ce=null;function fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(e,t,n)}else r.current=null}function Ug(e,t,r){try{r()}catch(n){bt(e,t,n)}}var hw=!1;function rM(e,t){if(Sg=Md,e=TN(),Ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ng={focusedElem:e,selectionRange:r},Md=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Un(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(_){bt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return g=hw,hw=!1,g}function Gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ug(t,r,i)}a=a.next}while(a!==n)}}function ph(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ek(e){var t=e.alternate;t!==null&&(e.alternate=null,Ek(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ua],delete t[hc],delete t[Eg],delete t[LR],delete t[FR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pk(e){return e.tag===5||e.tag===3||e.tag===4}function pw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fd));else if(n!==4&&(e=e.child,e!==null))for(Wg(e,t,r),e=e.sibling;e!==null;)Wg(e,t,r),e=e.sibling}function Kg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kg(e,t,r),e=e.sibling;e!==null;)Kg(e,t,r),e=e.sibling}var lr=null,Wn=!1;function ai(e,t,r){for(r=r.child;r!==null;)Ok(e,t,r),r=r.sibling}function Ok(e,t,r){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(sh,r)}catch{}switch(r.tag){case 5:gr||fo(r,t);case 6:var n=lr,a=Wn;lr=null,ai(e,t,r),lr=n,Wn=a,lr!==null&&(Wn?(e=lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Wn?(e=lr,r=r.stateNode,e.nodeType===8?am(e.parentNode,r):e.nodeType===1&&am(e,r),lc(e)):am(lr,r.stateNode));break;case 4:n=lr,a=Wn,lr=r.stateNode.containerInfo,Wn=!0,ai(e,t,r),lr=n,Wn=a;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ug(r,t,s),a=a.next}while(a!==n)}ai(e,t,r);break;case 1:if(!gr&&(fo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){bt(r,t,o)}ai(e,t,r);break;case 21:ai(e,t,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,ai(e,t,r),gr=n):ai(e,t,r);break;default:ai(e,t,r)}}function mw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tM),t.forEach(function(n){var a=dM.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:lr=o.stateNode,Wn=!1;break e;case 3:lr=o.stateNode.containerInfo,Wn=!0;break e;case 4:lr=o.stateNode.containerInfo,Wn=!0;break e}o=o.return}if(lr===null)throw Error(ne(160));Ok(i,s,a),lr=null,Wn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){bt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ak(t,e),t=t.sibling}function Ak(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fn(t,e),oa(e),n&4){try{Gl(3,e,e.return),ph(3,e)}catch(y){bt(e,e.return,y)}try{Gl(5,e,e.return)}catch(y){bt(e,e.return,y)}}break;case 1:Fn(t,e),oa(e),n&512&&r!==null&&fo(r,r.return);break;case 5:if(Fn(t,e),oa(e),n&512&&r!==null&&fo(r,r.return),e.flags&32){var a=e.stateNode;try{ac(a,"")}catch(y){bt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ZS(a,i),pg(o,s);var u=pg(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?aN(a,f):d==="dangerouslySetInnerHTML"?rN(a,f):d==="children"?ac(a,f):xy(a,d,f,u)}switch(o){case"input":cg(a,i);break;case"textarea":eN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?go(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?go(a,!!i.multiple,i.defaultValue,!0):go(a,!!i.multiple,i.multiple?[]:"",!1))}a[hc]=i}catch(y){bt(e,e.return,y)}}break;case 6:if(Fn(t,e),oa(e),n&4){if(e.stateNode===null)throw Error(ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){bt(e,e.return,y)}}break;case 3:if(Fn(t,e),oa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(y){bt(e,e.return,y)}break;case 4:Fn(t,e),oa(e);break;case 13:Fn(t,e),oa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Qy=St())),n&4&&mw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(gr=(u=gr)||d,Fn(t,e),gr=u):Fn(t,e),oa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:fo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){bt(n,r,y)}}break;case 5:fo(h,h.return);break;case 22:if(h.memoizedState!==null){vw(f);continue}}p!==null?(p.return=h,ce=p):vw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=nN("display",s))}catch(y){bt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){bt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(t,e),oa(e),n&4&&mw(e);break;case 21:break;default:Fn(t,e),oa(e)}}function oa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pk(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ac(a,""),n.flags&=-33);var i=pw(e);Kg(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=pw(e);Wg(e,o,s);break;default:throw Error(ne(161))}}catch(c){bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nM(e,t,r){ce=e,Tk(e)}function Tk(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var a=ce,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Du;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||gr;o=Du;var u=gr;if(Du=s,(gr=c)&&!u)for(ce=a;ce!==null;)s=ce,c=s.child,s.tag===22&&s.memoizedState!==null?yw(a):c!==null?(c.return=s,ce=c):yw(a);for(;i!==null;)ce=i,Tk(i),i=i.sibling;ce=a,Du=o,gr=u}gw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ce=i):gw(e)}}function gw(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||ph(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Un(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ew(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ew(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}gr||t.flags&512&&zg(t)}catch(h){bt(t,t.return,h)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function vw(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function yw(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ph(4,t)}catch(c){bt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){bt(t,a,c)}}var i=t.return;try{zg(t)}catch(c){bt(t,i,c)}break;case 5:var s=t.return;try{zg(t)}catch(c){bt(t,s,c)}}}catch(c){bt(t,t.return,c)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var aM=Math.ceil,Xd=Xa.ReactCurrentDispatcher,Xy=Xa.ReactCurrentOwner,Pn=Xa.ReactCurrentBatchConfig,Le=0,Zt=null,Pt=null,ur=0,tn=0,ho=Mi(0),Wt=0,xc=null,ws=0,mh=0,Jy=0,Yl=null,$r=null,Qy=0,Do=1/0,_a=null,Jd=!1,Hg=null,ji=null,Iu=!1,gi=null,Qd=0,Xl=0,qg=null,_d=-1,jd=0;function kr(){return Le&6?St():_d!==-1?_d:_d=St()}function Si(e){return e.mode&1?Le&2&&ur!==0?ur&-ur:UR.transition!==null?(jd===0&&(jd=gN()),jd):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:jN(e.type)),e):1}function Gn(e,t,r,n){if(50<Xl)throw Xl=0,qg=null,Error(ne(185));Kc(e,r,n),(!(Le&2)||e!==Zt)&&(e===Zt&&(!(Le&2)&&(mh|=r),Wt===4&&fi(e,ur)),Wr(e,n),r===1&&Le===0&&!(t.mode&1)&&(Do=St()+500,dh&&$i()))}function Wr(e,t){var r=e.callbackNode;UI(e,t);var n=Rd(e,e===Zt?ur:0);if(n===0)r!==null&&Cb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cb(r),t===1)e.tag===0?BR(xw.bind(null,e)):zN(xw.bind(null,e)),MR(function(){!(Le&6)&&$i()}),r=null;else{switch(vN(n)){case 1:r=Sy;break;case 4:r=pN;break;case 16:r=Id;break;case 536870912:r=mN;break;default:r=Id}r=Bk(r,Dk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dk(e,t){if(_d=-1,jd=0,Le&6)throw Error(ne(327));var r=e.callbackNode;if(wo()&&e.callbackNode!==r)return null;var n=Rd(e,e===Zt?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zd(e,n);else{t=n;var a=Le;Le|=2;var i=Rk();(Zt!==e||ur!==t)&&(_a=null,Do=St()+500,fs(e,t));do try{oM();break}catch(o){Ik(e,o)}while(!0);$y(),Xd.current=i,Le=a,Pt!==null?t=0:(Zt=null,ur=0,t=Wt)}if(t!==0){if(t===2&&(a=xg(e),a!==0&&(n=a,t=Vg(e,a))),t===1)throw r=xc,fs(e,0),fi(e,n),Wr(e,St()),r;if(t===6)fi(e,n);else{if(a=e.current.alternate,!(n&30)&&!iM(a)&&(t=Zd(e,n),t===2&&(i=xg(e),i!==0&&(n=i,t=Vg(e,i))),t===1))throw r=xc,fs(e,0),fi(e,n),Wr(e,St()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:Ji(e,$r,_a);break;case 3:if(fi(e,n),(n&130023424)===n&&(t=Qy+500-St(),10<t)){if(Rd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){kr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cg(Ji.bind(null,e,$r,_a),t);break}Ji(e,$r,_a);break;case 4:if(fi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Vn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aM(n/1960))-n,10<n){e.timeoutHandle=Cg(Ji.bind(null,e,$r,_a),n);break}Ji(e,$r,_a);break;case 5:Ji(e,$r,_a);break;default:throw Error(ne(329))}}}return Wr(e,St()),e.callbackNode===r?Dk.bind(null,e):null}function Vg(e,t){var r=Yl;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=Zd(e,t),e!==2&&(t=$r,$r=r,t!==null&&Gg(t)),e}function Gg(e){$r===null?$r=e:$r.push.apply($r,e)}function iM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t){for(t&=~Jy,t&=~mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vn(t),n=1<<r;e[r]=-1,t&=~n}}function xw(e){if(Le&6)throw Error(ne(327));wo();var t=Rd(e,0);if(!(t&1))return Wr(e,St()),null;var r=Zd(e,t);if(e.tag!==0&&r===2){var n=xg(e);n!==0&&(t=n,r=Vg(e,n))}if(r===1)throw r=xc,fs(e,0),fi(e,t),Wr(e,St()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e,$r,_a),Wr(e,St()),null}function Zy(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Do=St()+500,dh&&$i())}}function _s(e){gi!==null&&gi.tag===0&&!(Le&6)&&wo();var t=Le;Le|=1;var r=Pn.transition,n=Ge;try{if(Pn.transition=null,Ge=1,e)return e()}finally{Ge=n,Pn.transition=r,Le=t,!(Le&6)&&$i()}}function e0(){tn=ho.current,st(ho)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RR(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(Iy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bd();break;case 3:Ao(),st(Ur),st(yr),Wy();break;case 5:zy(n);break;case 4:Ao();break;case 13:st(gt);break;case 19:st(gt);break;case 10:Ly(n.type._context);break;case 22:case 23:e0()}r=r.return}if(Zt=e,Pt=e=Ni(e.current,null),ur=tn=t,Wt=0,xc=null,Jy=mh=ws=0,$r=Yl=null,ss!==null){for(t=0;t<ss.length;t++)if(r=ss[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}ss=null}return e}function Ik(e,t){do{var r=Pt;try{if($y(),xd.current=Yd,Gd){for(var n=vt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Gd=!1}if(bs=0,Xt=Ft=vt=null,Vl=!1,gc=0,Xy.current=null,r===null||r.return===null){Wt=1,xc=t,Pt=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=ur,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sw(s);if(p!==null){p.flags&=-257,ow(p,s,o,i,t),p.mode&1&&iw(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){iw(i,u,t),t0();break e}c=Error(ne(426))}}else if(ut&&o.mode&1){var v=sw(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ow(v,s,o,i,t),Ry(To(c,o));break e}}i=c=To(c,o),Wt!==4&&(Wt=2),Yl===null?Yl=[i]:Yl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=vk(i,c,t);Zb(i,x);break e;case 1:o=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ji===null||!ji.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=yk(i,o,t);Zb(i,_);break e}}i=i.return}while(i!==null)}$k(r)}catch(j){t=j,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function Rk(){var e=Xd.current;return Xd.current=Yd,e===null?Yd:e}function t0(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Zt===null||!(ws&268435455)&&!(mh&268435455)||fi(Zt,ur)}function Zd(e,t){var r=Le;Le|=2;var n=Rk();(Zt!==e||ur!==t)&&(_a=null,fs(e,t));do try{sM();break}catch(a){Ik(e,a)}while(!0);if($y(),Le=r,Xd.current=n,Pt!==null)throw Error(ne(261));return Zt=null,ur=0,Wt}function sM(){for(;Pt!==null;)Mk(Pt)}function oM(){for(;Pt!==null&&!TI();)Mk(Pt)}function Mk(e){var t=Fk(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?$k(e):Pt=t,Xy.current=null}function $k(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eM(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wt=6,Pt=null;return}}else if(r=ZR(r,t,tn),r!==null){Pt=r;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Wt===0&&(Wt=5)}function Ji(e,t,r){var n=Ge,a=Pn.transition;try{Pn.transition=null,Ge=1,lM(e,t,r,n)}finally{Pn.transition=a,Ge=n}return null}function lM(e,t,r,n){do wo();while(gi!==null);if(Le&6)throw Error(ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zI(e,i),e===Zt&&(Pt=Zt=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Iu||(Iu=!0,Bk(Id,function(){return wo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var s=Ge;Ge=1;var o=Le;Le|=4,Xy.current=null,rM(e,r),Ak(r,e),ER(Ng),Md=!!Sg,Ng=Sg=null,e.current=r,nM(r),DI(),Le=o,Ge=s,Pn.transition=i}else e.current=r;if(Iu&&(Iu=!1,gi=e,Qd=a),i=e.pendingLanes,i===0&&(ji=null),MI(r.stateNode),Wr(e,St()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Jd)throw Jd=!1,e=Hg,Hg=null,e;return Qd&1&&e.tag!==0&&wo(),i=e.pendingLanes,i&1?e===qg?Xl++:(Xl=0,qg=e):Xl=0,$i(),null}function wo(){if(gi!==null){var e=vN(Qd),t=Pn.transition,r=Ge;try{if(Pn.transition=null,Ge=16>e?16:e,gi===null)var n=!1;else{if(e=gi,gi=null,Qd=0,Le&6)throw Error(ne(331));var a=Le;for(Le|=4,ce=e.current;ce!==null;){var i=ce,s=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Gl(8,d,i)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,p=d.return;if(Ek(d),d===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ce=s;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var w=e.current;for(ce=w;ce!==null;){s=ce;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ce=b;else e:for(s=w;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ph(9,o)}}catch(j){bt(o,o.return,j)}if(o===s){ce=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ce=_;break e}ce=o.return}}if(Le=a,$i(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(sh,e)}catch{}n=!0}return n}finally{Ge=r,Pn.transition=t}}return!1}function bw(e,t,r){t=To(r,t),t=vk(e,t,1),e=_i(e,t,1),t=kr(),e!==null&&(Kc(e,1,t),Wr(e,t))}function bt(e,t,r){if(e.tag===3)bw(e,e,r);else for(;t!==null;){if(t.tag===3){bw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ji===null||!ji.has(n))){e=To(r,e),e=yk(t,e,1),t=_i(t,e,1),e=kr(),t!==null&&(Kc(t,1,e),Wr(t,e));break}}t=t.return}}function cM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=kr(),e.pingedLanes|=e.suspendedLanes&r,Zt===e&&(ur&r)===r&&(Wt===4||Wt===3&&(ur&130023424)===ur&&500>St()-Qy?fs(e,0):Jy|=r),Wr(e,t)}function Lk(e,t){t===0&&(e.mode&1?(t=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):t=1);var r=kr();e=$a(e,t),e!==null&&(Kc(e,t,r),Wr(e,r))}function uM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lk(e,r)}function dM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),Lk(e,r)}var Fk;Fk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ur.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,QR(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,ut&&t.flags&1048576&&WN(t,Wd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wd(e,t),e=t.pendingProps;var a=Eo(t,yr.current);bo(t,r),a=Hy(null,t,n,e,a,r);var i=qy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(n)?(i=!0,Ud(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,By(t),a.updater=hh,t.stateNode=a,a._reactInternals=t,Ig(t,n,e,r),t=$g(null,t,n,!0,i,r)):(t.tag=0,ut&&i&&Dy(t),_r(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=hM(n),e=Un(n,e),a){case 0:t=Mg(null,t,n,e,r);break e;case 1:t=uw(null,t,n,e,r);break e;case 11:t=lw(null,t,n,e,r);break e;case 14:t=cw(null,t,n,Un(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Un(n,a),Mg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Un(n,a),uw(e,t,n,a,r);case 3:e:{if(_k(t),e===null)throw Error(ne(387));n=t.pendingProps,i=t.memoizedState,a=i.element,YN(e,t),qd(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=To(Error(ne(423)),t),t=dw(e,t,n,r,a);break e}else if(n!==a){a=To(Error(ne(424)),t),t=dw(e,t,n,r,a);break e}else for(on=wi(t.stateNode.containerInfo.firstChild),ln=t,ut=!0,Kn=null,r=VN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Po(),n===a){t=La(e,t,r);break e}_r(e,t,n,r)}t=t.child}return t;case 5:return XN(t),e===null&&Ag(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,kg(n,a)?s=null:i!==null&&kg(n,i)&&(t.flags|=32),wk(e,t),_r(e,t,s,r),t.child;case 6:return e===null&&Ag(t),null;case 13:return jk(e,t,r);case 4:return Uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):_r(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Un(n,a),lw(e,t,n,a,r);case 7:return _r(e,t,t.pendingProps,r),t.child;case 8:return _r(e,t,t.pendingProps.children,r),t.child;case 12:return _r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,nt(Kd,n._currentValue),n._currentValue=s,i!==null)if(Yn(i.value,s)){if(i.children===a.children&&!Ur.current){t=La(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Aa(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Tg(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ne(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Tg(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}_r(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,bo(t,r),a=On(a),n=n(a),t.flags|=1,_r(e,t,n,r),t.child;case 14:return n=t.type,a=Un(n,t.pendingProps),a=Un(n.type,a),cw(e,t,n,a,r);case 15:return xk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Un(n,a),wd(e,t),t.tag=1,zr(n)?(e=!0,Ud(t)):e=!1,bo(t,r),gk(t,n,a),Ig(t,n,a,r),$g(null,t,n,!0,e,r);case 19:return Sk(e,t,r);case 22:return bk(e,t,r)}throw Error(ne(156,t.tag))};function Bk(e,t){return hN(e,t)}function fM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,r,n){return new fM(e,t,r,n)}function r0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hM(e){if(typeof e=="function")return r0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wy)return 11;if(e===_y)return 14}return 2}function Ni(e,t){var r=e.alternate;return r===null?(r=Cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sd(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")r0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ro:return hs(r.children,a,i,t);case by:s=8,a|=8;break;case ag:return e=Cn(12,r,t,a|2),e.elementType=ag,e.lanes=i,e;case ig:return e=Cn(13,r,t,a),e.elementType=ig,e.lanes=i,e;case sg:return e=Cn(19,r,t,a),e.elementType=sg,e.lanes=i,e;case XS:return gh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GS:s=10;break e;case YS:s=9;break e;case wy:s=11;break e;case _y:s=14;break e;case si:s=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Cn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function hs(e,t,r,n){return e=Cn(7,e,n,t),e.lanes=r,e}function gh(e,t,r,n){return e=Cn(22,e,n,t),e.elementType=XS,e.lanes=r,e.stateNode={isHidden:!1},e}function fm(e,t,r){return e=Cn(6,e,null,t),e.lanes=r,e}function hm(e,t,r){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pM(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vp(0),this.expirationTimes=Vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function n0(e,t,r,n,a,i,s,o,c){return e=new pM(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),e}function mM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Uk(e){if(!e)return Pi;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(zr(r))return UN(e,r,t)}return t}function zk(e,t,r,n,a,i,s,o,c){return e=n0(r,n,!0,e,a,i,s,o,c),e.context=Uk(null),r=e.current,n=kr(),a=Si(r),i=Aa(n,a),i.callback=t??null,_i(r,i,a),e.current.lanes=a,Kc(e,a,n),Wr(e,n),e}function vh(e,t,r,n){var a=t.current,i=kr(),s=Si(a);return r=Uk(r),t.context===null?t.context=r:t.pendingContext=r,t=Aa(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_i(a,t,s),e!==null&&(Gn(e,a,s,i),yd(e,a,s)),s}function ef(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ww(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function a0(e,t){ww(e,t),(e=e.alternate)&&ww(e,t)}function gM(){return null}var Wk=typeof reportError=="function"?reportError:function(e){console.error(e)};function i0(e){this._internalRoot=e}yh.prototype.render=i0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));vh(e,t,null,null)};yh.prototype.unmount=i0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_s(function(){vh(null,e,null,null)}),t[Ma]=null}};function yh(e){this._internalRoot=e}yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=bN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<di.length&&t!==0&&t<di[r].priority;r++);di.splice(r,0,e),r===0&&_N(e)}};function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _w(){}function vM(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ef(s);i.call(u)}}var s=zk(t,n,e,0,null,!1,!1,"",_w);return e._reactRootContainer=s,e[Ma]=s.current,dc(e.nodeType===8?e.parentNode:e),_s(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=ef(c);o.call(u)}}var c=n0(e,0,!1,null,null,!1,!1,"",_w);return e._reactRootContainer=c,e[Ma]=c.current,dc(e.nodeType===8?e.parentNode:e),_s(function(){vh(t,c,r,n)}),c}function bh(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=ef(s);o.call(c)}}vh(t,s,e,a)}else s=vM(r,t,e,a,n);return ef(s)}yN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$l(t.pendingLanes);r!==0&&(Ny(t,r|1),Wr(t,St()),!(Le&6)&&(Do=St()+500,$i()))}break;case 13:_s(function(){var n=$a(e,1);if(n!==null){var a=kr();Gn(n,e,1,a)}}),a0(e,1)}};ky=function(e){if(e.tag===13){var t=$a(e,134217728);if(t!==null){var r=kr();Gn(t,e,134217728,r)}a0(e,134217728)}};xN=function(e){if(e.tag===13){var t=Si(e),r=$a(e,t);if(r!==null){var n=kr();Gn(r,e,t,n)}a0(e,t)}};bN=function(){return Ge};wN=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};gg=function(e,t,r){switch(t){case"input":if(cg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=uh(n);if(!a)throw Error(ne(90));QS(n),cg(n,a)}}}break;case"textarea":eN(e,r);break;case"select":t=r.value,t!=null&&go(e,!!r.multiple,t,!1)}};oN=Zy;lN=_s;var yM={usingClientEntryPoint:!1,Events:[qc,so,uh,iN,sN,Zy]},_l={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xM={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dN(e),e===null?null:e.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{sh=Ru.inject(xM),fa=Ru}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;hn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s0(t))throw Error(ne(200));return mM(e,t,null,r)};hn.createRoot=function(e,t){if(!s0(e))throw Error(ne(299));var r=!1,n="",a=Wk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=n0(e,1,!1,null,null,r,!1,n,a),e[Ma]=t.current,dc(e.nodeType===8?e.parentNode:e),new i0(t)};hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=dN(t),e=e===null?null:e.stateNode,e};hn.flushSync=function(e){return _s(e)};hn.hydrate=function(e,t,r){if(!xh(t))throw Error(ne(200));return bh(null,e,t,!0,r)};hn.hydrateRoot=function(e,t,r){if(!s0(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=Wk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=zk(t,null,e,1,r??null,a,!1,i,s),e[Ma]=t.current,dc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new yh(t)};hn.render=function(e,t,r){if(!xh(t))throw Error(ne(200));return bh(null,e,t,!1,r)};hn.unmountComponentAtNode=function(e){if(!xh(e))throw Error(ne(40));return e._reactRootContainer?(_s(function(){bh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ma]=null})}),!0):!1};hn.unstable_batchedUpdates=Zy;hn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xh(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return bh(e,t,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function Kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kk)}catch(e){console.error(e)}}Kk(),KS.exports=hn;var vi=KS.exports,Hk,jw=vi;Hk=jw.createRoot,jw.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sw="popstate";function bM(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return Yg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:bc(a)}return _M(t,r,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wM(){return Math.random().toString(36).substring(2,10)}function Nw(e,t){return{usr:e.state,key:e.key,idx:t}}function Yg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qo(t):t,state:r,key:t&&t.key||n||wM()}}function bc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function _M(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let v=d(),x=v==null?null:v-u;u=v,c&&c({action:o,location:y.location,delta:x})}function h(v,x){o="PUSH";let w=Yg(y.location,v,x);u=d()+1;let b=Nw(w,u),_=y.createHref(w);try{s.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:o,location:y.location,delta:1})}function p(v,x){o="REPLACE";let w=Yg(y.location,v,x);u=d();let b=Nw(w,u),_=y.createHref(w);s.replaceState(b,"",_),i&&c&&c({action:o,location:y.location,delta:0})}function g(v){return jM(v)}let y={get action(){return o},get location(){return e(a,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Sw,f),c=v,()=>{a.removeEventListener(Sw,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}function jM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ft(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:bc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qk(e,t,r="/"){return SM(e,t,r,!1)}function SM(e,t,r,n){let a=typeof t=="string"?qo(t):t,i=Fa(a.pathname||"/",r);if(i==null)return null;let s=Vk(e);NM(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=MM(i);o=IM(s[c],u,n)}return o}function Vk(e,t=[],r=[],n="",a=!1){let i=(s,o,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ft(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Ta([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(ft(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Vk(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:TM(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let u of Gk(s.path))i(s,o,!0,u)}),t}function Gk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Gk(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function NM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kM=/^:[\w-]+$/,CM=3,EM=2,PM=1,OM=10,AM=-2,kw=e=>e==="*";function TM(e,t){let r=e.split("/"),n=r.length;return r.some(kw)&&(n+=AM),t&&(n+=EM),r.filter(a=>!kw(a)).reduce((a,i)=>a+(kM.test(i)?CM:i===""?PM:OM),n)}function DM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function IM(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=tf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=tf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Ta([i,f.pathname]),pathnameBase:UM(Ta([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ta([i,f.pathnameBase]))}return s}function tf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function RM(e,t=!1,r=!0){dn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function MM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var $M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LM=e=>$M.test(e);function FM(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?qo(e):e,i;if(r)if(LM(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=Cw(r.substring(1),"/"):i=Cw(r,t)}else i=t;return{pathname:i,search:zM(n),hash:WM(a)}}function Cw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function pm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function o0(e){let t=BM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function l0(e,t,r,n=!1){let a;typeof e=="string"?a=qo(e):(a={...e},ft(!a.pathname||!a.pathname.includes("?"),pm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),pm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),pm("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=FM(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ta=e=>e.join("/").replace(/\/\/+/g,"/"),UM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yk=["POST","PUT","PATCH","DELETE"];new Set(Yk);var HM=["GET",...Yk];new Set(HM);var Vo=m.createContext(null);Vo.displayName="DataRouter";var wh=m.createContext(null);wh.displayName="DataRouterState";m.createContext(!1);var Xk=m.createContext({isTransitioning:!1});Xk.displayName="ViewTransition";var qM=m.createContext(new Map);qM.displayName="Fetchers";var VM=m.createContext(null);VM.displayName="Await";var ra=m.createContext(null);ra.displayName="Navigation";var Gc=m.createContext(null);Gc.displayName="Location";var na=m.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var c0=m.createContext(null);c0.displayName="RouteError";function GM(e,{relative:t}={}){ft(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(ra),{hash:a,pathname:i,search:s}=Yc(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Ta([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Go(){return m.useContext(Gc)!=null}function ya(){return ft(Go(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Gc).location}var Jk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qk(e){m.useContext(ra).static||m.useLayoutEffect(e)}function Yo(){let{isDataRoute:e}=m.useContext(na);return e?l5():YM()}function YM(){ft(Go(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Vo),{basename:t,navigator:r}=m.useContext(ra),{matches:n}=m.useContext(na),{pathname:a}=ya(),i=JSON.stringify(o0(n)),s=m.useRef(!1);return Qk(()=>{s.current=!0}),m.useCallback((c,u={})=>{if(dn(s.current,Jk),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=l0(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ta([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}m.createContext(null);function XM(){let{matches:e}=m.useContext(na),t=e[e.length-1];return t?t.params:{}}function Yc(e,{relative:t}={}){let{matches:r}=m.useContext(na),{pathname:n}=ya(),a=JSON.stringify(o0(r));return m.useMemo(()=>l0(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function JM(e,t){return Zk(e,t)}function Zk(e,t,r,n,a){var w;ft(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=m.useContext(ra),{matches:s}=m.useContext(na),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";e2(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=ya(),p;if(t){let b=typeof t=="string"?qo(t):t;ft(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=h;let g=p.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=qk(e,{pathname:y});dn(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),dn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=r5(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Ta([d,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Ta([d,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,r,n,a);return t&&x?m.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function QM(){let e=o5(),t=KM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,s)}var ZM=m.createElement(QM,null),e5=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(na.Provider,{value:this.props.routeContext},m.createElement(c0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t5({routeContext:e,match:t,children:r}){let n=m.useContext(Vo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(na.Provider,{value:e},r)}function r5(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,p;n(d,{location:r.location,params:((p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let p,g=!1,y=null,v=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||ZM,o&&(c<0&&h===0?(e2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),w=()=>{let b;return p?b=y:g?b=v:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(t5,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(e5,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):w()},null)}function u0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n5(e){let t=m.useContext(Vo);return ft(t,u0(e)),t}function a5(e){let t=m.useContext(wh);return ft(t,u0(e)),t}function i5(e){let t=m.useContext(na);return ft(t,u0(e)),t}function d0(e){let t=i5(e),r=t.matches[t.matches.length-1];return ft(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function s5(){return d0("useRouteId")}function o5(){var n;let e=m.useContext(c0),t=a5("useRouteError"),r=d0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function l5(){let{router:e}=n5("useNavigate"),t=d0("useNavigate"),r=m.useRef(!1);return Qk(()=>{r.current=!0}),m.useCallback(async(a,i={})=>{dn(r.current,Jk),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Ew={};function e2(e,t,r){!t&&!Ew[e]&&(Ew[e]=!0,dn(!1,r))}m.memo(c5);function c5({routes:e,future:t,state:r,unstable_onError:n}){return Zk(e,void 0,r,n,t)}function rf({to:e,replace:t,state:r,relative:n}){ft(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=m.useContext(ra);dn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=m.useContext(na),{pathname:s}=ya(),o=Yo(),c=l0(e,o0(i),s,n==="path"),u=JSON.stringify(c);return m.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Jr(e){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u5({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){ft(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=qo(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=m.useMemo(()=>{let g=Fa(c,s);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return dn(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement(ra.Provider,{value:o},m.createElement(Gc.Provider,{children:t,value:p}))}function d5({children:e,location:t}){return JM(Xg(e),t)}function Xg(e,t=[]){let r=[];return m.Children.forEach(e,(n,a)=>{if(!m.isValidElement(n))return;let i=[...t,a];if(n.type===m.Fragment){r.push.apply(r,Xg(n.props.children,i));return}ft(n.type===Jr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Xg(n.props.children,i)),r.push(s)}),r}var Nd="get",kd="application/x-www-form-urlencoded";function _h(e){return e!=null&&typeof e.tagName=="string"}function f5(e){return _h(e)&&e.tagName.toLowerCase()==="button"}function h5(e){return _h(e)&&e.tagName.toLowerCase()==="form"}function p5(e){return _h(e)&&e.tagName.toLowerCase()==="input"}function m5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g5(e,t){return e.button===0&&(!t||t==="_self")&&!m5(e)}function Jg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function v5(e,t){let r=Jg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Mu=null;function y5(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var x5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(e){return e!=null&&!x5.has(e)?(dn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):e}function b5(e,t){let r,n,a,i,s;if(h5(e)){let o=e.getAttribute("action");n=o?Fa(o,t):null,r=e.getAttribute("method")||Nd,a=mm(e.getAttribute("enctype"))||kd,i=new FormData(e)}else if(f5(e)||p5(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Fa(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Nd,a=mm(e.getAttribute("formenctype"))||mm(o.getAttribute("enctype"))||kd,i=new FormData(o,e),!y5()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(_h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nd,n=null,a=kd,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w5(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Fa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function _5(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function S5(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await _5(i,r);return s.links?s.links():[]}return[]}));return E5(n.flat(1).filter(j5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Pw(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function N5(e,t,{includeHydrateFallback:r}={}){return k5(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function k5(e){return[...new Set(e)]}function C5(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function E5(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(C5(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function t2(){let e=m.useContext(Vo);return f0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P5(){let e=m.useContext(wh);return f0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var h0=m.createContext(void 0);h0.displayName="FrameworkContext";function r2(){let e=m.useContext(h0);return f0(e,"You must render this element inside a <HydratedRouter> element"),e}function O5(e,t){let r=m.useContext(h0),[n,a]=m.useState(!1),[i,s]=m.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=x=>{x.forEach(w=>{s(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),m.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{a(!0)},g=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:jl(o,p),onBlur:jl(c,g),onMouseEnter:jl(u,p),onMouseLeave:jl(d,g),onTouchStart:jl(f,p)}]:[!1,h,{}]}function jl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function A5({page:e,...t}){let{router:r}=t2(),n=m.useMemo(()=>qk(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(D5,{page:e,matches:n,...t}):null}function T5(e){let{manifest:t,routeModules:r}=r2(),[n,a]=m.useState([]);return m.useEffect(()=>{let i=!1;return S5(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function D5({page:e,matches:t,...r}){let n=ya(),{manifest:a,routeModules:i}=r2(),{basename:s}=t2(),{loaderData:o,matches:c}=P5(),u=m.useMemo(()=>Pw(e,t,c,a,n,"data"),[e,t,c,a,n]),d=m.useMemo(()=>Pw(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(t.forEach(x=>{var b;let w=a.routes[x.route.id];!w||!w.hasLoader||(!u.some(_=>_.route.id===x.route.id)&&x.route.id in o&&((b=i[x.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(x.route.id))}),g.size===0)return[];let v=w5(e,s,"data");return y&&g.size>0&&v.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[s,o,n,a,u,t,e,i]),h=m.useMemo(()=>N5(d,a),[d,a]),p=T5(d);return m.createElement(m.Fragment,null,f.map(g=>m.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>m.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),p.map(({key:g,link:y})=>m.createElement("link",{key:g,nonce:r.nonce,...y})))}function I5(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var n2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n2&&(window.__reactRouterVersion="7.9.6")}catch{}function R5({basename:e,children:t,window:r}){let n=m.useRef();n.current==null&&(n.current=bM({window:r,v5Compat:!0}));let a=n.current,[i,s]=m.useState({action:a.action,location:a.location}),o=m.useCallback(c=>{m.startTransition(()=>s(c))},[s]);return m.useLayoutEffect(()=>a.listen(o),[a,o]),m.createElement(u5,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var a2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i2=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:g}=m.useContext(ra),y=typeof u=="string"&&a2.test(u),v,x=!1;if(typeof u=="string"&&y&&(v=u,n2))try{let C=new URL(window.location.href),E=u.startsWith("//")?new URL(C.protocol+u):new URL(u),P=Fa(E.pathname,g);E.origin===C.origin&&P!=null?u=P+E.search+E.hash:x=!0}catch{dn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=GM(u,{relative:a}),[b,_,j]=O5(n,h),S=F5(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function N(C){t&&t(C),C.defaultPrevented||S(C)}let k=m.createElement("a",{...h,...j,href:v||w,onClick:x||i?t:N,ref:I5(p,_),target:c,"data-discover":!y&&r==="render"?"true":void 0});return b&&!y?m.createElement(m.Fragment,null,k,m.createElement(A5,{page:w})):k});i2.displayName="Link";var M5=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:c,...u},d){let f=Yc(s,{relative:u.relative}),h=ya(),p=m.useContext(wh),{navigator:g,basename:y}=m.useContext(ra),v=p!=null&&K5(f)&&o===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&y&&(b=Fa(b,y)||b);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=w===x||!a&&w.startsWith(x)&&w.charAt(_)==="/",S=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),N={isActive:j,isPending:S,isTransitioning:v},k=j?t:void 0,C;typeof n=="function"?C=n(N):C=[n,j?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let E=typeof i=="function"?i(N):i;return m.createElement(i2,{...u,"aria-current":k,className:C,ref:d,style:E,to:s,viewTransition:o},typeof c=="function"?c(N):c)});M5.displayName="NavLink";var $5=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=Nd,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let g=z5(),y=W5(o,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&a2.test(o),w=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let _=b.nativeEvent.submitter,j=(_==null?void 0:_.getAttribute("formmethod"))||s;g(_||b.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return m.createElement("form",{ref:p,method:v,action:y,onSubmit:n?c:w,...h,"data-discover":!x&&e==="render"?"true":void 0})});$5.displayName="Form";function L5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s2(e){let t=m.useContext(Vo);return ft(t,L5(e)),t}function F5(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=Yo(),c=ya(),u=Yc(e,{relative:i});return m.useCallback(d=>{if(g5(d,t)){d.preventDefault();let f=r!==void 0?r:bc(c)===bc(u);o(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[c,o,u,r,n,t,e,a,i,s])}function o2(e){dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Jg(e)),r=m.useRef(!1),n=ya(),a=m.useMemo(()=>v5(n.search,r.current?null:t.current),[n.search]),i=Yo(),s=m.useCallback((o,c)=>{const u=Jg(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var B5=0,U5=()=>`__${String(++B5)}__`;function z5(){let{router:e}=s2("useSubmit"),{basename:t}=m.useContext(ra),r=s5();return m.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:c,body:u}=b5(n,t);if(a.navigate===!1){let d=a.fetcherKey||U5();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function W5(e,{relative:t}={}){let{basename:r}=m.useContext(ra),n=m.useContext(na);ft(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Yc(e||".",{relative:t})},s=ya();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ta([r,i.pathname])),bc(i)}function K5(e,{relative:t}={}){let r=m.useContext(Xk);ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=s2("useViewTransitionState"),a=Yc(e,{relative:t});if(!r.isTransitioning)return!1;let i=Fa(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Fa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return tf(a.pathname,s)!=null||tf(a.pathname,i)!=null}var Qg=function(e,t){return Qg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Qg(e,t)};function l2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var nf=function(){return nf=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},nf.apply(this,arguments)};function Xo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function c2(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function u2(e,t){return function(r,n){t(r,n,e)}}function d2(e,t,r,n,a,i){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(x||null))};var v=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[c],g);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(d.get=f),(f=s(v.set))&&(d.set=f),(f=s(v.init))&&a.unshift(f)}else(f=s(v))&&(o==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function f2(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function h2(e){return typeof e=="symbol"?e:"".concat(e)}function p2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function m2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ge(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function g2(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var jh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function v2(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jh(t,e,r)}function af(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function y2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p0(arguments[t]));return e}function x2(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function b2(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Io(e){return this instanceof Io?(this.v=e,this):new Io(e)}function w2(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(g){return Promise.resolve(g).then(p,f)}}function o(p,g){n[p]&&(a[p]=function(y){return new Promise(function(v,x){i.push([p,y,v,x])>1||c(p,y)})},g&&(a[p]=g(a[p])))}function c(p,g){try{u(n[p](g))}catch(y){h(i[0][3],y)}}function u(p){p.value instanceof Io?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function _2(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:Io(e[a](s)),done:!1}:i?i(s):s}:i}}function j2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof af=="function"?af(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,c){s=e[i](s),a(o,c,s.done,s.value)})}}function a(i,s,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},s)}}function S2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var H5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Zg=function(e){return Zg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Zg(e)};function N2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Zg(e),n=0;n<r.length;n++)r[n]!=="default"&&jh(t,e,r[n]);return H5(t,e),t}function k2(e){return e&&e.__esModule?e:{default:e}}function C2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function E2(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function P2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function O2(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var q5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function A2(e){function t(i){e.error=e.hasError?new q5(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function T2(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const V5={__extends:l2,__assign:nf,__rest:Xo,__decorate:c2,__param:u2,__esDecorate:d2,__runInitializers:f2,__propKey:h2,__setFunctionName:p2,__metadata:m2,__awaiter:ge,__generator:g2,__createBinding:jh,__exportStar:v2,__values:af,__read:p0,__spread:y2,__spreadArrays:x2,__spreadArray:b2,__await:Io,__asyncGenerator:w2,__asyncDelegator:_2,__asyncValues:j2,__makeTemplateObject:S2,__importStar:N2,__importDefault:k2,__classPrivateFieldGet:C2,__classPrivateFieldSet:E2,__classPrivateFieldIn:P2,__addDisposableResource:O2,__disposeResources:A2,__rewriteRelativeImportExtension:T2},G5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O2,get __assign(){return nf},__asyncDelegator:_2,__asyncGenerator:w2,__asyncValues:j2,__await:Io,__awaiter:ge,__classPrivateFieldGet:C2,__classPrivateFieldIn:P2,__classPrivateFieldSet:E2,__createBinding:jh,__decorate:c2,__disposeResources:A2,__esDecorate:d2,__exportStar:v2,__extends:l2,__generator:g2,__importDefault:k2,__importStar:N2,__makeTemplateObject:S2,__metadata:m2,__param:u2,__propKey:h2,__read:p0,__rest:Xo,__rewriteRelativeImportExtension:T2,__runInitializers:f2,__setFunctionName:p2,__spread:y2,__spreadArray:b2,__spreadArrays:x2,__values:af,default:V5},Symbol.toStringTag,{value:"Module"})),Y5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class m0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class X5 extends m0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ow extends m0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Aw extends m0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ev;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ev||(ev={}));class J5{constructor(t,{headers:r={},customFetch:n,region:a=ev.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Y5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ge(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const x=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:v}).catch(j=>{throw new X5(j)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new Ow(x);if(!x.ok)throw new Aw(x);let b=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield x.json():b==="application/octet-stream"||b==="application/pdf"?_=yield x.blob():b==="text/event-stream"?_=x:b==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Aw||o instanceof Ow?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var jr={};const Jo=VD(G5);var $u={},Lu={},Fu={},Bu={},Uu={},zu={},Tw;function D2(){if(Tw)return zu;Tw=1,Object.defineProperty(zu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zu.default=e,zu}var Dw;function I2(){if(Dw)return Uu;Dw=1,Object.defineProperty(Uu,"__esModule",{value:!0});const t=Jo.__importDefault(D2());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,g=null,y=null,v=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(g=[],p=null,v=200,x="OK")}catch{c.status===404&&b===""?(v=204,x="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:y,status:v,statusText:x}});return this.shouldThrowOnError||(o=o.catch(c=>{var u,d,f,h,p,g;let y="";const v=c==null?void 0:c.cause;if(v){const x=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",w=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";y=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${x}`,w&&(y+=` (${w})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return Uu.default=r,Uu}var Iw;function R2(){if(Iw)return Bu;Iw=1,Object.defineProperty(Bu,"__esModule",{value:!0});const t=Jo.__importDefault(I2());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Bu.default=r,Bu}var Rw;function g0(){if(Rw)return Fu;Rw=1,Object.defineProperty(Fu,"__esModule",{value:!0});const t=Jo.__importDefault(R2()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Fu.default=n,Fu}var Mw;function M2(){if(Mw)return Lu;Mw=1,Object.defineProperty(Lu,"__esModule",{value:!0});const t=Jo.__importDefault(g0());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},c=s?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Lu.default=r,Lu}var $w;function Q5(){if($w)return $u;$w=1,Object.defineProperty($u,"__esModule",{value:!0});const e=Jo,t=e.__importDefault(M2()),r=e.__importDefault(g0());class n{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(s).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(f="POST",p=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return $u.default=n,$u}Object.defineProperty(jr,"__esModule",{value:!0});var $2=jr.PostgrestError=V2=jr.PostgrestBuilder=H2=jr.PostgrestTransformBuilder=W2=jr.PostgrestFilterBuilder=U2=jr.PostgrestQueryBuilder=F2=jr.PostgrestClient=void 0;const Qo=Jo,L2=Qo.__importDefault(Q5());var F2=jr.PostgrestClient=L2.default;const B2=Qo.__importDefault(M2());var U2=jr.PostgrestQueryBuilder=B2.default;const z2=Qo.__importDefault(g0());var W2=jr.PostgrestFilterBuilder=z2.default;const K2=Qo.__importDefault(R2());var H2=jr.PostgrestTransformBuilder=K2.default;const q2=Qo.__importDefault(I2());var V2=jr.PostgrestBuilder=q2.default;const G2=Qo.__importDefault(D2());$2=jr.PostgrestError=G2.default;var Y2=jr.default={PostgrestClient:L2.default,PostgrestQueryBuilder:B2.default,PostgrestFilterBuilder:z2.default,PostgrestTransformBuilder:K2.default,PostgrestBuilder:q2.default,PostgrestError:G2.default};const Z5=TS({__proto__:null,get PostgrestBuilder(){return V2},get PostgrestClient(){return F2},get PostgrestError(){return $2},get PostgrestFilterBuilder(){return W2},get PostgrestQueryBuilder(){return U2},get PostgrestTransformBuilder(){return H2},default:Y2},[jr]),{PostgrestClient:e4,PostgrestQueryBuilder:yee,PostgrestFilterBuilder:xee,PostgrestTransformBuilder:bee,PostgrestBuilder:wee,PostgrestError:_ee}=Y2||Z5;class t4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const r4="2.83.0",n4=`realtime-js/${r4}`,X2="1.0.0",a4="2.0.0",Lw=X2,tv=1e4,i4=1e3,s4=100;var rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rs||(rs={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var rv;(function(e){e.websocket="websocket"})(rv||(rv={}));var ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ns||(ns={}));class o4{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:a,topic:i,payload:s}=t,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+c.length+o.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),h=0;f.setUint8(h++,this.KINDS.push),f.setUint8(h++,c.length),f.setUint8(h++,o.length),f.setUint8(h++,i.length),f.setUint8(h++,a.length),Array.from(c,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(i,g=>f.setUint8(h++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(h++,g.charCodeAt(0)));var p=new Uint8Array(d.byteLength+s.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(s),d.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,a,i;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,o.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,this.BINARY_ENCODING),Array.from(c,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(s,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>p.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+d.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(d),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,a,i;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(g),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,o.length),y.setUint8(v++,s.length),y.setUint8(v++,u.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(c,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(u,w=>y.setUint8(v++,w.charCodeAt(0)));var x=new Uint8Array(g.byteLength+h.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(h),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,c]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(o,o+a));o=o+a;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:f}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=n.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),g={status:h,response:p};return{join_ref:u,ref:d,topic:f,event:jn.reply,payload:g}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class J2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tt||(tt={}));const Fw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=l4(s,e,t,a),i),{}):{}},l4=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?Q2(i,s):nv(s)},Q2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return f4(t,r)}switch(e){case tt.bool:return c4(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return u4(t);case tt.json:case tt.jsonb:return d4(t);case tt.timestamp:return h4(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return nv(t);default:return nv(t)}},nv=e=>e,c4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},f4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Q2(t,o))}return e},h4=e=>typeof e=="string"?e.replace(" ","T"):e,Z2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gm{constructor(t,r,n={},a=tv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bw||(Bw={}));class Jl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Jl.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jl.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uw||(Uw={}));var Ql;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ql||(Ql={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class v0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,jn.join,this.params,this.timeout),this.rejoinTimer=new J2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Jl(this),this.broadcastEndpointURL=Z2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Ql.PRESENCE]&&this.bindings[Ql.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ja.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(ja.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,x=[];for(let w=0;w<v;w++){const b=y[w],{filter:{event:_,schema:j,table:S,filter:N}}=b,k=p&&p[w];if(k&&k.event===_&&k.schema===j&&k.table===S&&k.filter===N)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ja.SUBSCRIBED);return}}).receive("error",p=>{this.state=Lt.errored,t==null||t(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lt.joined&&t===Ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new gm(this,jn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=jn;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,y,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:v,commit_timestamp:x,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&v0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fw(t.columns,t.old_record)),r}}const vm=()=>{},Wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p4=[1e3,2e3,5e3,1e4],m4=1e4,g4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tv,this.transport=null,this.heartbeatIntervalMs=Wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vm,this.ref=0,this.reconnectTimer=null,this.vsn=Lw,this.logger=vm,this.conn=null,this.sendBuffer=[],this.serializer=new o4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rv.websocket}`,this.httpEndpoint=Z2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return ns.Connecting;case rs.open:return ns.Open;case rs.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new v0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(i4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([g4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:n4};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new J2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:tv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Wu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:vm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Lw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>p4[g-1]||m4,this.vsn){case X2:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,y)=>y(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case a4:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class y0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class y4 extends y0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class av extends y0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const x0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),x4=()=>Response,iv=e=>{if(Array.isArray(e))return e.map(r=>iv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=iv(n)}),t},b4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ym=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},w4=(e,t,r)=>ge(void 0,void 0,void 0,function*(){const n=yield x4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new y4(ym(a),i,s))}).catch(a=>{t(new av(ym(a),a))}):t(new av(ym(e),e))}),_4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(b4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Xc(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,_4(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>w4(c,o,n))})})}function wc(e,t,r,n){return ge(this,void 0,void 0,function*(){return Xc(e,"GET",t,r,n)})}function zn(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return Xc(e,"POST",t,n,a,r)})}function sv(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return Xc(e,"PUT",t,n,a,r)})}function j4(e,t,r,n){return ge(this,void 0,void 0,function*(){return Xc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function b0(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return Xc(e,"DELETE",t,n,a,r)})}class S4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}var eC;class N4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[eC]="BlobDownloadBuilder",this.promise=null}asStream(){return new S4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}eC=Symbol.toStringTag;const k4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C4{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=x0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ge(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},zw),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?sv:zn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:zw.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield sv(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(mt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield zn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new y0("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ge(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield zn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>wc(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new N4(c,this.shouldThrowOnError)}info(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield wc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:iv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}exists(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield j4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n)&&n instanceof av){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ge(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},k4),r),{prefix:t||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}listV2(t,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const tC="2.83.0",rC={"X-Client-Info":`storage-js/${tC}`};class E4{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rC),r),this.fetch=x0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield wc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}createBucket(t){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield sv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class P4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rC),r),this.fetch=x0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield wc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}const w0={"X-Client-Info":`storage-js/${tC}`,"Content-Type":"application/json"};class nC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class xm extends nC{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O4 extends nC{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ww;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ww||(Ww={}));const _0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T4=(e,t,r)=>ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new xm(Kw(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new xm(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new xm(o,a,s))}}else t(new O4(Kw(e),e))}),D4=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(A4(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function I4(e,t,r,n,a,i){return ge(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,D4(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>T4(c,o,n))})})}function an(e,t,r,n,a){return ge(this,void 0,void 0,function*(){return I4(e,"POST",t,n,a,r)})}class R4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),r),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listIndexes(t){return ge(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}}class M4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),r),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}getVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}listVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield an(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}queryVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}}class $4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},w0),r),this.fetch=_0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(t={}){try{return{data:yield an(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}}class L4 extends $4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new F4(this.url,this.headers,t,this.fetch)}}class F4 extends R4{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new B4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class B4 extends M4{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class U4 extends E4{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new C4(this.url,this.headers,t,this.fetch)}get vectors(){return new L4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P4(this.url+"/iceberg",this.headers,this.fetch)}}const z4="2.83.0";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const W4={"X-Client-Info":`supabase-js-${Fl}/${z4}`},K4={headers:W4},H4={schema:"public"},q4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V4={},G4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y4=()=>Headers,X4=(e,t,r)=>{const n=G4(r),a=Y4();return async(i,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))}};function J4(e){return e.endsWith("/")?e:e+"/"}function Q4(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Z4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aC="2.83.0",Qs=30*1e3,ov=3,bm=ov*Qs,e$="http://localhost:9999",t$="supabase.auth.token",r$={"X-Client-Info":`gotrue-js/${aC}`},lv="X-Supabase-Api-Version",iC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},n$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a$=10*60*1e3;class _c extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class i$ extends _c{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s$(e){return xe(e)&&e.name==="AuthApiError"}class as extends _c{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Li extends _c{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Qr extends Li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o$(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Bs extends Li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ku extends Li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hu extends Li{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function l$(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hw extends Li{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cv extends Li{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wm(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class qw extends Li{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uv extends Li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vw=` 	
\r=`.split(""),c$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vw.length;t+=1)e[Vw[t].charCodeAt(0)]=-2;for(let t=0;t<sf.length;t+=1)e[sf[t].charCodeAt(0)]=t;return e})();function Gw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sf[n]),t.queuedBits-=6}}function sC(e,t,r){const n=c$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yw(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{f$(s,n,r)};for(let s=0;s<e.length;s+=1)sC(e.charCodeAt(s),a,i);return t.join("")}function u$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function d$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}u$(n,t)}}function f$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _o(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sC(e.charCodeAt(a),r,n);return new Uint8Array(t)}function h$(e){const t=[];return d$(e,r=>t.push(r)),new Uint8Array(t)}function ls(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Gw(a,r,n)),Gw(null,r,n),t.join("")}function p$(e){return Math.round(Date.now()/1e3)+e}function m$(){return Symbol("auth-callback")}const sr=()=>typeof window<"u"&&typeof document<"u",qi={tested:!1,writable:!1},oC=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qi.tested)return qi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qi.tested=!0,qi.writable=!0}catch{qi.tested=!0,qi.writable=!1}return qi.writable};function g$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const lC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ii=async(e,t)=>{await e.removeItem(t)};class Sh{constructor(){this.promise=new Sh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sh.promiseConstructor=Promise;function _m(e){const t=e.split(".");if(t.length!==3)throw new uv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!n$.test(t[n]))throw new uv("JWT not in base64url format");return{header:JSON.parse(Yw(t[0])),payload:JSON.parse(Yw(t[1])),signature:_o(t[2]),raw:{header:t[0],payload:t[1]}}}async function y$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function x$(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function b$(e){return("0"+e.toString(16)).substr(-2)}function w$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,b$).join("")}async function _$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function j$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(e,t,r=!1){const n=w$();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Zs(e,`${t}-code-verifier`,a);const i=await j$(n);return[i,n===i?"plain":"s256"]}const S$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N$(e){const t=e.headers.get(lv);if(!t||!t.match(S$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function k$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zs(e){if(!E$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P$(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Xw(e){return JSON.parse(JSON.stringify(e))}const Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),O$=[502,503,504];async function Jw(e){var t;if(!v$(e))throw new cv(Qi(e),0);if(O$.includes(e.status))throw new cv(Qi(e),e.status);let r;try{r=await e.json()}catch(i){throw new as(Qi(i),i)}let n;const a=N$(e);if(a&&a.getTime()>=iC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qw(Qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new qw(Qi(r),e.status,r.weak_password.reasons);throw new i$(Qi(r),e.status||500,n)}const A$=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ne(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[lv]||(i[lv]=iC["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await T$(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function T$(e,t,r,n,a,i){const s=A$(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new cv(Qi(c),0)}if(o.ok||await Jw(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Jw(c)}}function Bn(e){var t;let r=null;R$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=p$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Qw(e){const t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function D$(e){return{data:e,error:null}}function I$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Xo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Zw(e){return e}function R$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sm=["global","local","others"];class M${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Sm[0]){if(Sm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sm.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:I$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hi})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Zw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zs(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hi})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zs(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:hi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zs(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:hi})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zs(t.userId);try{const{data:r,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zs(t.userId),zs(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Zw});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}}function e_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ws={debug:!!(globalThis&&oC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $$ extends cC{}async function L$(e,t,r){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ws.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function F$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function B$(e){return parseInt(e,16)}function U$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function z$(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=uC(e.address),g=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}x+=w}return`${v}
${x}`}class Ct extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class of extends Ct{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function W$({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(dC(s)){if(i.rp.id!==s)return new Ct({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function K$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(dC(n)){if(r.rpId!==n)return new Ct({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class H${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const q$=new H$;function V$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Xo(e,["challenge","user","excludeCredentials"]),i=_o(t).buffer,s=Object.assign(Object.assign({},r),{id:_o(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:_o(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function G$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xo(e,["challenge","allowCredentials"]),a=_o(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:_o(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Y$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ls(new Uint8Array(e.response.attestationObject)),clientDataJSON:ls(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function X$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ls(new Uint8Array(a.authenticatorData)),clientDataJSON:ls(new Uint8Array(a.clientDataJSON)),signature:ls(new Uint8Array(a.signature)),userHandle:a.userHandle?ls(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function t_(){var e,t;return!!(sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function J$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new of("Browser returned unexpected credential type",t)}:{data:null,error:new of("Empty credential response",t)}}catch(t){return{data:null,error:W$({error:t,options:e})}}}async function Q$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new of("Browser returned unexpected credential type",t)}:{data:null,error:new of("Empty credential response",t)}}catch(t){return{data:null,error:K$({error:t,options:e})}}}const Z$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=lf(o,s):n[i]=lf(s)}else n[i]=s}return n}function tL(e,t){return lf(Z$,e,t||{})}function rL(e,t){return lf(eL,e,t||{})}class nL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=a??q$.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=tL(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await J$({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=rL(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Q$(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return xe(s)?{data:null,error:s}:{data:null,error:new as("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn authentication")};try{if(!t_())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return xe(s)?{data:null,error:s}:{data:null,error:new as("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn registration")};try{if(!t_())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return xe(s)?{data:null,error:s}:{data:null,error:new as("Unexpected error in register",s)}}}}F$();const aL={url:e$,storageKey:t$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function r_(e,t,r){return await r()}const Ks={};class jc{get jwks(){var t,r;return(r=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},aL),t);if(this.storageKey=i.storageKey,this.instanceID=(r=jc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&sr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new M$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lC(i.fetch),this.lock=i.lock||r_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:sr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=L$:this.lock=r_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=e_(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${aC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sr()&&(r=g$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),l$(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?this._returnResult({error:r}):this._returnResult({error:new as("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Bn}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Us(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Bn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bn})}else throw new Ku("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qw})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qw})}else throw new Ku("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Bs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:x,options:w}=t;let b;if(sr())if(typeof v=="object")b=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")b=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=uC(j[0]);let N=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await b.request({method:"eth_chainId"});N=B$(C)}const k={domain:_.host,address:S,statement:x,uri:_.href,version:"1",chainId:N,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=z$(k),g=await b.request({method:"personal_sign",params:[U$(p),S]})}try{const{data:y,error:v}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bn});if(v)throw v;if(!y||!y.session||!y.user){const x=new Bs;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(xe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,s,o,c,u,d,f,h,p;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let _;if(sr())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:v,error:x}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ls(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bn});if(x)throw x;if(!v||!v.session||!v.user){const w=new Bs;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(xe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bn});if(await ii(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Bs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Us(this.storage,this.storageKey));const{error:f}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ku("You must provide either an email or phone number.")}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Bn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Us(this.storage,this.storageKey));const u=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:D$});return!((i=u.data)===null||i===void 0)&&i.url&&sr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qr;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Ku("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Vi(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=jm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=P$(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hi}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:hi})})}catch(r){if(xe(r))return o$(r)&&(await this._removeSession(),await ii(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Qr;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Us(this.storage,this.storageKey));const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:hi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=_m(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sr())throw new Hu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!s||!u)throw new Hu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(s$(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ii(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=m$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Us(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return sr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(xe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,f=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Bn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await x$(async a=>(a>0&&await y$(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&wm(i)&&Date.now()+s-n<Qs})}catch(n){if(this._debug(r,"error",n),xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Vi(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Zs(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:jm()}else if(a&&!a.user&&!a.user){const s=await Vi(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await ii(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,a)):a.user=jm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${bm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),wm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sh;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),xe(i)){const s={data:null,error:i};return wm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Xw(a);await Zs(this.storage,this.storageKey,i)}else{const a=Xw(r);await Zs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ii(this.storage,this.storageKey),await ii(this.storage,this.storageKey+"-code-verifier"),await ii(this.storage,this.storageKey+"-user"),this.userStorage&&await ii(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qs}ms, refresh threshold is ${ov} ticks`),a<=ov&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Us(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Y$(t.webauthn.credential_response):X$(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:V$(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:G$(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=_m(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Qr});const s=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&sr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Qr});const s=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&sr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Qr})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+a$>a)return n;const{data:i,error:s}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=_m(n);r!=null&&r.allowExpired||k$(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=C$(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,h$(`${o}.${c}`)))throw new uv("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}}jc.nextInstanceID={};const iL=jc;class sL extends iL{constructor(t){super(t)}}class oL{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=Z4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:H4,realtime:V4,auth:Object.assign(Object.assign({},q4),{storageKey:c}),global:K4},d=Q4(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=X4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new e4(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new U4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new J5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sL({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lL=(e,t,r)=>new oL(e,t,r);function cL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fC="https://gomwhbewjdcllejifdyf.supabase.co",hC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdvbXdoYmV3amRjbGxlamlmZHlmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1MTUzNjYsImV4cCI6MjA3OTA5MTM2Nn0.fvIW61htbjtfkT5ZP4FGBTw96KSGZbr9qxSJiMDp-qQ",Nm=[!fC,!hC].filter(Boolean);if(Nm.length>0){const e=`Missing Supabase environment variable${Nm.length>1?"s":""}: ${Nm.join(", ")}. Copy .env.example to .env and provide your Supabase project credentials.`;throw new Error(e)}const G=lL(fC,hC);async function n_(e){const{data:t}=await G.from("user_settings").select("global_role, workspace_id").eq("user_id",e).maybeSingle(),{data:r}=await G.from("user_teams").select("team_id, role").eq("user_id",e).maybeSingle();return t?{userId:e,globalRole:t.global_role,teamId:(r==null?void 0:r.team_id)||null,teamRole:(r==null?void 0:r.role)||null,workspaceId:t.workspace_id||null,isActive:t.is_active??!0}:null}async function ki(e){const{data:t,error:r}=await G.rpc("get_accessible_agents");if(!r&&t){const n=t.map(a=>a.user_id);if(n.length)return n}if(e.globalRole==="admin"||e.globalRole==="sales_manager"){const{data:n}=await G.from("user_settings").select("user_id"),a=n==null?void 0:n.map(i=>i.user_id).filter(Boolean);if(a&&a.length)return a}return[e.userId]}function pC(e){return(e==null?void 0:e.globalRole)==="admin"}function uL(e){return(e==null?void 0:e.teamRole)==="team_lead"||(e==null?void 0:e.globalRole)==="team_lead"}function dL(e){return(e==null?void 0:e.globalRole)==="sales_manager"||(e==null?void 0:e.globalRole)==="admin"}function a_(e){return!!e&&e.globalRole==="admin"}function Oi(e){if(!e)return"";switch(e){case"admin":return"Admin";case"sales_manager":return"Sales Manager";case"team_lead":return"Team Lead";case"agent":return"Agent";default:return""}}function mC(e){return e?["admin","sales_manager","team_lead"].includes(e.globalRole):!1}function fL(e){return(e==null?void 0:e.globalRole)==="admin"}function gC(e){return(e==null?void 0:e.globalRole)==="admin"}const vC=m.createContext(void 0);function hL({children:e}){const[t,r]=m.useState(null),[n,a]=m.useState(null),[i,s]=m.useState(!0);m.useEffect(()=>{G.auth.getSession().then(async({data:{session:f}})=>{if(r((f==null?void 0:f.user)??null),f!=null&&f.user){const h=await n_(f.user.id);a(h)}s(!1)});const{data:{subscription:d}}=G.auth.onAuthStateChange((f,h)=>{(async()=>{if(r((h==null?void 0:h.user)??null),h!=null&&h.user){const p=await n_(h.user.id);a(p)}else a(null)})()});return()=>d.unsubscribe()},[]);const o=async(d,f,h,p)=>{if(!p)return{error:{message:"An invite code is required to create an account"}};const{data:g,error:y}=await G.auth.signUp({email:d,password:f,options:{data:{name:h}}});if(y||!g.user)return{error:y};const{error:v}=await G.rpc("accept_workspace_invite",{invite_token:p});return v?{error:{message:v.message}}:{error:null}},c=async(d,f)=>{const{error:h}=await G.auth.signInWithPassword({email:d,password:f});return{error:h}},u=async()=>{await G.auth.signOut()};return l.jsx(vC.Provider,{value:{user:t,roleInfo:n,loading:i,signUp:o,signIn:c,signOut:u},children:e})}function _t(){const e=m.useContext(vC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>m.createElement("svg",{ref:d,...pL,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${mL(e)}`,o].join(" "),...u},[...t.map(([f,h])=>m.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=fe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=fe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=fe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=fe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=fe("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=fe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=fe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=fe("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=fe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=fe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=fe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=fe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=fe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=fe("Trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qL(){const{user:e,roleInfo:t}=_t(),r=Yo(),[n,a]=m.useState(!1),[i,s]=m.useState(""),[o,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{const b=_=>{p.current&&!p.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),m.useEffect(()=>{const _=setTimeout(async()=>{if(!i.trim()||i.length<2){c([]),d(!1);return}h(!0),d(!0);try{const{data:j,error:S}=await G.from("deals").select("id, client_name, property_address, client_email, client_phone, status, expected_sale_price").eq("user_id",e==null?void 0:e.id).or(`client_name.ilike.%${i}%,property_address.ilike.%${i}%,client_email.ilike.%${i}%,client_phone.ilike.%${i}%`).limit(5);if(S)throw S;c(j||[])}catch(j){console.error("Search error:",j),c([])}finally{h(!1)}},300);return()=>clearTimeout(_)},[i,e==null?void 0:e.id]);const g=b=>{s(""),d(!1),r("/pipeline"),setTimeout(()=>{const _=document.querySelector(`[data-deal-id="${b}"]`);_&&(_.scrollIntoView({behavior:"smooth",block:"center"}),_.classList.add("ring-2","ring-[rgb(0,122,255)]","ring-offset-2"),setTimeout(()=>{_.classList.remove("ring-2","ring-[rgb(0,122,255)]","ring-offset-2")},2e3))},100)},y=()=>{s(""),c([]),d(!1)},v=async()=>{await G.auth.signOut(),r("/login")},x=()=>{r("/pipeline?newDeal=true")},w=Oi(t==null?void 0:t.globalRole);return l.jsx("header",{className:"sticky top-0 z-50 border-b border-white/30 bg-white/75 backdrop-blur-2xl shadow-[0_12px_30px_rgba(15,23,42,0.08)]",children:l.jsxs("div",{className:"mx-auto flex h-16 w-full items-center gap-4 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-semibold text-gray-900 shadow-[0_2px_8px_rgba(15,23,42,0.08)]",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-8 w-auto"})}),l.jsx("div",{className:"hidden lg:flex w-96",ref:p,children:l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center",children:l.jsx(S0,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Search deals, people, addresses...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2 pl-10 pr-10 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15"}),i&&l.jsx("button",{onClick:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(Ss,{className:"h-4 w-4"})}),u&&l.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-3 rounded-2xl border border-white/70 bg-white/95 shadow-[0_15px_40px_rgba(15,23,42,0.16)]",children:f?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"Searching"}):o.length>0?o.map(b=>l.jsxs("button",{onClick:()=>g(b.id),className:"flex w-full items-start justify-between px-4 py-3 text-left hover:bg-gray-50",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:b.client_name}),l.jsx("p",{className:"truncate text-xs text-gray-500",children:b.property_address}),(b.client_email||b.client_phone)&&l.jsx("p",{className:"truncate text-xs text-gray-400",children:b.client_email||b.client_phone})]}),l.jsxs("div",{className:"ml-3 flex flex-col items-end gap-1",children:[l.jsx("span",{className:"rounded-full bg-blue-50 px-2 py-0.5 text-xs font-medium text-blue-700",children:b.status.replace(/_/g," ")}),l.jsxs("span",{className:"text-xs text-gray-500",children:["$",b.expected_sale_price.toLocaleString()]})]})]},b.id)):l.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:["No deals found matching ",i,"."]})})]})})]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsxs("button",{onClick:x,className:"hidden sm:inline-flex items-center gap-2 rounded-2xl border border-white/40 bg-white/80 px-3 py-2 text-sm font-medium text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/40 hover:text-[var(--app-accent)]",children:[l.jsx(Ua,{className:"h-4 w-4"}),"New deal"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>a(b=>!b),className:"flex items-center gap-2 rounded-2xl border border-white/50 bg-white/80 px-2.5 py-1.5 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:l.jsx(Ch,{className:"h-4 w-4"})}),l.jsxs("div",{className:"hidden text-left sm:block",children:[l.jsx("p",{className:"text-xs font-semibold text-gray-900",children:e==null?void 0:e.email}),l.jsx("p",{className:"text-[11px] text-gray-500",children:w})]})]}),n&&l.jsxs("div",{className:"absolute right-0 mt-3 w-64 rounded-2xl border border-white/70 bg-white/95 shadow-[0_25px_60px_rgba(15,23,42,0.16)]",children:[l.jsxs("div",{className:"border-b border-gray-100 px-4 py-3 space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e==null?void 0:e.email}),l.jsxs("p",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-[10px] uppercase tracking-wide text-gray-600",children:w}),"Signed in"]})]}),l.jsxs("button",{onClick:()=>{a(!1),r("/settings")},className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50",children:[l.jsx(kh,{className:"h-4 w-4"}),l.jsx("span",{children:"Personal Settings"})]}),l.jsxs("button",{onClick:v,className:"flex w-full items-center gap-3 px-4 py-2 text-sm text-red-600 transition hover:bg-red-50",children:[l.jsx(AL,{className:"h-4 w-4"}),l.jsx("span",{children:"Sign out"})]})]})]})]})]})})}const VL=[{icon:CL,label:"Dashboard",path:"/"},{icon:KL,label:"Pipeline",path:"/pipeline"},{icon:dv,label:"Tasks",path:"/tasks"},{icon:xL,label:"Analytics",path:"/analytics"}],GL=[{icon:js,label:"Luma AI",path:"/luma"}],YL=[{icon:kh,label:"Settings",path:"/workspace-settings"}];function XL({isCollapsed:e,onToggle:t}){const r=ya(),n=Yo(),a=(i,s)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`flex items-center gap-3 px-2 ${e?"justify-center":"justify-start"}`,children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-[var(--app-accent)]","aria-hidden":!0}),!e&&l.jsx("span",{className:"text-[12px] font-semibold uppercase tracking-[0.28em] text-gray-500",children:i})]}),l.jsx("div",{className:"space-y-1",children:s.map(o=>{const c=o.icon,u=r.pathname===o.path,d=e?"justify-center px-2":"gap-3 px-4 text-left";return l.jsxs("button",{onClick:()=>n(o.path),"aria-label":o.label,title:o.label,className:`group flex w-full items-center rounded-2xl border border-transparent py-3 text-[15px] font-semibold transition-all duration-200 ${d} ${u?"bg-[rgba(10,132,255,0.12)] text-[var(--app-accent)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.2)] border-[rgba(10,132,255,0.2)]":"text-gray-600 hover:-translate-y-[1px] hover:border-[rgba(10,132,255,0.25)] hover:bg-[rgba(10,132,255,0.06)] hover:text-[var(--app-accent)] hover:shadow-[0_12px_30px_rgba(15,23,42,0.08)]"} focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(10,132,255,0.35)]`,children:[l.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-2xl border ${u?"border-[rgba(10,132,255,0.3)] bg-white/80 text-[var(--app-accent)]":"border-white/60 bg-white/90 text-gray-700 group-hover:border-[rgba(10,132,255,0.25)] group-hover:bg-white group-hover:text-[var(--app-accent)]"}`,children:l.jsx(c,{className:"h-[18px] w-[18px]",strokeWidth:2})}),!e&&l.jsx("span",{className:"whitespace-nowrap",children:o.label})]},o.path)})})]});return l.jsx("nav",{className:`sticky top-24 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/80 shadow-[0_15px_40px_rgba(15,23,42,0.12)] transition-all duration-300 ${e?"p-3":"p-4"}`,children:l.jsxs("div",{className:"space-y-6",children:[a("Primary",VL),a("Intelligence",GL),l.jsx("div",{className:`pt-4 ${e?"":"border-t border-[var(--app-border)]"}`,children:a("Workspace",YL)}),l.jsx("div",{className:`pt-4 ${e?"":"border-t border-[var(--app-border)]"}`,children:l.jsxs("button",{type:"button",onClick:t,"aria-pressed":!e,"aria-expanded":!e,"aria-label":e?"Expand sidebar":"Collapse sidebar",className:`group flex w-full items-center rounded-2xl py-3 text-[15px] font-semibold transition ${e?"justify-center px-2":"gap-3 px-4 text-left"} text-gray-700 hover:bg-white/70 hover:text-[var(--app-accent)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-accent)]`,children:[l.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-white/70 bg-white/95 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.5)] transition-colors group-hover:border-[rgba(10,132,255,0.3)] group-hover:text-[var(--app-accent)]",children:e?l.jsx(bC,{className:"h-5 w-5 transition group-hover:text-[var(--app-accent)]"}):l.jsx(_L,{className:"h-5 w-5 transition group-hover:text-[var(--app-accent)]"})}),!e&&l.jsx("span",{className:"whitespace-nowrap",children:"Hide"})]})})]})})}function JL({children:e}){const[t,r]=m.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_var(--app-bg-start),_var(--app-bg-mid)_45%,_var(--app-bg-end))] text-[var(--app-text-primary)] overflow-x-hidden",children:[l.jsx(qL,{}),l.jsxs("div",{className:"relative mx-auto flex w-full flex-col gap-6 px-4 pb-10 pt-6 lg:flex-row lg:px-8",children:[l.jsx("div",{className:`transition-[width] duration-300 ease-in-out w-full lg:flex-shrink-0 ${t?"lg:w-20":"lg:w-64"}`,children:l.jsx(XL,{isCollapsed:t,onToggle:()=>r(n=>!n)})}),l.jsx("main",{className:"flex-1 overflow-x-hidden transition-[margin] duration-300 ease-in-out",children:l.jsx("div",{className:"min-h-[calc(100vh-10rem)] rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/85 p-4 shadow-[0_10px_50px_rgba(15,23,42,0.08)] sm:p-6 lg:p-8",children:e})})]})]})}function QL({onToggle:e}){const[t,r]=m.useState(""),[n,a]=m.useState(""),[i,s]=m.useState(!1),[o,c]=m.useState(""),u=async d=>{d.preventDefault(),s(!0),c("");const{error:f}=await G.auth.signInWithPassword({email:t,password:n});f&&c(f.message),s(!1)};return l.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),l.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Sign in to PipelineIQ"}),l.jsx("p",{className:"text-center hig-text-caption",children:"Welcome back! Please sign in to continue."})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"hig-card p-8",children:[l.jsxs("form",{onSubmit:u,className:"space-y-5",children:[o&&l.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:o}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"hig-label",children:"Email address"}),l.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:d=>r(d.target.value),className:"hig-input",placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:d=>a(d.target.value),className:"hig-input",placeholder:"Enter your password"})]}),l.jsx("button",{type:"submit",disabled:i,className:"hig-btn-primary w-full",children:i?"Signing in...":"Sign in"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200/60"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to PipelineIQ?"})})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Create an account"})})]})]})})]})}function DC({onToggle:e,presetToken:t}){const{signUp:r}=_t(),[n]=o2(),[a,i]=m.useState(""),[s,o]=m.useState(t||n.get("invite")||""),[c,u]=m.useState(null),[d,f]=m.useState(""),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(""),[w,b]=m.useState(!1),[_,j]=m.useState(!1);m.useEffect(()=>{t&&t!==s&&o(t)},[t]);const S=c&&!_&&!w,N=async E=>{if(!E){u(null),f(""),p("");return}j(!0),f(""),u(null),x("");const{data:P,error:O}=await G.rpc("get_invite_preview",{invite_token:E});if(O){f("Unable to validate invite. Please check the code or contact your admin."),j(!1);return}const q=Array.isArray(P)?P[0]:P;if(!q){f("No invitation found for this code."),j(!1);return}if(q.status!=="pending"){f("This invitation has already been used or canceled."),j(!1);return}if(new Date(q.expires_at).getTime()<Date.now()){f("This invitation has expired. Please ask your admin to resend."),j(!1);return}u(q),p(q.email),f(""),j(!1)};m.useEffect(()=>{const E=setTimeout(()=>{s&&s.length>=6?N(s.trim()):(u(null),p(""))},300);return()=>clearTimeout(E)},[s]);const k=async E=>{if(E.preventDefault(),x(""),b(!0),!c||!s){x("A valid invite code is required to join the workspace."),b(!1);return}if(g.length<6){x("Password must be at least 6 characters"),b(!1);return}const{error:P}=await r(h,g,a,s.trim());P&&x(P.message),b(!1)},C=m.useMemo(()=>c?c.workspace_name||"Workspace":"",[c]);return l.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/PipelineIQ.png",alt:"PipelineIQ",className:"h-16"})}),l.jsx("h2",{className:"text-center text-2xl font-semibold text-gray-900 mb-2",children:"Accept your invitation"}),l.jsx("p",{className:"text-center hig-text-caption",children:"PipelineIQ access is invite-only. Paste the invite code from your email to continue."})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"hig-card p-8",children:[l.jsxs("form",{onSubmit:k,className:"space-y-5",children:[v&&l.jsx("div",{className:"bg-red-50 border border-red-200/60 text-red-700 px-4 py-3 rounded-xl text-sm",children:v}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"invite",className:"hig-label flex items-center justify-between",children:["Invitation code",t&&l.jsx("span",{className:"text-[11px] text-gray-500",children:"Autofilled from your link"})]}),l.jsx("input",{id:"invite",type:"text",required:!0,value:s,onChange:E=>o(E.target.value),className:"hig-input uppercase tracking-[0.3em]",placeholder:"Paste your invite code"}),d&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:d})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",value:h,readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsx("input",{type:"text",value:c?Oi(c.intended_role):"",readOnly:!0,className:"hig-input bg-gray-50 text-gray-600",placeholder:"Invite required"})]})]}),c&&l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/70 px-4 py-3 text-sm text-gray-600",children:["Joining ",l.jsx("span",{className:"font-semibold text-gray-900",children:C})," as"," ",l.jsx("span",{className:"font-semibold text-gray-900",children:Oi(c.intended_role)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"hig-label",children:"Full name"}),l.jsx("input",{id:"name",type:"text",required:!0,value:a,onChange:E=>i(E.target.value),className:"hig-input",placeholder:"John Doe",disabled:!c})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"hig-label",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:g,onChange:E=>y(E.target.value),className:"hig-input",placeholder:"At least 6 characters",disabled:!c})]}),l.jsx("button",{type:"submit",disabled:!S,className:"hig-btn-primary w-full",children:w?"Creating account...":"Join workspace"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200/60"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("button",{onClick:e,className:"hig-btn-secondary w-full",children:"Back to sign in"}),l.jsx("p",{className:"mt-3 text-center text-xs text-gray-500",children:"Dont have an invite? Contact an admin in your workspace."})]})]})]})})]})}function ZL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const Eh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function N0(e){return"nodeType"in e}function Or(e){var t,r;return e?Zo(e)?e:N0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function k0(e){const{Document:t}=Or(e);return e instanceof t}function Jc(e){return Zo(e)?!1:e instanceof Or(e).HTMLElement}function IC(e){return e instanceof Or(e).SVGElement}function el(e){return e?Zo(e)?e.document:N0(e)?k0(e)?e:Jc(e)||IC(e)?e.ownerDocument:document:document:document}const Xn=Eh?m.useLayoutEffect:m.useEffect;function Ph(e){const t=m.useRef(e);return Xn(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function e3(){const e=m.useRef(null),t=m.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Cc(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return Xn(()=>{r.current!==e&&(r.current=e)},t),r}function Qc(e,t){const r=m.useRef();return m.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function cf(e){const t=Ph(e),r=m.useRef(null),n=m.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function uf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let km={};function Zc(e,t){return m.useMemo(()=>{if(t)return t;const r=km[e]==null?0:km[e]+1;return km[e]=r,e+"-"+r},[e,t])}function RC(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,s)=>{const o=Object.entries(s);for(const[c,u]of o){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const jo=RC(1),df=RC(-1);function t3(e){return"clientX"in e&&"clientY"in e}function Oh(e){if(!e)return!1;const{KeyboardEvent:t}=Or(e.target);return t&&e instanceof t}function r3(e){if(!e)return!1;const{TouchEvent:t}=Or(e.target);return t&&e instanceof t}function ff(e){if(r3(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return t3(e)?{x:e.clientX,y:e.clientY}:null}const Jn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Jn.Translate.toString(e),Jn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),s_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function n3(e){return e.matches(s_)?e:e.querySelector(s_)}const a3={display:"none"};function i3(e){let{id:t,value:r}=e;return ct.createElement("div",{id:t,style:a3},r)}function s3(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ct.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function o3(){const[e,t]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const MC=m.createContext(null);function l3(e){const t=m.useContext(MC);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function c3(){const[e]=m.useState(()=>new Set),t=m.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[m.useCallback(n=>{let{type:a,event:i}=n;e.forEach(s=>{var o;return(o=s[a])==null?void 0:o.call(s,i)})},[e]),t]}const u3={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},d3={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function f3(e){let{announcements:t=d3,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=u3}=e;const{announce:i,announcement:s}=o3(),o=Zc("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),l3(m.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;i(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;i(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!c)return null;const d=ct.createElement(ct.Fragment,null,ct.createElement(i3,{id:n,value:a.draggable}),ct.createElement(s3,{id:o,announcement:s}));return r?vi.createPortal(d,r):d}var Ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function hf(){}function Ah(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Th(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Qn=Object.freeze({x:0,y:0});function $C(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function h3(e,t){const r=ff(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function LC(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function p3(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function m3(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function g3(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function o_(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const C0=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=o_(t,t.left,t.top),i=[];for(const s of n){const{id:o}=s,c=r.get(o);if(c){const u=$C(o_(c),a);i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(LC)};function v3(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=a-n,o=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=s*o,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const y3=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:s}=i,o=r.get(s);if(o){const c=v3(o,t);c>0&&a.push({id:s,data:{droppableContainer:i,value:c}})}}return a.sort(p3)};function x3(e,t){const{top:r,left:n,bottom:a,right:i}=t;return r<=e.y&&e.y<=a&&n<=e.x&&e.x<=i}const b3=e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:n}=e;if(!n)return[];const a=[];for(const i of t){const{id:s}=i,o=r.get(s);if(o&&x3(n,o)){const u=m3(o).reduce((f,h)=>f+$C(n,h),0),d=Number((u/4).toFixed(4));a.push({id:s,data:{droppableContainer:i,value:d}})}}return a.sort(LC)};function w3(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function FC(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qn}function _3(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,o)=>({...s,top:s.top+e*o.y,bottom:s.bottom+e*o.y,left:s.left+e*o.x,right:s.right+e*o.x}),{...r})}}const j3=_3(1);function BC(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function S3(e,t,r){const n=BC(t);if(!n)return e;const{scaleX:a,scaleY:i,x:s,y:o}=n,c=e.left-s-(1-a)*parseFloat(r),u=e.top-o-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const N3={ignoreTransform:!1};function tl(e,t){t===void 0&&(t=N3);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Or(e).getComputedStyle(e);u&&(r=S3(r,u,d))}const{top:n,left:a,width:i,height:s,bottom:o,right:c}=r;return{top:n,left:a,width:i,height:s,bottom:o,right:c}}function l_(e){return tl(e,{ignoreTransform:!0})}function k3(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function C3(e,t){return t===void 0&&(t=Or(e).getComputedStyle(e)),t.position==="fixed"}function E3(e,t){t===void 0&&(t=Or(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function E0(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(k0(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Jc(a)||IC(a)||r.includes(a))return r;const i=Or(e).getComputedStyle(a);return a!==e&&E3(a,i)&&r.push(a),C3(a,i)?r:n(a.parentNode)}return e?n(e):r}function UC(e){const[t]=E0(e,1);return t??null}function Cm(e){return!Eh||!e?null:Zo(e)?e:N0(e)?k0(e)||e===el(e).scrollingElement?window:Jc(e)?e:null:null}function zC(e){return Zo(e)?e.scrollX:e.scrollLeft}function WC(e){return Zo(e)?e.scrollY:e.scrollTop}function hv(e){return{x:zC(e),y:WC(e)}}var Jt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jt||(Jt={}));function KC(e){return!Eh||!e?!1:e===document.scrollingElement}function HC(e){const t={x:0,y:0},r=KC(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,o=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:s,isRight:o,maxScroll:n,minScroll:t}}const P3={x:.2,y:.2};function O3(e,t,r,n,a){let{top:i,left:s,right:o,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=P3);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=HC(e),p={x:0,y:0},g={x:0,y:0},y={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+y.height?(p.y=Jt.Backward,g.y=n*Math.abs((t.top+y.height-i)/y.height)):!d&&c>=t.bottom-y.height&&(p.y=Jt.Forward,g.y=n*Math.abs((t.bottom-y.height-c)/y.height)),!h&&o>=t.right-y.width?(p.x=Jt.Forward,g.x=n*Math.abs((t.right-y.width-o)/y.width)):!f&&s<=t.left+y.width&&(p.x=Jt.Backward,g.x=n*Math.abs((t.left+y.width-s)/y.width)),{direction:p,speed:g}}function A3(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function qC(e){return e.reduce((t,r)=>jo(t,hv(r)),Qn)}function T3(e){return e.reduce((t,r)=>t+zC(r),0)}function D3(e){return e.reduce((t,r)=>t+WC(r),0)}function VC(e,t){if(t===void 0&&(t=tl),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);UC(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const I3=[["x",["left","right"],T3],["y",["top","bottom"],D3]];class P0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=E0(r),a=qC(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,o]of I3)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=o(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function R3(e){const{EventTarget:t}=Or(e);return e instanceof t?e:el(e)}function Em(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Sn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Sn||(Sn={}));function c_(e){e.preventDefault()}function M3(e){e.stopPropagation()}var ze;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ze||(ze={}));const GC={start:[ze.Space,ze.Enter],cancel:[ze.Esc],end:[ze.Space,ze.Enter,ze.Tab]},$3=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case ze.Right:return{...r,x:r.x+25};case ze.Left:return{...r,x:r.x-25};case ze.Down:return{...r,y:r.y+25};case ze.Up:return{...r,y:r.y-25}}};class YC{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Zl(el(r)),this.windowListeners=new Zl(Or(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sn.Resize,this.handleCancel),this.windowListeners.add(Sn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&VC(n),r(Qn)}handleKeyDown(t){if(Oh(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=GC,coordinateGetter:s=$3,scrollBehavior:o="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Qn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=df(f,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const y of g){const v=t.code,{isTop:x,isRight:w,isLeft:b,isBottom:_,maxScroll:j,minScroll:S}=HC(y),N=A3(y),k={x:Math.min(v===ze.Right?N.right-N.width/2:N.right,Math.max(v===ze.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(v===ze.Down?N.bottom-N.height/2:N.bottom,Math.max(v===ze.Down?N.top:N.top+N.height/2,f.y))},C=v===ze.Right&&!w||v===ze.Left&&!b,E=v===ze.Down&&!_||v===ze.Up&&!x;if(C&&k.x!==f.x){const P=y.scrollLeft+h.x,O=v===ze.Right&&P<=j.x||v===ze.Left&&P>=S.x;if(O&&!h.y){y.scrollTo({left:P,behavior:o});return}O?p.x=y.scrollLeft-P:p.x=v===ze.Right?y.scrollLeft-j.x:y.scrollLeft-S.x,p.x&&y.scrollBy({left:-p.x,behavior:o});break}else if(E&&k.y!==f.y){const P=y.scrollTop+h.y,O=v===ze.Down&&P<=j.y||v===ze.Up&&P>=S.y;if(O&&!h.x){y.scrollTo({top:P,behavior:o});return}O?p.y=y.scrollTop-P:p.y=v===ze.Down?y.scrollTop-j.y:y.scrollTop-S.y,p.y&&y.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(t,jo(df(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}YC.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=GC,onActivation:a}=t,{active:i}=r;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const o=i.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function u_(e){return!!(e&&"distance"in e)}function d_(e){return!!(e&&"delay"in e)}class O0{constructor(t,r,n){var a;n===void 0&&(n=R3(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:s}=i;this.props=t,this.events=r,this.document=el(s),this.documentListeners=new Zl(this.document),this.listeners=new Zl(n),this.windowListeners=new Zl(Or(s)),this.initialCoordinates=(a=ff(i))!=null?a:Qn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Sn.Resize,this.handleCancel),this.windowListeners.add(Sn.DragStart,c_),this.windowListeners.add(Sn.VisibilityChange,this.handleCancel),this.windowListeners.add(Sn.ContextMenu,c_),this.documentListeners.add(Sn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(d_(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(u_(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Sn.Click,M3,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!a)return;const c=(r=ff(t))!=null?r:Qn,u=df(a,c);if(!n&&o){if(u_(o)){if(o.tolerance!=null&&Em(u,o.tolerance))return this.handleCancel();if(Em(u,o.distance))return this.handleStart()}if(d_(o)&&Em(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===ze.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const L3={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rl extends O0{constructor(t){const{event:r}=t,n=el(r.target);super(t,L3,n)}}rl.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const F3={move:{name:"mousemove"},end:{name:"mouseup"}};var pv;(function(e){e[e.RightClick=2]="RightClick"})(pv||(pv={}));class B3 extends O0{constructor(t){super(t,F3,el(t.event.target))}}B3.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===pv.RightClick?!1:(n==null||n({event:r}),!0)}}];const Pm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class U3 extends O0{constructor(t){super(t,Pm)}static setup(){return window.addEventListener(Pm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pm.move.name,t)};function t(){}}}U3.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var ec;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ec||(ec={}));var pf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pf||(pf={}));function z3(e){let{acceleration:t,activator:r=ec.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:s=5,order:o=pf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=K3({delta:f,disabled:!i}),[g,y]=e3(),v=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),w=m.useMemo(()=>{switch(r){case ec.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ec.DraggableRect:return a}},[r,a,c]),b=m.useRef(null),_=m.useCallback(()=>{const S=b.current;if(!S)return;const N=v.current.x*x.current.x,k=v.current.y*x.current.y;S.scrollBy(N,k)},[]),j=m.useMemo(()=>o===pf.TreeOrder?[...u].reverse():u,[o,u]);m.useEffect(()=>{if(!i||!u.length||!w){y();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const N=u.indexOf(S),k=d[N];if(!k)continue;const{direction:C,speed:E}=O3(S,k,w,t,h);for(const P of["x","y"])p[P][C[P]]||(E[P]=0,C[P]=0);if(E.x>0||E.y>0){y(),b.current=S,g(_,s),v.current=E,x.current=C;return}}v.current={x:0,y:0},x.current={x:0,y:0},y()},[t,_,n,y,i,s,JSON.stringify(w),JSON.stringify(p),g,u,j,d,JSON.stringify(h)])}const W3={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function K3(e){let{delta:t,disabled:r}=e;const n=uf(t);return Qc(a=>{if(r||!n||!a)return W3;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Jt.Backward]:a.x[Jt.Backward]||i.x===-1,[Jt.Forward]:a.x[Jt.Forward]||i.x===1},y:{[Jt.Backward]:a.y[Jt.Backward]||i.y===-1,[Jt.Forward]:a.y[Jt.Forward]||i.y===1}}},[r,t,n])}function H3(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Qc(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function q3(e,t){return m.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...r,...i]},[]),[e,t])}var Ec;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ec||(Ec={}));var mv;(function(e){e.Optimized="optimized"})(mv||(mv={}));const f_=new Map;function V3(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,s]=m.useState(null),{frequency:o,measure:c,strategy:u}=a,d=m.useRef(e),f=v(),h=Cc(f),p=m.useCallback(function(x){x===void 0&&(x=[]),!h.current&&s(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[h]),g=m.useRef(null),y=Qc(x=>{if(f&&!r)return f_;if(!x||x===f_||d.current!==e||i!=null){const w=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const _=b.node.current,j=_?new P0(c(_),_):null;b.rect.current=j,j&&w.set(b.id,j)}return w}return x},[e,i,r,f,c]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{f||p()},[r,f]),m.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),m.useEffect(()=>{f||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,f,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case Ec.Always:return!1;case Ec.BeforeDragging:return r;default:return!r}}}function A0(e,t){return Qc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function G3(e,t){return A0(e,t)}function Y3(e){let{callback:t,disabled:r}=e;const n=Ph(t),a=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Dh(e){let{callback:t,disabled:r}=e;const n=Ph(t),a=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return m.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function X3(e){return new P0(tl(e),e)}function h_(e,t,r){t===void 0&&(t=X3);const[n,a]=m.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=Y3({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),o=Dh({callback:i});return Xn(()=>{i(),e?(o==null||o.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[e]),n}function J3(e){const t=A0(e);return FC(e,t)}const p_=[];function Q3(e){const t=m.useRef(e),r=Qc(n=>e?n&&n!==p_&&e&&t.current&&e.parentNode===t.current.parentNode?n:E0(e):p_,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function Z3(e){const[t,r]=m.useState(null),n=m.useRef(e),a=m.useCallback(i=>{const s=Cm(i.target);s&&r(o=>o?(o.set(s,hv(s)),new Map(o)):null)},[]);return m.useEffect(()=>{const i=n.current;if(e!==i){s(i);const o=e.map(c=>{const u=Cm(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,hv(u)]):null}).filter(c=>c!=null);r(o.length?new Map(o):null),n.current=e}return()=>{s(e),s(i)};function s(o){o.forEach(c=>{const u=Cm(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>jo(i,s),Qn):qC(e):Qn,[e,t])}function m_(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const n=e!==Qn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?df(e,r.current):Qn}function e6(e){m.useEffect(()=>{if(!Eh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function t6(e,t){return m.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=s=>{i(s,t)},r},{}),[e,t])}function XC(e){return m.useMemo(()=>e?k3(e):null,[e])}const g_=[];function r6(e,t){t===void 0&&(t=tl);const[r]=e,n=XC(r?Or(r):null),[a,i]=m.useState(g_);function s(){i(()=>e.length?e.map(c=>KC(c)?n:new P0(t(c),c)):g_)}const o=Dh({callback:s});return Xn(()=>{o==null||o.disconnect(),s(),e.forEach(c=>o==null?void 0:o.observe(c))},[e]),a}function JC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Jc(t)?t:e}function n6(e){let{measure:t}=e;const[r,n]=m.useState(null),a=m.useCallback(u=>{for(const{target:d}of u)if(Jc(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=Dh({callback:a}),s=m.useCallback(u=>{const d=JC(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[o,c]=cf(s);return m.useMemo(()=>({nodeRef:o,rect:r,setRef:c}),[r,o,c])}const a6=[{sensor:rl,options:{}},{sensor:YC,options:{}}],i6={current:{}},Cd={draggable:{measure:l_},droppable:{measure:l_,strategy:Ec.WhileDragging,frequency:mv.Optimized},dragOverlay:{measure:tl}};class tc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const s6={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Cd,measureDroppableContainers:hf,windowRect:null,measuringScheduled:!1},QC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hf,draggableNodes:new Map,over:null,measureDroppableContainers:hf},eu=m.createContext(QC),ZC=m.createContext(s6);function o6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tc}}}function l6(e,t){switch(t.type){case Ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new tc(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case Ut.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const s=new tc(e.droppable.containers);return s.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:s}}}case Ut.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new tc(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function c6(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=m.useContext(eu),i=uf(n),s=uf(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!n&&i&&s!=null){if(!Oh(i)||document.activeElement===i.target)return;const o=a.get(s);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=n3(d);if(f){f.focus();break}}})}},[n,t,a,s,i]),null}function eE(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function u6(e){return m.useMemo(()=>({draggable:{...Cd.draggable,...e==null?void 0:e.draggable},droppable:{...Cd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Cd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function d6(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=m.useRef(!1),{x:s,y:o}=typeof a=="boolean"?{x:a,y:a}:a;Xn(()=>{if(!s&&!o||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=FC(d,n);if(s||(f.x=0),o||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=UC(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,s,o,n,r])}const Ih=m.createContext({...Qn,scaleX:1,scaleY:1});var li;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(li||(li={}));const Rh=m.memo(function(t){var r,n,a,i;let{id:s,accessibility:o,autoScroll:c=!0,children:u,sensors:d=a6,collisionDetection:f=y3,measuring:h,modifiers:p,...g}=t;const y=m.useReducer(l6,void 0,o6),[v,x]=y,[w,b]=c3(),[_,j]=m.useState(li.Uninitialized),S=_===li.Initialized,{draggable:{active:N,nodes:k,translate:C},droppable:{containers:E}}=v,P=N!=null?k.get(N):null,O=m.useRef({initial:null,translated:null}),q=m.useMemo(()=>{var Fe;return N!=null?{id:N,data:(Fe=P==null?void 0:P.data)!=null?Fe:i6,rect:O}:null},[N,P]),Y=m.useRef(null),[Z,U]=m.useState(null),[W,A]=m.useState(null),M=Cc(g,Object.values(g)),L=Zc("DndDescribedBy",s),se=m.useMemo(()=>E.getEnabled(),[E]),ee=u6(h),{droppableRects:me,measureDroppableContainers:I,measuringScheduled:te}=V3(se,{dragging:S,dependencies:[C.x,C.y],config:ee.droppable}),z=H3(k,N),X=m.useMemo(()=>W?ff(W):null,[W]),pe=Dr(),T=G3(z,ee.draggable.measure);d6({activeNode:N!=null?k.get(N):null,config:pe.layoutShiftCompensation,initialRect:T,measure:ee.draggable.measure});const K=h_(z,ee.draggable.measure,T),Q=h_(z?z.parentElement:null),$=m.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=E.getNodeFor((r=$.current.over)==null?void 0:r.id),R=n6({measure:ee.dragOverlay.measure}),ie=(n=R.nodeRef.current)!=null?n:z,ae=S?(a=R.rect)!=null?a:K:null,he=!!(R.nodeRef.current&&R.rect),Ye=J3(he?null:K),Ae=XC(ie?Or(ie):null),Te=Q3(S?_e??z:null),H=r6(Te),Me=eE(p,{transform:{x:C.x-Ye.x,y:C.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:W,active:q,activeNodeRect:K,containerNodeRect:Q,draggingNodeRect:ae,over:$.current.over,overlayNodeRect:R.rect,scrollableAncestors:Te,scrollableAncestorRects:H,windowRect:Ae}),De=X?jo(X,C):null,Ke=Z3(Te),Tt=m_(Ke),Wi=m_(Ke,[K]),mn=jo(Me,Tt),gn=ae?j3(ae,Me):null,vn=q&&gn?f({active:q,collisionRect:gn,droppableRects:me,droppableContainers:se,pointerCoordinates:De}):null,ni=g3(vn,"id"),[Hr,Ki]=m.useState(null),yn=he?Me:jo(Me,Wi),ia=w3(yn,(i=Hr==null?void 0:Hr.rect)!=null?i:null,K),sa=m.useRef(null),nr=m.useCallback((Fe,Dt)=>{let{sensor:ot,options:Ir}=Dt;if(Y.current==null)return;const Gt=k.get(Y.current);if(!Gt)return;const et=Fe.nativeEvent,ar=new ot({active:Y.current,activeNode:Gt,event:et,options:Ir,context:$,onAbort(lt){if(!k.get(lt))return;const{onDragAbort:Vr}=M.current,Gr={id:lt};Vr==null||Vr(Gr),w({type:"onDragAbort",event:Gr})},onPending(lt,br,Vr,Gr){if(!k.get(lt))return;const{onDragPending:V}=M.current,de={id:lt,constraint:br,initialCoordinates:Vr,offset:Gr};V==null||V(de),w({type:"onDragPending",event:de})},onStart(lt){const br=Y.current;if(br==null)return;const Vr=k.get(br);if(!Vr)return;const{onDragStart:Gr}=M.current,wa={activatorEvent:et,active:{id:br,data:Vr.data,rect:O}};vi.unstable_batchedUpdates(()=>{Gr==null||Gr(wa),j(li.Initializing),x({type:Ut.DragStart,initialCoordinates:lt,active:br}),w({type:"onDragStart",event:wa}),U(sa.current),A(et)})},onMove(lt){x({type:Ut.DragMove,coordinates:lt})},onEnd:qr(Ut.DragEnd),onCancel:qr(Ut.DragCancel)});sa.current=ar;function qr(lt){return async function(){const{active:Vr,collisions:Gr,over:wa,scrollAdjustedTranslate:V}=$.current;let de=null;if(Vr&&V){const{cancelDrop:Ce}=M.current;de={activatorEvent:et,active:Vr,collisions:Gr,delta:V,over:wa},lt===Ut.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(de))&&(lt=Ut.DragCancel)}Y.current=null,vi.unstable_batchedUpdates(()=>{x({type:lt}),j(li.Uninitialized),Ki(null),U(null),A(null),sa.current=null;const Ce=lt===Ut.DragEnd?"onDragEnd":"onDragCancel";if(de){const He=M.current[Ce];He==null||He(de),w({type:Ce,event:de})}})}}},[k]),fl=m.useCallback((Fe,Dt)=>(ot,Ir)=>{const Gt=ot.nativeEvent,et=k.get(Ir);if(Y.current!==null||!et||Gt.dndKit||Gt.defaultPrevented)return;const ar={active:et};Fe(ot,Dt.options,ar)===!0&&(Gt.dndKit={capturedBy:Dt.sensor},Y.current=Ir,nr(ot,Dt))},[k,nr]),xa=q3(d,fl);e6(d),Xn(()=>{K&&_===li.Initializing&&j(li.Initialized)},[K,_]),m.useEffect(()=>{const{onDragMove:Fe}=M.current,{active:Dt,activatorEvent:ot,collisions:Ir,over:Gt}=$.current;if(!Dt||!ot)return;const et={active:Dt,activatorEvent:ot,collisions:Ir,delta:{x:mn.x,y:mn.y},over:Gt};vi.unstable_batchedUpdates(()=>{Fe==null||Fe(et),w({type:"onDragMove",event:et})})},[mn.x,mn.y]),m.useEffect(()=>{const{active:Fe,activatorEvent:Dt,collisions:ot,droppableContainers:Ir,scrollAdjustedTranslate:Gt}=$.current;if(!Fe||Y.current==null||!Dt||!Gt)return;const{onDragOver:et}=M.current,ar=Ir.get(ni),qr=ar&&ar.rect.current?{id:ar.id,rect:ar.rect.current,data:ar.data,disabled:ar.disabled}:null,lt={active:Fe,activatorEvent:Dt,collisions:ot,delta:{x:Gt.x,y:Gt.y},over:qr};vi.unstable_batchedUpdates(()=>{Ki(qr),et==null||et(lt),w({type:"onDragOver",event:lt})})},[ni]),Xn(()=>{$.current={activatorEvent:W,active:q,activeNode:z,collisionRect:gn,collisions:vn,droppableRects:me,draggableNodes:k,draggingNode:ie,draggingNodeRect:ae,droppableContainers:E,over:Hr,scrollableAncestors:Te,scrollAdjustedTranslate:mn},O.current={initial:ae,translated:gn}},[q,z,vn,gn,k,ie,ae,me,E,Hr,Te,mn]),z3({...pe,delta:C,draggingRect:gn,pointerCoordinates:De,scrollableAncestors:Te,scrollableAncestorRects:H});const $s=m.useMemo(()=>({active:q,activeNode:z,activeNodeRect:K,activatorEvent:W,collisions:vn,containerNodeRect:Q,dragOverlay:R,draggableNodes:k,droppableContainers:E,droppableRects:me,over:Hr,measureDroppableContainers:I,scrollableAncestors:Te,scrollableAncestorRects:H,measuringConfiguration:ee,measuringScheduled:te,windowRect:Ae}),[q,z,K,W,vn,Q,R,k,E,me,Hr,I,Te,H,ee,te,Ae]),ba=m.useMemo(()=>({activatorEvent:W,activators:xa,active:q,activeNodeRect:K,ariaDescribedById:{draggable:L},dispatch:x,draggableNodes:k,over:Hr,measureDroppableContainers:I}),[W,xa,q,K,x,L,k,Hr,I]);return ct.createElement(MC.Provider,{value:b},ct.createElement(eu.Provider,{value:ba},ct.createElement(ZC.Provider,{value:$s},ct.createElement(Ih.Provider,{value:ia},u)),ct.createElement(c6,{disabled:(o==null?void 0:o.restoreFocus)===!1})),ct.createElement(f3,{...o,hiddenTextDescribedById:L}));function Dr(){const Fe=(Z==null?void 0:Z.autoScrollEnabled)===!1,Dt=typeof c=="object"?c.enabled===!1:c===!1,ot=S&&!Fe&&!Dt;return typeof c=="object"?{...c,enabled:ot}:{enabled:ot}}}),f6=m.createContext(null),v_="button",h6="Draggable";function p6(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Zc(h6),{activators:s,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=m.useContext(eu),{role:p=v_,roleDescription:g="draggable",tabIndex:y=0}=a??{},v=(c==null?void 0:c.id)===t,x=m.useContext(v?Ih:f6),[w,b]=cf(),[_,j]=cf(),S=t6(s,t),N=Cc(r);Xn(()=>(f.set(t,{id:t,key:i,node:w,activatorNode:_,data:N}),()=>{const C=f.get(t);C&&C.key===i&&f.delete(t)}),[f,t]);const k=m.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":v&&p===v_?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,y,v,g,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:k,isDragging:v,listeners:n?void 0:S,node:w,over:h,setNodeRef:b,setActivatorNodeRef:j,transform:x}}function tE(){return m.useContext(ZC)}const m6="Droppable",g6={timeout:25};function rE(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Zc(m6),{active:s,dispatch:o,over:c,measureDroppableContainers:u}=m.useContext(eu),d=m.useRef({disabled:r}),f=m.useRef(!1),h=m.useRef(null),p=m.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...g6,...a},x=Cc(y??n),w=m.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),b=Dh({callback:w,disabled:g||!s}),_=m.useCallback((k,C)=>{b&&(C&&(b.unobserve(C),f.current=!1),k&&b.observe(k))},[b]),[j,S]=cf(_),N=Cc(t);return m.useEffect(()=>{!b||!j.current||(b.disconnect(),f.current=!1,b.observe(j.current))},[j,b]),m.useEffect(()=>(o({type:Ut.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:h,data:N}}),()=>o({type:Ut.UnregisterDroppable,key:i,id:n})),[n]),m.useEffect(()=>{r!==d.current.disabled&&(o({type:Ut.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,o]),{active:s,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:S}}function v6(e){let{animation:t,children:r}=e;const[n,a]=m.useState(null),[i,s]=m.useState(null),o=uf(r);return!r&&!n&&o&&a(o),Xn(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),ct.createElement(ct.Fragment,null,r,n?m.cloneElement(n,{ref:s}):null)}const y6={x:0,y:0,scaleX:1,scaleY:1};function x6(e){let{children:t}=e;return ct.createElement(eu.Provider,{value:QC},ct.createElement(Ih.Provider,{value:y6},t))}const b6={position:"fixed",touchAction:"none"},w6=e=>Oh(e)?"transform 250ms ease":void 0,_6=m.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:s,rect:o,style:c,transform:u,transition:d=w6}=e;if(!o)return null;const f=a?u:{...u,scaleX:1,scaleY:1},h={...b6,width:o.width,height:o.height,top:o.top,left:o.left,transform:Jn.Transform.toString(f),transformOrigin:a&&n?h3(n,o):void 0,transition:typeof d=="function"?d(n):d,...c};return ct.createElement(r,{className:s,style:h,ref:t},i)}),j6=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:s}=e;if(i!=null&&i.active)for(const[o,c]of Object.entries(i.active))c!==void 0&&(a[o]=r.node.style.getPropertyValue(o),r.node.style.setProperty(o,c));if(i!=null&&i.dragOverlay)for(const[o,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(o,c);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);s!=null&&s.active&&r.node.classList.remove(s.active)}},S6=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Jn.Transform.toString(t)},{transform:Jn.Transform.toString(r)}]},N6={duration:250,easing:"ease",keyframes:S6,sideEffects:j6({styles:{active:{opacity:"0"}}})};function k6(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return Ph((i,s)=>{if(t===null)return;const o=r.get(i);if(!o)return;const c=o.node.current;if(!c)return;const u=JC(s);if(!u)return;const{transform:d}=Or(s).getComputedStyle(s),f=BC(d);if(!f)return;const h=typeof t=="function"?t:C6(t);return VC(c,a.draggable.measure),h({active:{id:i,data:o.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:s,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function C6(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...N6,...e};return i=>{let{active:s,dragOverlay:o,transform:c,...u}=i;if(!t)return;const d={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/o.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},p=a({...u,active:s,dragOverlay:o,transform:{initial:c,final:h}}),[g]=p,y=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(y))return;const v=n==null?void 0:n({active:s,dragOverlay:o,...u}),x=o.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v==null||v(),w()}})}}let y_=0;function E6(e){return m.useMemo(()=>{if(e!=null)return y_++,y_},[e])}const nE=ct.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:s,wrapperElement:o="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:y,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:_,windowRect:j}=tE(),S=m.useContext(Ih),N=E6(f==null?void 0:f.id),k=eE(s,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:_,transform:S,windowRect:j}),C=A0(h),E=k6({config:n,draggableNodes:g,droppableContainers:y,measuringConfiguration:w}),P=C?v.setRef:void 0;return ct.createElement(x6,null,ct.createElement(v6,{animation:E},f&&N?ct.createElement(_6,{key:N,id:f.id,ref:P,as:o,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...a},transform:k},r):null))});function Mh(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function P6(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function qu(e){return e!==null&&e>=0}function O6(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function A6(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const $h=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=Mh(t,n,r),s=t[a],o=i[a];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},Vu={scaleX:1,scaleY:1},aE=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:s}=e;const o=(t=i[r])!=null?t:n;if(!o)return null;if(a===r){const u=i[s];return u?{x:0,y:r<s?u.top+u.height-(o.top+o.height):u.top-o.top,...Vu}:null}const c=T6(i,a,r);return a>r&&a<=s?{x:0,y:-o.height-c,...Vu}:a<r&&a>=s?{x:0,y:o.height+c,...Vu}:{x:0,y:0,...Vu}};function T6(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const iE="Sortable",sE=ct.createContext({activeIndex:-1,containerId:iE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$h,disabled:{draggable:!1,droppable:!1}});function Lh(e){let{children:t,id:r,items:n,strategy:a=$h,disabled:i=!1}=e;const{active:s,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:d}=tE(),f=Zc(iE,r),h=o.rect!==null,p=m.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),g=s!=null,y=s?p.indexOf(s.id):-1,v=u?p.indexOf(u.id):-1,x=m.useRef(p),w=!O6(p,x.current),b=v!==-1&&y===-1||w,_=A6(i);Xn(()=>{w&&g&&d(p)},[w,p,g,d]),m.useEffect(()=>{x.current=p},[p]);const j=m.useMemo(()=>({activeIndex:y,containerId:f,disabled:_,disableTransforms:b,items:p,overIndex:v,useDragOverlay:h,sortedRects:P6(p,c),strategy:a}),[y,f,_.draggable,_.droppable,b,p,v,c,h,a]);return ct.createElement(sE.Provider,{value:j},t)}const D6=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return Mh(r,n,a).indexOf(t)},I6=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:s,previousItems:o,previousContainerId:c,transition:u}=e;return!u||!n||o!==i&&a===s?!1:r?!0:s!==a&&t===c},R6={duration:200,easing:"ease"},oE="transform",M6=Jn.Transition.toString({property:oE,duration:0,easing:"linear"}),$6={roleDescription:"sortable"};function L6(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,s]=m.useState(null),o=m.useRef(r);return Xn(()=>{if(!t&&r!==o.current&&n.current){const c=a.current;if(c){const u=tl(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}r!==o.current&&(o.current=r)},[t,r,n,a]),m.useEffect(()=>{i&&s(null)},[i]),i}function Fh(e){let{animateLayoutChanges:t=I6,attributes:r,disabled:n,data:a,getNewIndex:i=D6,id:s,strategy:o,resizeObserverConfig:c,transition:u=R6}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:y,overIndex:v,useDragOverlay:x,strategy:w}=m.useContext(sE),b=F6(n,p),_=d.indexOf(s),j=m.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...a}),[f,a,_,d]),S=m.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:N,node:k,isOver:C,setNodeRef:E}=rE({id:s,data:j,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:P,activatorEvent:O,activeNodeRect:q,attributes:Y,setNodeRef:Z,listeners:U,isDragging:W,over:A,setActivatorNodeRef:M,transform:L}=p6({id:s,data:j,attributes:{...$6,...r},disabled:b.draggable}),se=ZL(E,Z),ee=!!P,me=ee&&!g&&qu(h)&&qu(v),I=!x&&W,te=I&&me?L:null,X=me?te??(o??w)({rects:y,activeNodeRect:q,activeIndex:h,overIndex:v,index:_}):null,pe=qu(h)&&qu(v)?i({id:s,items:d,activeIndex:h,overIndex:v}):_,T=P==null?void 0:P.id,K=m.useRef({activeId:T,items:d,newIndex:pe,containerId:f}),Q=d!==K.current.items,$=t({active:P,containerId:f,isDragging:W,isSorting:ee,id:s,index:_,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),_e=L6({disabled:!$,index:_,node:k,rect:N});return m.useEffect(()=>{ee&&K.current.newIndex!==pe&&(K.current.newIndex=pe),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[ee,pe,f,d]),m.useEffect(()=>{if(T===K.current.activeId)return;if(T!=null&&K.current.activeId==null){K.current.activeId=T;return}const ie=setTimeout(()=>{K.current.activeId=T},50);return()=>clearTimeout(ie)},[T]),{active:P,activeIndex:h,attributes:Y,data:j,rect:N,index:_,newIndex:pe,items:d,isOver:C,isSorting:ee,isDragging:W,listeners:U,node:k,overIndex:v,over:A,setNodeRef:se,setActivatorNodeRef:M,setDroppableNodeRef:E,setDraggableNodeRef:Z,transform:_e??X,transition:R()};function R(){if(_e||Q&&K.current.newIndex===_)return M6;if(!(I&&!Oh(O)||!u)&&(ee||$))return Jn.Transition.toString({...u,property:oE})}}function F6(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}ze.Down,ze.Right,ze.Up,ze.Left;function Rr(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Gu(e){return`${(e*100).toFixed(1)}%`}function x_(e,t){const r=new Date().getHours(),n=r<12?"Good morning":r<18?"Good afternoon":"Good evening",a=["Let's close some deals","Time to crush your goals","Ready to dominate the market","Another day, another opportunity","Let's make it a winning day","Time to turn leads into gold","Your next closing is waiting","Great things happen to closers","Let's build your empire","Success is calling your name","Time to level up your game","Let's make today count"],i=["Rally the team to a strong finish","Spot the blockers and clear the way","Guide the pipeline to momentum","Coach for better follow-through today","Keep your team sharp and focused","Measure, adjust, and push the pace"],s=["Lead from the frontshow them the way","Tee up the right opportunities for the team","Mentor and keep the cadence tight","Keep your squad synced and confident","Set the tone and celebrate small wins","Align the team to the next milestones"],o=["Keep operations humming smoothly","Check the pulse and anticipate needs","Steady hands keep the flywheel spinning","Align the org and let the teams run","Remove friction and raise the bar","Your oversight keeps momentum steady"],c=e?e.split(" ")[0]:"",u=c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",d=u?`, ${u}`:"";let f=a;t==="sales_manager"?f=i:t==="team_lead"?f=s:t==="admin"&&(f=o);const h=f[Math.floor(Math.random()*f.length)];return`${n}${d}. ${h}!`}function B6(){return new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(new Date)}function U6(e,t,r){const n=new Date,a=n.getFullYear(),i=n.getMonth(),s=Math.floor(i/3);switch(e){case"this_month":return{start:new Date(a,i,1),end:new Date(a,i+1,0,23,59,59)};case"last_30_days":const o=new Date(n);return o.setDate(o.getDate()-30),{start:o,end:n};case"this_quarter":return{start:new Date(a,s*3,1),end:new Date(a,(s+1)*3,0,23,59,59)};case"ytd":return{start:new Date(a,0,1),end:n};case"custom":return{start:t||new Date(a,0,1),end:r||n};default:return{start:new Date(a,0,1),end:n}}}function Gi(e){const n=(e.actual_sale_price||e.expected_sale_price)*e.gross_commission_rate*(1-e.brokerage_split_rate);return(e.referral_out_rate?n*(1-e.referral_out_rate):n)-e.transaction_fee}function lE(e){const t=new Date(e),n=new Date().getTime()-t.getTime();return Math.floor(n/(1e3*60*60*24))}function b_(e,t=30){return lE(e)>t}function z6(e){if(!e||!e.startsWith("hsl("))return null;const t=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return t?{h:parseInt(t[1],10),s:parseInt(t[2],10),l:parseInt(t[3],10)}:null}function W6(e){if(!e||!e.toLowerCase().startsWith("rgb("))return null;const t=e.match(/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/i);if(!t)return null;const[r,n,a]=t.slice(1).map(i=>parseInt(i,10));return[r,n,a].some(i=>Number.isNaN(i)||i<0||i>255)?null:{r,g:n,b:a}}function K6(e){if(!e||!e.startsWith("#"))return null;const r=e.trim().match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(!r)return null;let n=r[1];n.length===3&&(n=n.split("").map(o=>o+o).join(""));const a=parseInt(n.slice(0,2),16),i=parseInt(n.slice(2,4),16),s=parseInt(n.slice(4,6),16);return{r:a,g:i,b:s}}function H6(e){if(!e)return"#ffffff";const t=K6(e);if(t)return(.2126*t.r+.7152*t.g+.0722*t.b)/255>.6?"#000000":"#ffffff";const r=z6(e);if(r)return r.l>60?"#000000":"#ffffff";const n=W6(e);return n&&(.2126*n.r+.7152*n.g+.0722*n.b)/255>.6?"#000000":"#ffffff"}function Bh(e){if(!e)return"hsl(220, 70%, 50%)";const t=e.toLowerCase(),r=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);return r?r[0]:t.startsWith("hsl(")||t.startsWith("rgb(")?e:{blue:"hsl(220, 70%, 50%)",cyan:"hsl(190, 65%, 48%)",teal:"hsl(165, 60%, 45%)",green:"hsl(145, 65%, 45%)",lime:"hsl(80, 60%, 50%)",yellow:"hsl(45, 100%, 50%)",orange:"hsl(25, 95%, 55%)",red:"hsl(5, 75%, 55%)",pink:"hsl(340, 70%, 55%)",purple:"hsl(280, 65%, 55%)",violet:"hsl(260, 60%, 55%)",indigo:"hsl(240, 65%, 55%)",slate:"hsl(200, 20%, 50%)",gray:"hsl(0, 0%, 50%)",brown:"hsl(30, 40%, 45%)",amber:"hsl(40, 95%, 50%)",emerald:"hsl(160, 70%, 45%)",sky:"hsl(200, 90%, 50%)",rose:"hsl(350, 80%, 55%)",mint:"hsl(175, 60%, 45%)"}[t]||"hsl(220, 70%, 50%)"}function Uh(e){const t=Bh(e),r=H6(t);return{bg:t,text:r}}function cE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=cE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=cE(e))&&(n&&(n+=" "),n+=t);return n}var q6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T0(e){if(typeof e!="string")return!1;var t=q6;return t.includes(e)}var V6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uE(e){if(typeof e!="string")return!1;var t=V6;return t.includes(e)}function dE(e){return typeof e=="string"&&e.startsWith("data-")}function Zn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uE(n)||dE(n)});return Object.fromEntries(t)}function tu(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Zn(t)}return typeof e=="object"&&!Array.isArray(e)?Zn(e):null}function Cr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uE(n)||dE(n)||T0(n)});return Object.fromEntries(t)}function G6(e){return e==null?null:m.isValidElement(e)?Cr(e.props):typeof e=="object"&&!Array.isArray(e)?Cr(e):null}var Y6=["children","width","height","viewBox","className","style","title","desc"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function X6(e,t){if(e==null)return{};var r,n,a=J6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function J6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fE=m.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,d=X6(e,Y6),f=i||{width:n,height:a,x:0,y:0},h=Xe("recharts-surface",s);return m.createElement("svg",gv({},Cr(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,u),r)}),Q6=["children","className"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function Z6(e,t){if(e==null)return{};var r,n,a=eF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=m.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Z6(e,Q6),i=Xe("recharts-layer",n);return m.createElement("g",vv({className:i},Cr(a),{ref:t}),r)}),tF=m.createContext(null);function rt(e){return function(){return e}}const hE=Math.cos,mf=Math.sin,aa=Math.sqrt,gf=Math.PI,zh=2*gf,yv=Math.PI,xv=2*yv,Zi=1e-6,rF=xv-Zi;function pE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pE;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class aF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pE:nF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Zi)if(!(Math.abs(f*c-u*d)>Zi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,y=c*c+u*u,v=p*p+g*g,x=Math.sqrt(y),w=Math.sqrt(h),b=i*Math.tan((yv-Math.acos((y+h-v)/(2*x*w)))/2),_=b/w,j=b/x;Math.abs(_-1)>Zi&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Zi||Math.abs(this._y1-d)>Zi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%xv+xv),h>rF?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Zi&&this._append`A${n},${n},0,${+(h>=yv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function D0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new aF(t)}function I0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mE(e){this._context=e}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wh(e){return new mE(e)}function gE(e){return e[0]}function vE(e){return e[1]}function yE(e,t){var r=rt(!0),n=null,a=Wh,i=null,s=D0(o);e=typeof e=="function"?e:e===void 0?gE:rt(e),t=typeof t=="function"?t:t===void 0?vE:rt(t);function o(c){var u,d=(c=I0(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:rt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:rt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:rt(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function Yu(e,t,r){var n=null,a=rt(!0),i=null,s=Wh,o=null,c=D0(u);e=typeof e=="function"?e:e===void 0?gE:rt(+e),t=typeof t=="function"?t:rt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vE:rt(+r);function u(f){var h,p,g,y=(f=I0(f)).length,v,x=!1,w,b=new Array(y),_=new Array(y);for(i==null&&(o=s(w=c())),h=0;h<=y;++h){if(!(h<y&&a(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],_[g]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return o=null,w+""||null}function d(){return yE().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:rt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class xE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iF(e){return new xE(e,!0)}function sF(e){return new xE(e,!1)}const R0={draw(e,t){const r=aa(t/gf);e.moveTo(r,0),e.arc(0,0,r,0,zh)}},oF={draw(e,t){const r=aa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bE=aa(1/3),lF=bE*2,cF={draw(e,t){const r=aa(t/lF),n=r*bE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uF={draw(e,t){const r=aa(t),n=-r/2;e.rect(n,n,r,r)}},dF=.8908130915292852,wE=mf(gf/10)/mf(7*gf/10),fF=mf(zh/10)*wE,hF=-hE(zh/10)*wE,pF={draw(e,t){const r=aa(t*dF),n=fF*r,a=hF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=zh*i/5,o=hE(s),c=mf(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Om=aa(3),mF={draw(e,t){const r=-aa(t/(Om*3));e.moveTo(0,r*2),e.lineTo(-Om*r,-r),e.lineTo(Om*r,-r),e.closePath()}},bn=-.5,wn=aa(3)/2,bv=1/aa(12),gF=(bv/2+1)*3,vF={draw(e,t){const r=aa(t/gF),n=r/2,a=r*bv,i=n,s=r*bv+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(bn*n-wn*a,wn*n+bn*a),e.lineTo(bn*i-wn*s,wn*i+bn*s),e.lineTo(bn*o-wn*c,wn*o+bn*c),e.lineTo(bn*n+wn*a,bn*a-wn*n),e.lineTo(bn*i+wn*s,bn*s-wn*i),e.lineTo(bn*o+wn*c,bn*c-wn*o),e.closePath()}};function yF(e,t){let r=null,n=D0(a);e=typeof e=="function"?e:rt(e||R0),t=typeof t=="function"?t:rt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:rt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:rt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function vf(){}function yf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _E(e){this._context=e}_E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xF(e){return new _E(e)}function jE(e){this._context=e}jE.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bF(e){return new jE(e)}function SE(e){this._context=e}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wF(e){return new SE(e)}function NE(e){this._context=e}NE.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _F(e){return new NE(e)}function w_(e){return e<0?-1:1}function __(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(w_(i)+w_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function j_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Am(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function xf(e){this._context=e}xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Am(this,this._t0,j_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Am(this,j_(this,r=__(this,e,t)),r);break;default:Am(this,this._t0,r=__(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function kE(e){this._context=new CE(e)}(kE.prototype=Object.create(xf.prototype)).point=function(e,t){xf.prototype.point.call(this,t,e)};function CE(e){this._context=e}CE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function jF(e){return new xf(e)}function SF(e){return new kE(e)}function EE(e){this._context=e}EE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S_(e),a=S_(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function NF(e){return new EE(e)}function Kh(e,t){this._context=e,this._t=t}Kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function kF(e){return new Kh(e,.5)}function CF(e){return new Kh(e,0)}function EF(e){return new Kh(e,1)}function Ro(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PF(e,t){return e[t]}function OF(e){const t=[];return t.key=e,t}function AF(){var e=rt([]),t=wv,r=Ro,n=PF;function a(i){var s=Array.from(e.apply(this,arguments),OF),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=I0(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:rt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:rt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?wv:typeof i=="function"?i:rt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ro,a):r},a}function TF(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ro(e,t)}}function DF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ro(e,t)}}function IF(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var y=e[t[g]],v=y[n][1]||0,x=y[n-1][1]||0;p+=v-x}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ro(e,t)}}var Hh={},PE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(PE);var M0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(M0);var qh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(qh);var Vh={},OE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(OE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OE,r=qh;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];u?f==="\\"&&o+1<s?(o++,c+=a[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,o++}return c&&i.push(c),i}e.toPath=n})(Vh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE,r=M0,n=qh,a=Vh;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Hh);var RF=Hh.get;const Mo=Ya(RF);var Fr=e=>e===0?0:e>0?1:-1,ea=e=>typeof e=="number"&&e!=+e,za=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ve=e=>(typeof e=="number"||e instanceof Number)&&!ea(e),ma=e=>ve(e)||typeof e=="string",MF=0,Pc=e=>{var t=++MF;return"".concat(e||"").concat(t)},ta=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&typeof t!="string")return n;var i;if(za(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ea(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},AE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function wt(e,t,r){return ve(e)&&ve(t)?e+r*(t-e):t}function TE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Mo(n,t))===r)}var ht=e=>e===null||typeof e>"u",ru=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $F(e){return e!=null}function nl(){}var LF=["type","size","sizeType"];function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){FF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FF(e,t,r){return(t=BF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zF(e,t){if(e==null)return{};var r,n,a=WF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DE={symbolCircle:R0,symbolCross:oF,symbolDiamond:cF,symbolSquare:uF,symbolStar:pF,symbolTriangle:mF,symbolWye:vF},KF=Math.PI/180,HF=e=>{var t="symbol".concat(ru(e));return DE[t]||R0},qF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*KF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VF=(e,t)=>{DE["symbol".concat(ru(e))]=t},IE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=zF(e,LF),i=k_(k_({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=HF(s),p=yF().type(h).size(qF(r,n,s)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=Cr(i);return ve(u)&&ve(d)&&ve(r)?m.createElement("path",_v({},f,{className:Xe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};IE.registerSymbol=VF;var RE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{T0(a)&&(n[a]=i=>r[a](r,i))}),n},GF=(e,t,r)=>n=>(e(t,r,n),null),L0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];T0(a)&&typeof i=="function"&&(n||(n={}),n[a]=GF(i,t,r))}),n};function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return(t=JF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=YF({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}var ME={},$E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})($E);var F0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(F0);var LE={},Gh={},FE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(FE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gh);var BE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gh,r=BE;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(LE);var UE={},zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hh;function r(n){return function(a){return t.get(a,n)}}e.property=r})(zE);var WE={},B0={},KE={},U0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U0);var z0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(z0);var W0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(W0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U0,r=z0,n=W0;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function p(g,y,v,x,w,b){const _=h(g,y,v,x,w,b);return _!==void 0?!!_:i(g,y,p,b)},new Map)}function i(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,p);case"function":return Object.keys(f).length>0?i(d,{...f},h,p):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,p);if(f instanceof Map)return o(d,f,h,p);if(f instanceof Set)return u(d,f,h,p);const g=Object.keys(f);if(d==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===d;p==null||p.set(f,d);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const v=d.get(g);if(h(v,y,g,d,f,p)===!1)return!1}return!0}function c(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const v=f[y];let x=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const b=d[w];let _=!1;if(h(b,v,y,d,f,p)&&(_=!0),_){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,p){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=u})(KE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KE;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(B0);var HE={},K0={},qE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(qE);var H0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(H0);var q0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",C="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(q0);var VE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(VE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qE,r=H0,n=q0,a=z0,i=VE;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,g=void 0){const y=g==null?void 0:g(d,f,h,p);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[x,w]of d)v.set(x,o(w,x,h,p,g));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const x of d)v.add(o(x,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let x=0;x<d.length;x++)v[x]=o(d[x],x,h,p,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),c(v,d,h,p,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,p,g),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof Number){const v=new Number(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(d instanceof String){const v=new String(d.valueOf());return p.set(d,v),c(v,d,h,p,g),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),c(v,d,h,p,g),v}return d}function c(d,f,h=d,p,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<y.length;v++){const x=y[v],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(K0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(HE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0,r=HE;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(WE);var GE={},YE={},XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K0,r=q0;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const d=i==null?void 0:i(s,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(XE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(YE);var JE={},V0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(V0);var QE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(QE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M0,r=V0,n=QE,a=Vh;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(JE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0,r=qh,n=YE,a=Hh,i=JE;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(GE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F0,r=zE,n=WE,a=GE;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$E,r=F0,n=LE,a=UE;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(ME);var ZF=ME.uniqBy;const E_=Ya(ZF);function eB(e,t,r){return t===!0?E_(e,r):typeof t=="function"?E_(e,t):e}var ZE={exports:{}},eP={},tP={exports:{}},rP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=m;function tB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rB=typeof Object.is=="function"?Object.is:tB,nB=$o.useState,aB=$o.useEffect,iB=$o.useLayoutEffect,sB=$o.useDebugValue;function oB(e,t){var r=t(),n=nB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return iB(function(){a.value=r,a.getSnapshot=t,Tm(a)&&i({inst:a})},[e,r,t]),aB(function(){return Tm(a)&&i({inst:a}),e(function(){Tm(a)&&i({inst:a})})},[e]),sB(r),r}function Tm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rB(e,r)}catch{return!0}}function lB(e,t){return t()}var cB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lB:oB;rP.useSyncExternalStore=$o.useSyncExternalStore!==void 0?$o.useSyncExternalStore:cB;tP.exports=rP;var uB=tP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=m,dB=uB;function fB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hB=typeof Object.is=="function"?Object.is:fB,pB=dB.useSyncExternalStore,mB=Yh.useRef,gB=Yh.useEffect,vB=Yh.useMemo,yB=Yh.useDebugValue;eP.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=mB(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=vB(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,hB(d,p))return g;var y=n(p);return a!==void 0&&a(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=pB(e,i[0],i[1]);return gB(function(){s.hasValue=!0,s.value=o},[o]),yB(o),o};ZE.exports=eP;var xB=ZE.exports,G0=m.createContext(null),bB=e=>e,kt=()=>{var e=m.useContext(G0);return e?e.store.dispatch:bB},Ed=()=>{},wB=()=>Ed,_B=(e,t)=>e===t;function be(e){var t=m.useContext(G0);return xB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:wB,t?t.store.getState:Ed,t?t.store.getState:Ed,t?e:Ed,_B)}function jB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function SB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function NB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var P_=e=>Array.isArray(e)?e:[e];function kB(e){const t=Array.isArray(e[0])?e[0]:e;return NB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CB(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var EB=class{constructor(e){this.value=e}deref(){return this.value}},PB=typeof WeakRef<"u"?WeakRef:EB,OB=0,O_=1;function Xu(){return{s:OB,v:void 0,o:null,p:null}}function nP(e,t={}){let r=Xu();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(g);v===void 0?(o=Xu(),y.set(g,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(g);v===void 0?(o=Xu(),y.set(g,o)):o=v}}const u=o;let d;if(o.s===O_)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new PB(d):d}return u.s=O_,u.v=d,d}return s.clearCache=()=>{r=Xu(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function AB(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),jB(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=nP,argsMemoizeOptions:g=[]}=d,y=P_(h),v=P_(g),x=kB(a),w=f(function(){return i++,u.apply(null,arguments)},...y),b=p(function(){s++;const j=CB(x,arguments);return o=w.apply(null,j),o},...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var B=AB(nP),TB=Object.assign((e,t=B)=>{SB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>TB}),aP={},iP={},sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(sP);var oP={},Y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Y0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(oP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP,r=oP,n=Vh;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let y=p;for(let v=0;v<g.length&&y!=null;++v)y=y[g[v]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<f.length;y++){const v=t.compareValues(p.criteria[y],g.criteria[y],o[y]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(iP);var lP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(lP);var X0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V0,r=Gh,n=U0,a=W0;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(X0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iP,r=lP,n=X0;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(aP);var DB=aP.sortBy;const Xh=Ya(DB);var cP=e=>e.legend.settings,IB=e=>e.legend.size,RB=e=>e.legend.payload;B([RB,cP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Xh(n,r):n});var Ju=1;function MB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Ju||Math.abs(s.left-t.left)>Ju||Math.abs(s.top-t.top)>Ju||Math.abs(s.width-t.width)>Ju)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $B=typeof Symbol=="function"&&Symbol.observable||"@@observable",A_=$B,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),LB={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},bf=LB;function J0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uP(e,t,r){if(typeof e!="function")throw new Error(or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(uP)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((v,x)=>{s.set(x,v)}))}function d(){if(c)throw new Error(or(3));return a}function f(v){if(typeof v!="function")throw new Error(or(4));if(c)throw new Error(or(5));let x=!0;u();const w=o++;return s.set(w,v),function(){if(x){if(c)throw new Error(or(6));x=!1,u(),s.delete(w),i=null}}}function h(v){if(!J0(v))throw new Error(or(7));if(typeof v.type>"u")throw new Error(or(8));if(typeof v.type!="string")throw new Error(or(17));if(c)throw new Error(or(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=s).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(or(10));n=v,h({type:bf.REPLACE})}function g(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(or(11));function w(){const _=x;_.next&&_.next(d())}return w(),{unsubscribe:v(w)}},[A_](){return this}}}return h({type:bf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[A_]:g}}function FB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:bf.INIT})>"u")throw new Error(or(12));if(typeof r(void 0,{type:bf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function dP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{FB(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(or(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(s).length,c?u:s}}function wf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function BB(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(or(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=wf(...o)(a.dispatch),{...a,dispatch:i}}}function fP(e){return J0(e)&&"type"in e&&typeof e.type=="string"}var hP=Symbol.for("immer-nothing"),T_=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function Hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Oc=Object.getPrototypeOf;function Ns(e){return!!e&&!!e[fn]}function Wa(e){var t;return e?pP(e)||Array.isArray(e)||!!e[T_]||!!((t=e.constructor)!=null&&t[T_])||nu(e)||Qh(e):!1}var UB=Object.prototype.constructor.toString(),D_=new WeakMap;function pP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=D_.get(r);return n===void 0&&(n=Function.toString.call(r),D_.set(r,n)),n===UB}function _f(e,t,r=!0){Jh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Jh(e){const t=e[fn];return t?t.type_:Array.isArray(e)?1:nu(e)?2:Qh(e)?3:0}function jv(e,t){return Jh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mP(e,t,r){const n=Jh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nu(e){return e instanceof Map}function Qh(e){return e instanceof Set}function es(e){return e.copy_||e.base_}function Sv(e,t){if(nu(e))return new Map(e);if(Qh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=pP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Oc(e),n)}else{const n=Oc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Q0(e,t=!1){return Zh(e)||Ns(e)||!Wa(e)||(Jh(e)>1&&Object.defineProperties(e,{set:Qu,add:Qu,clear:Qu,delete:Qu}),Object.freeze(e),t&&Object.values(e).forEach(r=>Q0(r,!0))),e}function WB(){Hn(2)}var Qu={value:WB};function Zh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KB={};function ks(e){const t=KB[e];return t||Hn(0,e),t}var Ac;function gP(){return Ac}function HB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I_(e,t){t&&(ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nv(e){kv(e),e.drafts_.forEach(qB),e.drafts_=null}function kv(e){e===Ac&&(Ac=e.parent_)}function R_(e){return Ac=HB(Ac,e)}function qB(e){const t=e[fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function M_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fn].modified_&&(Nv(t),Hn(4)),Wa(e)&&(e=jf(t,e),t.parent_||Sf(t,e)),t.patches_&&ks("Patches").generateReplacementPatches_(r[fn].base_,e,t.patches_,t.inversePatches_)):e=jf(t,r,[]),Nv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hP?e:void 0}function jf(e,t,r){if(Zh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[fn];if(!a)return _f(t,(i,s)=>$_(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Sf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),_f(s,(c,u)=>$_(e,a,i,c,u,r,o),n),Sf(e,i,!1),r&&e.patches_&&ks("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function $_(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=Zh(a);if(!(o&&!s)){if(Ns(a)){const c=i&&t&&t.type_!==3&&!jv(t.assigned_,n)?i.concat(n):void 0,u=jf(e,a,c);if(mP(r,n,u),Ns(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Wa(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;jf(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(nu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sf(e,a)}}}function Sf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q0(t,r)}function VB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:gP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Z0;r&&(a=[n],i=Tc);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var Z0={get(e,t){if(t===fn)return e;const r=es(e);if(!jv(r,t))return GB(e,r,t);const n=r[t];return e.finalized_||!Wa(n)?n:n===Im(e.base_,t)?(Rm(e),e.copy_[t]=Ev(n,e)):n},has(e,t){return t in es(e)},ownKeys(e){return Reflect.ownKeys(es(e))},set(e,t,r){const n=vP(es(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Im(es(e),t),i=a==null?void 0:a[fn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zB(r,a)&&(r!==void 0||jv(e.base_,t)))return!0;Rm(e),Cv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Im(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rm(e),Cv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=es(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hn(11)},getPrototypeOf(e){return Oc(e.base_)},setPrototypeOf(){Hn(12)}},Tc={};_f(Z0,(e,t)=>{Tc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tc.deleteProperty=function(e,t){return Tc.set.call(this,e,t,void 0)};Tc.set=function(e,t,r){return Z0.set.call(this,e[0],t,r,e[0])};function Im(e,t){const r=e[fn];return(r?es(r):e)[t]}function GB(e,t,r){var a;const n=vP(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function vP(e,t){if(!(t in e))return;let r=Oc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Oc(r)}}function Cv(e){e.modified_||(e.modified_=!0,e.parent_&&Cv(e.parent_))}function Rm(e){e.copy_||(e.copy_=Sv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Hn(6),n!==void 0&&typeof n!="function"&&Hn(7);let a;if(Wa(t)){const i=R_(this),s=Ev(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?Nv(i):kv(i)}return I_(i,n),M_(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===hP&&(a=void 0),this.autoFreeze_&&Q0(a,!0),n){const i=[],s=[];ks("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Hn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wa(e)||Hn(8),Ns(e)&&(e=Da(e));const t=R_(this),r=Ev(e,void 0);return r[fn].isManual_=!0,kv(t),r}finishDraft(e,t){const r=e&&e[fn];(!r||!r.isManual_)&&Hn(9);const{scope_:n}=r;return I_(n,t),M_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ks("Patches").applyPatches_;return Ns(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ev(e,t){const r=nu(e)?ks("MapSet").proxyMap_(e,t):Qh(e)?ks("MapSet").proxySet_(e,t):VB(e,t);return(t?t.scope_:gP()).drafts_.push(r),r}function Da(e){return Ns(e)||Hn(10,e),yP(e)}function yP(e){if(!Wa(e)||Zh(e))return e;const t=e[fn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sv(e,!0);return _f(r,(a,i)=>{mP(r,a,yP(i))},n),t&&(t.finalized_=!1),r}var Pv=new YB,xP=Pv.produce,XB=Pv.setUseStrictIteration.bind(Pv);function bP(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var JB=bP(),QB=bP,ZB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wf:wf.apply(null,arguments)};function Dn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(cn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>fP(n)&&n.type===e,r}var wP=class Bl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bl.prototype)}static get[Symbol.species](){return Bl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bl(...t[0].concat(this)):new Bl(...t.concat(this))}};function L_(e){return Wa(e)?xP(e,()=>{}):e}function Zu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function eU(e){return typeof e=="boolean"}var tU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new wP;return r&&(eU(r)?s.push(JB):s.push(QB(r.extraArgument))),s},_P="RTK_autoBatch",zt=()=>e=>({payload:e,meta:{[_P]:!0}}),F_=e=>t=>{setTimeout(t,e)},jP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F_(10):e.type==="callback"?e.queueNotification:F_(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[_P]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},rU=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new wP(e);return n&&a.push(jP(typeof n=="object"?n:void 0)),a};function nU(e){const t=tU(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(J0(r))o=dP(r);else throw new Error(cn(1));let c;typeof n=="function"?c=n(t):c=t();let u=wf;a&&(u=ZB({trace:!1,...typeof a=="object"&&a}));const d=BB(...c),f=rU(d);let h=typeof s=="function"?s(f):f();const p=u(...h);return uP(o,i,p)}function SP(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(cn(28));if(o in t)throw new Error(cn(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}XB(!1);function aU(e){return typeof e=="function"}function iU(e,t){let[r,n,a]=SP(t),i;if(aU(e))i=()=>L_(e());else{const o=L_(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Ns(d)){const p=f(d,c);return p===void 0?d:p}else{if(Wa(d))return xP(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=i,s}var sU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oU=(e=21)=>{let t="",r=e;for(;r--;)t+=sU[Math.random()*64|0];return t},lU=Symbol.for("rtk-slice-createasyncthunk");function cU(e,t){return`${e}/${t}`}function uU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lU];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(cn(11));const o=(typeof a.reducers=="function"?a.reducers(fU()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(cn(12));if(S in u.sliceCaseReducersByType)throw new Error(cn(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=o[_],S={reducerName:_,type:cU(i,_),createNotation:typeof a.reducers=="function"};pU(j)?gU(S,j,d,t):hU(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?SP(a.extraReducers):[a.extraReducers],N={..._,...u.sliceCaseReducersByType};return iU(a.initialState,k=>{for(let C in N)k.addCase(C,N[C]);for(let C of u.sliceMatchers)k.addMatcher(C.matcher,C.reducer);for(let C of j)k.addMatcher(C.matcher,C.reducer);S&&k.addDefaultCase(S)})}const h=_=>_,p=new Map,g=new WeakMap;let y;function v(_,j){return y||(y=f()),y(_,j)}function x(){return y||(y=f()),y.getInitialState()}function w(_,j=!1){function S(k){let C=k[_];return typeof C>"u"&&j&&(C=Zu(g,S,x)),C}function N(k=h){const C=Zu(p,j,()=>new WeakMap);return Zu(C,k,()=>{const E={};for(const[P,O]of Object.entries(a.selectors??{}))E[P]=dU(O,k,()=>Zu(g,k,x),j);return E})}return{reducerPath:_,getSelectors:N,get selectors(){return N(S)},selectSlice:S}}const b={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(_,{reducerPath:j,...S}={}){const N=j??s;return _.inject({reducerPath:N,reducer:v},S),{...b,...w(N,!0)}}};return b}}function dU(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var Kr=uU();function fU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function hU({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!mU(n))throw new Error(cn(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Dn(e,s):Dn(e))}function pU(e){return e._reducerDefinitionType==="asyncThunk"}function mU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gU({type:e,reducerName:t},r,n,a){if(!a)throw new Error(cn(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||ed,pending:o||ed,rejected:c||ed,settled:u||ed})}function ed(){}var vU="task",NP="listener",kP="completed",ex="cancelled",yU=`task-${ex}`,xU=`task-${kP}`,Ov=`${NP}-${ex}`,bU=`${NP}-${kP}`,ep=class{constructor(e){Up(this,"name","TaskAbortError");Up(this,"message");this.code=e,this.message=`${vU} ${ex} (reason: ${e})`}},tx=(e,t)=>{if(typeof e!="function")throw new TypeError(cn(32))},Nf=()=>{},CP=(e,t=Nf)=>(e.catch(t),e),EP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ps=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ms=e=>{if(e.aborted){const{reason:t}=e;throw new ep(t)}};function PP(e,t){let r=Nf;return new Promise((n,a)=>{const i=()=>a(new ep(e.reason));if(e.aborted){i();return}r=EP(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Nf})}var wU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ep?"cancelled":"rejected",error:r}}finally{t==null||t()}},kf=e=>t=>CP(PP(e,t).then(r=>(ms(e),r))),OP=e=>{const t=kf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:So}=Object,B_={},tp="listenerMiddleware",_U=(e,t)=>{const r=n=>EP(e,()=>ps(n,e.reason));return(n,a)=>{tx(n);const i=new AbortController;r(i);const s=wU(async()=>{ms(e),ms(i.signal);const o=await n({pause:kf(i.signal),delay:OP(i.signal),signal:i.signal});return ms(i.signal),o},()=>ps(i,xU));return a!=null&&a.autoJoin&&t.push(s.catch(Nf)),{result:kf(e)(s),cancel(){ps(i,yU)}}}},jU=(e,t)=>{const r=async(n,a)=>{ms(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await PP(t,Promise.race(o));return ms(t),c}finally{i()}};return(n,a)=>CP(r(n,a))},AP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Dn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(cn(21));return tx(i),{predicate:a,type:t,effect:i}},TP=So(e=>{const{type:t,predicate:r,effect:n}=AP(e);return{id:oU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cn(22))}}},{withTypes:()=>TP}),U_=(e,t)=>{const{type:r,effect:n,predicate:a}=AP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Av=e=>{e.pending.forEach(t=>{ps(t,Ov)})},SU=(e,t)=>()=>{for(const r of t.keys())Av(r);e.clear()},z_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},DP=So(Dn(`${tp}/add`),{withTypes:()=>DP}),NU=Dn(`${tp}/removeAll`),IP=So(Dn(`${tp}/remove`),{withTypes:()=>IP}),kU=(...e)=>{console.error(`${tp}/error`,...e)},au=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},a=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:i,onError:s=kU}=e;tx(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Av(p)}),c=p=>{const g=U_(t,p)??TP(p);return o(g)};So(c,{withTypes:()=>c});const u=p=>{const g=U_(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Av(g)),!!g};So(u,{withTypes:()=>u});const d=async(p,g,y,v)=>{const x=new AbortController,w=jU(c,x.signal),b=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(g,So({},y,{getOriginalState:v,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:OP(x.signal),pause:kf(x.signal),extra:i,signal:x.signal,fork:_U(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,S)=>{_!==x&&(ps(_,Ov),S.delete(_))})},cancel:()=>{ps(x,Ov),p.pending.delete(x)},throwIfCancelled:()=>{ms(x.signal)}})))}catch(_){_ instanceof ep||z_(s,_,{raisedBy:"effect"})}finally{await Promise.all(b),ps(x,bU),a(p),p.pending.delete(x)}},f=SU(t,r);return{middleware:p=>g=>y=>{if(!fP(y))return g(y);if(DP.match(y))return c(y.payload);if(NU.match(y)){f();return}if(IP.match(y))return u(y.payload);let v=p.getState();const x=()=>{if(v===B_)throw new Error(cn(23));return v};let w;try{if(w=g(y),t.size>0){const b=p.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(y,b,v)}catch(N){S=!1,z_(s,N,{raisedBy:"predicate"})}S&&d(j,y,p,x)}}}finally{v=B_}return w},startListening:c,stopListening:u,clearListeners:f}};function cn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RP=Kr({name:"chartLayout",initialState:CU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:EU,setLayout:PU,setChartSize:OU,setScale:AU}=RP.actions,TU=RP.reducer;function MP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=IU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IU(e){var t=RU(e,"string");return typeof t=="symbol"?t:t+""}function RU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,r){return ht(e)||ht(t)?r:ma(t)?Mo(e,t,r):typeof t=="function"?t(e):r}var MU=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&ve(e[i]))return po(po({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&ve(e[s]))return po(po({},e),{},{[s]:e[s]+(a||0)})}return e},Fi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$P=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},LP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=p==="angleAxis"&&i&&i.length>=2?Fr(i[0]-i[1])*2*y:y,f||h){var v=(f||h||[]).map((x,w)=>{var b=n?n.indexOf(x):x;return{coordinate:s(b)+y,value:x,offset:y,index:w}});return v.filter(x=>!ea(x.coordinate))}return c&&u?u.map((x,w)=>({coordinate:s(x)+y,value:x,index:w,offset:y})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+y,value:x,offset:y,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+y,value:n?n[x]:x,index:w,offset:y}))},K_=1e-4,$U=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-K_,i=Math.max(n[0],n[1])+K_,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},LU=(e,t)=>{if(!t||t.length!==2||!ve(t[0])||!ve(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<r)&&(a[0]=r),(!ve(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},FU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=ea(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},BU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=ea(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},UU={sign:FU,expand:TF,none:Ro,silhouette:DF,wiggle:IF,positive:BU},zU=(e,t,r)=>{var n=UU[r],a=AF().keys(t).value((i,s)=>Number(er(i,s,0))).order(wv).offset(n);return a(e)};function WU(e){return e==null?void 0:String(e)}function H_(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(a[t.dataKey])){var o=TE(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=er(a,ht(s)?t.dataKey:s);return ht(c)?null:t.scale(c)}var q_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=er(i,t.dataKey,t.scale.domain()[s]);return ht(o)?null:t.scale(o)-a/2+n},KU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},HU=e=>{var t=e.flat(2).filter(ve);return[Math.min(...t),Math.max(...t)]},qU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VU=(e,t,r)=>{if(e!=null)return qU(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var d=MP(u,t,r),f=HU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},V_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Xh(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Y_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return po(po({},t),{},{dataKey:r,payload:n,value:a,name:i})}function rp(e,t){if(e)return String(e);if(typeof t=="string")return t}var GU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},YU=(e,t)=>t==="centric"?e.angle:e.radius,Ja=e=>e.layout.width,Qa=e=>e.layout.height,XU=e=>e.layout.scale,FP=e=>e.layout.margin,np=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ap=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JU="data-recharts-item-index",QU="data-recharts-item-data-key",iu=60;function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){ZU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZU(e,t,r){return(t=ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ez(e){var t=tz(e,"string");return typeof t=="symbol"?t:t+""}function tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rz=e=>e.brush.height;function nz(e){var t=ap(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:iu;return r+a}return r},0)}function az(e){var t=ap(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:iu;return r+a}return r},0)}function iz(e){var t=np(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sz(e){var t=np(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tr=B([Ja,Qa,FP,rz,nz,az,iz,sz,cP,IB],(e,t,r,n,a,i,s,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=td(td({},f),d),p=h.bottom;h.bottom+=n,h=MU(h,c,u);var g=e-h.left-h.right,y=t-h.top-h.bottom;return td(td({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),oz=B(tr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),rx=B(Ja,Qa,(e,t)=>({x:0,y:0,width:e,height:t})),lz=m.createContext(null),xr=()=>m.useContext(lz)!=null,ip=e=>e.brush,sp=B([ip,tr,FP],(e,t,r)=>({height:e.height,x:ve(e.x)?e.x:t.left,y:ve(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ve(e.width)?e.width:t.width})),BP={},UP={},zP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),s=void 0,o=null},v=()=>{d()},x=function(...w){if(a!=null&&a.aborted)return;s=this,o=w;const b=h==null;p(),c&&b&&d()};return x.schedule=p,x.cancel=y,x.flush=v,a==null||a.addEventListener("abort",y,{once:!0}),x}e.debounce=t})(zP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),p=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(UP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(BP);var cz=BP.throttle;const uz=Ya(cz);var Cf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},WP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=za(n)?e:Number(n),c=za(a)?t:Number(a);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},dz={width:0,height:0,overflow:"visible"},fz={width:0,overflowX:"visible"},hz={height:0,overflowY:"visible"},pz={},mz=e=>{var{width:t,height:r}=e,n=za(t),a=za(r);return n&&a?dz:n?fz:a?hz:pz};function gz(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Nt(e){return Number.isFinite(e)}function ga(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=m.createContext({width:-1,height:-1});function bz(e){return ga(e.width)&&ga(e.height)}function HP(e){var{children:t,width:r,height:n}=e,a=m.useMemo(()=>({width:r,height:n}),[r,n]);return bz(a)?m.createElement(KP.Provider,{value:a},t):null}var nx=()=>m.useContext(KP),wz=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,y=m.useRef(null),v=m.useRef();v.current=p,m.useImperativeHandle(t,()=>y.current);var[x,w]=m.useState({containerWidth:n.width,containerHeight:n.height}),b=m.useCallback((k,C)=>{w(E=>{var P=Math.round(k),O=Math.round(C);return E.containerWidth===P&&E.containerHeight===O?E:{containerWidth:P,containerHeight:O}})},[]);m.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return nl;var k=O=>{var q,{width:Y,height:Z}=O[0].contentRect;b(Y,Z),(q=v.current)===null||q===void 0||q.call(v,Y,Z)};d>0&&(k=uz(k,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(k),{width:E,height:P}=y.current.getBoundingClientRect();return b(E,P),C.observe(y.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=x;Cf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:N}=WP(_,j,{width:a,height:i,aspect:r,maxHeight:c});return Cf(S!=null&&S>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,N,a,i,s,o,r),m.createElement("div",{id:f?"".concat(f):void 0,className:Xe("recharts-responsive-container",h),style:Q_(Q_({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:y},m.createElement("div",{style:mz({width:a,height:i})},m.createElement(HP,{width:S,height:N},u)))}),Z_=m.forwardRef((e,t)=>{var r=nx();if(ga(r.width)&&ga(r.height))return e.children;var{width:n,height:a}=gz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=WP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ve(i)&&ve(s)?m.createElement(HP,{width:i,height:s},e.children):m.createElement(wz,Tv({},e,{width:n,height:a,ref:t}))});function qP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var op=()=>{var e,t=xr(),r=be(oz),n=be(sp),a=(e=be(ip))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},_z={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VP=()=>{var e;return(e=be(tr))!==null&&e!==void 0?e:_z},GP=()=>be(Ja),YP=()=>be(Qa),We=e=>e.layout.layoutType,su=()=>be(We),jz=()=>{var e=su();return e!==void 0},lp=e=>{var t=kt(),r=xr(),{width:n,height:a}=e,i=nx(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),m.useEffect(()=>{!r&&ga(s)&&ga(o)&&t(OU({width:s,height:o}))},[t,r,s,o]),null},Sz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XP=Kr({name:"legend",initialState:Sz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:zt()},removeLegendPayload:{reducer(e,t){var r=Da(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:zt()}}}),{setLegendSize:jee,setLegendSettings:See,addLegendPayload:Nz,removeLegendPayload:kz}=XP.actions,Cz=XP.reducer;function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Oz(e,"string");return typeof t=="symbol"?t:t+""}function Oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Az(e){return Array.isArray(e)&&ma(e[0])&&ma(e[1])?e.join(" ~ "):e}var Tz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(o?Xh(i,o):i).map((N,k)=>{if(N.type==="none")return null;var C=N.formatter||s||Az,{value:E,name:P}=N,O=E,q=P;if(C){var Y=C(E,P,N,k,i);if(Array.isArray(Y))[O,q]=Y;else if(Y!=null)O=Y;else return null}var Z=Mm({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Z},ma(q)?m.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ma(q)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},O),m.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=Mm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Mm({margin:0},a),v=!ht(d),x=v?d:"",w=Xe("recharts-default-tooltip",c),b=Xe("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(x=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Dv({className:w,style:g},_),m.createElement("p",{className:b,style:y},m.isValidElement(x)?x:"".concat(x)),p())},Sl="recharts-tooltip-wrapper",Dz={visibility:"hidden"};function Iz(e){var{coordinate:t,translateX:r,translateY:n}=e;return Xe(Sl,{["".concat(Sl,"-right")]:ve(r)&&t&&ve(t.x)&&r>=t.x,["".concat(Sl,"-left")]:ve(r)&&t&&ve(t.x)&&r<t.x,["".concat(Sl,"-bottom")]:ve(n)&&t&&ve(t.y)&&n>=t.y,["".concat(Sl,"-top")]:ve(n)&&t&&ve(t.y)&&n<t.y})}function t1(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&ve(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+o,v=h+u;return y>v?Math.max(d,h):Math.max(f,h)}function Rz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=t1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=t1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Rz({translateX:d,translateY:f,useTranslate3d:o})):u=Dz,{cssProperties:u,cssClasses:Iz({translateX:d,translateY:f,coordinate:r})}}function r1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(r),!0).forEach(function(n){Iv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iv(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fz extends m.PureComponent{constructor(){super(...arguments),Iv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:b}=Mz({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),_=x?{}:rd(rd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=rd(rd({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:v},i)}}var Bz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Is={devToolsEnabled:!1,isSsr:Bz()},JP=()=>{var e;return(e=be(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uz(e,t,r){return(t=zz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=Wz(e,"string");return typeof t=="symbol"?t:t+""}function Wz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1={curveBasisClosed:bF,curveBasisOpen:wF,curveBasis:xF,curveBumpX:iF,curveBumpY:sF,curveLinearClosed:_F,curveLinear:Wh,curveMonotoneX:jF,curveMonotoneY:SF,curveNatural:NF,curveStep:kF,curveStepAfter:EF,curveStepBefore:CF},Ef=e=>Nt(e.x)&&Nt(e.y),s1=e=>e.base!=null&&Ef(e.base)&&Ef(e),Nl=e=>e.x,kl=e=>e.y,Kz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ru(e));return(r==="curveMonotone"||r==="curveBump")&&t?i1["".concat(r).concat(t==="vertical"?"Y":"X")]:i1[r]||Wh},Hz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=Kz(t,a),o=i?r.filter(Ef):r,c;if(Array.isArray(n)){var u=r.map((p,g)=>a1(a1({},p),{},{base:n[g]}));a==="vertical"?c=Yu().y(kl).x1(Nl).x0(p=>p.base.x):c=Yu().x(Nl).y1(kl).y0(p=>p.base.y);var d=c.defined(s1).curve(s),f=i?u.filter(s1):u;return d(f)}a==="vertical"&&ve(n)?c=Yu().y(kl).x1(Nl).x0(n):ve(n)?c=Yu().x(Nl).y1(kl).y0(n):c=yE().x(Nl).y(kl);var h=c.defined(Ef).curve(s);return h(o)},QP=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Hz(e):n;return m.createElement("path",Rv({},Zn(e),$0(e),{className:Xe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},qz=["x","y","top","left","width","height","className"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){Gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jz(e,t){if(e==null)return{};var r,n,a=Qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zz=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),e8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=Jz(e,qz),u=Vz({x:t,y:r,top:n,left:a,width:i,height:s},c);return!ve(t)||!ve(r)||!ve(i)||!ve(s)||!ve(n)||!ve(a)?null:m.createElement("path",Mv({},Cr(u),{className:Xe("recharts-cross",o),d:Zz(t,r,i,s,n,a)}))};function t8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ZP=(e,t,r)=>e.map(n=>"".concat(i8(n)," ").concat(t,"ms ").concat(r)).join(","),s8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Dc=(e,t)=>Object.keys(t).reduce((r,n)=>c1(c1({},r),{},{[n]:e(n,t[n])}),{});function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return(t=l8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pf=(e,t,r)=>e+(t-e)*r,$v=e=>{var{from:t,to:r}=e;return t!==r},eO=(e,t,r)=>{var n=Dc((a,i)=>{if($v(i)){var[s,o]=e(i.from,i.to,i.velocity);return Bt(Bt({},i),{},{from:s,velocity:o})}return i},t);return r<1?Dc((a,i)=>$v(i)?Bt(Bt({},i),{},{velocity:Pf(i.velocity,n[a].velocity,r),from:Pf(i.from,n[a].from,r)}):i,t):eO(e,n,r-1)};function u8(e,t,r,n,a,i){var s,o=n.reduce((h,p)=>Bt(Bt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Dc((h,p)=>p.from,o),u=()=>!Object.values(o).filter($v).length,d=null,f=h=>{s||(s=h);var p=h-s,g=p/r.dt;o=eO(r,o,g),a(Bt(Bt(Bt({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function d8(e,t,r,n,a,i,s){var o=null,c=a.reduce((f,h)=>Bt(Bt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=Dc((y,v)=>Pf(...v,r(h)),c);if(i(Bt(Bt(Bt({},e),t),p)),h<1)o=s.setTimeout(d);else{var g=Dc((y,v)=>Pf(...v,r(1)),c);i(Bt(Bt(Bt({},e),t),g))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const f8=(e,t,r,n,a,i)=>{var s=s8(e,t);return r==null?()=>(a(Bt(Bt({},e),t)),()=>{}):r.isStepper===!0?u8(e,t,r,s,a,i):d8(e,t,r,n,s,a,i)};var Of=1e-4,tO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),d1=(e,t)=>r=>{var n=tO(e,t);return rO(n,r)},h8=(e,t)=>r=>{var n=tO(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return rO(a,r)},p8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var s=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},m8=(e,t,r,n)=>{var a=d1(e,r),i=d1(t,n),s=h8(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var p=a(f)-d,g=s(f);if(Math.abs(p-d)<Of||g<Of)return i(f);f=o(f-p/g)}return i(f)};return c.isStepper=!1,c},f1=function(){return m8(...p8(...arguments))},g8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-o)<Of&&Math.abs(f)<Of?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},v8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f1(e);case"spring":return g8();default:if(e.split("(")[0]==="cubic-bezier")return f1(e)}return typeof e=="function"?e:null};function y8(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class x8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function b8(){return y8(new x8)}var w8=m.createContext(b8);function _8(e,t){var r=m.useContext(w8);return m.useMemo(()=>t??r(e),[e,t,r])}var j8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},h1={t:0},$m={t:1};function cp(e){var t=Ar(e,j8),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=_8(t.animationId,t.animationManager),[f,h]=m.useState(r?h1:$m),p=m.useRef(null);return m.useEffect(()=>{r||h($m)},[r]),m.useEffect(()=>{if(!r||!n)return nl;var g=f8(h1,$m,v8(i),a,h,d.getTimeoutController()),y=()=>{p.current=g()};return d.start([c,s,y,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,i,s,c,o,d]),u(f.t)}function up(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(Pc(t)),n=m.useRef(e);return n.current!==e&&(r.current=Pc(t),n.current=e),r.current}var S8=["radius"],N8=["radius"];function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=C8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(null,arguments)}function g1(e,t){if(e==null)return{};var r,n,a=P8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v1=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},y1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nO=e=>{var t=Ar(e,y1),r=m.useRef(null),[n,a]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&a(W)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=t,v=m.useRef(o),x=m.useRef(c),w=m.useRef(i),b=m.useRef(s),_=m.useMemo(()=>({x:i,y:s,width:o,height:c,radius:u}),[i,s,o,c,u]),j=up(_,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var S=Xe("recharts-rectangle",d);if(!y){var N=Cr(t),{radius:k}=N,C=g1(N,S8);return m.createElement("path",Af({},C,{radius:typeof u=="number"?u:void 0,className:S,d:v1(i,s,o,c,u)}))}var E=v.current,P=x.current,O=w.current,q=b.current,Y="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),U=ZP(["strokeDasharray"],h,typeof f=="string"?f:y1.animationEasing);return m.createElement(cp,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:y,begin:p},W=>{var A=wt(E,o,W),M=wt(P,c,W),L=wt(O,i,W),se=wt(q,s,W);r.current&&(v.current=A,x.current=M,w.current=L,b.current=se);var ee;g?W>0?ee={transition:U,strokeDasharray:Z}:ee={strokeDasharray:Y}:ee={strokeDasharray:Z};var me=Cr(t),{radius:I}=me,te=g1(me,N8);return m.createElement("path",Af({},te,{radius:typeof u=="number"?u:void 0,className:S,d:v1(L,se,A,M,u),ref:r,style:m1(m1({},ee),t.style)}))})};function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=A8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A8(e){var t=T8(e,"string");return typeof t=="symbol"?t:t+""}function T8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=Math.PI/180,D8=e=>e*180/Math.PI,cr=(e,t,r,n)=>({x:e+Math.cos(-Tf*n)*r,y:t+Math.sin(-Tf*n)*r}),I8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},R8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},M8=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=R8({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:D8(c),angleInRadian:c}},$8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},L8=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},F8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=M8({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=$8(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?b1(b1({},t),{},{radius:a,angle:L8(d,t)}):null};function aO(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=cr(t,r,n,a),o=cr(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}var B8=(e,t)=>{var r=Fr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},nd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/Tf,f=c?a:a+i*d,h=cr(t,r,u,f),p=cr(t,r,n,f),g=c?a-i*d:a,y=cr(t,r,u*Math.cos(d*Tf),g);return{center:h,circleTangency:p,lineTangency:y,theta:d}},iO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=B8(i,s),c=i+o,u=cr(t,r,a,i),d=cr(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=cr(t,r,n,i),p=cr(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},U8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Fr(u-c),{circleTangency:f,lineTangency:h,theta:p}=nd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:v}=nd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),x=o?Math.abs(c-u):Math.abs(c-u)-p-v;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):iO({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=nd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:N,theta:k}=nd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=o?Math.abs(c-u):Math.abs(c-u)-j-k;if(C<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},z8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sO=e=>{var t=Ar(e,z8),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Xe("recharts-sector",f),p=i-a,g=ta(s,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=U8({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):y=iO({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),m.createElement("path",Lv({},Cr(t),{className:h,d:y}))};function W8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(RE(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=t,c=cr(n,a,i,o),u=cr(n,a,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return aO(t)}}var oO={},lO={},cO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X0,r=lO;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(oO);var K8=oO.range;const uO=Ya(K8);function Ci(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ax(e){let t,r,n;e.length!==2?(t=Ci,r=(o,c)=>Ci(e(o),c),n=(o,c)=>e(o)-c):(t=e===Ci||e===H8?e:q8,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function q8(){return 0}function dO(e){return e===null?NaN:+e}function*V8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const G8=ax(Ci),ou=G8.right;ax(dO).center;class w1 extends Map{constructor(t,r=J8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(_1(this,t))}has(t){return super.has(_1(this,t))}set(t,r){return super.set(Y8(this,t),r)}delete(t){return super.delete(X8(this,t))}}function _1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function J8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Q8(e=Ci){if(e===Ci)return fO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Z8=Math.sqrt(50),e9=Math.sqrt(10),t9=Math.sqrt(2);function Df(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Z8?10:i>=e9?5:i>=t9?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Df(e,t,r*2):[o,c,u]}function Fv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Df(t,e,r):Df(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function Bv(e,t,r){return t=+t,e=+e,r=+r,Df(e,t,r)[2]}function Uv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bv(t,e,r):Bv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function j1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fO:Q8(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));hO(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Cl(e,r,t),a(e[n],i)>0&&Cl(e,r,n);s<o;){for(Cl(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Cl(e,r,o):(++o,Cl(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Cl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function r9(e,t,r){if(e=Float64Array.from(V8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return S1(e);if(t>=1)return j1(e);var n,a=(n-1)*t,i=Math.floor(a),s=j1(hO(e,i).subarray(0,i+1)),o=S1(e.subarray(i+1));return s+(o-s)*(a-i)}}function n9(e,t,r=dO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function a9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zv=Symbol("implicit");function ix(){var e=new w1,t=[],r=[],n=zv;function a(i){let s=e.get(i);if(s===void 0){if(n!==zv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new w1;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ix(t,r).unknown(n)},Rn.apply(a,arguments),a}function sx(){var e=ix().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,y=p?n:a;i=(y-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(y-g-i*(h-c))*d,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var v=a9(h).map(function(x){return g+i*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return sx(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Rn.apply(f(),arguments)}function pO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pO(t())},e}function i9(){return pO(sx.apply(null,arguments).paddingInner(1))}function ox(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lu(){}var Ic=.7,If=1/Ic,No="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s9=/^#([0-9a-f]{3,8})$/,o9=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),l9=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),c9=new RegExp(`^rgba\\(${No},${No},${No},${Rc}\\)$`),u9=new RegExp(`^rgba\\(${pa},${pa},${pa},${Rc}\\)$`),d9=new RegExp(`^hsl\\(${Rc},${pa},${pa}\\)$`),f9=new RegExp(`^hsla\\(${Rc},${pa},${pa},${Rc}\\)$`),N1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ox(lu,Mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:h9,formatHsl:p9,formatRgb:C1,toString:C1});function k1(){return this.rgb().formatHex()}function h9(){return this.rgb().formatHex8()}function p9(){return gO(this).formatHsl()}function C1(){return this.rgb().formatRgb()}function Mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=s9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?E1(t):r===3?new Br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ad(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=o9.exec(e))?new Br(t[1],t[2],t[3],1):(t=l9.exec(e))?new Br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c9.exec(e))?ad(t[1],t[2],t[3],t[4]):(t=u9.exec(e))?ad(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=d9.exec(e))?A1(t[1],t[2]/100,t[3]/100,1):(t=f9.exec(e))?A1(t[1],t[2]/100,t[3]/100,t[4]):N1.hasOwnProperty(e)?E1(N1[e]):e==="transparent"?new Br(NaN,NaN,NaN,0):null}function E1(e){return new Br(e>>16&255,e>>8&255,e&255,1)}function ad(e,t,r,n){return n<=0&&(e=t=r=NaN),new Br(e,t,r,n)}function m9(e){return e instanceof lu||(e=Mc(e)),e?(e=e.rgb(),new Br(e.r,e.g,e.b,e.opacity)):new Br}function Wv(e,t,r,n){return arguments.length===1?m9(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ox(Br,Wv,mO(lu,{brighter(e){return e=e==null?If:Math.pow(If,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Br(gs(this.r),gs(this.g),gs(this.b),Rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P1,formatHex:P1,formatHex8:g9,formatRgb:O1,toString:O1}));function P1(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function g9(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function O1(){const e=Rf(this.opacity);return`${e===1?"rgb(":"rgba("}${gs(this.r)}, ${gs(this.g)}, ${gs(this.b)}${e===1?")":`, ${e})`}`}function Rf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cs(e){return e=gs(e),(e<16?"0":"")+e.toString(16)}function A1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,r,n)}function gO(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof lu||(e=Mc(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new qn(s,o,c,e.opacity)}function v9(e,t,r,n){return arguments.length===1?gO(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ox(qn,v9,mO(lu,{brighter(e){return e=e==null?If:Math.pow(If,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ic:Math.pow(Ic,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Br(Lm(e>=240?e-240:e+120,a,n),Lm(e,a,n),Lm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qn(T1(this.h),id(this.s),id(this.l),Rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rf(this.opacity);return`${e===1?"hsl(":"hsla("}${T1(this.h)}, ${id(this.s)*100}%, ${id(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T1(e){return e=(e||0)%360,e<0?e+360:e}function id(e){return Math.max(0,Math.min(1,e||0))}function Lm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lx=e=>()=>e;function y9(e,t){return function(r){return e+r*t}}function x9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function b9(e){return(e=+e)==1?vO:function(t,r){return r-t?x9(t,r,e):lx(isNaN(t)?r:t)}}function vO(e,t){var r=t-e;return r?y9(e,r):lx(isNaN(e)?t:e)}const D1=function e(t){var r=b9(t);function n(a,i){var s=r((a=Wv(a)).r,(i=Wv(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=vO(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function w9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function _9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=al(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function S9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Mf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function N9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=al(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Kv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fm=new RegExp(Kv.source,"g");function k9(e){return function(){return e}}function C9(e){return function(t){return e(t)+""}}function E9(e,t){var r=Kv.lastIndex=Fm.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Kv.exec(e))&&(a=Fm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Mf(n,a)})),r=Fm.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?C9(c[0].x):k9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function al(e,t){var r=typeof t,n;return t==null||r==="boolean"?lx(t):(r==="number"?Mf:r==="string"?(n=Mc(t))?(t=n,D1):E9:t instanceof Mc?D1:t instanceof Date?S9:_9(t)?w9:Array.isArray(t)?j9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N9:Mf)(e,t)}function cx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function P9(e,t){t===void 0&&(t=e,e=al);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function O9(e){return function(){return e}}function $f(e){return+e}var I1=[0,1];function Nr(e){return e}function Hv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:O9(isNaN(t)?NaN:.5)}function A9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function T9(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Hv(a,n),i=r(s,i)):(n=Hv(n,a),i=r(i,s)),function(o){return i(n(o))}}function D9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Hv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=ou(e,o,1,n)-1;return i[c](a[c](o))}}function cu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dp(){var e=I1,t=I1,r=al,n,a,i,s=Nr,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Nr&&(s=A9(e[0],e[h-1])),o=h>2?D9:T9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),Mf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$f),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=cx,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Nr,d()):s!==Nr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function ux(){return dp()(Nr,Nr)}function I9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fo(e){return e=Lf(Math.abs(e)),e?e[1]:NaN}function R9(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function M9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(e){if(!(t=$9.exec(e)))throw new Error("invalid format: "+e);var t;return new dx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$c.prototype=dx.prototype;function dx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var yO;function F9(e,t){var r=Lf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(yO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Lf(e,Math.max(0,t+i-1))[0]}function R1(e,t){var r=Lf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const M1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:I9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>R1(e*100,t),r:R1,s:F9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $1(e){return e}var L1=Array.prototype.map,F1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B9(e){var t=e.grouping===void 0||e.thousands===void 0?$1:R9(L1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$1:M9(L1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$c(f);var h=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,x=f.width,w=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(w=!0,j="g"):M1[j]||(b===void 0&&(b=12),_=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=y==="$"?n:/[%p]/.test(j)?s:"",k=M1[j],C=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(P){var O=S,q=N,Y,Z,U;if(j==="c")q=k(P)+q,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),b),_&&(P=L9(P)),W&&+P==0&&g!=="+"&&(W=!1),O=(W?g==="("?g:o:g==="-"||g==="("?"":g)+O,q=(j==="s"?F1[8+yO/3]:"")+q+(W&&g==="("?")":""),C){for(Y=-1,Z=P.length;++Y<Z;)if(U=P.charCodeAt(Y),48>U||U>57){q=(U===46?a+P.slice(Y+1):P.slice(Y))+q,P=P.slice(0,Y);break}}}w&&!v&&(P=t(P,1/0));var A=O.length+P.length+q.length,M=A<x?new Array(x-A+1).join(h):"";switch(w&&v&&(P=t(M+P,M.length?x-q.length:1/0),M=""),p){case"<":P=O+P+q+M;break;case"=":P=O+M+P+q;break;case"^":P=M.slice(0,A=M.length>>1)+O+P+q+M.slice(A);break;default:P=M+O+P+q;break}return i(P)}return E.toString=function(){return f+""},E}function d(f,h){var p=u((f=$c(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fo(h)/3)))*3,y=Math.pow(10,-g),v=F1[8+g/3];return function(x){return p(y*x)+v}}return{format:u,formatPrefix:d}}var sd,fx,xO;U9({thousands:",",grouping:[3],currency:["$",""]});function U9(e){return sd=B9(e),fx=sd.format,xO=sd.formatPrefix,sd}function z9(e){return Math.max(0,-Fo(Math.abs(e)))}function W9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fo(t)/3)))*3-Fo(Math.abs(e)))}function K9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fo(t)-Fo(e))+1}function bO(e,t,r,n){var a=Uv(e,t,r),i;switch(n=$c(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=W9(a,s))&&(n.precision=i),xO(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=K9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=z9(a))&&(n.precision=i-(n.type==="%")*2);break}}return fx(n)}function Bi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Bv(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function wO(){var e=ux();return e.copy=function(){return cu(e,wO())},Rn.apply(e,arguments),Bi(e)}function _O(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$f),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _O(e).unknown(t)},e=arguments.length?Array.from(e,$f):[0,1],Bi(r)}function jO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function B1(e){return Math.log(e)}function U1(e){return Math.exp(e)}function H9(e){return-Math.log(-e)}function q9(e){return-Math.exp(-e)}function V9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function G9(e){return e===10?V9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Y9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z1(e){return(t,r)=>-e(-t,r)}function hx(e){const t=e(B1,U1),r=t.domain;let n=10,a,i;function s(){return a=Y9(n),i=G9(n),r()[0]<0?(a=z1(a),i=z1(i),e(H9,q9)):e(B1,U1),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,y;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(y=h<0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=Fv(u,d,v))}else x=Fv(h,p,Math.min(p-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$c(c)).precision==null&&(c.trim=!0),c=fx(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(jO(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function SO(){const e=hx(dp()).domain([1,10]);return e.copy=()=>cu(e,SO()).base(e.base()),Rn.apply(e,arguments),e}function W1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function K1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function px(e){var t=1,r=e(W1(t),K1(t));return r.constant=function(n){return arguments.length?e(W1(t=+n),K1(t)):t},Bi(r)}function NO(){var e=px(dp());return e.copy=function(){return cu(e,NO()).constant(e.constant())},Rn.apply(e,arguments)}function H1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function J9(e){return e<0?-e*e:e*e}function mx(e){var t=e(Nr,Nr),r=1;function n(){return r===1?e(Nr,Nr):r===.5?e(X9,J9):e(H1(r),H1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Bi(t)}function gx(){var e=mx(dp());return e.copy=function(){return cu(e,gx()).exponent(e.exponent())},Rn.apply(e,arguments),e}function Q9(){return gx.apply(null,arguments).exponent(.5)}function q1(e){return Math.sign(e)*e*e}function Z9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kO(){var e=ux(),t=[0,1],r=!1,n;function a(i){var s=Z9(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(q1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$f)).map(q1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Rn.apply(a,arguments),Bi(a)}function CO(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=n9(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ou(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ci),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return CO().domain(e).range(t).unknown(n)},Rn.apply(i,arguments)}function EO(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[ou(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return EO().domain([e,t]).range(a).unknown(i)},Rn.apply(Bi(s),arguments)}function PO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ou(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return PO().domain(e).range(t).unknown(r)},Rn.apply(a,arguments)}const Bm=new Date,Um=new Date;function Kt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Kt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Bm.setTime(+i),Um.setTime(+s),e(Bm),e(Um),Math.floor(r(Bm,Um))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ff=Kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ff.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ff);Ff.range;const Pa=1e3,En=Pa*60,Oa=En*60,Ka=Oa*24,vx=Ka*7,V1=Ka*30,zm=Ka*365,us=Kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCSeconds());us.range;const yx=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getMinutes());yx.range;const xx=Kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCMinutes());xx.range;const bx=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa-e.getMinutes()*En)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getHours());bx.range;const wx=Kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getUTCHours());wx.range;const uu=Kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*En)/Ka,e=>e.getDate()-1);uu.range;const fp=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>e.getUTCDate()-1);fp.range;const OO=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>Math.floor(e/Ka));OO.range;function Rs(e){return Kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*En)/vx)}const hp=Rs(0),Bf=Rs(1),e7=Rs(2),t7=Rs(3),Bo=Rs(4),r7=Rs(5),n7=Rs(6);hp.range;Bf.range;e7.range;t7.range;Bo.range;r7.range;n7.range;function Ms(e){return Kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vx)}const pp=Ms(0),Uf=Ms(1),a7=Ms(2),i7=Ms(3),Uo=Ms(4),s7=Ms(5),o7=Ms(6);pp.range;Uf.range;a7.range;i7.range;Uo.range;s7.range;o7.range;const _x=Kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_x.range;const jx=Kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jx.range;const Ha=Kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ha.range;const qa=Kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qa.range;function AO(e,t,r,n,a,i){const s=[[us,1,Pa],[us,5,5*Pa],[us,15,15*Pa],[us,30,30*Pa],[i,1,En],[i,5,5*En],[i,15,15*En],[i,30,30*En],[a,1,Oa],[a,3,3*Oa],[a,6,6*Oa],[a,12,12*Oa],[n,1,Ka],[n,2,2*Ka],[r,1,vx],[t,1,V1],[t,3,3*V1],[e,1,zm]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=ax(([,,v])=>v).right(s,h);if(p===s.length)return e.every(Uv(u/zm,d/zm,f));if(p===0)return Ff.every(Math.max(Uv(u,d,f),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,c]}const[l7,c7]=AO(qa,jx,pp,OO,wx,xx),[u7,d7]=AO(Ha,_x,hp,uu,bx,yx);function Wm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Km(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function El(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function f7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Pl(a),d=Ol(a),f=Pl(i),h=Ol(i),p=Pl(s),g=Ol(s),y=Pl(o),v=Ol(o),x=Pl(c),w=Ol(c),b={a:W,A,b:M,B:L,c:null,d:Z1,e:Z1,f:R7,g:H7,G:V7,H:T7,I:D7,j:I7,L:TO,m:M7,M:$7,p:se,q:ee,Q:rj,s:nj,S:L7,u:F7,U:B7,V:U7,w:z7,W:W7,x:null,X:null,y:K7,Y:q7,Z:G7,"%":tj},_={a:me,A:I,b:te,B:z,c:null,d:ej,e:ej,f:Q7,g:lW,G:uW,H:Y7,I:X7,j:J7,L:IO,m:Z7,M:eW,p:X,q:pe,Q:rj,s:nj,S:tW,u:rW,U:nW,V:aW,w:iW,W:sW,x:null,X:null,y:oW,Y:cW,Z:dW,"%":tj},j={a:E,A:P,b:O,B:q,c:Y,d:J1,e:J1,f:E7,g:X1,G:Y1,H:Q1,I:Q1,j:S7,L:C7,m:j7,M:N7,p:C,q:_7,Q:O7,s:A7,S:k7,u:v7,U:y7,V:x7,w:g7,W:b7,x:Z,X:U,y:X1,Y:Y1,Z:w7,"%":P7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(T,K){return function(Q){var $=[],_e=-1,R=0,ie=T.length,ae,he,Ye;for(Q instanceof Date||(Q=new Date(+Q));++_e<ie;)T.charCodeAt(_e)===37&&($.push(T.slice(R,_e)),(he=G1[ae=T.charAt(++_e)])!=null?ae=T.charAt(++_e):he=ae==="e"?" ":"0",(Ye=K[ae])&&(ae=Ye(Q,he)),$.push(ae),R=_e+1);return $.push(T.slice(R,_e)),$.join("")}}function N(T,K){return function(Q){var $=El(1900,void 0,1),_e=k($,T,Q+="",0),R,ie;if(_e!=Q.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(K&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(R=Km(El($.y,0,1)),ie=R.getUTCDay(),R=ie>4||ie===0?Uf.ceil(R):Uf(R),R=fp.offset(R,($.V-1)*7),$.y=R.getUTCFullYear(),$.m=R.getUTCMonth(),$.d=R.getUTCDate()+($.w+6)%7):(R=Wm(El($.y,0,1)),ie=R.getDay(),R=ie>4||ie===0?Bf.ceil(R):Bf(R),R=uu.offset(R,($.V-1)*7),$.y=R.getFullYear(),$.m=R.getMonth(),$.d=R.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ie="Z"in $?Km(El($.y,0,1)).getUTCDay():Wm(El($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(ie+5)%7:$.w+$.U*7-(ie+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Km($)):Wm($)}}function k(T,K,Q,$){for(var _e=0,R=K.length,ie=Q.length,ae,he;_e<R;){if($>=ie)return-1;if(ae=K.charCodeAt(_e++),ae===37){if(ae=K.charAt(_e++),he=j[ae in G1?K.charAt(_e++):ae],!he||($=he(T,Q,$))<0)return-1}else if(ae!=Q.charCodeAt($++))return-1}return $}function C(T,K,Q){var $=u.exec(K.slice(Q));return $?(T.p=d.get($[0].toLowerCase()),Q+$[0].length):-1}function E(T,K,Q){var $=p.exec(K.slice(Q));return $?(T.w=g.get($[0].toLowerCase()),Q+$[0].length):-1}function P(T,K,Q){var $=f.exec(K.slice(Q));return $?(T.w=h.get($[0].toLowerCase()),Q+$[0].length):-1}function O(T,K,Q){var $=x.exec(K.slice(Q));return $?(T.m=w.get($[0].toLowerCase()),Q+$[0].length):-1}function q(T,K,Q){var $=y.exec(K.slice(Q));return $?(T.m=v.get($[0].toLowerCase()),Q+$[0].length):-1}function Y(T,K,Q){return k(T,t,K,Q)}function Z(T,K,Q){return k(T,r,K,Q)}function U(T,K,Q){return k(T,n,K,Q)}function W(T){return s[T.getDay()]}function A(T){return i[T.getDay()]}function M(T){return c[T.getMonth()]}function L(T){return o[T.getMonth()]}function se(T){return a[+(T.getHours()>=12)]}function ee(T){return 1+~~(T.getMonth()/3)}function me(T){return s[T.getUTCDay()]}function I(T){return i[T.getUTCDay()]}function te(T){return c[T.getUTCMonth()]}function z(T){return o[T.getUTCMonth()]}function X(T){return a[+(T.getUTCHours()>=12)]}function pe(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var K=S(T+="",b);return K.toString=function(){return T},K},parse:function(T){var K=N(T+="",!1);return K.toString=function(){return T},K},utcFormat:function(T){var K=S(T+="",_);return K.toString=function(){return T},K},utcParse:function(T){var K=N(T+="",!0);return K.toString=function(){return T},K}}}var G1={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,h7=/^%/,p7=/[\\^$*+?|[\]().{}]/g;function Be(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function m7(e){return e.replace(p7,"\\$&")}function Pl(e){return new RegExp("^(?:"+e.map(m7).join("|")+")","i")}function Ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function g7(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function x7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Y1(e,t,r){var n=rr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X1(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function w7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _7(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function j7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function J1(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Q1(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function k7(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function E7(e,t,r){var n=rr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function P7(e,t,r){var n=h7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function O7(e,t,r){var n=rr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function A7(e,t,r){var n=rr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Z1(e,t){return Be(e.getDate(),t,2)}function T7(e,t){return Be(e.getHours(),t,2)}function D7(e,t){return Be(e.getHours()%12||12,t,2)}function I7(e,t){return Be(1+uu.count(Ha(e),e),t,3)}function TO(e,t){return Be(e.getMilliseconds(),t,3)}function R7(e,t){return TO(e,t)+"000"}function M7(e,t){return Be(e.getMonth()+1,t,2)}function $7(e,t){return Be(e.getMinutes(),t,2)}function L7(e,t){return Be(e.getSeconds(),t,2)}function F7(e){var t=e.getDay();return t===0?7:t}function B7(e,t){return Be(hp.count(Ha(e)-1,e),t,2)}function DO(e){var t=e.getDay();return t>=4||t===0?Bo(e):Bo.ceil(e)}function U7(e,t){return e=DO(e),Be(Bo.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function z7(e){return e.getDay()}function W7(e,t){return Be(Bf.count(Ha(e)-1,e),t,2)}function K7(e,t){return Be(e.getFullYear()%100,t,2)}function H7(e,t){return e=DO(e),Be(e.getFullYear()%100,t,2)}function q7(e,t){return Be(e.getFullYear()%1e4,t,4)}function V7(e,t){var r=e.getDay();return e=r>=4||r===0?Bo(e):Bo.ceil(e),Be(e.getFullYear()%1e4,t,4)}function G7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function ej(e,t){return Be(e.getUTCDate(),t,2)}function Y7(e,t){return Be(e.getUTCHours(),t,2)}function X7(e,t){return Be(e.getUTCHours()%12||12,t,2)}function J7(e,t){return Be(1+fp.count(qa(e),e),t,3)}function IO(e,t){return Be(e.getUTCMilliseconds(),t,3)}function Q7(e,t){return IO(e,t)+"000"}function Z7(e,t){return Be(e.getUTCMonth()+1,t,2)}function eW(e,t){return Be(e.getUTCMinutes(),t,2)}function tW(e,t){return Be(e.getUTCSeconds(),t,2)}function rW(e){var t=e.getUTCDay();return t===0?7:t}function nW(e,t){return Be(pp.count(qa(e)-1,e),t,2)}function RO(e){var t=e.getUTCDay();return t>=4||t===0?Uo(e):Uo.ceil(e)}function aW(e,t){return e=RO(e),Be(Uo.count(qa(e),e)+(qa(e).getUTCDay()===4),t,2)}function iW(e){return e.getUTCDay()}function sW(e,t){return Be(Uf.count(qa(e)-1,e),t,2)}function oW(e,t){return Be(e.getUTCFullYear()%100,t,2)}function lW(e,t){return e=RO(e),Be(e.getUTCFullYear()%100,t,2)}function cW(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function uW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Uo(e):Uo.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function dW(){return"+0000"}function tj(){return"%"}function rj(e){return+e}function nj(e){return Math.floor(+e/1e3)}var Hs,MO,$O;fW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fW(e){return Hs=f7(e),MO=Hs.format,Hs.parse,$O=Hs.utcFormat,Hs.utcParse,Hs}function hW(e){return new Date(e)}function pW(e){return e instanceof Date?+e:+new Date(+e)}function Sx(e,t,r,n,a,i,s,o,c,u){var d=ux(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?p:o(S)<S?g:s(S)<S?y:i(S)<S?v:n(S)<S?a(S)<S?x:w:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,pW)):h().map(hW)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(jO(N,S)):d},d.copy=function(){return cu(d,Sx(e,t,r,n,a,i,s,o,c,u))},d}function mW(){return Rn.apply(Sx(u7,d7,Ha,_x,hp,uu,bx,yx,us,MO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gW(){return Rn.apply(Sx(l7,c7,qa,jx,pp,fp,wx,xx,us,$O).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mp(){var e=0,t=1,r,n,a,i,s=Nr,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(al),u.rangeRound=d(cx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LO(){var e=Bi(mp()(Nr));return e.copy=function(){return Ui(e,LO())},Za.apply(e,arguments)}function FO(){var e=hx(mp()).domain([1,10]);return e.copy=function(){return Ui(e,FO()).base(e.base())},Za.apply(e,arguments)}function BO(){var e=px(mp());return e.copy=function(){return Ui(e,BO()).constant(e.constant())},Za.apply(e,arguments)}function Nx(){var e=mx(mp());return e.copy=function(){return Ui(e,Nx()).exponent(e.exponent())},Za.apply(e,arguments)}function vW(){return Nx.apply(null,arguments).exponent(.5)}function UO(){var e=[],t=Nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((ou(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ci),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>r9(e,i/n))},r.copy=function(){return UO(t).domain(e)},Za.apply(r,arguments)}function gp(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=Nr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,u=P9(y,[x,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(al),p.rangeRound=g(cx),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function zO(){var e=Bi(gp()(Nr));return e.copy=function(){return Ui(e,zO())},Za.apply(e,arguments)}function WO(){var e=hx(gp()).domain([.1,1,10]);return e.copy=function(){return Ui(e,WO()).base(e.base())},Za.apply(e,arguments)}function KO(){var e=px(gp());return e.copy=function(){return Ui(e,KO()).constant(e.constant())},Za.apply(e,arguments)}function kx(){var e=mx(gp());return e.copy=function(){return Ui(e,kx()).exponent(e.exponent())},Za.apply(e,arguments)}function yW(){return kx.apply(null,arguments).exponent(.5)}const Ul=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sx,scaleDiverging:zO,scaleDivergingLog:WO,scaleDivergingPow:kx,scaleDivergingSqrt:yW,scaleDivergingSymlog:KO,scaleIdentity:_O,scaleImplicit:zv,scaleLinear:wO,scaleLog:SO,scaleOrdinal:ix,scalePoint:i9,scalePow:gx,scaleQuantile:CO,scaleQuantize:EO,scaleRadial:kO,scaleSequential:LO,scaleSequentialLog:FO,scaleSequentialPow:Nx,scaleSequentialQuantile:UO,scaleSequentialSqrt:vW,scaleSequentialSymlog:BO,scaleSqrt:Q9,scaleSymlog:NO,scaleThreshold:PO,scaleTime:mW,scaleUtc:gW,tickFormat:bO},Symbol.toStringTag,{value:"Module"}));var zi=e=>e.chartData,xW=B([zi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vp=(e,t,r,n)=>n?xW(e):zi(e);function Cs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Nt(t)&&Nt(r))return!0}return!1}function aj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function HO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Nt(r))a=r;else if(typeof r=="function")return;if(Nt(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Cs(s))return s}}function bW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Cs(n))return aj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(ve(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&V_.test(a)){var c=V_.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(ve(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&G_.test(i)){var d=G_.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Cs(h))return t==null?h:aj(h,t,r)}}}var il=1e9,wW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ex,dt=!0,In="[DecimalError] ",vs=In+"Invalid argument: ",Cx=In+"Exponent out of range: ",sl=Math.floor,ts=Math.pow,_W=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,Yt=1e7,it=7,qO=9007199254740991,zf=sl(qO/it),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*it;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Ia(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Qe(Ia(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Ot(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sn))throw Error(In+"NaN");if(r.s<1)throw Error(In+(r.s?"NaN":"-Infinity"));return r.eq(sn)?new n(0):(dt=!1,t=Ia(Lc(r,i),Lc(e,i),i),dt=!0,Qe(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YO(t,e):VO(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(In+"NaN");return r.s?(dt=!1,t=Ia(r,e,0,1).times(e),dt=!0,r.minus(t)):Qe(new n(r),a)};ue.naturalExponential=ue.exp=function(){return GO(this)};ue.naturalLogarithm=ue.ln=function(){return Lc(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VO(t,e):YO(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vs+e);if(t=Ot(a)+1,n=a.d.length-1,r=n*it+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(In+"NaN")}for(e=Ot(o),dt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=da(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=sl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Ia(o,i,s+2)).times(.5),da(i.d).slice(0,s)===(t=da(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Qe(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return dt=!0,Qe(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Yt|0,t=o/Yt|0;i[a]=(i[a]+t)%Yt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,dt?Qe(e,f.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(va(e,0,il),t===void 0?t=n.rounding:va(t,0,8),Qe(r,e+Ot(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Es(n,!0):(va(e,0,il),t===void 0?t=a.rounding:va(t,0,8),n=Qe(new a(n),e+1,t),r=Es(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Es(a):(va(e,0,il),t===void 0?t=i.rounding:va(t,0,8),n=Qe(new i(a),e+Ot(a)+1,t),r=Es(n.abs(),!1,e+Ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Qe(new t(e),Ot(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sn);if(o=new c(o),!o.s){if(e.s<1)throw Error(In+"Infinity");return o}if(o.eq(sn))return o;if(n=c.precision,e.eq(sn))return Qe(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=qO){for(a=new c(sn),t=Math.ceil(n/it+4),dt=!1;r%2&&(a=a.times(o),sj(a.d,t)),r=sl(r/2),r!==0;)o=o.times(o),sj(o.d,t);return dt=!0,e.s<0?new c(sn).div(a):Qe(a,n)}}else if(i<0)throw Error(In+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,dt=!1,a=e.times(Lc(o,n+u)),dt=!0,a=GO(a),a.s=i,a};ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ot(a),n=Es(a,r<=i.toExpNeg||r>=i.toExpPos)):(va(e,1,il),t===void 0?t=i.rounding:va(t,0,8),a=Qe(new i(a),e,t),r=Ot(a),n=Es(a,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(va(e,1,il),t===void 0?t=n.rounding:va(t,0,8)),Qe(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),r=e.constructor;return Es(e,t<=r.toExpNeg||t>=r.toExpPos)};function VO(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dt?Qe(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/it),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Yt|0,c[i]%=Yt;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,dt?Qe(t,f):t}function va(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vs+e)}function da(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=it-n.length,r&&(i+=ci(r)),i+=n;s=e[t],n=s+"",r=it-n.length,r&&(i+=ci(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ia=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Yt|0,s=i/Yt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,g,y,v,x,w,b,_,j,S,N,k,C=n.constructor,E=n.s==a.s?1:-1,P=n.d,O=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(In+"Division by zero");for(c=n.e-a.e,N=O.length,j=P.length,p=new C(E),g=p.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,i==null?w=i=C.precision:s?w=i+(Ot(n)-Ot(a))+1:w=i,w<0)return new C(0);if(w=w/it+2|0,u=0,N==1)for(d=0,O=O[0],w++;(u<j||d)&&w--;u++)b=d*Yt+(P[u]||0),g[u]=b/O|0,d=b%O|0;else{for(d=Yt/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),N=O.length,j=P.length),_=N,y=P.slice(0,N),v=y.length;v<N;)y[v++]=0;k=O.slice(),k.unshift(0),S=O[0],O[1]>=Yt/2&&++S;do d=0,o=t(O,y,N,v),o<0?(x=y[0],N!=v&&(x=x*Yt+(y[1]||0)),d=x/S|0,d>1?(d>=Yt&&(d=Yt-1),f=e(O,d),h=f.length,v=y.length,o=t(f,y,h,v),o==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),o==-1&&(v=y.length,o=t(O,y,N,v),o<1&&(d++,r(y,N<v?k:O,v))),v=y.length):o===0&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=P[_]||0:(y=[P[_]],v=1);while((_++<j||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,Qe(p,s?i+Ot(p)+1:i)}}();function GO(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Ot(e)>16)throw Error(Cx+Ot(e));if(!e.s)return new d(sn);for(dt=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(ts(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(sn),d.precision=o;;){if(a=Qe(a.times(e),o),r=r.times(++c),s=i.plus(Ia(a,r,o)),da(s.d).slice(0,o)===da(i.d).slice(0,o)){for(;u--;)i=Qe(i.times(i),o);return d.precision=f,t==null?(dt=!0,Qe(i,f)):i}i=s}}function Ot(e){for(var t=e.e*it,r=e.d[0];r>=10;r/=10)t++;return t}function Hm(e,t,r){if(t>e.LN10.sd())throw dt=!0,r&&(e.precision=r),Error(In+"LN10 precision limit exceeded");return Qe(new e(e.LN10),t)}function ci(e){for(var t="";e--;)t+="0";return t}function Lc(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=e,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(In+(p.s?"NaN":"-Infinity"));if(p.eq(sn))return new y(0);if(t==null?(dt=!1,u=v):u=t,p.eq(10))return t==null&&(dt=!0),Hm(y,u);if(u+=h,y.precision=u,r=da(g),n=r.charAt(0),i=Ot(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=da(p.d),n=r.charAt(0),f++;i=Ot(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return c=Hm(y,u+2,v).times(i+""),p=Lc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,t==null?(dt=!0,Qe(p,v)):p;for(o=s=p=Ia(p.minus(sn),p.plus(sn),u),d=Qe(p.times(p),u),a=3;;){if(s=Qe(s.times(d),u),c=o.plus(Ia(s,new y(a),u)),da(c.d).slice(0,u)===da(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Hm(y,u+2,v).times(i+""))),o=Ia(o,new y(f),u),y.precision=v,t==null?(dt=!0,Qe(o,v)):o;o=c,a+=2}}function ij(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=sl(r/it),e.d=[],n=(r+1)%it,r<0&&(n+=it),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=it;n<a;)e.d.push(+t.slice(n,n+=it));t=t.slice(n),n=it-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),dt&&(e.e>zf||e.e<-zf))throw Error(Cx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qe(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=it,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/it),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=it,a=n-it+s}if(r!==void 0&&(i=ts(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/ts(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ot(e),f.length=1,t=t-i-1,f[0]=ts(10,(it-t%it)%it),e.e=sl(-t/it)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ts(10,it-n),f[d]=a>0?(u/ts(10,s-a)%ts(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(dt&&(e.e>zf||e.e<-zf))throw Error(Cx+Ot(e));return e}function YO(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dt?Qe(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/it),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Yt-1;--c[i],c[a]+=Yt}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,dt?Qe(t,p):t):new h(0)}function Es(e,t,r){var n,a=Ot(e),i=da(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ci(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ci(-a-1)+i,r&&(n=r-s)>0&&(i+=ci(n))):a>=s?(i+=ci(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ci(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ci(n))),e.s<0?"-"+i:i}function sj(e,t){if(e.length>t)return e.length=t,!0}function XO(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(vs+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return ij(s,i.toString())}else if(typeof i!="string")throw Error(vs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_W.test(i))ij(s,i);else throw Error(vs+i)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XO,a.config=a.set=jW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function jW(e){if(!e||typeof e!="object")throw Error(In+"Object expected");var t,r,n,a=["precision",1,il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(sl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(vs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vs+r+": "+n);return this}var Ex=XO(wW);sn=new Ex(1);const Ve=Ex;var SW=e=>e,JO={},QO=e=>e===JO,oj=e=>function t(){return arguments.length===0||arguments.length===1&&QO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ZO=(e,t)=>e===1?t:oj(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==JO).length;return i>=e?t(...n):ZO(e-i,oj(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>QO(d)?o.shift():d);return t(...u,...o)}))}),yp=e=>ZO(e.length,e),qv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},NW=yp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),kW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SW;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},Vv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eA=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function tA(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function rA(e,t,r){for(var n=new Ve(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}yp((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});yp((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});yp((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var nA=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},aA=(e,t,r)=>{if(e.lte(0))return new Ve(0);var n=tA(e.toNumber()),a=new Ve(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Ve(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new Ve(c.toNumber()):new Ve(Math.ceil(c.toNumber()))},CW=(e,t,r)=>{var n=new Ve(1),a=new Ve(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ve(10).pow(tA(e)-1),a=new Ve(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ve(Math.floor(e)))}else e===0?a=new Ve(Math.floor((t-1)/2)):r||(a=new Ve(Math.floor(e)));var s=Math.floor((t-1)/2),o=kW(NW(c=>a.add(new Ve(c-s).mul(n)).toNumber()),qv);return o(0,t)},iA=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var s=aA(new Ve(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Ve(0):(o=new Ve(t).add(r).div(2),o=o.sub(new Ve(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ve(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?iA(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Ve(c).mul(s)),tickMax:o.add(new Ve(u).mul(s))})};function EW(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=nA([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...qv(0,n-1).map(()=>1/0)]:[...qv(0,n-1).map(()=>-1/0),o];return t>r?Vv(c):c}if(s===o)return CW(s,n,a);var{step:u,tickMin:d,tickMax:f}=iA(s,o,i,a,0),h=rA(d,f.add(new Ve(.1).mul(u)),u);return t>r?Vv(h):h}function PW(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=nA([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),c=aA(new Ve(s).sub(i).div(o-1),a,0),u=[...rA(new Ve(i),new Ve(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Vv(u):u}var OW=eA(EW),AW=eA(PW),sA=e=>e.rootProps.maxBarSize,TW=e=>e.rootProps.barGap,oA=e=>e.rootProps.barCategoryGap,DW=e=>e.rootProps.barSize,xp=e=>e.rootProps.stackOffset,Px=e=>e.options.chartName,Ox=e=>e.rootProps.syncId,lA=e=>e.rootProps.syncMethod,Ax=e=>e.options.eventEmitter,Qt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Na={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Na.angleAxisId,includeHidden:!1,name:void 0,reversed:Na.reversed,scale:Na.scale,tick:Na.tick,tickCount:void 0,ticks:void 0,type:Na.type,unit:void 0},RW={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:rn.type,unit:void 0},MW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$W={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:"category",unit:void 0},Tx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MW:IW,Dx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$W:RW,wp=e=>e.polarOptions,Ix=B([Ja,Qa,tr],I8),cA=B([wp,Ix],(e,t)=>{if(e!=null)return ta(e.innerRadius,t,0)}),uA=B([wp,Ix],(e,t)=>{if(e!=null)return ta(e.outerRadius,t,t*.8)}),LW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dA=B([wp],LW);B([Tx,dA],bp);var fA=B([Ix,cA,uA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});B([Dx,fA],bp);var hA=B([We,wp,cA,uA,Ja,Qa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:ta(s,a,a/2),cy:ta(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ht=(e,t)=>t,_p=(e,t,r)=>r;function Rx(e){return e==null?void 0:e.id}function pA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Rx(o);u.forEach((f,h)=>{var p=i==null||a?h:String(er(f,i,null)),g=er(f,o.dataKey,0),y;s.has(p)?y=s.get(p):y={},Object.assign(y,{[d]:g}),s.set(p,y)})}}),Array.from(s.values())}function jp(e){return e.stackId!=null&&e.dataKey!=null}var Sp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Np(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function FW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var qt=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ol=e=>e.tooltip.settings.axisId;function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return(t=UW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gv=[0,"auto"],Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mA=(e,t)=>e.cartesianAxis.xAxis[t],ei=(e,t)=>{var r=mA(e,t);return r??Zr},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iu},gA=(e,t)=>e.cartesianAxis.yAxis[t],ti=(e,t)=>{var r=gA(e,t);return r??en},WW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??WW},Tr=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"zAxis":return Mx(e,r);case"angleAxis":return Tx(e,r);case"radiusAxis":return Dx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KW=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},du=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"angleAxis":return Tx(e,r);case"radiusAxis":return Dx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var kp=e=>e.graphicalItems.cartesianItems,HW=B([Ht,_p],yA),xA=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fu=B([kp,Tr,HW],xA,{memoizeOptions:{resultEqualityCheck:Np}}),bA=B([fu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jp)),wA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qW=B([fu],wA),_A=e=>e.map(t=>t.data).filter(Boolean).flat(1),VW=B([fu],_A,{memoizeOptions:{resultEqualityCheck:Np}}),jA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},$x=B([VW,vp],jA),SA=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:er(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:er(a,n)}))):e.map(n=>({value:n})),Cp=B([$x,Tr,fu],SA);function NA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pd(e){if(ma(e)||e instanceof Date){var t=Number(e);if(Nt(t))return t}}function cj(e){if(Array.isArray(e)){var t=[Pd(e[0]),Pd(e[1])];return Cs(t)?t:void 0}var r=Pd(e);if(r!=null)return[r,r]}function Va(e){return e.map(Pd).filter($F)}function GW(e,t,r){return!r||typeof t!="number"||ea(t)?[]:r.length?Va(r.flatMap(n=>{var a=er(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Nt(i)||!Nt(s)))return[t-i,t+s]})):[]}var Vt=e=>{var t=qt(e),r=ol(e);return du(e,t,r)},kA=B([Vt],e=>e==null?void 0:e.dataKey),YW=B([bA,vp,Vt],pA),CA=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,c=o.map(Rx);return[s,{stackedData:zU(e,c,r),graphicalItems:o}]}))},Yv=B([YW,bA,xp],CA),EA=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=VU(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},XW=B([Tr],e=>e.allowDataOverflow),Lx=e=>{var t;if(e==null||!("domain"in e))return Gv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Va(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gv},PA=B([Tr],Lx),OA=B([PA,XW],HO),JW=B([Yv,zi,Ht,OA],EA,{memoizeOptions:{resultEqualityCheck:Sp}}),Fx=e=>e.errorBars,QW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>NA(r,n)),Kf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},AA=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>NA(a,x)),h=er(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=GW(o,h,f);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(i==null||g<i)&&(i=g),(s==null||y>s)&&(s=y)}var v=cj(h);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=cj(er(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Nt(i)&&Nt(s))return[i,s]},ZW=B([$x,Tr,qW,Fx,Ht],AA,{memoizeOptions:{resultEqualityCheck:Sp}});function eK(e){var{value:t}=e;if(ma(t)||t instanceof Date)return t}var tK=(e,t,r)=>{var n=e.map(eK).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&AE(n))?uO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},TA=e=>e.referenceElements.dots,ll=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),rK=B([TA,Ht,_p],ll),DA=e=>e.referenceElements.areas,nK=B([DA,Ht,_p],ll),IA=e=>e.referenceElements.lines,aK=B([IA,Ht,_p],ll),RA=(e,t)=>{var r=Va(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iK=B(rK,Ht,RA),MA=(e,t)=>{var r=Va(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sK=B([nK,Ht],MA);function oK(e){var t;if(e.x!=null)return Va([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Va(r)}function lK(e){var t;if(e.y!=null)return Va([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Va(r)}var $A=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?oK(n):lK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cK=B([aK,Ht],$A),uK=B(iK,cK,sK,(e,t,r)=>Kf(e,r,t)),LA=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?Kf(n,i,a):Kf(i,a);return bW(t,u,e.allowDataOverflow)},dK=B([Tr,PA,OA,JW,ZW,uK,We,Ht],LA,{memoizeOptions:{resultEqualityCheck:Sp}}),fK=[0,1],FA=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=Fi(t,i);if(u&&o==null){var d;return uO(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?tK(n,e,u):a==="expand"?fK:s}},Bx=B([Tr,We,$x,Cp,xp,Ht,dK],FA),BA=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(ru(i));return o in Ul?o:"point"}}},hu=B([Tr,We,vA,Px,Ht],BA);function hK(e){if(e!=null){if(e in Ul)return Ul[e]();var t="scale".concat(ru(e));if(t in Ul)return Ul[t]()}}function Ux(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=hK(t);if(a!=null){var i=a.domain(r).range(n);return $U(i),i}}}var UA=(e,t,r)=>{var n=Lx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cs(e))return OW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cs(e))return AW(e,t.tickCount,t.allowDecimals)}},zx=B([Bx,du,hu],UA),zA=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cs(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},pK=B([Tr,Bx,zx,Ht],zA),mK=B(Cp,Tr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Va(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),WA=B(mK,We,oA,tr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Nt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=ta(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),gK=(e,t)=>{var r=ei(e,t);return r==null||typeof r.padding!="string"?0:WA(e,"xAxis",t,r.padding)},vK=(e,t)=>{var r=ti(e,t);return r==null||typeof r.padding!="string"?0:WA(e,"yAxis",t,r.padding)},yK=B(ei,gK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),xK=B(ti,vK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),bK=B([tr,yK,sp,ip,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),wK=B([tr,We,xK,sp,ip,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return bK(e,r,n);case"yAxis":return wK(e,r,n);case"zAxis":return(a=Mx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return dA(e);case"radiusAxis":return fA(e,r);default:return}},KA=B([Tr,pu],bp),cl=B([Tr,hu,pK,KA],Ux);B([fu,Fx,Ht],QW);function HA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ep=(e,t)=>t,Pp=(e,t,r)=>r,_K=B(np,Ep,Pp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HA)),jK=B(ap,Ep,Pp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HA)),qA=(e,t)=>({width:e.width,height:t.height}),SK=(e,t)=>{var r=typeof t.width=="number"?t.width:iu;return{width:r,height:e.height}},VA=B(tr,ei,qA),NK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},CK=B(Qa,tr,_K,Ep,Pp,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=qA(t,o);s==null&&(s=NK(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),EK=B(Ja,tr,jK,Ep,Pp,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=SK(t,o);s==null&&(s=kK(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),PK=(e,t)=>{var r=ei(e,t);if(r!=null)return CK(e,r.orientation,r.mirror)},OK=B([tr,ei,PK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),AK=(e,t)=>{var r=ti(e,t);if(r!=null)return EK(e,r.orientation,r.mirror)},TK=B([tr,ti,AK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),GA=B(tr,ti,(e,t)=>{var r=typeof t.width=="number"?t.width:iu;return{width:r,height:e.height}}),uj=(e,t,r)=>{switch(t){case"xAxis":return VA(e,r).width;case"yAxis":return GA(e,r).height;default:return}},YA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Fi(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&AE(c))return c}},Wx=B([We,Cp,Tr,Ht],YA),XA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Fi(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},Kx=B([We,Cp,du,Ht],XA),dj=B([We,KW,hu,cl,Wx,Kx,pu,zx,Ht],(e,t,r,n,a,i,s,o,c)=>{if(t!=null){var u=Fi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),DK=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=Fi(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Fr(i[0]-i[1])*2*g:g;var y=f||a;if(y){var v=y.map((x,w)=>{var b=s?s.indexOf(x):x;return{index:w,coordinate:n(b)+g,value:x,offset:g}});return v.filter(x=>Nt(x.coordinate))}return u&&o?o.map((x,w)=>({coordinate:n(x)+g,value:x,index:w,offset:g})).filter(x=>Nt(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,w)=>({coordinate:n(x)+g,value:s?s[x]:x,index:w,offset:g}))}},JA=B([We,du,hu,cl,zx,pu,Wx,Kx,Ht],DK),IK=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Fi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Fr(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Di=B([We,du,cl,pu,Wx,Kx,Ht],IK),Ii=B(Tr,cl,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})}),RK=B([Tr,hu,Bx,KA],Ux);B((e,t,r)=>Mx(e,r),RK,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})});var MK=B([We,np,ap],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QA=e=>e.options.defaultTooltipEventType,ZA=e=>e.options.validateTooltipEventTypes;function eT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Hx(e,t){var r=QA(e),n=ZA(e);return eT(t,r,n)}function $K(e){return be(t=>Hx(t,e))}var tT=(e,t)=>{var r,n=Number(t);if(!(ea(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LK=e=>e.tooltip.settings,pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},FK={itemInteraction:{click:pi,hover:pi},axisInteraction:{click:pi,hover:pi},keyboardInteraction:pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rT=Kr({name:"tooltip",initialState:FK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:zt()},removeTooltipEntrySettings:{reducer(e,t){var r=Da(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:zt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:BK,removeTooltipEntrySettings:UK,setTooltipSettingsState:zK,setActiveMouseOverItemIndex:nT,mouseLeaveItem:WK,mouseLeaveChart:aT,setActiveClickItemIndex:KK,setMouseOverAxisIndex:iT,setMouseClickAxisIndex:HK,setSyncInteraction:Xv,setKeyboardInteraction:Jv}=rT.actions,qK=rT.reducer;function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JK(e){return e.index!=null}var sT=(e,t,r,n)=>{if(t==null)return pi;var a=XK(e,t,r);if(a==null)return pi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(JK(a)){if(i)return od(od({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return od(od({},pi),{},{coordinate:a.coordinate})},qx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Nt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},oT=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},lT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},mu=e=>e.options.tooltipPayloadSearcher,ul=e=>e.tooltip;function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t){return e??t}var cT=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:y,settings:v}=p,x=tH(y,o),w=Array.isArray(x)?MP(x,u,d):x,b=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,_=v==null?void 0:v.nameKey,j;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?j=TE(w,n,a):j=i(w,t,c,_),Array.isArray(j))j.forEach(N=>{var k=pj(pj({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(Y_({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:er(N.payload,N.dataKey),name:N.name}))});else{var S;h.push(Y_({tooltipEntrySettings:v,dataKey:b,payload:j,value:er(j,b),name:(S=er(j,_))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},f)}},Vx=B([Vt,We,vA,Px,qt],BA),rH=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nH=B([qt,ol],yA),gu=B([rH,Vt,nH],xA,{memoizeOptions:{resultEqualityCheck:Np}}),aH=B([gu],e=>e.filter(jp)),iH=B([gu],_A,{memoizeOptions:{resultEqualityCheck:Np}}),dl=B([iH,zi],jA),sH=B([aH,zi,Vt],pA),Gx=B([dl,Vt,gu],SA),uT=B([Vt],Lx),oH=B([Vt],e=>e.allowDataOverflow),dT=B([uT,oH],HO),lH=B([gu],e=>e.filter(jp)),cH=B([sH,lH,xp],CA),uH=B([cH,zi,qt,dT],EA),dH=B([gu],wA),fH=B([dl,Vt,dH,Fx,qt],AA,{memoizeOptions:{resultEqualityCheck:Sp}}),hH=B([TA,qt,ol],ll),pH=B([hH,qt],RA),mH=B([DA,qt,ol],ll),gH=B([mH,qt],MA),vH=B([IA,qt,ol],ll),yH=B([vH,qt],$A),xH=B([pH,yH,gH],Kf),bH=B([Vt,uT,dT,uH,fH,xH,We,qt],LA),fT=B([Vt,We,dl,Gx,xp,qt,bH],FA),wH=B([fT,Vt,Vx],UA),_H=B([Vt,fT,wH,qt],zA),hT=e=>{var t=qt(e),r=ol(e),n=!1;return pu(e,t,r,n)},pT=B([Vt,hT],bp),mT=B([Vt,Vx,_H,pT],Ux),jH=B([We,Gx,Vt,qt],YA),SH=B([We,Gx,Vt,qt],XA),NH=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=Fi(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Fr(a[0]-a[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},ri=B([We,Vt,Vx,mT,hT,jH,SH,qt],NH),Yx=B([QA,ZA,LK],(e,t,r)=>eT(r.shared,e,t)),gT=e=>e.tooltip.settings.trigger,Xx=e=>e.tooltip.settings.defaultIndex,Op=B([ul,Yx,gT,Xx],sT),Ps=B([Op,dl],qx),vT=B([ri,Ps],tT),yT=B([Op],e=>{if(e)return e.dataKey}),xT=B([ul,Yx,gT,Xx],lT),kH=B([Ja,Qa,We,tr,ri,Xx,xT,mu],oT),CH=B([Op,kH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),EH=B([Op],e=>e.active),PH=B([xT,Ps,zi,kA,vT,mu,Yx],cT),OH=B([PH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IH=()=>be(Vt),RH=()=>{var e=IH(),t=be(ri),r=be(mT);return Lo(!e||!r?void 0:gj(gj({},e),{},{scale:r}),t)};function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},BH=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:s}=n;return qs(qs(qs({},n),cr(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return qs(qs(qs({},n),cr(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function UH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var bT=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Fr(d-u)!==Fr(f-d)){var p=[];if(Fr(f-d)===Fr(a[1]-a[0])){h=f;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var y=f+a[1]-a[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var x=Math.min(u,f),w=Math.max(u,f);if(e>(x+d)/2&&e<=(w+d)/2){({index:s}=r[c]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},zH=()=>be(Px),Jx=(e,t)=>t,wT=(e,t,r)=>r,Qx=(e,t,r,n)=>n,WH=B(ri,e=>Xh(e,t=>t.coordinate)),Zx=B([ul,Jx,wT,Qx],sT),_T=B([Zx,dl],qx),KH=(e,t,r)=>{if(t!=null){var n=ul(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},jT=B([ul,Jx,wT,Qx],lT),Hf=B([Ja,Qa,We,tr,ri,Qx,jT,mu],oT),HH=B([Zx,Hf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ST=B([ri,_T],tT),qH=B([jT,_T,zi,kA,ST,mu,Jx],cT),VH=B([Zx],e=>({isActive:e.active,activeIndex:e.index})),GH=(e,t,r,n,a,i,s)=>{if(!(!e||!r||!n||!a)&&UH(e,s)){var o=GU(e,t),c=bT(o,i,a,r,n),u=FH(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},YH=(e,t,r,n,a,i,s)=>{if(!(!e||!n||!a||!i||!r)){var o=F8(e,r);if(o){var c=YU(o,t),u=bT(c,s,i,n,a),d=BH(t,i,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},XH=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?GH(e,t,n,a,i,s,o):YH(e,t,r,n,a,i,s)},JH=B(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),QH=B(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Qt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:FW}});function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq={},nq={zIndexMap:Object.values(Qt).reduce((e,t)=>xj(xj({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),rq)},aq=new Set(Object.values(Qt));function iq(e){return aq.has(e)}var NT=Kr({name:"zIndex",initialState:nq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!iq(r)&&delete e.zIndexMap[r])},prepare:zt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:zt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:zt()}}}),{registerZIndexPortal:sq,unregisterZIndexPortal:oq,registerZIndexPortalId:lq,unregisterZIndexPortalId:cq}=NT.actions,uq=NT.reducer;function Mn(e){var{zIndex:t,children:r}=e,n=jz(),a=n&&t!==void 0&&t!==0,i=xr(),s=kt();m.useLayoutEffect(()=>a?(s(sq({zIndex:t})),()=>{s(oq({zIndex:t}))}):nl,[s,t,a]);var o=be(u=>JH(u,t,i));if(!a)return r;if(!o)return null;var c=document.getElementById(o);return c?vi.createPortal(r,c):null}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function mq(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,p=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,y,v;if(d==="ScatterChart")g=f,y=e8,v=Qt.cursorLine;else if(d==="BarChart")g=t8(o,f,i,s),y=nO,v=Qt.cursorRectangle;else if(o==="radial"&&RE(f)){var{cx:x,cy:w,radius:b,startAngle:_,endAngle:j}=aO(f);g={cx:x,cy:w,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},y=sO,v=Qt.cursorLine}else g={points:W8(o,f,i)},y=QP,v=Qt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,N=ld(ld(ld(ld({stroke:"#ccc",pointerEvents:"none"},i),g),tu(c)),{},{payload:h,payloadIndex:p,className:Xe("recharts-tooltip-cursor",S)});return m.createElement(Mn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},m.createElement(pq,{cursor:c,cursorComp:y,cursorProps:N}))}function gq(e){var t=RH(),r=VP(),n=su(),a=zH();return t==null||r==null||n==null||a==null?null:m.createElement(mq,Qv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var kT=m.createContext(null),vq=()=>m.useContext(kT),CT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,j;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(CT);var yq=CT.exports;const xq=Ya(yq);var Fc=new xq,Zv="recharts.syncEvent.tooltip",wj="recharts.syncEvent.brush";function ET(e,t){if(t){var r=Number.parseInt(t,10);if(!ea(r))return e==null?void 0:e[r]}}var bq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PT=Kr({name:"options",initialState:bq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wq=PT.reducer,{createEventEmitter:_q}=PT.actions;function jq(e){return e.tooltip.syncInteraction}var Sq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OT=Kr({name:"chartData",initialState:Sq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_j,setDataStartEndIndexes:Nq,setComputedData:Nee}=OT.actions,kq=OT.reducer,Cq=["x","y"];function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e,t){if(e==null)return{};var r,n,a=Tq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dq(){var e=be(Ox),t=be(Ax),r=kt(),n=be(lA),a=be(ri),i=su(),s=op(),o=be(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return nl;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,v=Aq(p,Cq),{x,y:w,width:b,height:_}=d.payload.sourceViewBox,j=Vs(Vs({},v),{},{x:s.x+(b?(g-x)/b:0)*s.width,y:s.y+(_?(y-w)/_:0)*s.height});r(Vs(Vs({},d),{},{payload:Vs(Vs({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(a,N);S=a[k]}else n==="value"&&(S=a.find(U=>String(U.value)===d.payload.label));var{coordinate:C}=d.payload;if(S==null||d.payload.active===!1||C==null||s==null){r(Xv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:E,y:P}=C,O=Math.min(E,s.x+s.width),q=Math.min(P,s.y+s.height),Y={x:i==="horizontal"?S.coordinate:O,y:i==="horizontal"?q:S.coordinate},Z=Xv({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(Z)}}};return Fc.on(Zv,c),()=>{Fc.off(Zv,c)}},[o,r,t,e,n,a,i,s])}function Iq(){var e=be(Ox),t=be(Ax),r=kt();m.useEffect(()=>{if(e==null)return nl;var n=(a,i,s)=>{t!==s&&e===a&&r(Nq(i))};return Fc.on(wj,n),()=>{Fc.off(wj,n)}},[r,t,e])}function Rq(){var e=kt();m.useEffect(()=>{e(_q())},[e]),Dq(),Iq()}function Mq(e,t,r,n,a,i){var s=be(p=>KH(p,e,t)),o=be(Ax),c=be(Ox),u=be(lA),d=be(jq),f=d==null?void 0:d.active,h=op();m.useEffect(()=>{if(!f&&c!=null&&o!=null){var p=Xv({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});Fc.emit(Zv,c,p,o)}},[f,r,s,a,n,o,c,u,i,h])}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){$q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bq(e){return e.dataKey}function Uq(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(Tz,t)}var kj=[],zq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Is.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Cj(e){var t,r,n=Ar(e,zq),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:v,cursor:x,shared:w,trigger:b,defaultIndex:_,portal:j,axisId:S}=n,N=kt(),k=typeof _=="number"?String(_):_;m.useEffect(()=>{N(zK({shared:w,trigger:b,axisId:S,active:a,defaultIndex:k}))},[N,w,b,S,a,k]);var C=op(),E=JP(),P=$K(w),{activeIndex:O,isActive:q}=(t=be(X=>VH(X,P,b,k)))!==null&&t!==void 0?t:{},Y=be(X=>qH(X,P,b,k)),Z=be(X=>ST(X,P,b,k)),U=be(X=>HH(X,P,b,k)),W=Y,A=vq(),M=(r=a??q)!==null&&r!==void 0?r:!1,[L,se]=MB([W,M]),ee=P==="axis"?Z:void 0;Mq(P,b,U,ee,O,M);var me=j??A;if(me==null||C==null||P==null)return null;var I=W??kj;M||(I=kj),u&&I.length&&(I=eB(I.filter(X=>X.value!=null&&(X.hide!==!0||n.includeHidden)),h,Bq));var te=I.length>0,z=m.createElement(Fz,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:d,active:M,coordinate:U,hasPayload:te,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:v,lastBoundingBox:L,innerRef:se,hasPortalFromProps:!!j},Uq(c,Nj(Nj({},n),{},{payload:I,label:ee,active:M,activeIndex:O,coordinate:U,accessibilityLayer:E})));return m.createElement(m.Fragment,null,vi.createPortal(z,me),M&&m.createElement(gq,{cursor:x,tooltipEventType:P,coordinate:U,payload:I,index:O}))}var AT=e=>null;AT.displayName="Cell";function Wq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Hq(e,"string");return typeof t=="symbol"?t:t+""}function Hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qq{constructor(t){Wq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jq={cacheSize:2e3,enableCache:!0},TT=Vq({},Jq),Pj=new qq(TT.cacheSize),Qq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Oj="recharts_measurement_span";function Zq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var Aj=(e,t)=>{try{var r=document.getElementById(Oj);r||(r=document.createElement("span"),r.setAttribute("id",Oj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Qq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},rc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Is.isSsr)return{width:0,height:0};if(!TT.enableCache)return Aj(t,r);var n=Zq(t,r),a=Pj.get(n);if(a)return a;var i=Aj(t,r);return Pj.set(n,i),i},Tj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rV=Object.keys(DT),mo="NaN";function nV(e,t){return e*DT[t]}class Mr{static parse(t){var r,[,n,a]=(r=tV.exec(t))!==null&&r!==void 0?r:[];return new Mr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ea(t)&&(this.unit=""),r!==""&&!eV.test(r)&&(this.num=NaN,this.unit=""),rV.includes(r)&&(this.num=nV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ea(this.num)}}function IT(e){if(e.includes(mo))return mo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Tj.exec(t))!==null&&r!==void 0?r:[],s=Mr.parse(n??""),o=Mr.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return mo;t=t.replace(Tj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Dj.exec(t))!==null&&u!==void 0?u:[],p=Mr.parse(d??""),g=Mr.parse(h??""),y=f==="+"?p.add(g):p.subtract(g);if(y.isNaN())return mo;t=t.replace(Dj,y.toString())}return t}var Ij=/\(([^()]*)\)/;function aV(e){for(var t=e,r;(r=Ij.exec(t))!=null;){var[,n]=r;t=t.replace(Ij,IT(n))}return t}function iV(e){var t=e.replace(/\s+/g,"");return t=aV(t),t=IT(t),t}function sV(e){try{return iV(e)}catch{return mo}}function qm(e){var t=sV(e.slice(5,-1));return t===mo?"":t}var oV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lV=["dx","dy","angle","className","breakAll"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function Rj(e,t){if(e==null)return{};var r,n,a=cV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RT=/[ \f\n\r\t\v\u2028\u2029]+/,MT=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ht(t)||(r?a=t.toString().split(""):a=t.toString().split(RT));var i=a.map(o=>({word:o,width:rc(o,n).width})),s=r?0:rc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function uV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var $T=(e,t,r,n)=>e.reduce((a,i)=>{var{word:s,width:o}=i,c=a[a.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};a.push(u)}return a},[]),LT=e=>e.reduce((t,r)=>t.width>r.width?t:r),dV="",Mj=(e,t,r,n,a,i,s,o)=>{var c=e.slice(0,t),u=MT({breakAll:r,style:n,children:c+dV});if(!u)return[!1,[]];var d=$T(u.wordsWithComputedWidth,i,s,o),f=d.length>a||LT(d).width>Number(i);return[f,d]},fV=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=ve(i),d=String(s),f=$T(t,n,r,a);if(!u||a)return f;var h=f.length>i||LT(f).width>Number(n);if(!h)return f;for(var p=0,g=d.length-1,y=0,v;p<=g&&y<=d.length-1;){var x=Math.floor((p+g)/2),w=x-1,[b,_]=Mj(d,w,c,o,i,n,r,a),[j]=Mj(d,x,c,o,i,n,r,a);if(!b&&!j&&(p=x+1),b&&j&&(g=x-1),!b&&j){v=_;break}y++}return v||f},$j=e=>{var t=ht(e)?[]:e.toString().split(RT);return[{words:t,width:void 0}]},hV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Is.isSsr){var o,c,u=MT({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return $j(n);return fV({breakAll:i,children:n,maxLines:s,style:a},o,c,t,!!r)}return $j(n)},FT="#808080",pV={breakAll:!1,capHeight:"0.71em",fill:FT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eb=m.forwardRef((e,t)=>{var r=Ar(e,pV),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Rj(r,oV),h=m.useMemo(()=>hV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:p,dy:g,angle:y,className:v,breakAll:x}=f,w=Rj(f,lV);if(!ma(n)||!ma(a)||h.length===0)return null;var b=Number(n)+(ve(p)?p:0),_=Number(a)+(ve(g)?g:0);if(!Nt(b)||!Nt(_))return null;var j;switch(d){case"start":j=qm("calc(".concat(s,")"));break;case"middle":j=qm("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=qm("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(c){var N=h[0].width,{width:k}=f;S.push("scale(".concat(ve(k)&&ve(N)?k/N:1,")"))}return y&&S.push("rotate(".concat(y,", ").concat(b,", ").concat(_,")")),S.length&&(w.transform=S.join(" ")),m.createElement("text",ey({},Cr(w),{ref:t,x:b,y:_,className:Xe("recharts-text",v),textAnchor:u,fill:o.includes("url")?FT:o}),h.map((C,E)=>{var P=C.words.join(x?"":" ");return m.createElement("tspan",{x:b,dy:E===0?j:i,key:"".concat(P,"-").concat(E)},P)}))});eb.displayName="Text";var mV=["labelRef"];function gV(e,t){if(e==null)return{};var r,n,a=vV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return(t=xV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(null,arguments)}var BT=m.createContext(null),wV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=e,c=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[t,r,n,a,i,s]);return m.createElement(BT.Provider,{value:c},o)},UT=()=>{var e=m.useContext(BT),t=op();return e||qP(t)},_V=m.createContext(null),jV=()=>{var e=m.useContext(_V),t=be(hA);return e||t},SV=e=>{var{value:t,formatter:r}=e,n=ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},tb=e=>e!=null&&typeof e=="function",NV=(e,t)=>{var r=Fr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},kV=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=a,g=(u+d)/2,y=NV(f,h),v=y>=0?1:-1,x,w;switch(t){case"insideStart":x=f+v*i,w=p;break;case"insideEnd":x=h-v*i,w=!p;break;case"end":x=h+v*i,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=cr(o,c,g,x),_=cr(o,c,g,x+(w?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=ht(e.id)?Pc("recharts-radial-line-"):e.id;return m.createElement("text",ka({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:j})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},CV=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=cr(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:p,y:g}=cr(n,a,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},ty=e=>"cx"in e&&ve(e.cx),EV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!ty(r)&&(i=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,p=(f+h)/2,g=(c+u)/2,y=f+c/2,v=d>=0?1:-1,x=v*n,w=v>0?"end":"start",b=v>0?"start":"end",_=c>=0?1:-1,j=_*n,S=_>0?"end":"start",N=_>0?"start":"end";if(a==="top"){var k={x:f+c/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return jt(jt({},k),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var C={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:b};return jt(jt({},C),i?{height:Math.max(i.y+i.height-(o+d),0),width:u}:{})}if(a==="left"){var E={x:p-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return jt(jt({},E),i?{width:Math.max(E.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:p+g+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return jt(jt({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var O=i?{width:g,height:d}:{};return a==="insideLeft"?jt({x:p+j,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideRight"?jt({x:p+g-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},O):a==="insideTop"?jt({x:f+c/2,y:o+x,textAnchor:"middle",verticalAnchor:b},O):a==="insideBottom"?jt({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},O):a==="insideTopLeft"?jt({x:f+j,y:o+x,textAnchor:N,verticalAnchor:b},O):a==="insideTopRight"?jt({x:f+c-j,y:o+x,textAnchor:S,verticalAnchor:b},O):a==="insideBottomLeft"?jt({x:h+j,y:o+d-x,textAnchor:N,verticalAnchor:w},O):a==="insideBottomRight"?jt({x:h+u-j,y:o+d-x,textAnchor:S,verticalAnchor:w},O):a&&typeof a=="object"&&(ve(a.x)||za(a.x))&&(ve(a.y)||za(a.y))?jt({x:s+ta(a.x,g),y:o+ta(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):jt({x:y,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},PV={offset:5,zIndex:Qt.label};function ui(e){var t=Ar(e,PV),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=jV(),f=UT(),h=n==="center"?f:d??f,p,g,y;if(r==null?p=h:ty(r)?p=r:p=qP(r),!p||ht(a)&&ht(i)&&!m.isValidElement(s)&&typeof s!="function")return null;var v=jt(jt({},t),{},{viewBox:p});if(m.isValidElement(s)){var{labelRef:x}=v,w=gV(v,mV);return m.cloneElement(s,w)}if(typeof s=="function"){if(g=m.createElement(s,v),m.isValidElement(g))return g}else g=SV(t);var b=Cr(t);if(ty(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return kV(t,n,g,b,p);y=CV(p,t.offset,t.position)}else y=EV(t,p);return m.createElement(Mn,{zIndex:t.zIndex},m.createElement(eb,ka({ref:u,className:Xe("recharts-label",o)},b,y,{textAnchor:uV(b.textAnchor)?b.textAnchor:y.textAnchor,breakAll:c}),g))}ui.displayName="Label";var OV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(ui,ka({key:"label-implicit"},n)):ma(e)?m.createElement(ui,ka({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===ui?m.cloneElement(e,jt({key:"label-implicit"},n)):m.createElement(ui,ka({key:"label-implicit",content:e},n)):tb(e)?m.createElement(ui,ka({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(ui,ka({},e,{key:"label-implicit"},n)):null};function AV(e){var{label:t,labelRef:r}=e,n=UT();return OV(t,n,r)||null}var zT={},WT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(WT);var KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT,r=KT,n=Gh;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(zT);var TV=zT.last;const DV=Ya(TV);var IV=["valueAccessor"],RV=["dataKey","clockWise","id","textBreakAll","zIndex"];function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}function Fj(e,t){if(e==null)return{};var r,n,a=MV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $V=e=>Array.isArray(e.value)?DV(e.value):e.value,HT=m.createContext(void 0),qT=HT.Provider,VT=m.createContext(void 0);VT.Provider;function LV(){return m.useContext(HT)}function FV(){return m.useContext(VT)}function Od(e){var{valueAccessor:t=$V}=e,r=Fj(e,IV),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,c=Fj(r,RV),u=LV(),d=FV(),f=u||d;return!f||!f.length?null:m.createElement(Mn,{zIndex:o??Qt.label},m.createElement(Tn,{className:"recharts-label-list"},f.map((h,p)=>{var g,y=ht(n)?t(h,p):er(h&&h.payload,n),v=ht(i)?{}:{id:"".concat(i,"-").concat(p)};return m.createElement(ui,qf({key:"label-".concat(p)},Cr(h),c,v,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}Od.displayName="LabelList";function GT(e){var{label:t}=e;return t?t===!0?m.createElement(Od,{key:"labelList-implicit"}):m.isValidElement(t)||tb(t)?m.createElement(Od,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(Od,qf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}var YT=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Xe("recharts-dot",a);return ve(t)&&ve(r)&&ve(n)?m.createElement("circle",ry({},Zn(e),$0(e),{className:i,cx:t,cy:r,r:n})):null},BV={radiusAxis:{},angleAxis:{}},XT=Kr({name:"polarAxis",initialState:BV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kee,removeRadiusAxis:Cee,addAngleAxis:Eee,removeAngleAxis:Pee}=XT.actions,UV=XT.reducer,JT={exports:{}},Ze={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=Symbol.for("react.transitional.element"),nb=Symbol.for("react.portal"),Ap=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),Ip=Symbol.for("react.consumer"),Rp=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),zV=Symbol.for("react.view_transition"),WV=Symbol.for("react.client.reference");function $n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rb:switch(e=e.type,e){case Ap:case Dp:case Tp:case $p:case Lp:case zV:return e;default:switch(e=e&&e.$$typeof,e){case Rp:case Mp:case Bp:case Fp:return e;case Ip:return e;default:return t}}case nb:return t}}}Ze.ContextConsumer=Ip;Ze.ContextProvider=Rp;Ze.Element=rb;Ze.ForwardRef=Mp;Ze.Fragment=Ap;Ze.Lazy=Bp;Ze.Memo=Fp;Ze.Portal=nb;Ze.Profiler=Dp;Ze.StrictMode=Tp;Ze.Suspense=$p;Ze.SuspenseList=Lp;Ze.isContextConsumer=function(e){return $n(e)===Ip};Ze.isContextProvider=function(e){return $n(e)===Rp};Ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rb};Ze.isForwardRef=function(e){return $n(e)===Mp};Ze.isFragment=function(e){return $n(e)===Ap};Ze.isLazy=function(e){return $n(e)===Bp};Ze.isMemo=function(e){return $n(e)===Fp};Ze.isPortal=function(e){return $n(e)===nb};Ze.isProfiler=function(e){return $n(e)===Dp};Ze.isStrictMode=function(e){return $n(e)===Tp};Ze.isSuspense=function(e){return $n(e)===$p};Ze.isSuspenseList=function(e){return $n(e)===Lp};Ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ap||e===Dp||e===Tp||e===$p||e===Lp||typeof e=="object"&&e!==null&&(e.$$typeof===Bp||e.$$typeof===Fp||e.$$typeof===Rp||e.$$typeof===Ip||e.$$typeof===Mp||e.$$typeof===WV||e.getModuleId!==void 0)};Ze.typeOf=$n;JT.exports=Ze;var KV=JT.exports,Bj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Uj=null,Vm=null,QT=e=>{if(e===Uj&&Array.isArray(Vm))return Vm;var t=[];return m.Children.forEach(e,r=>{ht(r)||(KV.isFragment(r)?t=t.concat(QT(r.props.children)):t.push(r))}),Vm=t,Uj=e,t};function HV(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Bj(a)):n=[Bj(t)],QT(e).forEach(a=>{var i=Mo(a,"type.displayName")||Mo(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var ZT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,eD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(eD);var qV=eD.isPlainObject;const VV=Ya(qV);function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}var Kj=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},JV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QV=e=>{var t=Ar(e,JV),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,g]=m.useState(-1),y=m.useRef(a),v=m.useRef(i),x=m.useRef(s),w=m.useRef(r),b=m.useRef(n),_=up(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Y=h.current.getTotalLength();Y&&g(Y)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var j=Xe("recharts-trapezoid",o);if(!f)return m.createElement("g",null,m.createElement("path",Vf({},Cr(t),{className:j,d:Kj(r,n,a,i,s)})));var S=y.current,N=v.current,k=x.current,C=w.current,E=b.current,P="0px ".concat(p===-1?1:p,"px"),O="".concat(p,"px 0px"),q=ZP(["strokeDasharray"],u,c);return m.createElement(cp,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},Y=>{var Z=wt(S,a,Y),U=wt(N,i,Y),W=wt(k,s,Y),A=wt(C,r,Y),M=wt(E,n,Y);h.current&&(y.current=Z,v.current=U,x.current=W,w.current=A,b.current=M);var L=Y>0?{transition:q,strokeDasharray:O}:{strokeDasharray:P};return m.createElement("path",Vf({},Cr(t),{className:j,d:Kj(A,M,Z,U,W),ref:h,style:Wj(Wj({},L),t.style)}))})},ZV=["option","shapeType","propTransformer","activeClassName","isActive"];function eG(e,t){if(e==null)return{};var r,n,a=tG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iG(e,t){return Gf(Gf({},t),e)}function sG(e,t){return e==="symbols"}function qj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(nO,r);case"trapezoid":return m.createElement(QV,r);case"sector":return m.createElement(sO,r);case"symbols":if(sG(t))return m.createElement(IE,r);break;case"curve":return m.createElement(QP,r);default:return null}}function oG(e){return m.isValidElement(e)?e.props:e}function tD(e){var{option:t,shapeType:r,propTransformer:n=iG,activeClassName:a="recharts-active-shape",isActive:i}=e,s=eG(e,ZV),o;if(m.isValidElement(t))o=m.cloneElement(t,Gf(Gf({},s),oG(t)));else if(typeof t=="function")o=t(s);else if(VV(t)&&typeof t!="boolean"){var c=n(t,s);o=m.createElement(qj,{shapeType:r,elementProps:c})}else{var u=s;o=m.createElement(qj,{shapeType:r,elementProps:u})}return i?m.createElement(Tn,{className:a},o):o}var rD=(e,t)=>{var r=kt();return(n,a)=>i=>{e==null||e(n,a,i),r(nT({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},nD=e=>{var t=kt();return(r,n)=>a=>{e==null||e(r,n,a),t(WK())}},aD=(e,t)=>{var r=kt();return(n,a)=>i=>{e==null||e(n,a,i),r(KK({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function iD(e){var{fn:t,args:r}=e,n=kt(),a=xr();return m.useLayoutEffect(()=>{if(!a){var i=t(r);return n(BK(i)),()=>{n(UK(i))}}},[t,r,n,a]),null}function sD(e){var{legendPayload:t}=e,r=kt(),n=xr();return m.useLayoutEffect(()=>n?nl:(r(Nz(t)),()=>{r(kz(t))}),[r,n,t]),null}var Gm,lG=()=>{var[e]=m.useState(()=>Pc("uid-"));return e},cG=(Gm=cI.useId)!==null&&Gm!==void 0?Gm:lG;function oD(e,t){var r=cG();return t||(e?"".concat(e,"-").concat(r):r)}var uG=m.createContext(void 0),lD=e=>{var{id:t,type:r,children:n}=e,a=oD("recharts-".concat(r),t);return m.createElement(uG.Provider,{value:a},n(a))},dG={cartesianItems:[],polarItems:[]},cD=Kr({name:"graphicalItems",initialState:dG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Da(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:zt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Da(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:zt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(e,t){var r=Da(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:zt()}}}),{addCartesianGraphicalItem:fG,replaceCartesianGraphicalItem:hG,removeCartesianGraphicalItem:pG,addPolarGraphicalItem:Oee,removePolarGraphicalItem:Aee}=cD.actions,mG=cD.reducer;function uD(e){var t=kt(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(fG(e)):r.current!==e&&t(hG({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(pG(r.current)),r.current=null)},[t]),null}var gG=["points"];function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return(t=yG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(null,arguments)}function bG(e,t){if(e==null)return{};var r,n,a=wG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _G(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Xe(n,typeof t!="boolean"?t.className:""),i=r??{},{points:s}=i,o=bG(i,gG);return m.createElement(YT,Yf({},o,{className:a}))}function jG(e,t){return e==null?!1:t?!0:e.length===1}function SG(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:o,clipPathId:c,zIndex:u=Qt.scatter}=e;if(!jG(t,r))return null;var d=ZT(r),f=G6(r),h=t.map((g,y)=>{var v,x,w=Ym(Ym(Ym({r:3},s),f),{},{index:y,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:i,value:g.value,payload:g.payload,points:t});return m.createElement(_G,{key:"dot-".concat(y),option:r,dotProps:w,className:a})}),p={};return o&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),m.createElement(Mn,{zIndex:u},m.createElement(Tn,Yf({className:n},p),h))}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){NG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EG={xAxis:{},yAxis:{},zAxis:{}},dD=Kr({name:"cartesianAxis",initialState:EG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:zt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:zt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:zt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:zt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:zt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:zt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=Yj(Yj({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:PG,removeXAxis:OG,addYAxis:AG,removeYAxis:TG,addZAxis:Tee,removeZAxis:Dee,updateYAxisWidth:DG}=dD.actions,IG=dD.reducer,RG=B([tr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),MG=B([RG,Ja,Qa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ab=()=>be(MG),$G=()=>be(OH);function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=Xm(Xm(Xm({},s),tu(a)),$0(a)),c;return m.isValidElement(a)?c=m.cloneElement(a,o):typeof a=="function"?c=a(o):c=m.createElement(YT,o),m.createElement(Tn,{className:"recharts-active-dot"},c)};function zG(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,zIndex:i=Qt.activeDot}=e,s=be(Ps),o=$G();if(t==null||o==null)return null;var c=t.find(u=>o.includes(u.payload));return ht(c)?null:m.createElement(Mn,{zIndex:i},m.createElement(UG,{point:c,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n}))}var WG="Invariant failed";function KG(e,t){throw new Error(WG)}var HG=["x","y"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=VG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YG(e,t){if(e==null)return{};var r,n,a=XG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JG(e,t){var{x:r,y:n}=e,a=YG(e,HG),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Al(Al(Al(Al(Al({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Xf(e){return m.createElement(tD,ny({shapeType:"rectangle",propTransformer:JG,activeClassName:"recharts-active-bar"},e))}var QG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ve(t))return t;var i=ve(n)||ht(n);return i?t(n,a):(i||KG(),r)}},ZG={},fD=Kr({name:"errorBars",initialState:ZG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Iee,replaceErrorBar:Ree,removeErrorBar:Mee}=fD.actions,eY=fD.reducer,tY=["children"];function rY(e,t){if(e==null)return{};var r,n,a=nY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iY=m.createContext(aY);function hD(e){var{children:t}=e,r=rY(e,tY);return m.createElement(iY.Provider,{value:r},t)}function ib(e,t){var r,n,a=be(u=>ei(u,e)),i=be(u=>ti(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:en.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function pD(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=ab(),{needClipX:i,needClipY:s,needClip:o}=ib(t,r);if(!o||!a)return null;var{x:c,y:u,width:d,height:f}=a;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}function sY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Nt(e.zIndex)?e.zIndex:t}var oY=["onMouseEnter","onMouseLeave","onClick"],lY=["value","background","tooltipPosition"],cY=["id"],uY=["onMouseEnter","onClick","onMouseLeave"];function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(null,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(e,t){if(e==null)return{};var r,n,a=pY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:rp(r,t),payload:e}]};function gY(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:rp(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function vY(e){var t=be(Ps),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,u=Jf(i,oY),d=rD(s,n),f=nD(o),h=aD(c,n);if(!a||r==null)return null;var p=tu(a);return m.createElement(Mn,{zIndex:sY(a,Qt.barBackground)},r.map((g,y)=>{var{value:v,background:x,tooltipPosition:w}=g,b=Jf(g,lY);if(!x)return null;var _=d(g,y),j=f(g,y),S=h(g,y),N=Sr(Sr(Sr(Sr(Sr({option:a,isActive:String(y)===t},b),{},{fill:"#eee"},x),p),L0(u,g,y)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return m.createElement(Xf,Ga({key:"background-bar-".concat(y)},N))}))}function yY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Sr(Sr({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return m.createElement(qT,{value:t?a:void 0},r)}function xY(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=be(Ps),c=be(yT),u=r&&String(i)===o&&(c==null||s===c),d=u?r:t;return u?m.createElement(Mn,{zIndex:Qt.activeBar},m.createElement(Xf,Ga({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))):m.createElement(Xf,Ga({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:s}))}function bY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return m.createElement(Xf,Ga({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function wY(e){var t,{data:r,props:n}=e,a=(t=Zn(n))!==null&&t!==void 0?t:{},{id:i}=a,s=Jf(a,cY),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=Jf(n,uY),g=rD(d,c),y=nD(h),v=aD(f,c);return r?m.createElement(m.Fragment,null,r.map((x,w)=>m.createElement(Tn,Ga({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w),className:"recharts-bar-rectangle"},L0(p,x,w),{onMouseEnter:g(x,w),onMouseLeave:y(x,w),onClick:v(x,w)}),u?m.createElement(xY,{shape:o,activeBar:u,baseProps:s,entry:x,index:w,dataKey:c}):m.createElement(bY,{shape:o,baseProps:s,entry:x,index:w,dataKey:c})))):null}function _Y(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=up(t,"recharts-bar-"),[p,g]=m.useState(!1),y=!p,v=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(yY,{showLabels:y,rects:n},m.createElement(cp,{animationId:h,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:x,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Sr(Sr({},_),{},{x:wt(S.x,_.x,w),y:wt(S.y,_.y,w),width:wt(S.width,_.width,w),height:wt(S.height,_.height,w)});if(a==="horizontal"){var N=wt(0,_.height,w),k=wt(_.stackedBarStart,_.y,w);return Sr(Sr({},_),{},{y:k,height:N})}var C=wt(0,_.width,w),E=wt(_.stackedBarStart,_.x,w);return Sr(Sr({},_),{},{width:C,x:E})});return w>0&&(r.current=b??null),b==null?null:m.createElement(Tn,null,m.createElement(wY,{props:t,data:b}))}),m.createElement(GT,{label:t.label}),t.children)}function jY(e){var t=m.useRef(null);return m.createElement(_Y,{previousRectanglesRef:t,props:e})}var mD=0,SY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:er(e,t)}};class NY extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Xe("recharts-bar",a),f=u;return m.createElement(Tn,{className:d,id:u},o&&m.createElement("defs",null,m.createElement(pD,{clipPathId:f,xAxisId:i,yAxisId:s})),m.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},m.createElement(vY,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),m.createElement(jY,this.props)))}}var kY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Is.isSsr,legendType:"rect",minPointSize:mD,xAxisId:0,yAxisId:0,zIndex:Qt.bar};function CY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=ib(t,r),h=su(),p=xr(),g=HV(e.children,AT),y=be(w=>tX(w,t,r,p,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var v,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?v=0:v=h==="vertical"?x.height/2:x.width/2,m.createElement(hD,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:SY,errorBarOffset:v},m.createElement(NY,Ga({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function EY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:g,dataStartIndex:y}=e,v=t==="horizontal"?o:s,x=d?v.scale.domain():null,w=KU({numericAxis:v}),b=v.scale(w);return f.map((_,j)=>{var S,N,k,C,E,P;d?S=LU(d[j+y],x):(S=er(_,r),Array.isArray(S)||(S=[w,S]));var O=QG(n,mD)(S[1],j);if(t==="horizontal"){var q,[Y,Z]=[o.scale(S[0]),o.scale(S[1])];N=q_({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),k=(q=Z??Y)!==null&&q!==void 0?q:void 0,C=a.size;var U=Y-Z;if(E=ea(U)?0:U,P={x:N,y:h.top,width:C,height:h.height},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var W=Fr(E||O)*(Math.abs(O)-Math.abs(E));k-=W,E+=W}}else{var[A,M]=[s.scale(S[0]),s.scale(S[1])];if(N=A,k=q_({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),C=M-A,E=a.size,P={x:h.left,y:k,width:h.width,height:E},Math.abs(O)>0&&Math.abs(C)<Math.abs(O)){var L=Fr(C||O)*(Math.abs(O)-Math.abs(C));C+=L}}if(N==null||k==null||C==null||E==null)return null;var se=Sr(Sr({},_),{},{stackedBarStart:b,x:N,y:k,width:C,height:E,value:d?S:S[1],payload:_,background:P,tooltipPosition:{x:N+C/2,y:k+E/2},parentViewBox:g},p&&p[j]&&p[j].props);return se}).filter(Boolean)}function PY(e){var t=Ar(e,kY),r=xr();return m.createElement(lD,{id:t.id,type:"bar"},n=>m.createElement(m.Fragment,null,m.createElement(sD,{legendPayload:mY(t)}),m.createElement(iD,{fn:gY,args:t}),m.createElement(uD,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:WU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(Mn,{zIndex:t.zIndex},m.createElement(CY,Ga({},t,{id:n})))))}var gD=m.memo(PY);gD.displayName="Bar";function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){OY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY=(e,t)=>t,IY=(e,t,r)=>r,RY=(e,t,r,n)=>n,MY=(e,t,r,n,a)=>a,vu=B([kp,MY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),$Y=B([vu],e=>e==null?void 0:e.maxBarSize),LY=(e,t,r,n,a,i)=>i,eS=(e,t,r)=>{var n=r??e;if(!ht(n))return ta(n,t,0)},FY=B([We,kp,DY,IY,RY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),BY=(e,t,r,n)=>{var a=We(e);return a==="horizontal"?Yv(e,"yAxis",r,n):Yv(e,"xAxis",t,n)},UY=(e,t,r)=>{var n=We(e);return n==="horizontal"?uj(e,"xAxis",t):uj(e,"yAxis",r)},zY=(e,t,r)=>{var n={},a=e.filter(jp),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),p=eS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=eS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},WY=B([FY,DW,UY],zY),KY=(e,t,r,n,a)=>{var i,s,o=vu(e,t,r,n,a);if(o!=null){var c=We(e),u=sA(e),{maxBarSize:d}=o,f=ht(d)?u:d,h,p;return c==="horizontal"?(h=Ii(e,"xAxis",t,n),p=Di(e,"xAxis",t,n)):(h=Ii(e,"yAxis",r,n),p=Di(e,"yAxis",r,n)),(i=(s=Lo(h,p,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},vD=(e,t,r,n)=>{var a=We(e),i,s;return a==="horizontal"?(i=Ii(e,"xAxis",t,n),s=Di(e,"xAxis",t,n)):(i=Ii(e,"yAxis",r,n),s=Di(e,"yAxis",r,n)),Lo(i,s)};function HY(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=ta(e,r,0,!0),o,c=[];if(Nt(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((x,w)=>x+(w.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,p={offset:h-s,size:0};o=n.reduce((x,w)=>{var b,_={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+s,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},j=[...x,_];return p=j[j.length-1].position,j},c)}else{var g=ta(t,r,0,!0);r-2*g-(i-1)*s<=0&&(s=0);var y=(r-2*g-(i-1)*s)/i;y>1&&(y>>=0);var v=Nt(a)?Math.min(y,a):y;o=n.reduce((x,w,b)=>[...x,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+s)*b+(y-v)/2,size:v}}],c)}return o}}var qY=(e,t,r,n,a,i,s)=>{var o=ht(s)?t:s,c=HY(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>cd(cd({},u),{},{position:cd(cd({},u.position),{},{offset:u.position.offset-a/2})}))),c},VY=B([WY,sA,TW,oA,KY,vD,$Y],qY),GY=(e,t,r,n)=>Ii(e,"xAxis",t,n),YY=(e,t,r,n)=>Ii(e,"yAxis",r,n),XY=(e,t,r,n)=>Di(e,"xAxis",t,n),JY=(e,t,r,n)=>Di(e,"yAxis",r,n),QY=B([VY,vu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ZY=(e,t)=>{var r=Rx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},eX=B([BY,vu],ZY),tX=B([tr,rx,GY,YY,XY,JY,QY,We,vp,vD,eX,vu,LY],(e,t,r,n,a,i,s,o,c,u,d,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=f,x;if(v!=null&&v.length>0?x=v:x=p==null?void 0:p.slice(g,y+1),x!=null)return EY({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:g})}}),rX=e=>{var{chartData:t}=e,r=kt(),n=xr();return m.useEffect(()=>n?()=>{}:(r(_j(t)),()=>{r(_j(void 0))}),[t,r,n]),null},tS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yD=Kr({name:"brush",initialState:tS,reducers:{setBrushSettings(e,t){return t.payload==null?tS:t.payload}}}),{setBrushSettings:$ee}=yD.actions,nX=yD.reducer;function aX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sb{static create(t){return new sb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}aX(sb,"EPS",1e-4);function oX(e){return(e%180+180)%180}var lX=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=oX(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},cX={dots:[],areas:[],lines:[]},xD=Kr({name:"referenceElements",initialState:cX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Da(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Da(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Da(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lee,removeDot:Fee,addArea:Bee,removeArea:Uee,addLine:zee,removeLine:Wee}=xD.actions,uX=xD.reducer,dX=m.createContext(void 0),fX=e=>{var{children:t}=e,[r]=m.useState("".concat(Pc("recharts"),"-clip")),n=ab();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return m.createElement(dX.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function zo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function bD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function hX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lX(n,r)}function pX(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Qf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mX(e,t){return bD(e,t+1)}function gX(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:bD(n,u)};var y=c,v,x=()=>(v===void 0&&(v=r(g,y)),v),w=g.coordinate,b=c===0||Qf(e,w,x,d,o);b||(c=0,d=s,u+=1),b&&(d=w+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=yX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bX(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,u=function(h){var p=i[h],g,y=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var v=e*(p.coordinate+e*y()/2-c);i[h]=p=mr(mr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=mr(mr({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Qf(e,p.tickCoord,y,o,c);x&&(c=p.tickCoord-e*(y()/2+a),i[h]=mr(mr({},p),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return i}function wX(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=mr(mr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=Qf(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+a),s[o-1]=mr(mr({},d),{},{isShow:!0}))}}for(var g=i?o-1:o,y=function(w){var b=s[w],_,j=()=>(_===void 0&&(_=r(b,w)),_);if(w===0){var S=e*(b.coordinate-e*j()/2-c);s[w]=b=mr(mr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[w]=b=mr(mr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Qf(e,b.tickCoord,j,c,u);N&&(c=b.tickCoord+e*(j()/2+a),s[w]=mr(mr({},b),{},{isShow:!0}))}},v=0;v<g;v++)y(v);return s}function ob(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ve(c)||Is.isSsr){var h;return(h=mX(a,ve(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?rc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return g==="width"?hX(rc(j,{fontSize:t,letterSpacing:r}),y,f):rc(j,{fontSize:t,letterSpacing:r})[g]},x=a.length>=2?Fr(a[1].coordinate-a[0].coordinate):1,w=pX(i,x,g);return c==="equidistantPreserveStart"?gX(x,w,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=wX(x,w,v,a,s,c==="preserveStartEnd"):p=bX(x,w,v,a,s),p.filter(b=>b.isShow))}var _X=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+o+(r?n:0);return Math.round(u)}return 0},jX=["axisLine","width","height","className","hide","ticks","axisType"],SX=["viewBox"],NX=["viewBox"];function ay(e,t){if(e==null)return{};var r,n,a=kX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(null,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=EX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qt.axis};function OX(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Et(Et(Et({},c),Zn(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=Et(Et({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=Et(Et({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return m.createElement("line",Os({},u,{className:Xe("recharts-cartesian-axis-line",Mo(o,"className"))}))}function AX(e,t,r,n,a,i,s,o,c){var u,d,f,h,p,g,y=o?-1:1,v=e.tickSize||s,x=ve(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!o*a,f=h-y*v,g=f-y*c,p=x;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-y*v,p=u-y*c,g=x;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+y*v,p=u+y*c,g=x;break;default:u=d=e.coordinate,h=r+ +o*a,f=h+y*v,g=f+y*c,p=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:g}}}function TX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function DX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function IX(e){var{option:t,tickProps:r,value:n}=e,a,i=Xe(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))a=m.cloneElement(t,Et(Et({},r),{},{className:i}));else if(typeof t=="function")a=t(Et(Et({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Xe(s,t==null?void 0:t.className)),a=m.createElement(eb,Os({},r,{className:s}),n)}return a}var RX=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:p,width:g,height:y,tickSize:v,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:_,events:j,axisType:S}=e,N=ob(Et(Et({},_),{},{ticks:r}),w,b),k=TX(d,f),C=DX(d,f),E=Zn(_),P=tu(n),O={};typeof a=="object"&&(O=a);var q=Et(Et({},E),{},{fill:"none"},O),Y=N.map(W=>Et({entry:W},AX(W,h,p,g,y,d,v,f,x))),Z=Y.map(W=>{var{entry:A,line:M}=W;return m.createElement(Tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},a&&m.createElement("line",Os({},q,M,{className:Xe("recharts-cartesian-axis-tick-line",Mo(a,"className"))})))}),U=Y.map((W,A)=>{var{entry:M,tick:L}=W,se=Et(Et(Et(Et({textAnchor:k,verticalAnchor:C},E),{},{stroke:"none",fill:i},P),L),{},{index:A,payload:M,visibleTicksCount:N.length,tickFormatter:s,padding:c},u);return m.createElement(Tn,Os({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},L0(j,M,A)),n&&m.createElement(IX,{option:n,tickProps:se,value:"".concat(typeof s=="function"?s(M.value,A):M.value).concat(o||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},U.length>0&&m.createElement(Mn,{zIndex:Qt.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},U)),Z.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Z))}),MX=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:c}=e,u=ay(e,jX),[d,f]=m.useState(""),[h,p]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return _X({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=m.useCallback(v=>{if(v){var x=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,j=b.letterSpacing;(_!==d||j!==h)&&(f(_),p(j))}}},[d,h]);return s||n!=null&&n<=0||a!=null&&a<=0?null:m.createElement(Mn,{zIndex:e.zIndex},m.createElement(Tn,{className:Xe("recharts-cartesian-axis",i)},m.createElement(OX,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Zn(e)}),m.createElement(RX,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(wV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(AV,{label:e.label,labelRef:e.labelRef}),e.children)))}),$X=m.memo(MX,(e,t)=>{var{viewBox:r}=e,n=ay(e,SX),{viewBox:a}=t,i=ay(t,NX);return zo(r,a)&&zo(n,i)}),cb=m.forwardRef((e,t)=>{var r=Ar(e,lb);return m.createElement($X,Os({},r,{ref:t}))});cb.displayName="CartesianAxis";var LX=["x1","y1","x2","y2","key"],FX=["offset"],BX=["xAxisId","yAxisId"],UX=["xAxisId","yAxisId"];function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){zX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function Zf(e,t){if(e==null)return{};var r,n,a=HX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return m.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wD(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:s,x2:o,y2:c,key:u}=r,d=Zf(r,LX),f=(a=Zn(d))!==null&&a!==void 0?a:{},{offset:h}=f,p=Zf(f,FX);n=m.createElement("line",ds({},p,{x1:i,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function VX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Zf(e,BX),c=a.map((u,d)=>{var f=vr(vr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return m.createElement(wD,{key:"line-".concat(d),option:n,lineItemProps:f})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function GX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Zf(e,UX),c=a.map((u,d)=>{var f=vr(vr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return m.createElement(wD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function YX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+s-f:u[h+1]-f;if(g<=0)return null;var y=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function XX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],g=p?a+s-f:u[h+1]-f;if(g<=0)return null;var y=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var JX=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return $P(ob(vr(vr(vr({},lb),r),{},{ticks:LP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},QX=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return $P(ob(vr(vr(vr({},lb),r),{},{ticks:LP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},ZX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qt.grid};function iy(e){var t=GP(),r=YP(),n=VP(),a=vr(vr({},Ar(e,ZX)),{},{x:ve(e.x)?e.x:n.left,y:ve(e.y)?e.y:n.top,width:ve(e.width)?e.width:n.width,height:ve(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,g=xr(),y=be(C=>dj(C,"xAxis",i,g)),v=be(C=>dj(C,"yAxis",s,g));if(!ga(u)||!ga(d)||!ve(o)||!ve(c))return null;var x=a.verticalCoordinatesGenerator||JX,w=a.horizontalCoordinatesGenerator||QX,{horizontalPoints:b,verticalPoints:_}=a;if((!b||!b.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:v?vr(vr({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Cf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof x=="function"){var N=p&&p.length,k=x({xAxis:y?vr(vr({},y),{},{ticks:N?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Cf(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return m.createElement(Mn,{zIndex:a.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(qX,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),m.createElement(YX,ds({},a,{horizontalPoints:b})),m.createElement(XX,ds({},a,{verticalPoints:_})),m.createElement(VX,ds({},a,{offset:n,horizontalPoints:b,xAxis:y,yAxis:v})),m.createElement(GX,ds({},a,{offset:n,verticalPoints:_,xAxis:y,yAxis:v}))))}iy.displayName="CartesianGrid";var _D=(e,t,r,n)=>Ii(e,"xAxis",t,n),jD=(e,t,r,n)=>Di(e,"xAxis",t,n),SD=(e,t,r,n)=>Ii(e,"yAxis",r,n),ND=(e,t,r,n)=>Di(e,"yAxis",r,n),eJ=B([We,_D,SD,jD,ND],(e,t,r,n,a)=>Fi(e,"xAxis")?Lo(t,n,!1):Lo(r,a,!1)),tJ=(e,t,r,n,a)=>a;function rJ(e){return e.type==="line"}var nJ=B([kp,tJ],(e,t)=>e.filter(rJ).find(r=>r.id===t)),aJ=B([We,_D,SD,jD,ND,nJ,eJ,vp],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return NJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:p})}});function iJ(e){var t=tu(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var sJ=["id"],oJ=["type","layout","connectNulls","needClip","shape"],lJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(null,arguments)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ub(e,t){if(e==null)return{};var r,n,a=fJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hJ=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:rp(r,t),payload:e}]};function pJ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:rp(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var kD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function mJ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var gJ=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return kD(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,s]:[s];return[...mJ(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function vJ(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n,{id:o}=n,c=ub(n,sJ),u=Zn(c);return m.createElement(SG,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:t})}function yJ(e){var{showLabels:t,children:r,points:n}=e,a=m.useMemo(()=>n==null?void 0:n.map(i=>{var s,o,c={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ca(ca({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return m.createElement(qT,{value:t?a:void 0},r)}function sS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:u,shape:d}=i,f=ub(i,oJ),h=ca(ca({},Cr(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return m.createElement(m.Fragment,null,(n==null?void 0:n.length)>1&&m.createElement(tD,Bc({shapeType:"curve",option:d},h,{pathRef:r})),m.createElement(vJ,{points:n,clipPathId:t,props:i}))}function xJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bJ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:y,onAnimationStart:v}=r,x=a.current,w=up(r,"recharts-line-"),[b,_]=m.useState(!1),j=!b,S=m.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),N=m.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),k=xJ(n.current),C=i.current;return m.createElement(yJ,{points:s,showLabels:j},r.children,m.createElement(cp,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:N,key:w},E=>{var P=wt(C,k+C,E),O=Math.min(P,k),q;if(c)if(o){var Y="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));q=gJ(O,k,Y)}else q=kD(k,O);else q=o==null?void 0:String(o);if(x){var Z=x.length/s.length,U=E===1?s:s.map((W,A)=>{var M=Math.floor(A*Z);if(x[M]){var L=x[M];return ca(ca({},W),{},{x:wt(L.x,W.x,E),y:wt(L.y,W.y,E)})}return h?ca(ca({},W),{},{x:wt(p*2,W.x,E),y:wt(g/2,W.y,E)}):ca(ca({},W),{},{x:W.x,y:W.y})});return a.current=U,m.createElement(sS,{props:r,points:U,clipPathId:t,pathRef:n,strokeDasharray:q})}return E>0&&k>0&&(a.current=s,i.current=O),m.createElement(sS,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:q})}),m.createElement(GT,{label:r.label}))}function wJ(e){var{clipPathId:t,props:r}=e,n=m.useRef(null),a=m.useRef(0),i=m.useRef(null);return m.createElement(bJ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var _J=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:er(e.payload,t)}};class jJ extends m.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var g=Xe("recharts-line",a),y=f,{r:v,strokeWidth:x}=iJ(r),w=ZT(r),b=v*2+x;return m.createElement(Mn,{zIndex:p},m.createElement(Tn,{className:g},h&&m.createElement("defs",null,m.createElement(pD,{clipPathId:y,xAxisId:i,yAxisId:s}),!w&&m.createElement("clipPath",{id:"clipPath-dots-".concat(y)},m.createElement("rect",{x:c-b/2,y:o-b/2,width:u+b,height:d+b}))),m.createElement(hD,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:_J,errorBarOffset:0},m.createElement(wJ,{props:this.props,clipPathId:y}))),m.createElement(zG,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Is.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Qt.line};function SJ(e){var t=Ar(e,CD),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:y}=t,v=ub(t,lJ),{needClip:x}=ib(p,g),w=ab(),b=su(),_=xr(),j=be(E=>aJ(E,p,g,_,y));if(b!=="horizontal"&&b!=="vertical"||j==null||w==null)return null;var{height:S,width:N,x:k,y:C}=w;return m.createElement(jJ,Bc({},v,{id:y,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:g,points:j,layout:b,height:S,width:N,left:k,top:C,needClip:x}))}function NJ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=er(u,s);if(t==="horizontal"){var h=H_({axis:r,ticks:a,bandSize:o,entry:u,index:d}),p=ht(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var g=ht(f)?null:r.scale(f),y=H_({axis:n,ticks:i,bandSize:o,entry:u,index:d});return g==null||y==null?null:{x:g,y,value:f,payload:u}}).filter(Boolean)}function kJ(e){var t=Ar(e,CD),r=xr();return m.createElement(lD,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(sD,{legendPayload:hJ(t)}),m.createElement(iD,{fn:pJ,args:t}),m.createElement(uD,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(SJ,Bc({},t,{id:n}))))}var sy=m.memo(kJ);sy.displayName="Line";var CJ=["dangerouslySetInnerHTML","ticks"],EJ=["id"],PJ=["domain"],OJ=["domain"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function eh(e,t){if(e==null)return{};var r,n,a=AJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TJ(e){var t=kt();return m.useLayoutEffect(()=>(t(PG(e)),()=>{t(OG(e))}),[e,t]),null}var DJ=e=>{var{xAxisId:t,className:r}=e,n=be(rx),a=xr(),i="xAxis",s=be(v=>cl(v,i,t,a)),o=be(v=>JA(v,i,t,a)),c=be(v=>VA(v,t)),u=be(v=>OK(v,t)),d=be(v=>mA(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=eh(e,CJ),{id:g}=d,y=eh(d,EJ);return m.createElement(cb,oy({},p,y,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Xe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},IJ={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,height:Zr.height,hide:!1,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tickCount:Zr.tickCount,type:Zr.type,xAxisId:0},RJ=e=>{var t,r,n,a,i,s=Ar(e,IJ);return m.createElement(m.Fragment,null,m.createElement(TJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),m.createElement(DJ,s))},MJ=(e,t)=>{var{domain:r}=e,n=eh(e,PJ),{domain:a}=t,i=eh(t,OJ);return zo(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:zo({domain:r},{domain:a}):!1},ly=m.memo(RJ,MJ);ly.displayName="XAxis";var $J=["dangerouslySetInnerHTML","ticks"],LJ=["id"],FJ=["domain"],BJ=["domain"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function th(e,t){if(e==null)return{};var r,n,a=UJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zJ(e){var t=kt();return m.useLayoutEffect(()=>(t(AG(e)),()=>{t(TG(e))}),[e,t]),null}var WJ=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=m.useRef(null),s=m.useRef(null),o=be(rx),c=xr(),u=kt(),d="yAxis",f=be(j=>cl(j,d,t,c)),h=be(j=>GA(j,t)),p=be(j=>TK(j,t)),g=be(j=>JA(j,d,t,c)),y=be(j=>gA(j,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!h||tb(a)||m.isValidElement(a)||y==null)){var j=i.current;if(j){var S=j.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(DG({id:t,width:S}))}}},[g,h,u,a,t,n,y]),h==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,w=th(e,$J),{id:b}=y,_=th(y,LJ);return m.createElement(cb,cy({},w,_,{ref:i,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Xe("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g,axisType:d}))},KJ={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,width:en.width,yAxisId:0},HJ=e=>{var t,r,n,a,i,s=Ar(e,KJ);return m.createElement(m.Fragment,null,m.createElement(zJ,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),m.createElement(WJ,s))},qJ=(e,t)=>{var{domain:r}=e,n=th(e,FJ),{domain:a}=t,i=th(t,BJ);return zo(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:zo({domain:r},{domain:a}):!1},uy=m.memo(HJ,qJ);uy.displayName="YAxis";var VJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=m;function GJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YJ=typeof Object.is=="function"?Object.is:GJ,XJ=yu.useSyncExternalStore,JJ=yu.useRef,QJ=yu.useEffect,ZJ=yu.useMemo,eQ=yu.useDebugValue;VJ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=JJ(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ZJ(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,YJ(d,p))return g;var y=n(p);return a!==void 0&&a(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=XJ(e,i[0],i[1]);return QJ(function(){s.hasValue=!0,s.value=o},[o]),eQ(o),o};function tQ(e){e()}function rQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){tQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var oS={notify(){},get:()=>[]};function nQ(e,t){let r,n=oS,a=0,i=!1;function s(y){d();const v=n.subscribe(y);let x=!1;return()=>{x||(x=!0,v(),f())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=rQ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=oS)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var aQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iQ=aQ(),sQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oQ=sQ(),lQ=()=>iQ||oQ?m.useLayoutEffect:m.useEffect,cQ=lQ(),Jm=Symbol.for("react-redux-context"),Qm=typeof globalThis<"u"?globalThis:{};function uQ(){if(!m.createContext)return{};const e=Qm[Jm]??(Qm[Jm]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var dQ=uQ();function fQ(e){const{children:t,context:r,serverState:n,store:a}=e,i=m.useMemo(()=>{const c=nQ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=m.useMemo(()=>a.getState(),[a]);cQ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||dQ;return m.createElement(o.Provider,{value:i},t)}var hQ=fQ,pQ=(e,t)=>t,db=B([pQ,We,hA,qt,pT,ri,WH,tr],XH),fb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ED=Dn("mouseClick"),PD=au();PD.startListening({actionCreator:ED,effect:(e,t)=>{var r=e.payload,n=db(t.getState(),fb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(HK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dy=Dn("mouseMove"),OD=au();OD.startListening({actionCreator:dy,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Hx(n,n.tooltip.settings.shared),i=db(n,fb(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(iT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(aT()))}});var lS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},AD=Kr({name:"rootProps",initialState:lS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),mQ=AD.reducer,{updateOptions:gQ}=AD.actions,TD=Kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Kee}=TD.actions,vQ=TD.reducer,DD=Dn("keyDown"),ID=Dn("focus"),hb=au();hb.startListening({actionCreator:DD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(qx(a,dl(r))),o=ri(r);if(i==="Enter"){var c=Hf(r,"axis","hover",String(a.index));t.dispatch(Jv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=MK(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var p=Hf(r,"axis","hover",String(h));t.dispatch(Jv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});hb.startListening({actionCreator:ID,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Hf(r,"axis","hover",String(i));t.dispatch(Jv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var _n=Dn("externalEvent"),RD=au();RD.startListening({actionCreator:_n,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:CH(r),activeDataKey:yT(r),activeIndex:Ps(r),activeLabel:vT(r),activeTooltipIndex:Ps(r),isTooltipActive:EH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var yQ=B([ul],e=>e.tooltipItemPayloads),xQ=B([yQ,mu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),MD=Dn("touchMove"),$D=au();$D.startListening({actionCreator:MD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Hx(n,n.tooltip.settings.shared);if(a==="axis"){var i=db(n,fb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(iT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(JU),d=(s=c.getAttribute(QU))!==null&&s!==void 0?s:void 0,f=xQ(t.getState(),u,d);t.dispatch(nT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var bQ=dP({brush:nX,cartesianAxis:IG,chartData:kq,errorBars:eY,graphicalItems:mG,layout:TU,legend:Cz,options:wq,polarAxis:UV,polarOptions:vQ,referenceElements:uX,rootProps:mQ,tooltip:qK,zIndex:uq}),wQ=function(t){return nU({reducer:bQ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([PD.middleware,OD.middleware,hb.middleware,RD.middleware,$D.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(jP({type:"raf"}))},devTools:Is.devToolsEnabled})};function _Q(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=xr(),i=m.useRef(null);if(a)return r;i.current==null&&(i.current=wQ(t));var s=G0;return m.createElement(hQ,{context:s,store:i.current},r)}function jQ(e){var{layout:t,margin:r}=e,n=kt(),a=xr();return m.useEffect(()=>{a||(n(PU(t)),n(EU(r)))},[n,a,t,r]),null}function SQ(e){var t=kt();return m.useEffect(()=>{t(gQ(e))},[t,e]),null}function cS(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=oD("".concat(n).concat(t)),i=kt();return m.useLayoutEffect(()=>(i(lq({zIndex:t,elementId:a,isPanorama:r})),()=>{i(cq({zIndex:t,isPanorama:r}))}),[i,t,a,r]),m.createElement("g",{id:a})}function uS(e){var{children:t,isPanorama:r}=e,n=be(QH);if(!n||n.length===0)return t;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return m.createElement(m.Fragment,null,a.map(s=>m.createElement(cS,{key:s,zIndex:s,isPanorama:r})),t,i.map(s=>m.createElement(cS,{key:s,zIndex:s,isPanorama:r})))}var NQ=["children"];function kQ(e,t){if(e==null)return{};var r,n,a=CQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}var EQ={width:"100%",height:"100%",display:"block"},PQ=m.forwardRef((e,t)=>{var r=GP(),n=YP(),a=JP();if(!ga(r)||!ga(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0),m.createElement(fE,rh({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:EQ,ref:t}),i)}),OQ=e=>{var{children:t}=e,r=be(sp);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return m.createElement(fE,{width:n,height:a,x:s,y:i},t)},dS=m.forwardRef((e,t)=>{var{children:r}=e,n=kQ(e,NQ),a=xr();return a?m.createElement(OQ,null,m.createElement(uS,{isPanorama:!0},r)):m.createElement(PQ,rh({ref:t},n),m.createElement(uS,{isPanorama:!1},r))});function AQ(){var e=kt(),[t,r]=m.useState(null),n=be(XU);return m.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Nt(i)&&i!==n&&e(AU(i))}},[t,e,n]),r}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}var MQ=()=>(Rq(),null);function nh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $Q=m.forwardRef((e,t)=>{var r,n,a=m.useRef(null),[i,s]=m.useState({containerWidth:nh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:nh((n=e.style)===null||n===void 0?void 0:n.height)}),o=m.useCallback((u,d)=>{s(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),c=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=g=>{var{width:y,height:v}=g[0].contentRect;o(y,v)},p=new ResizeObserver(h);p.observe(u),a.current=p}},[t,o]);return m.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),m.createElement(m.Fragment,null,m.createElement(lp,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",As({ref:c},e)))}),LQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=m.useState({containerWidth:nh(r),containerHeight:nh(n)}),s=m.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(lp,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",As({ref:o},e)))}),FQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(lp,{width:r,height:n}),m.createElement("div",As({ref:t},e)))}),BQ=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return za(r)||za(n)?m.createElement(LQ,As({},e,{ref:t})):m.createElement(FQ,As({},e,{ref:t}))});function UQ(e){return e===!0?$Q:BQ}var zQ=m.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:v,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,_=m.useRef(null),j=kt(),[S,N]=m.useState(null),[k,C]=m.useState(null),E=AQ(),P=nx(),O=(P==null?void 0:P.width)>0?P.width:x,q=(P==null?void 0:P.height)>0?P.height:a,Y=m.useCallback(T=>{E(T),typeof t=="function"&&t(T),N(T),C(T),T!=null&&(_.current=T)},[E,t,N,C]),Z=m.useCallback(T=>{j(ED(T)),j(_n({handler:i,reactEvent:T}))},[j,i]),U=m.useCallback(T=>{j(dy(T)),j(_n({handler:u,reactEvent:T}))},[j,u]),W=m.useCallback(T=>{j(aT()),j(_n({handler:d,reactEvent:T}))},[j,d]),A=m.useCallback(T=>{j(dy(T)),j(_n({handler:f,reactEvent:T}))},[j,f]),M=m.useCallback(()=>{j(ID())},[j]),L=m.useCallback(T=>{j(DD(T.key))},[j]),se=m.useCallback(T=>{j(_n({handler:s,reactEvent:T}))},[j,s]),ee=m.useCallback(T=>{j(_n({handler:o,reactEvent:T}))},[j,o]),me=m.useCallback(T=>{j(_n({handler:c,reactEvent:T}))},[j,c]),I=m.useCallback(T=>{j(_n({handler:h,reactEvent:T}))},[j,h]),te=m.useCallback(T=>{j(_n({handler:y,reactEvent:T}))},[j,y]),z=m.useCallback(T=>{b&&j(MD(T)),j(_n({handler:g,reactEvent:T}))},[j,b,g]),X=m.useCallback(T=>{j(_n({handler:p,reactEvent:T}))},[j,p]),pe=UQ(w);return m.createElement(kT.Provider,{value:S},m.createElement(tF.Provider,{value:k},m.createElement(pe,{width:O??(v==null?void 0:v.width),height:q??(v==null?void 0:v.height),className:Xe("recharts-wrapper",n),style:TQ({position:"relative",cursor:"default",width:O,height:q},v),onClick:Z,onContextMenu:se,onDoubleClick:ee,onFocus:M,onKeyDown:L,onMouseDown:me,onMouseEnter:U,onMouseLeave:W,onMouseMove:A,onMouseUp:I,onTouchEnd:X,onTouchMove:z,onTouchStart:te,ref:Y},m.createElement(MQ,null),r)))}),WQ=["width","height","responsive","children","className","style","compact","title","desc"];function KQ(e,t){if(e==null)return{};var r,n,a=HQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qQ=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:c,title:u,desc:d}=e,f=KQ(e,WQ),h=Zn(f);return c?m.createElement(m.Fragment,null,m.createElement(lp,{width:r,height:n}),m.createElement(dS,{otherAttributes:h,title:u,desc:d},i)):m.createElement(zQ,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(dS,{otherAttributes:h,title:u,desc:d,ref:t},m.createElement(fX,null,i)))});function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}var VQ={top:5,right:5,bottom:5,left:5},GQ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VQ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},LD=m.forwardRef(function(t,r){var n,a=Ar(t.categoricalChartProps,GQ),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(_Q,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},m.createElement(rX,{chartData:u.data}),m.createElement(jQ,{layout:a.layout,margin:a.margin}),m.createElement(SQ,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(qQ,fy({},a,{ref:r})))}),YQ=["axis"],XQ=m.forwardRef((e,t)=>m.createElement(LD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YQ,tooltipPayloadSearcher:ET,categoricalChartProps:e,ref:t})),JQ=["axis","item"],QQ=m.forwardRef((e,t)=>m.createElement(LD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JQ,tooltipPayloadSearcher:ET,categoricalChartProps:e,ref:t}));function FD({options:e,value:t,onChange:r,className:n=""}){return l.jsx("div",{className:`inline-flex rounded-2xl border border-gray-200/80 bg-white p-1 shadow-sm ${n}`,children:e.map(a=>l.jsx("button",{onClick:()=>r(a.value),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-all duration-150 min-h-[40px] ${t===a.value?"bg-[rgb(0,122,255)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:a.label},a.value))})}const hS={new_lead:"New Lead",contacted:"Contacted",showing_scheduled:"Showing Scheduled",offer_submitted:"Offer Submitted",under_contract:"Under Contract",pending:"Pending",closed:"Closed",dead:"Lost"},pS=["under_contract","pending"],ZQ=["closed","dead"],eZ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tZ=new Date().getFullYear(),Gs={buyer:"Buyer",seller:"Seller",buyer_and_seller:"Buyer & Seller",renter:"Renter",landlord:"Landlord"},mS=30*60*1e3,rZ=60*1e3,ah=["luma-insights","pipeline-health","alerts-actions","monthly-momentum","deal-type-mix","lead-source","upcoming-deals"],nZ=e=>{const t=e.map(s=>s==="monthly-gci"?"monthly-momentum":s),r=t.filter((s,o)=>t.indexOf(s)===o),n=new Set(ah),a=r.filter(s=>n.has(s)),i=ah.filter(s=>!a.includes(s));return[...a,...i]},aZ=/^\d{4}-\d{2}-\d{2}$/,Uc=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const r=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const i=Number(r[1]),s=Number(r[2])-1,o=Number(r[3]);if(Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(o)||s<0||s>11||o<1||o>31)return null;const c=new Date(Date.UTC(i,s,o));return{year:i,month:s,date:c}}const n=t.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),a=new Date(n);return Number.isNaN(a.getTime())?null:{year:a.getUTCFullYear(),month:a.getUTCMonth(),date:a}},gS=e=>{if(!e)return null;const t=Uc(e);if(!t)return null;const r=e.trim();if(aZ.test(r)){const a=t.date.getUTCDate();return new Date(t.year,t.month,a,23,59,59,999).getTime()}return t.date.getTime()},Zm=(e,t)=>{const r=e.split("T")[0],n=t.split("T")[0];return[`and(close_date.gte.${r},close_date.lte.${n})`,`and(close_date.is.null,closed_at.gte.${e},closed_at.lte.${t})`].join(",")},vS=(e,t,r)=>{const n=Uc(e.close_date)||Uc(e.closed_at);if(!n)return!1;const a=n.date.getTime();return a>=t.getTime()&&a<=r.getTime()};function iZ({id:e,children:t}){const{attributes:r,listeners:n,setNodeRef:a,transform:i,transition:s,isDragging:o}=Fh({id:e}),c={transform:Jn.Transform.toString(i),transition:s,opacity:o?.5:1,position:"relative"};return l.jsxs("div",{ref:a,style:c,className:"relative group",children:[l.jsx("div",{...r,...n,className:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing bg-white rounded-lg shadow-lg p-2",children:l.jsx(j0,{className:"w-4 h-4 text-gray-400"})}),t]})}function sZ(){var $e,Je;const{user:e,roleInfo:t}=_t(),[r,n]=m.useState({ytdGCI:0,ytdDeals:0,ytdVolume:0,avgCommission:0,closingNext7Days:0,conversionRate:0}),[a,i]=m.useState([]),[s,o]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState(!0),[v,x]=m.useState(!1),[w,b]=m.useState([]),[_,j]=m.useState(null),[S,N]=m.useState(null),[k,C]=m.useState(!1),E=m.useRef(!1),[P,O]=m.useState(0),[q,Y]=m.useState(""),Z=m.useRef(null),[U,W]=m.useState([]),[A,M]=m.useState([...ah]),[L,se]=m.useState(null),[ee,me]=m.useState([]),[I,te]=m.useState([]),[z,X]=m.useState([]),[pe,T]=m.useState([]),[K,Q]=m.useState([]),[$,_e]=m.useState([]),[R,ie]=m.useState([]),[ae,he]=m.useState([]),[Ye,Ae]=m.useState("ytd"),Te=m.useMemo(()=>U6(Ye),[Ye]),H=Th(Ah(rl,{activationConstraint:{distance:8}})),Me=[{value:"this_month",label:"MTD"},{value:"last_30_days",label:"30D"},{value:"this_quarter",label:"QTD"},{value:"ytd",label:"YTD"}];m.useEffect(()=>{if(!e)return;(async()=>{var ke;const F={id:e.id,label:((ke=e.user_metadata)==null?void 0:ke.name)||e.email||"You",email:e.email||""},J=async()=>{if(!(t!=null&&t.teamId))return[];const{data:oe,error:ye}=await G.from("user_teams").select("user_id").eq("team_id",t.teamId);return ye?(console.error("Unable to load team members",ye),[]):(oe||[]).map(we=>we.user_id)},re=async()=>{if(!t)return[e.id];switch(t.globalRole){case"admin":return await ki(t);case"sales_manager":{const oe=await J();return oe.length?oe:await ki(t)}case"team_lead":return await ki(t);default:return[t.userId]}};if(!t||t.globalRole==="agent"){me([F]),te([e.id]);return}const le=await re();let je=[];const{data:Ee,error:Ie}=await G.rpc("get_accessible_agents");if(Ie)console.error("Unable to load accessible agents",Ie);else if(Ee){const oe=Ee,ye=new Set(oe.filter(Ue=>Ue.global_role==="admin"||Ue.global_role==="sales_manager").map(Ue=>Ue.user_id)),we=oe.filter(Ue=>Ue.global_role!=="admin"&&Ue.global_role!=="sales_manager").map(Ue=>({id:Ue.user_id,label:Ue.display_name||Ue.email||"Agent",email:Ue.email||""}));if(je=(le.length?we.filter(Ue=>le.includes(Ue.id)):we).filter((Ue,fr,Xr)=>Xr.findIndex(wr=>wr.id===Ue.id)===fr),ye.size)for(const Ue of ye){const fr=le.indexOf(Ue);fr!==-1&&le.splice(fr,1)}}const Se=oe=>{var ye;return oe===e.id?((ye=e.user_metadata)==null?void 0:ye.name)||e.email||"You":`Agent ${oe.slice(0,8)}`};if(!je.length)je=le.map(oe=>({id:oe,label:Se(oe),email:""}));else{const oe=new Set(je.map(we=>we.id)),ye=le.filter(we=>!oe.has(we));ye.length&&(je=[...je,...ye.map(we=>({id:we,label:Se(we),email:""}))])}me(je),le.length||je.map(oe=>oe.id),te([])})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]);const De=m.useMemo(()=>I.length?[...I].sort().join("|"):"",[I]),Ke=m.useMemo(()=>$.length?[...$].sort().join("|"):"",[$]),Tt=m.useMemo(()=>R.length?[...R].sort().join("|"):"",[R]),Wi=m.useMemo(()=>ae.length?[...ae].sort().join("|"):"",[ae]),mn=!!e&&((t==null?void 0:t.globalRole)==="team_lead"||(t==null?void 0:t.teamRole)==="team_lead"),gn=mn&&I.length===1&&I[0]===e.id,vn=I.length===0||I.length===ee.length,ni=m.useMemo(()=>{const D=(Oe,Hi)=>Oe.length===0?Hi:Oe.length===1?Oe[0]:Oe.length===2?`${Oe[0]} and ${Oe[1]}`:Oe.length===3?`${Oe[0]}, ${Oe[1]} and ${Oe[2]}`:`multiple ${Hi}`,F=Oe=>Oe.endsWith("s")?`${Oe}'`:`${Oe}'s`,J=ee.filter(Oe=>I.includes(Oe.id)).map(Oe=>Oe.label||Oe.email||"Agent"),re=vn||J.length===0,le=!re&&J.length===1,je=le?F(J[0]):"",Ee=R.length===0||pe.length>0&&R.length===pe.length,Ie=ae.length===0||K.length>0&&ae.length===K.length,Se=$.length===0||z.length>0&&$.length===z.length,ke=pe.filter(Oe=>R.includes(Oe.id)).map(Oe=>Oe.label),oe=ae.map(Oe=>Gs[Oe]??Oe.replace(/_/g," ")),ye=z.filter(Oe=>$.includes(Oe.id)).map(Oe=>Oe.name),we=Ee?"all pipeline stages":D(ke,"pipeline stages"),pt=Ie?"all deal types":D(oe,"deal types"),Ue=Se?"all lead sources":D(ye,"lead sources");if(Ee&&Ie&&Se)return le?`Viewing ${je} deals across all pipeline stages, deal types, and lead sources.`:re?"Viewing all deals across all agents, pipeline stages, deal types, and lead sources.":"Viewing deals for multiple agents across all pipeline stages, deal types, and lead sources.";const Xr=re?"all agents":le?je:J.length===2?`${J[0]} and ${J[1]}`:J.length===3?`${J[0]}, ${J[1]} and ${J[2]}`:"multiple agents",wr=[];if(we&&wr.push(we),pt){const Oe=Ie?`across ${pt}`:`${pt} deals`;wr.push(Oe)}Ue&&wr.push(`from ${Ue}`),wr.length===0&&wr.push("deals");const xn=wr.join(", ");return`Viewing ${Xr} ${xn}`.replace(/\s+/g," ").trim()+"."},[ee,K,z,pe,vn,I,ae,$,R]),Hr=()=>{e&&te([e.id])},Ki=()=>{te([])},yn=D=>{const F=Array.from(D.target.selectedOptions).map(J=>J.value);te(F)};m.useEffect(()=>{K.length&&he(D=>D.filter(F=>K.includes(F)))},[K]);const ia=D=>{const F=Array.from(D.target.selectedOptions).map(J=>J.value);ie(F)},sa=D=>{const F=Array.from(D.target.selectedOptions).map(J=>J.value);_e(F)},nr=D=>{const F=Array.from(D.target.selectedOptions).map(J=>J.value);he(F)},fl=t&&t.globalRole!=="agent"||ee.length>1,xa=m.useMemo(()=>a.reduce((D,F)=>D+F.count,0),[a]),$s=m.useMemo(()=>a.reduce((D,F)=>D+F.expectedGCI,0),[a]),ba=m.useMemo(()=>a.reduce((D,F)=>D+F.stalledCount,0),[a]),Dr=m.useMemo(()=>{const D=new Date;D.setHours(0,0,0,0);const F=new Date(D);F.setDate(F.getDate()+29),F.setHours(23,59,59,999);const J=D.getTime(),re=F.getTime();return d.map(le=>{const je=gS(le.close_date)??gS(le.closed_at);return je===null?null:{deal:le,closeTime:je}}).filter(le=>le?le.closeTime>=J&&le.closeTime<=re:!1).sort((le,je)=>le.closeTime-je.closeTime).map(({deal:le})=>le)},[d]),Fe=m.useMemo(()=>Dr.reduce((D,F)=>D+Gi(F),0),[Dr]);m.useEffect(()=>{e&&ee.length&&Gt()},[e==null?void 0:e.id,De,Ke,Tt,Wi,Ye,ee.length]),m.useEffect(()=>{e&&wa()},[e]),m.useEffect(()=>{const D=I.length?I:ee.map(F=>F.id);!e||!D.length||Ir(D)},[I,ee]),m.useEffect(()=>{g||E.current||et()},[g,P]),m.useEffect(()=>{if(!e)return;const D=()=>{var re;const F=Date.now();(P===0||F-P>=mS||!q)&&(Y(x_((re=e.user_metadata)==null?void 0:re.name,t==null?void 0:t.globalRole)),O(F))};return D(),Z.current&&clearInterval(Z.current),Z.current=setInterval(D,rZ),()=>{Z.current&&clearInterval(Z.current)}},[($e=e==null?void 0:e.user_metadata)==null?void 0:$e.name]);const Dt=(D,F)=>F.length?F.length===1?D.eq("user_id",F[0]):D.in("user_id",F):D,ot=(D,F)=>{if(D=Dt(D,F),$.length&&(D=D.in("lead_source_id",$)),R.length){const J=R.filter(Boolean);J.length&&(D=D.in("pipeline_status_id",J))}return ae.length&&(D=D.in("deal_type",ae)),D},Ir=async D=>{const F=D.length?D:ee.map(ke=>ke.id);if(!F.length)return;let J=G.from("deals").select(`
        id,
        user_id,
        deal_type,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, color, sort_order)
      `).order("created_at",{ascending:!1}).limit(1e3);J=Dt(J,F);const{data:re,error:le}=await J;if(le){console.error("Unable to load filter context",le);return}const je=new Map,Ee=new Map,Ie=new Set;(re||[]).forEach(ke=>{var oe,ye;(oe=ke.lead_sources)!=null&&oe.id&&je.set(ke.lead_sources.id,{id:ke.lead_sources.id,name:ke.lead_sources.name||"Unknown"}),(ye=ke.pipeline_statuses)!=null&&ye.id&&Ee.set(ke.pipeline_statuses.id,{id:ke.pipeline_statuses.id,label:ke.pipeline_statuses.name,color:ke.pipeline_statuses.color,sortOrder:ke.pipeline_statuses.sort_order}),ke.deal_type&&Ie.add(ke.deal_type)}),X(Array.from(je.values()).sort((ke,oe)=>ke.name.localeCompare(oe.name))),T(Array.from(Ee.values()).sort((ke,oe)=>{const ye=ke.sortOrder??999,we=oe.sortOrder??999;return ye===we?ke.label.localeCompare(oe.label):ye-we}));const Se=Array.from(Ie).sort((ke,oe)=>{const ye=Gs[ke]??ke,we=Gs[oe]??oe;return ye.localeCompare(we)});Q(Se.length?Se:Object.keys(Gs))},Gt=async()=>{if(!e)return;const D=I.length?I:ee.map(le=>le.id);if(!D.length)return;const F=g;F?y(!0):x(!0);const J=Te.start.toISOString(),re=Te.end.toISOString();try{await Promise.all([ar(D,J,re),qr(D),lt(D),br(D,J,re),Vr(D),Gr(D)])}catch(le){console.error("Error loading dashboard data",le)}finally{F&&y(!1),x(!1)}},et=async()=>{if(!E.current&&e){C(!0);try{const{data:{session:D}}=await G.auth.getSession();if(!D)return;const F="https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-insights",J={...r,closingThisMonth:r.closingNext7Days},re=await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({stats:J,pipelineHealth:a.map(Ee=>({id:Ee.id,name:Ee.name,count:Ee.count,expectedGCI:Ee.expectedGCI,stalledCount:Ee.stalledCount})),leadSourceData:c,monthlyData:s,upcomingDealsCount:d.length,projectedGCI:Fe})});if(!re.ok){const Ee=await re.text();console.error("Failed to fetch AI insights:",Ee);return}const je=(await re.json()).insights||[];b(je),!_&&je.length&&(j(je),E.current=!0)}catch(D){console.error("Error loading AI insights:",D)}finally{C(!1)}}},ar=async(D,F,J)=>{const re=Zm(F,J);let le=G.from("deals").select("*").eq("status","closed").or(re);le=ot(le,D);const{data:je,error:Ee}=await le;Ee&&console.error("loadStats closedDeals error",Ee);let Ie=G.from("deals").select("*").gte("created_at",F).lte("created_at",J);Ie=ot(Ie,D);const{data:Se,error:ke}=await Ie;ke&&console.error("loadStats allDeals error",ke);const oe=new Date;oe.setHours(0,0,0,0);const ye=new Date(oe);ye.setDate(ye.getDate()+6),ye.setHours(23,59,59,999);let we=G.from("deals").select("id").in("status",pS).gte("close_date",oe.toISOString()).lte("close_date",ye.toISOString());we=ot(we,D);const{data:pt,error:Ue}=await we;Ue&&console.error("loadStats closingSoon error",Ue);let fr=0,Xr=0;const wr=(je||[]).filter(hl=>vS(hl,Te.start,Te.end));wr.forEach(hl=>{const pl=hl.actual_sale_price||0;fr+=pl,Xr+=Gi(hl)});const xn=wr.length,Oe=xn>0?Xr/xn:0,Hi=(Se==null?void 0:Se.length)||0,Ls=Hi>0?xn/Hi:0;n({ytdGCI:Xr,ytdDeals:xn,ytdVolume:fr,avgCommission:Oe,closingNext7Days:(pt==null?void 0:pt.length)||0,conversionRate:Ls})},qr=async D=>{let F=G.from("deals").select(`
        *,
        pipeline_statuses (id, name, color, sort_order),
        lead_sources (id, name)
      `).not("status","in",`(${ZQ.join(",")})`);F=ot(F,D);const{data:J,error:re}=await F;if(re){console.error("loadPipelineHealth deals error",re);return}if(!J){i([]),W([]);return}const le=new Map;J.forEach(oe=>{var Xr,wr,xn,Oe;const ye=((Xr=oe.pipeline_statuses)==null?void 0:Xr.id)||oe.pipeline_status_id||`status:${oe.status}`,we=((wr=oe.pipeline_statuses)==null?void 0:wr.name)||hS[oe.status]||oe.status,pt=((xn=oe.pipeline_statuses)==null?void 0:xn.color)||null,Ue=((Oe=oe.pipeline_statuses)==null?void 0:Oe.sort_order)??null,fr=le.get(ye)||{id:ye,name:we,color:pt,sortOrder:Ue,count:0,expectedGCI:0,stalledCount:0};fr.count+=1,fr.expectedGCI+=Gi(oe),b_(oe.stage_entered_at,30)&&(fr.stalledCount+=1),le.set(ye,fr)});const Ee=Array.from(le.values()).sort((oe,ye)=>{const we=oe.sortOrder??999,pt=ye.sortOrder??999;return we===pt?oe.name.localeCompare(ye.name):we-pt}).map(oe=>({id:oe.id,name:oe.name,color:oe.color,count:oe.count,expectedGCI:oe.expectedGCI,stalledCount:oe.stalledCount}));i(Ee);const Ie=new Map;J.forEach(oe=>{const ye=Ie.get(oe.deal_type)??{count:0,gci:0,statusCounts:{}};ye.count+=1,ye.gci+=Gi(oe);const we=ye.statusCounts[oe.status]||0;ye.statusCounts[oe.status]=we+1,Ie.set(oe.deal_type,ye)});const Se=J.length,ke=Array.from(Ie.entries()).map(([oe,ye])=>({dealType:oe,count:ye.count,gci:ye.gci,percentage:Se>0?ye.count/Se:0,statusCounts:ye.statusCounts})).sort((oe,ye)=>ye.count-oe.count);W(ke)},lt=async D=>{const F=Te!=null&&Te.start?Te.start.getFullYear():tZ,J=Zm(Te.start.toISOString(),Te.end.toISOString());let re=G.from("deals").select("*").eq("status","closed").or(J);re=ot(re,D);const{data:le,error:je}=await re;if(je){console.error("loadMonthlyTrends error",je);return}if(!le){o([]);return}const Ee=eZ.map(Ie=>({month:Ie,gci:0,deals:0}));le.forEach(Ie=>{const Se=Uc(Ie.close_date)||Uc(Ie.closed_at);if(!Se||Se.year!==F)return;const ke=Se.month,oe=Ee[ke];oe.gci+=Gi(Ie),oe.deals+=1}),o(Ee.map(Ie=>({month:Ie.month,gci:Math.round(Ie.gci),deals:Ie.deals})))},br=async(D,F,J)=>{const re=Zm(F,J);let le=G.from("deals").select("*, lead_sources(*)").eq("status","closed").or(re);le=ot(le,D);const{data:je,error:Ee}=await le;if(Ee){console.error("loadLeadSourcePerformance error",Ee);return}if(!je){u([]);return}const Ie=je.filter(oe=>vS(oe,Te.start,Te.end)),Se=new Map;Ie.forEach(oe=>{var pt;const ye=((pt=oe.lead_sources)==null?void 0:pt.name)||"Unknown",we=Se.get(ye)||{deals:0,gci:0};we.deals+=1,we.gci+=Gi(oe),Se.set(ye,we)});const ke=Array.from(Se.entries()).map(([oe,ye])=>({name:oe,deals:ye.deals,gci:Math.round(ye.gci)})).sort((oe,ye)=>ye.gci-oe.gci).slice(0,5);u(ke)},Vr=async D=>{let F=G.from("deals").select("*").in("status",pS).order("close_date",{ascending:!0,nullsLast:!0}).limit(200);F=ot(F,D);const{data:J,error:re}=await F;if(re){console.error("loadUpcomingDeals error",re),f([]);return}f(J||[])},Gr=async D=>{let F=G.from("deals").select("*").neq("status","closed").neq("status","dead").order("stage_entered_at",{ascending:!0});F=ot(F,D);const{data:J,error:re}=await F;if(re){console.error("loadStalledDeals error",re),p([]);return}const le=(J||[]).filter(je=>b_(je.stage_entered_at,30)).slice(0,5);p(le)},wa=async()=>{if(e)try{const{data:D,error:F}=await G.from("dashboard_layouts").select("widget_order").eq("user_id",e.id).maybeSingle();if(F){console.error("Error loading widget layout:",F);return}D&&D.widget_order?M(nZ(D.widget_order)):M([...ah])}catch(D){console.error("Error loading widget layout:",D)}},V=async D=>{if(e)try{const{error:F}=await G.from("dashboard_layouts").upsert({user_id:e.id,widget_order:D,updated_at:new Date().toISOString()},{onConflict:"user_id"});F&&console.error("Error saving widget layout:",F)}catch(F){console.error("Error saving widget layout:",F)}},de=D=>{const{active:F,over:J}=D;if(!J||F.id===J.id){se(null);return}const re=A.indexOf(F.id),le=A.indexOf(J.id),je=[...A],[Ee]=je.splice(re,1);je.splice(le,0,Ee),M(je),V(je),se(null)},Ce=()=>{window.location.href="/pipeline"},He=()=>{window.location.href="/pipeline"},qe=()=>{window.location.href="/luma"},It=m.useMemo(()=>{const D=[];if(s.length>=2){const J=s.slice(-2);if(J.length===2){const[re,le]=J;if(le.gci>re.gci){const je=(le.gci-re.gci)/re.gci*100;D.push(`You're on track to beat last month by ${je.toFixed(0)}% in GCI.`)}else if(le.gci<re.gci&&re.gci>0){const je=(re.gci-le.gci)/re.gci*100;D.push(`GCI is down ${je.toFixed(0)}% compared to last month.`)}}}const F=new Map;if(a.forEach(J=>{J.stalledCount>0&&F.set(J.name,J.stalledCount)}),F.size>0){const J=Array.from(F.entries()).sort((re,le)=>le[1]-re[1])[0];D.push(`${J[1]} deal${J[1]>1?"s have":" has"} been stalled in '${J[0]}' for 30+ days.`)}if(c.length>0){const J=c[0];D.push(`${J.name} is your top performing lead source with ${Rr(J.gci)} in closed deals.`)}return r.conversionRate>0&&(r.conversionRate>=.3?D.push(`Strong ${Gu(r.conversionRate)} conversion rate - keep up the momentum!`):r.conversionRate<.15&&D.push(`Conversion rate at ${Gu(r.conversionRate)} - consider focusing on lead quality.`)),d.length>0&&Fe>0&&D.push(`${d.length} deals projected to close soon with ${Rr(Fe)} potential GCI.`),D.length===0&&D.push("Keep adding deals to your pipeline to get personalized insights."),D},[r,a,c,s,d,Fe]);m.useEffect(()=>{if(g)return;const D=Date.now();!(P===0||D-P>=mS)&&S||(N(It),O(D),j(null),E.current=!1)},[It,g,P]);const ir=D=>{switch(D){case"luma-insights":return Rt();case"pipeline-health":return Yr();case"alerts-actions":return Ln();case"monthly-momentum":return xt();case"deal-type-mix":return Mt();case"lead-source":return Pe();case"upcoming-deals":return d.length>0?$t():null;default:return null}},Rt=()=>l.jsx("div",{className:"hig-card p-6 bg-gradient-to-br from-blue-50 to-white border-blue-200/60",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[rgb(0,122,255)] flex items-center justify-center shadow-lg",children:l.jsx(js,{className:"w-6 h-6 text-white",strokeWidth:2})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"hig-text-heading",children:"Luma Insights"}),k&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[rgb(0,122,255)]"})]}),(_||w).length>0?l.jsx("div",{className:"space-y-3",children:(_||w).slice(0,3).map((D,F)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),l.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:D})]},F))}):l.jsx("div",{className:"space-y-3",children:(S||It).slice(0,3).map((D,F)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[rgb(0,122,255)] mt-2 flex-shrink-0"}),l.jsx("p",{className:"text-[15px] text-gray-700 leading-relaxed",children:D})]},F))})]})]})}),Yr=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Pipeline Health"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:xa}),l.jsx("div",{className:"text-xs text-gray-500",children:"Active Deals"})]})]}),a.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline yet. Add a deal to see health metrics here."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Pipeline Value"}),l.jsx("span",{className:"text-lg font-semibold text-[rgb(0,122,255)]",children:Rr($s)})]})}),l.jsx("div",{className:"space-y-3",children:a.map(D=>{if(D.count===0)return null;const F=xa>0?D.count/xa*100:0;return l.jsxs("div",{className:"group p-4 rounded-xl border border-gray-200/60 hover:border-gray-300 hover:shadow-sm transition-all cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Bh(D.color)}}),l.jsx("span",{className:"font-medium text-gray-900",children:D.name})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[D.stalledCount>0&&l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 rounded-full",children:[l.jsx(kc,{className:"w-3.5 h-3.5 text-orange-600",strokeWidth:2}),l.jsxs("span",{className:"text-xs font-medium text-orange-700",children:[D.stalledCount," stalled"]})]}),l.jsx("span",{className:"text-lg font-semibold text-gray-900",children:D.count})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm text-[rgb(0,122,255)] font-medium",children:Rr(D.expectedGCI)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[F.toFixed(0),"% of pipeline"]})]})]},D.id)})}),ba>0&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/60",children:l.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-orange-50 rounded-xl border border-orange-200/60",children:[l.jsx(Ba,{className:"w-4 h-4 text-orange-600",strokeWidth:2}),l.jsxs("span",{className:"text-sm font-medium text-orange-700",children:[ba," deals need attention (30+ days)"]})]})})]})]}),Ln=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h2",{className:"hig-text-heading",children:"Alerts & Actions"})}),h.length>0?l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-3",children:[l.jsx(Ba,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:"Stalled Deals Requiring Attention"})]}),l.jsx("div",{className:"space-y-2",children:h.slice(0,3).map(D=>l.jsx("div",{className:"p-3 bg-orange-50 rounded-xl border border-orange-200/60 hover:shadow-sm transition-all cursor-pointer",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:D.client_name}),l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:D.property_address})]}),l.jsx("div",{className:"ml-3 px-2 py-1 bg-orange-100 rounded-lg",children:l.jsxs("div",{className:"text-xs text-orange-700 font-semibold",children:[lE(D.stage_entered_at),"d"]})})]})},D.id))})]}):l.jsx("div",{className:"mb-6 p-4 bg-green-50 rounded-xl border border-green-200/60",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ai,{className:"w-4 h-4 text-green-600",strokeWidth:2}),l.jsx("span",{className:"text-sm text-green-700",children:"All deals are moving smoothly!"})]})}),l.jsxs("div",{className:"pt-4 border-t border-gray-200/60",children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:Ce,children:[l.jsx(TC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"New Client"})]}),l.jsxs("button",{className:"hig-btn-secondary py-3 text-sm flex items-center justify-center gap-2",onClick:He,children:[l.jsx(wC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"New Task"})]}),l.jsxs("button",{className:"hig-btn-primary py-3 text-sm flex items-center justify-center gap-2",onClick:qe,children:[l.jsx(js,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Ask Luma"})]})]})]})]}),xt=()=>{const D=s.some(Se=>Se.gci>0||Se.deals>0),F=s.filter(Se=>Se.gci>0||Se.deals>0),J=F.length>0?F[F.length-1]:null,re=F.length>=2?F[F.length-2]:null,le=J&&re&&re.gci>0?(J.gci-re.gci)/re.gci*100:null,je=F.reduce((Se,ke)=>ke.gci>((Se==null?void 0:Se.gci)??0)?ke:Se,null),Ee=s.map((Se,ke,oe)=>{const ye=Math.max(0,ke-2),we=oe.slice(ye,ke+1),pt=we.reduce((Ue,fr)=>Ue+fr.gci,0);return we.length?pt/we.length:Se.gci}),Ie=s.map((Se,ke)=>({...Se,trend:Ee[ke]??Se.gci}));return l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading",children:"Monthly Momentum"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Track production pace and deal count across recent months."})]}),le!==null&&l.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${le>=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:[le>=0?l.jsx(xC,{className:"w-3.5 h-3.5"}):l.jsx(vL,{className:"w-3.5 h-3.5"}),le>=0?"+":"",le.toFixed(1),"% vs prev. month"]})]}),D?l.jsxs(l.Fragment,{children:[l.jsx(Z_,{width:"100%",height:180,children:l.jsxs(XQ,{data:Ie,children:[l.jsx(iy,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(ly,{dataKey:"month",tick:{fontSize:11},stroke:"#94a3b8"}),l.jsx(uy,{tick:{fontSize:11},stroke:"#94a3b8",tickFormatter:Se=>`$${(Se/1e3).toFixed(0)}K`}),l.jsx(Cj,{formatter:Se=>Rr(Se),labelFormatter:Se=>`Month: ${Se}`,contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsx(sy,{type:"monotone",dataKey:"gci",stroke:"#0ea5e9",strokeWidth:2,dot:{r:3,fill:"#0ea5e9"},activeDot:{r:5}}),l.jsx(sy,{type:"monotone",dataKey:"trend",stroke:"#ef4444",strokeWidth:1.5,dot:!1,strokeDasharray:"4 4"})]})}),l.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 text-xs text-gray-600",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#0ea5e9]"}),l.jsx("span",{children:"Monthly GCI"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-1.5 w-6 rounded-full bg-[#ef4444]"}),l.jsx("span",{children:"3-month trailing mean"})]})]}),je&&l.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:["Top month: ",je.month,"  ",Rr(je.gci)]})]})]}):l.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals yet in this period. Close your first deal to surface momentum insights."})]})},Mt=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Deal Type Mix"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Share of active deals by type & status"})]}),U.length>0?l.jsx("div",{className:"space-y-4",children:U.map(D=>l.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-base font-semibold text-gray-900",children:Gs[D.dealType]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[D.count," active ",D.count===1?"deal":"deals"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[Rr(D.gci)," expected GCI"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Gu(D.percentage)}),l.jsx("p",{className:"text-xs text-gray-500",children:"of pipeline"})]})]}),l.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Object.entries(D.statusCounts).sort((F,J)=>J[1]-F[1]).map(([F,J])=>l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-700",children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400"}),hS[F]??F.replace(/_/g," "),l.jsxs("span",{className:"text-gray-500",children:["(",J,")"]})]},F))})]},D.dealType))}):l.jsx("div",{className:"text-sm text-gray-500",children:"No active deals in your pipeline. Add a deal to see the deal-type mix."})]}),Pe=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsx("h2",{className:"hig-text-heading mb-6",children:"Lead Source Performance"}),c.length>0?l.jsx(Z_,{width:"100%",height:250,children:l.jsxs(QQ,{data:c,layout:"vertical",children:[l.jsx(iy,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx(ly,{type:"number",tick:{fontSize:12},stroke:"#6b7280",tickFormatter:D=>`$${(D/1e3).toFixed(0)}K`}),l.jsx(uy,{type:"category",dataKey:"name",tick:{fontSize:12},stroke:"#6b7280",width:100}),l.jsx(Cj,{formatter:D=>Rr(D),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),l.jsx(gD,{dataKey:"gci",fill:"#0ea5e9",radius:[0,4,4,0]})]})}):l.jsx("div",{className:"text-sm text-gray-500",children:"No closed deals in this period, so lead source performance is not available yet."})]}),$t=()=>l.jsxs("div",{className:"hig-card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"hig-text-heading",children:"Forecasted Closings (Next 30 Days)"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium text-gray-900",children:Rr(Fe)})," ","projected GCI"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Dr.map(D=>l.jsxs("div",{className:"p-4 border border-gray-200/60 rounded-xl hover:shadow-sm hover:border-gray-300 transition-all cursor-pointer",children:[l.jsx("div",{className:"font-medium text-gray-900",children:D.client_name}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:D.property_address}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("div",{className:"text-sm font-semibold text-[rgb(0,122,255)]",children:Rr(Gi(D))}),l.jsx(bC,{className:"w-4 h-4 text-gray-400",strokeWidth:2})]})]},D.id))})]});return g?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_10px_40px_rgba(15,23,42,0.08)] p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:B6()}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:q||x_((Je=e==null?void 0:e.user_metadata)==null?void 0:Je.name)}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.closingNext7Days," deal",r.closingNext7Days===1?"":"s"," closing soon (next 7 days) "," ",Rr(Fe)," projected GCI over the next 30 days."]})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-gray-500 lg:ml-auto",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--app-accent)] animate-pulse"}),"Updating"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-blue-100/70 bg-blue-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600",children:"Pipeline Value"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Rr($s)}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Active stages only"})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-600",children:"Projected GCI"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Rr(Fe)}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Next 30 days"})]}),l.jsxs("div",{className:"rounded-2xl border border-purple-100/70 bg-purple-50/40 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-600",children:"Active Deals"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-2",children:xa}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across pipeline"})]})]})]}),fl&&l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_6px_30px_rgba(15,23,42,0.08)] p-4 space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),l.jsx("p",{className:"text-sm text-gray-700",children:ni})]}),l.jsx(FD,{options:Me,value:Ye,onChange:D=>Ae(D)})]}),ee.length>0&&l.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Agents"}),mn&&l.jsx("button",{type:"button",onClick:Hr,className:`rounded-full px-3 py-1 text-xs font-semibold transition ${gn?"bg-[var(--app-accent)] text-white shadow-[0_8px_20px_rgba(0,122,255,0.25)]":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Focus On Me"})]}),l.jsx("div",{className:"flex items-center gap-1.5",children:!vn&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:Ki,children:"Clear"})})]}),l.jsx("select",{multiple:!0,value:I,onChange:yn,className:"hig-input min-h-[72px] rounded-2xl border-gray-200 bg-white/90 text-sm",children:ee.map(D=>l.jsx("option",{value:D.id,children:D.label},D.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),R.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>ie([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:R,onChange:ia,className:"hig-input min-h-[64px] mt-2",children:pe.map(D=>l.jsx("option",{value:D.id,children:D.label},D.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Deal Type"}),ae.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>he([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:ae,onChange:nr,className:"hig-input min-h-[64px] mt-2",children:K.map(D=>l.jsx("option",{value:D,children:Gs[D]??D.replace(/_/g," ")},D))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),$.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>_e([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:$,onChange:sa,className:"hig-input min-h-[64px] mt-2",children:z.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"hig-card p-6",title:"Gross commission income from closed deals in the selected date range.",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-blue-50",children:l.jsx(jL,{className:"w-5 h-5 text-[rgb(0,122,255)]",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",title:"Gross commission income from closed deals in the selected date range.",children:"Total GCI"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:Rr(r.ytdGCI)})]}),l.jsxs("div",{className:"hig-card p-6",title:"Number of deals marked closed within the selected date range.",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-green-50",children:l.jsx(Ai,{className:"w-5 h-5 text-green-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",title:"Number of deals marked closed within the selected date range.",children:"Closed Deals"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.ytdDeals})]}),l.jsxs("div",{className:"hig-card p-6",title:"Active deals scheduled to close in the next 7 days.",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-orange-50",children:l.jsx(Sc,{className:"w-5 h-5 text-orange-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",title:"Active deals scheduled to close in the next 7 days.",children:"Closing Soon (7d)"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:r.closingNext7Days})]}),l.jsxs("div",{className:"hig-card p-6",title:"Closed deals divided by all deals created in the selected date range.",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2 rounded-xl bg-gray-50",children:l.jsx(gL,{className:"w-5 h-5 text-gray-600",strokeWidth:2})}),l.jsx("span",{className:"text-sm text-gray-600",title:"Closed deals divided by all deals created in the selected date range.",children:"Conv. Rate"})]}),l.jsx("div",{className:"text-3xl font-semibold text-gray-900",children:Gu(r.conversionRate)})]})]}),l.jsx(Rh,{sensors:H,collisionDetection:C0,onDragEnd:de,onDragStart:D=>se(D.active.id),children:l.jsx(Lh,{items:A,strategy:$h,children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map(D=>{const F=ir(D);return F?l.jsx(iZ,{id:D,children:F},D):null})})})})]})}function BD({deal:e,netCommission:t,daysInStage:r,onClick:n,isDragging:a=!1}){const i=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return l.jsxs("div",{onClick:n,"data-deal-id":e.id,className:`rounded-2xl border border-gray-100/80 bg-white/95 p-4 shadow-[0_10px_30px_rgba(15,23,42,0.05)] ring-1 ring-black/5 cursor-move transition-transform duration-200 ${a?"opacity-60":"hover:-translate-y-0.5"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:e.client_name}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(jC,{className:"w-3.5 h-3.5 mr-1 text-gray-400"}),l.jsx("span",{className:"truncate",children:e.property_address})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Expected"}),l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:i(e.actual_sale_price||e.expected_sale_price)})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[l.jsx(kc,{className:"w-3.5 h-3.5 text-gray-400"}),l.jsxs("span",{children:[r,"d in stage"]})]}),e.lead_sources?l.jsxs("div",{className:"flex items-center gap-1 text-gray-500 justify-end",children:[l.jsx(AC,{className:"w-3.5 h-3.5 text-gray-400"}),l.jsx("span",{className:"truncate",children:e.lead_sources.name})]}):l.jsx("div",{})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between rounded-xl bg-gray-50 px-3 py-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Net Commission"}),l.jsx("div",{className:"text-sm font-semibold text-emerald-600",children:i(t)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"Close Date"}),l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:e.close_date?new Date(e.close_date).toLocaleDateString(void 0,{month:"short",day:"numeric"}):""})]})]})]})}const oZ=["buyer","seller","buyer_and_seller","renter","landlord"],Tl={buyer:{label:"Buyer",accentDot:"bg-blue-400",labelClass:"text-blue-900",panelBg:"bg-blue-50/60",panelBorder:"border-blue-100"},seller:{label:"Seller",accentDot:"bg-emerald-400",labelClass:"text-emerald-900",panelBg:"bg-emerald-50/60",panelBorder:"border-emerald-100"},buyer_and_seller:{label:"Buyer & Seller",accentDot:"bg-purple-400",labelClass:"text-purple-900",panelBg:"bg-purple-50/60",panelBorder:"border-purple-100"},renter:{label:"Renter",accentDot:"bg-orange-400",labelClass:"text-orange-900",panelBg:"bg-orange-50/60",panelBorder:"border-orange-100"},landlord:{label:"Landlord",accentDot:"bg-teal-400",labelClass:"text-teal-900",panelBg:"bg-teal-50/60",panelBorder:"border-teal-100"}};function lZ({status:e,label:t,color:r,deals:n,onDealClick:a,calculateNetCommission:i,getDaysInStage:s}){const{setNodeRef:o,isOver:c}=rE({id:e}),u=Uh(r),d=oZ.map(f=>({type:f,label:Tl[f].label,accentDot:Tl[f].accentDot,labelClass:Tl[f].labelClass,deals:n.filter(h=>h.deal_type===f),panelBg:Tl[f].panelBg,panelBorder:Tl[f].panelBorder})).filter(f=>f.deals.length>0);return l.jsxs("div",{className:"flex-shrink-0 w-72 sm:w-80 flex flex-col",children:[l.jsxs("div",{className:"rounded-lg p-2.5 sm:p-3 mb-2 sm:mb-3 flex-shrink-0",style:{backgroundColor:u.bg,color:u.text},children:[l.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:t}),l.jsxs("span",{className:"text-xs sm:text-sm opacity-80",children:[n.length," deal",n.length!==1?"s":""]})]}),l.jsx("div",{ref:o,className:`flex-1 min-h-[600px] rounded-lg p-3 transition overflow-y-auto ${c?"bg-blue-50 ring-2 ring-blue-400":"bg-gray-50"}`,style:{minHeight:"600px"},children:n.length===0?l.jsx("div",{className:"h-full min-h-[560px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Drop deals here"}),l.jsx("div",{className:"text-xs",children:"Drag cards to this column"})]})}):l.jsx("div",{className:"space-y-6",children:d.map((f,h)=>l.jsxs("div",{className:`rounded-2xl border px-3 py-3 sm:px-4 sm:py-4 ${f.panelBg} ${f.panelBorder} ${h>0?"mt-1":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${f.accentDot}`}),l.jsx("span",{className:`text-xs font-semibold ${f.labelClass}`,children:f.label})]}),l.jsxs("span",{className:"text-[11px] font-medium text-gray-400",children:[f.deals.length," deal",f.deals.length!==1?"s":""]})]}),l.jsx(Lh,{items:f.deals.map(p=>p.id),strategy:aE,children:l.jsx("div",{className:"mt-3 space-y-2 sm:space-y-3",children:f.deals.map(p=>l.jsx(cZ,{deal:p,onDealClick:a,calculateNetCommission:i,getDaysInStage:s},p.id))})})]},f.type))})})]})}function cZ({deal:e,onDealClick:t,calculateNetCommission:r,getDaysInStage:n}){const{attributes:a,listeners:i,setNodeRef:s,transform:o,transition:c,isDragging:u}=Fh({id:e.id,data:{type:"deal"}}),d={transform:Jn.Transform.toString(o),transition:c,zIndex:u?50:void 0};return l.jsx("div",{ref:s,style:d,...a,...i,children:l.jsx(BD,{deal:e,netCommission:r(e),daysInStage:n(e.stage_entered_at),onClick:()=>t(e),isDragging:u})})}const uZ={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,sept:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};function yS(e){return e.toString().padStart(2,"0")}function dZ(e,t,r){const n=new Date(Date.UTC(e,t-1,r));return n.getUTCFullYear()===e&&n.getUTCMonth()+1===t&&n.getUTCDate()===r}function Dl(e,t,r){return dZ(e,t,r)?`${e}-${yS(t)}-${yS(r)}`:null}function fZ(e){return e<100?e>=70?1900+e:2e3+e:e}function xS(e){const t=e.toLowerCase();return uZ[t]||null}function hZ(e){if(!e)return null;const t=e.trim();if(!t)return null;const r=t.replace(/\s+/g," "),n=r.match(/^(\d{4})[\/-](\d{1,2})[\/-](\d{1,2})$/);if(n){const[c,u,d,f]=n;return Dl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const a=r.match(/^(\d{1,2})[\/\.\-](\d{1,2})[\/\.\-](\d{2}|\d{4})$/);if(a){const[c,u,d,f]=a,h=fZ(parseInt(f,10));return Dl(h,parseInt(u,10),parseInt(d,10))}const i=r.match(/^(\d{4})\.(\d{1,2})\.(\d{1,2})$/);if(i){const[c,u,d,f]=i;return Dl(parseInt(u,10),parseInt(d,10),parseInt(f,10))}const s=r.match(/^([A-Za-z]+)[\s\-](\d{1,2}),?[\s\-]*(\d{4})$/);if(s){const c=xS(s[1]);if(c)return Dl(parseInt(s[3],10),c,parseInt(s[2],10))}const o=r.match(/^(\d{1,2})[\s\-]([A-Za-z]+),?[\s\-]*(\d{4})$/);if(o){const c=xS(o[2]);if(c)return Dl(parseInt(o[3],10),c,parseInt(o[1],10))}return null}function pZ(e=[]){const t=["client_name","client_phone","client_email","property_address","city","state","zip","deal_type","lead_source_name","pipeline_status","expected_sale_price","actual_sale_price","gross_commission_rate","brokerage_split_rate","referral_out_rate","referral_in_rate","transaction_fee","close_date"].join(","),r=["New Lead","Contacted","Under Contract"],n=e.length>0?e:r,i=[{client_name:"John Smith",client_phone:"555-123-4567",client_email:"john.smith@example.com",property_address:"123 Main Street",city:"Austin",state:"TX",zip:"78701",deal_type:"buyer",lead_source_name:"Zillow",pipeline_status:n[Math.min(2,n.length-1)]||n[0],expected_sale_price:"450000",actual_sale_price:"",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"500",close_date:""},{client_name:"Sarah Johnson",client_phone:"555-987-6543",client_email:"sarah.j@example.com",property_address:"456 Oak Avenue",city:"Dallas",state:"TX",zip:"75201",deal_type:"seller",lead_source_name:"Past Client",pipeline_status:n[n.length-1]||n[0],expected_sale_price:"525000",actual_sale_price:"520000",gross_commission_rate:"0.03",brokerage_split_rate:"0.20",referral_out_rate:"0.25",referral_in_rate:"",transaction_fee:"500",close_date:"2024-12-15"},{client_name:"Mike Davis",client_phone:"555-456-7890",client_email:"mike.davis@example.com",property_address:"789 Elm Street",city:"Houston",state:"TX",zip:"77001",deal_type:"renter",lead_source_name:"Referral",pipeline_status:n[Math.min(1,n.length-1)]||n[0],expected_sale_price:"2400",actual_sale_price:"",gross_commission_rate:"0.5",brokerage_split_rate:"0.20",referral_out_rate:"",referral_in_rate:"",transaction_fee:"0",close_date:""}].map(s=>Object.values(s).map(o=>{const c=String(o);return c.includes(",")||c.includes('"')||c.includes(`
`)?`"${c.replace(/"/g,'""')}"`:c}).join(",")).join(`
`);return`${t}
${i}`}function mZ(e,t){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function gZ(e){const t=[];let r=[],n="",a=!1;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];a?s==='"'&&o==='"'?(n+='"',i++):s==='"'?a=!1:n+=s:s==='"'?a=!0:s===","?(r.push(n.trim()),n=""):s===`
`||s==="\r"?((n||r.length>0)&&(r.push(n.trim()),r.some(c=>c!=="")&&t.push(r),r=[],n=""),s==="\r"&&o===`
`&&i++):n+=s}return(n||r.length>0)&&(r.push(n.trim()),r.some(i=>i!=="")&&t.push(r)),t}function vZ(e,t=[]){const r=[];(!e.client_name||e.client_name.trim()==="")&&r.push("client_name is required"),(!e.lead_source_name||e.lead_source_name.trim()==="")&&r.push("lead_source_name is required");const n=["buyer","seller","buyer_and_seller","renter","landlord"];if((!e.deal_type||!n.includes(e.deal_type))&&r.push(`deal_type must be one of: ${n.join(", ")}`),!e.pipeline_status||e.pipeline_status.trim()==="")r.push("pipeline_status is required");else if(t.length>0){const a=e.pipeline_status.toLowerCase().trim();t.includes(a)||r.push(`pipeline_status must be one of your configured statuses: ${t.join(", ")}`)}return{valid:r.length===0,errors:r}}function yZ(e,t){const r={};return e.forEach((n,a)=>{const i=t[a]||"";r[n]=i}),r}function xZ({onClose:e,onSuccess:t}){const{user:r,roleInfo:n}=_t(),a=(n==null?void 0:n.teamId)||null,[i,s]=m.useState(null),[o,c]=m.useState(!1),[u,d]=m.useState(null),f=async()=>{if(!r)return;const{data:g}=a?await G.from("pipeline_statuses").select("name").eq("team_id",a).order("sort_order"):{data:null},{data:y}=g!=null&&g.length?{data:g}:await G.from("pipeline_statuses").select("name").eq("user_id",r.id).order("sort_order"),v=(y==null?void 0:y.map(w=>w.name))||[],x=pZ(v);mZ(x,"deals-import-example.csv")},h=g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&y.type==="text/csv"?(s(y),d(null)):alert("Please select a valid CSV file")},p=async()=>{var g,y,v,x,w,b;if(!(!i||!r)){c(!0),d(null);try{const _=await i.text(),j=gZ(_);if(j.length<2){alert("CSV file must contain a header row and at least one data row"),c(!1);return}const S=j[0].map(M=>M.toLowerCase().trim()),N=j.slice(1),{data:k}=a?await G.from("lead_sources").select("id, name").eq("team_id",a):{data:null},{data:C}=k!=null&&k.length?{data:k}:await G.from("lead_sources").select("id, name").eq("user_id",r.id),E=new Map((C==null?void 0:C.map(M=>[M.name.toLowerCase(),M.id]))||[]),{data:P}=a?await G.from("pipeline_statuses").select("id, name").eq("team_id",a):{data:null},{data:O}=P!=null&&P.length?{data:P}:await G.from("pipeline_statuses").select("id, name").eq("user_id",r.id),q=new Map((O==null?void 0:O.map(M=>[M.name.toLowerCase(),M.id]))||[]),{data:Y}=await G.from("user_settings").select("default_brokerage_split_rate").eq("user_id",r.id).single(),Z=(Y==null?void 0:Y.default_brokerage_split_rate)||.2;let U=0,W=0;const A=[];for(let M=0;M<N.length;M++){const L=yZ(S,N[M]),se=vZ(L,Array.from(q.keys()));if(!se.valid){W++,A.push({row:M+2,errors:se.errors});continue}const ee=E.get(L.lead_source_name.toLowerCase().trim());if(!ee){W++,A.push({row:M+2,errors:[`Lead source "${L.lead_source_name}" not found. Please create it in Lead Sources settings first.`]});continue}let me=null,I="new_lead";if(L.pipeline_status&&L.pipeline_status.trim()!==""){me=q.get(L.pipeline_status.toLowerCase().trim())||null;const pe=L.pipeline_status.toLowerCase().trim();pe==="closed"?I="closed":pe==="dead"&&(I="dead")}let te=null;if(L.close_date&&L.close_date.trim()!==""&&(te=hZ(L.close_date),!te)){W++,A.push({row:M+2,errors:[`Close date "${L.close_date}" is not recognized. Use formats like YYYY-MM-DD, MM/DD/YYYY, or December 15, 2024.`]});continue}const z={user_id:r.id,client_name:L.client_name.trim(),client_phone:((g=L.client_phone)==null?void 0:g.trim())||null,client_email:((y=L.client_email)==null?void 0:y.trim())||null,property_address:((v=L.property_address)==null?void 0:v.trim())||null,city:((x=L.city)==null?void 0:x.trim())||null,state:((w=L.state)==null?void 0:w.trim())||null,zip:((b=L.zip)==null?void 0:b.trim())||null,deal_type:L.deal_type.trim(),lead_source_id:ee,pipeline_status_id:me,status:I,expected_sale_price:L.expected_sale_price&&L.expected_sale_price.trim()!==""?Number(L.expected_sale_price):null,actual_sale_price:L.actual_sale_price&&L.actual_sale_price.trim()!==""?Number(L.actual_sale_price):null,gross_commission_rate:L.gross_commission_rate&&L.gross_commission_rate.trim()!==""?Number(L.gross_commission_rate):.03,brokerage_split_rate:L.brokerage_split_rate&&L.brokerage_split_rate.trim()!==""?Number(L.brokerage_split_rate):Z,referral_out_rate:L.referral_out_rate&&L.referral_out_rate.trim()!==""?Number(L.referral_out_rate):null,referral_in_rate:L.referral_in_rate&&L.referral_in_rate.trim()!==""?Number(L.referral_in_rate):null,transaction_fee:L.transaction_fee&&L.transaction_fee.trim()!==""?Number(L.transaction_fee):0,close_date:te,stage_entered_at:new Date().toISOString(),closed_at:I==="closed"?new Date().toISOString():null},{error:X}=await G.from("deals").insert(z);X?(W++,A.push({row:M+2,errors:[X.message]})):U++}d({success:U,failed:W,errors:A})}catch(_){console.error("Import error:",_),alert("An error occurred while importing. Please check your file format.")}finally{c(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Import Deals from CSV"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(Ss,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How to Import Deals"}),l.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Download the example CSV file to see the required format"}),l.jsx("li",{children:"Fill in your deal data following the example structure"}),l.jsx("li",{children:"Save your file as CSV format"}),l.jsx("li",{children:"Upload your CSV file using the button below"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 1: Download Example"}),l.jsxs("button",{onClick:f,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center space-x-2 transition",children:[l.jsx(SL,{className:"w-5 h-5"}),l.jsx("span",{children:"Download Example CSV"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 2: Upload Your CSV"}),l.jsxs("label",{className:"block w-full px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 cursor-pointer transition text-center",children:[l.jsx("input",{type:"file",accept:".csv",onChange:h,className:"hidden",disabled:o}),l.jsx(fv,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),l.jsx("div",{className:"text-sm text-gray-600",children:i?l.jsx("span",{className:"font-medium text-blue-600",children:i.name}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium text-blue-600",children:"Click to upload"})," ","or drag and drop"]})}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"CSV files only"})]})]}),i&&!u&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Step 3: Import"}),l.jsx("button",{onClick:p,disabled:o,className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center space-x-2 transition",children:o?l.jsxs(l.Fragment,{children:[l.jsx(OL,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(fv,{className:"w-5 h-5"}),l.jsx("span",{children:"Import Deals"})]})})]}),u&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Import Results"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center space-x-3",children:[l.jsx(Ai,{className:"w-6 h-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.success}),l.jsx("div",{className:"text-xs text-gray-600",children:"Successfully Imported"})]})]}),l.jsxs("div",{className:"bg-red-50 rounded-lg p-3 flex items-center space-x-3",children:[l.jsx(Ba,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failed}),l.jsx("div",{className:"text-xs text-gray-600",children:"Failed"})]})]})]})]}),u.errors.length>0&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:[l.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Errors"}),l.jsx("div",{className:"space-y-2",children:u.errors.map((g,y)=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium text-red-800",children:["Row ",g.row,":"]}),l.jsx("ul",{className:"list-disc list-inside text-red-700 ml-2",children:g.errors.map((v,x)=>l.jsx("li",{children:v},x))})]},y))})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{s(null),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Import Another File"}),l.jsx("button",{onClick:()=>{u.success>0&&t(),e()},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Done"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Required Fields"}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"client_name:"})," Client's full name"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"lead_source_name:"})," Must match one of your configured lead sources"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"deal_type:"})," buyer, seller, buyer_and_seller, renter, or landlord"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-medium",children:"pipeline_status:"})," Must match one of your configured pipeline statuses"]})]}),l.jsx("div",{className:"mt-3 text-xs text-gray-600",children:"Note: Property address and price are optional. Lead source and pipeline status names must match exactly or the import will fail."})]})]})]})})}const bZ=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),ud=e=>e==null||Number.isNaN(e)?"":bZ.format(e),dd=e=>e==null||Number.isNaN(e)?"":`${(e*100).toFixed(1)}%`,Ys=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},bS=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",ko=[{id:"client",label:"Client",defaultVisible:!0,cellClassName:"px-4 py-4 align-top whitespace-nowrap cursor-pointer",render:({deal:e})=>l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.client_name||""}),e.client_email&&l.jsx("div",{className:"text-xs text-gray-500",children:e.client_email}),e.client_phone&&l.jsx("div",{className:"text-xs text-gray-500",children:e.client_phone})]})},{id:"clientEmail",label:"Client Email",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.client_email?"text-gray-700":"text-gray-400",children:e.client_email||""})},{id:"clientPhone",label:"Client Phone",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.client_phone?"text-gray-700":"text-gray-400",children:e.client_phone||""})},{id:"property",label:"Property",defaultVisible:!0,cellClassName:"px-4 py-4 text-sm text-gray-900 cursor-pointer min-w-[220px]",render:({deal:e})=>l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(jC,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{children:e.property_address||""}),(e.city||e.state)&&l.jsx("div",{className:"text-xs text-gray-500",children:[e.city,e.state].filter(Boolean).join(", ")})]})]})},{id:"city",label:"City",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.city?"text-gray-700":"text-gray-400",children:e.city||""})},{id:"state",label:"State",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.state?"text-gray-700":"text-gray-400",children:e.state||""})},{id:"zip",label:"ZIP",cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>l.jsx("span",{className:e.zip?"text-gray-700":"text-gray-400",children:e.zip||""})},{id:"dealType",label:"Deal Type",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>{const t=e.deal_type==="buyer"?"bg-blue-100 text-blue-700":e.deal_type==="seller"?"bg-green-100 text-green-700":e.deal_type==="buyer_and_seller"?"bg-purple-100 text-purple-700":e.deal_type==="renter"?"bg-orange-100 text-orange-700":e.deal_type==="landlord"?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-700",r=e.deal_type==="buyer"?"Buyer":e.deal_type==="seller"?"Seller":e.deal_type==="buyer_and_seller"?"Both":e.deal_type==="renter"?"Renter":e.deal_type==="landlord"?"Landlord":bS(e.deal_type);return l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${t}`,children:r})}},{id:"pipelineStatus",label:"Pipeline Status",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e,getStatusForDeal:t})=>{const r=t(e);if(!r)return l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:"No Status"});const n=Uh(r.color);return l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:n.bg,color:n.text},children:r.name})}},{id:"status",label:"System Status",cellClassName:"px-4 py-4 whitespace-nowrap cursor-pointer",render:({deal:e})=>l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-700",children:bS(e.status)})},{id:"leadSource",label:"Lead Source",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm cursor-pointer",render:({deal:e})=>{var t,r;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(AC,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:(t=e.lead_sources)!=null&&t.name?"text-gray-900":"text-gray-400",children:((r=e.lead_sources)==null?void 0:r.name)||""})]})}},{id:"expectedPrice",label:"Expected Price",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ud(e.actual_sale_price||e.expected_sale_price)})},{id:"actualPrice",label:"Actual Price",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ud(e.actual_sale_price)})},{id:"netCommission",label:"Net Commission",defaultVisible:!0,headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-green-600 cursor-pointer text-right",render:({deal:e,calculateNetCommission:t})=>l.jsx("span",{children:ud(t(e))})},{id:"grossCommissionRate",label:"Commission %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:dd(e.gross_commission_rate)})},{id:"brokerageSplitRate",label:"Broker Split %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:dd(e.brokerage_split_rate)})},{id:"referralOutRate",label:"Referral Out %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:dd(e.referral_out_rate)})},{id:"referralInRate",label:"Referral In %",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:dd(e.referral_in_rate)})},{id:"transactionFee",label:"Transaction Fee",headerClassName:"text-right",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 cursor-pointer text-right",render:({deal:e})=>l.jsx("span",{children:ud(e.transaction_fee)})},{id:"daysInStage",label:"Days in Stage",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 cursor-pointer",render:({deal:e,getDaysInStage:t})=>l.jsxs("div",{className:"flex items-center justify-start gap-2",children:[l.jsx(kc,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{children:[t(e.stage_entered_at)," days"]})]})},{id:"stageEnteredAt",label:"Stage Entered",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ys(e.stage_entered_at)})},{id:"closeDate",label:"Close Date",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ys(e.close_date)})},{id:"closedAt",label:"Closed On",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ys(e.closed_at)})},{id:"nextTaskDescription",label:"Next Task",cellClassName:"px-4 py-4 text-sm text-gray-700 cursor-pointer min-w-[200px]",render:({deal:e})=>l.jsx("span",{className:e.next_task_description?"text-gray-700":"text-gray-400",children:e.next_task_description||""})},{id:"nextTaskDueDate",label:"Next Task Due",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ys(e.next_task_due_date)})},{id:"createdAt",label:"Created",defaultVisible:!0,cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sc,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:Ys(e.created_at)})]})},{id:"updatedAt",label:"Updated",cellClassName:"px-4 py-4 whitespace-nowrap text-sm text-gray-700 cursor-pointer",render:({deal:e})=>l.jsx("span",{children:Ys(e.updated_at)})}],wS="pipeline-table-columns-v1",_S=new Set(ko.map(e=>e.id)),jS=new Map(ko.map((e,t)=>[e.id,t])),eg=ko.filter(e=>e.defaultVisible).map(e=>e.id),tg=e=>[...e].sort((t,r)=>(jS.get(t)??0)-(jS.get(r)??0));function wZ({deals:e,statuses:t,onDealClick:r,calculateNetCommission:n,getDaysInStage:a,onBulkDelete:i,onBulkEdit:s,onImportSuccess:o}){const[c,u]=m.useState(new Set),[d,f]=m.useState(!1),[h,p]=m.useState(""),[g,y]=m.useState(""),[v,x]=m.useState(!1),[w,b]=m.useState(!1),[_,j]=m.useState({column:"pipelineOrder",direction:"asc"}),[S,N]=m.useState(()=>{if(typeof window>"u")return eg;try{const I=window.localStorage.getItem(wS);if(I){const z=JSON.parse(I).filter(X=>_S.has(X));if(z.length>0)return tg(z)}}catch{}return eg});m.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(wS,JSON.stringify(S))},[S]);const k=I=>{N(te=>te.includes(I)?te.length===1?te:te.filter(z=>z!==I):tg([...te,I]))},C=()=>N(tg(Array.from(_S))),E=()=>N(eg),P=ko.filter(I=>S.includes(I.id)),O=P.length+1,q=I=>{const te=new Set(c);te.has(I)?te.delete(I):te.add(I),u(te)},Y=()=>{c.size===L.length?u(new Set):u(new Set(L.map(I=>I.id)))},Z=()=>{i&&c.size>0&&(i(Array.from(c)),u(new Set))},U=()=>{s&&c.size>0&&h&&(s(Array.from(c),{pipeline_status_id:h}),u(new Set),f(!1),p(""))},W=m.useMemo(()=>new Map(t.map((I,te)=>[I.id,te])),[t]),A=I=>t.find(te=>te.id===I.pipeline_status_id),L=m.useMemo(()=>{let I=e;if(g.trim()){const T=g.toLowerCase(),K=Q=>Q?Q.toLowerCase().includes(T):!1;I=I.filter(Q=>{var $;return K(Q.client_name)||K(Q.property_address)||K(Q.city)||K(Q.state)||K(Q.client_email)||K(Q.client_phone)||K(($=Q.lead_sources)==null?void 0:$.name)})}const te=T=>{if(!T.stage_entered_at)return null;const K=new Date(T.stage_entered_at).getTime();return Number.isNaN(K)?null:Date.now()-K},z=(T,K)=>{var $;const Q=_e=>_e?_e.toLowerCase():null;switch(K){case"pipelineOrder":return W.get(T.pipeline_status_id||"")??9999;case"client":return Q(T.client_name);case"clientEmail":return Q(T.client_email);case"clientPhone":return Q(T.client_phone);case"property":return Q(T.property_address);case"city":return Q(T.city);case"state":return Q(T.state);case"zip":return Q(T.zip);case"dealType":return Q(T.deal_type);case"pipelineStatus":return W.get(T.pipeline_status_id||"")??9999;case"status":return Q(T.status);case"leadSource":return Q((($=T.lead_sources)==null?void 0:$.name)||T.lead_source_name);case"expectedPrice":return T.expected_sale_price??null;case"actualPrice":return T.actual_sale_price??null;case"netCommission":return n(T);case"grossCommissionRate":return T.gross_commission_rate??null;case"brokerageSplitRate":return T.brokerage_split_rate??null;case"referralOutRate":return T.referral_out_rate??null;case"referralInRate":return T.referral_in_rate??null;case"transactionFee":return T.transaction_fee??null;case"daysInStage":return te(T);case"stageEnteredAt":return T.stage_entered_at?new Date(T.stage_entered_at).getTime():null;case"closeDate":return T.close_date?new Date(T.close_date).getTime():null;case"closedAt":return T.closed_at?new Date(T.closed_at).getTime():null;case"nextTaskDueDate":return T.next_task_due_date?new Date(T.next_task_due_date).getTime():null;case"nextTaskDescription":return Q(T.next_task_description);case"createdAt":return T.created_at?new Date(T.created_at).getTime():null;case"updatedAt":return T.updated_at?new Date(T.updated_at).getTime():null;default:return Q(T[K])}},X=(T,K)=>T==null?K==null?0:1:K==null?-1:typeof T=="number"&&typeof K=="number"?T-K:String(T).localeCompare(String(K));return[...I].sort((T,K)=>{const Q=_.column,$=z(T,Q),_e=z(K,Q),R=X($,_e);if(R!==0)return R*(_.direction==="asc"?1:-1);const ie=new Date(K.created_at).getTime()-new Date(T.created_at).getTime();return _.direction==="asc"?ie:-ie})},[e,g,_,W,n]),se=_.column==="pipelineOrder"?"pipelineStatus":_.column,ee=I=>{const te=I==="pipelineStatus"?"pipelineOrder":I;j(z=>z.column===te?{column:te,direction:z.direction==="asc"?"desc":"asc"}:{column:te,direction:"asc"})},me=I=>se===I||_.column==="pipelineOrder"&&I==="pipelineStatus"?l.jsx("span",{className:"text-[11px] font-semibold text-gray-500",children:_.direction==="asc"?"":""}):l.jsx(yL,{className:"w-3 h-3 text-gray-300"});return l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(S0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:g,onChange:I=>y(I.target.value),placeholder:"Search by client, property, city, or lead source...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>b(I=>!I),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition whitespace-nowrap",children:[l.jsx(PC,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Columns"}),l.jsx("span",{className:"sm:hidden",children:"Cols"})]}),l.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-[rgb(0,122,255)] hover:bg-[rgb(0,110,230)] text-white rounded-lg transition-colors whitespace-nowrap",children:[l.jsx(fv,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Import Deals"}),l.jsx("span",{className:"sm:hidden",children:"Import"})]})]})]}),w&&l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Visible Columns (",S.length," of ",ko.length,")"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Choose which deal fields appear in the table."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:C,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Select All"}),l.jsx("button",{onClick:E,className:"px-3 py-1.5 text-xs font-medium text-gray-600 border border-gray-300 rounded-lg hover:bg-white",children:"Reset Defaults"}),l.jsx("button",{onClick:()=>b(!1),className:"px-3 py-1.5 text-xs font-medium text-blue-600",children:"Done"})]})]}),l.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:ko.map(I=>l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 bg-white border border-gray-200 rounded-lg px-3 py-2",children:[l.jsx("input",{type:"checkbox",checked:S.includes(I.id),onChange:()=>k(I.id),className:"text-blue-600 rounded"}),l.jsx("span",{children:I.label})]},I.id))})]})]}),c.size>0&&l.jsxs("div",{className:"bg-sky-50 border-b border-sky-200 px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm font-medium text-sky-900",children:[c.size," deal",c.size>1?"s":""," selected"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>f(!d),className:"px-3 py-1.5 bg-white border border-sky-300 text-sky-700 rounded-lg hover:bg-sky-50 transition flex items-center gap-2 text-sm",children:[l.jsx(ML,{className:"w-4 h-4"}),"Update Status"]}),l.jsxs("button",{onClick:Z,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg transition flex items-center gap-2 text-sm",children:[l.jsx(Ti,{className:"w-4 h-4"}),"Delete"]})]})]}),d&&c.size>0&&l.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Update status to:"}),l.jsxs("select",{value:h,onChange:I=>p(I.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"",children:"Select status..."}),t.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]}),l.jsx("button",{onClick:U,disabled:!h,className:"px-4 py-1.5 bg-sky-600 hover:bg-sky-700 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Apply"}),l.jsx("button",{onClick:()=>{f(!1),p("")},className:"px-4 py-1.5 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:L.length>0&&c.size===L.length,onChange:Y,className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),P.map(I=>l.jsx("th",{scope:"col",className:`px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider ${I.headerClassName||""}`,children:l.jsxs("button",{type:"button",onClick:()=>ee(I.id),className:"flex items-center gap-1 text-left uppercase tracking-wider text-[11px]",children:[l.jsx("span",{children:I.label}),me(I.id)]})},I.id))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:O,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No deals yet. Create your first deal to get started!"})}):L.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",onClick:te=>te.stopPropagation(),children:l.jsx("input",{type:"checkbox",checked:c.has(I.id),onChange:()=>q(I.id),className:"w-4 h-4 text-sky-600 border-gray-300 rounded focus:ring-sky-500 cursor-pointer"})}),P.map(te=>l.jsx("td",{className:te.cellClassName||"px-4 py-4 text-sm text-gray-900 cursor-pointer",onClick:()=>!te.disableClick&&r(I),children:te.render({deal:I,onDealClick:r,calculateNetCommission:n,getDaysInStage:a,getStatusForDeal:A})},te.id))]},I.id))})]})}),v&&l.jsx(xZ,{onClose:()=>x(!1),onSuccess:()=>{x(!1),o==null||o()}})]})}function _Z({dealId:e}){const{user:t}=_t(),[r,n]=m.useState([]),[a,i]=m.useState(!0),[s,o]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState("");m.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:_,error:j}=await G.from("deal_notes").select("*").eq("deal_id",e).order("created_at",{ascending:!1});if(j)throw j;const S=(_||[]).map(N=>{var k,C;return{...N,user_email:t==null?void 0:t.email,user_name:N.user_id===(t==null?void 0:t.id)?((k=t==null?void 0:t.user_metadata)==null?void 0:k.name)||((C=t==null?void 0:t.email)==null?void 0:C.split("@")[0])||"You":"Team Member"}});n(S)}catch(_){console.error("Error loading notes:",_)}finally{i(!1)}},y=async()=>{if(!(!t||!h.trim())){o(!0);try{if(c){const{error:_}=await G.from("deal_notes").update({content:h,updated_at:new Date().toISOString()}).eq("id",c.id);if(_)throw _}else{const{error:_}=await G.from("deal_notes").insert({deal_id:e,user_id:t.id,content:h});if(_)throw _}p(""),u(null),f(!1),g()}catch(_){console.error("Error saving note:",_)}finally{o(!1)}}},v=async _=>{if(confirm("Are you sure you want to delete this note?"))try{const{error:j}=await G.from("deal_notes").delete().eq("id",_);if(j)throw j;g()}catch(j){console.error("Error deleting note:",j)}},x=_=>{u(_),p(_.content),f(!0)},w=()=>{u(null),p(""),f(!1)},b=_=>{const j=new Date(_),N=new Date().getTime()-j.getTime(),k=Math.floor(N/6e4),C=Math.floor(N/36e5),E=Math.floor(N/864e5);return k<1?"Just now":k<60?`${k}m ago`:C<24?`${C}h ago`:E<7?`${E}d ago`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return a?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(At,{className:"w-6 h-6 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(RL,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Notes"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",r.length,")"]})]}),!d&&l.jsxs("button",{onClick:()=>f(!0),className:"hig-btn-secondary text-sm py-2",children:[l.jsx(Ua,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Note"})]})]}),d&&l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:[l.jsx("textarea",{value:h,onChange:_=>p(_.target.value),placeholder:"Write a note...",className:"hig-input min-h-[100px] resize-y",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[l.jsx("button",{onClick:w,className:"hig-btn-secondary text-sm py-2",disabled:s,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:s||!h.trim(),className:"hig-btn-primary text-sm py-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[c?"Update":"Add"," Note"]})})]})]}),r.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No notes yet. Add your first note to track important information."}):l.jsx("div",{className:"space-y-3",children:r.map(_=>l.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 hover:shadow-sm transition-all",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[l.jsx("span",{className:"font-medium text-gray-900",children:_.user_name}),l.jsx("span",{className:"text-gray-400",children:""}),l.jsx("span",{className:"text-gray-500",children:b(_.created_at)}),_.updated_at!==_.created_at&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-400",children:""}),l.jsx("span",{className:"text-gray-500 text-xs",children:"edited"})]})]})}),_.user_id===(t==null?void 0:t.id)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>x(_),className:"p-1.5 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit note",children:l.jsx(NC,{className:"w-4 h-4",strokeWidth:2})}),l.jsx("button",{onClick:()=>v(_.id),className:"p-1.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete note",children:l.jsx(Ti,{className:"w-4 h-4",strokeWidth:2})})]})]}),l.jsx("p",{className:"text-[15px] text-gray-700 whitespace-pre-wrap leading-relaxed",children:_.content})]},_.id))})]})}function UD({deal:e,onClose:t,onDelete:r}){const{user:n,roleInfo:a}=_t(),i=(a==null?void 0:a.teamId)||null,[s,o]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState([]),[h,p]=m.useState([]),[g,y]=m.useState([]),[v,x]=m.useState(""),[w,b]=m.useState(""),[_,j]=m.useState(!1),[S,N]=m.useState(null),[k,C]=m.useState(""),[E,P]=m.useState(""),[O,q]=m.useState((e==null?void 0:e.status)==="dead"),[Y,Z]=m.useState(""),[U,W]=m.useState({client_name:(e==null?void 0:e.client_name)||"",client_phone:(e==null?void 0:e.client_phone)||"",client_email:(e==null?void 0:e.client_email)||"",property_address:(e==null?void 0:e.property_address)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zip:(e==null?void 0:e.zip)||"",deal_type:(e==null?void 0:e.deal_type)||"buyer",lead_source_id:(e==null?void 0:e.lead_source_id)||"",pipeline_status_id:(e==null?void 0:e.pipeline_status_id)||"",expected_sale_price:(e==null?void 0:e.expected_sale_price)||"",actual_sale_price:(e==null?void 0:e.actual_sale_price)||"",gross_commission_rate:(e==null?void 0:e.gross_commission_rate)||.03,brokerage_split_rate:(e==null?void 0:e.brokerage_split_rate)||.2,referral_out_rate:(e==null?void 0:e.referral_out_rate)||"",referral_in_rate:(e==null?void 0:e.referral_in_rate)||"",transaction_fee:(e==null?void 0:e.transaction_fee)||"",close_date:(e==null?void 0:e.close_date)||""});m.useEffect(()=>{M(),L(),e&&(se(),A()),q((e==null?void 0:e.status)==="dead")},[e,i,n==null?void 0:n.id]),m.useEffect(()=>{O&&W(H=>({...H,pipeline_status_id:""}))},[O]);const A=async()=>{if(!e)return;const{data:H,error:Me}=await G.from("deal_notes").select("content").eq("deal_id",e.id).ilike("content","Archive reason:%").order("created_at",{ascending:!1}).limit(1);if(!Me&&H&&H.length){const Ke=(H[0].content||"").replace(/^Archive reason:\s*/i,"").trim();Z(Ke)}},M=async()=>{if(!n)return;const{data:H,error:Me}=i?await G.from("lead_sources").select("*").eq("team_id",i).order("name"):{data:null,error:null};if(Me)return;const{data:De}=H!=null&&H.length?{data:H}:await G.from("lead_sources").select("*").eq("user_id",n.id).order("name");De&&f(De)},L=async()=>{if(!n)return;const{data:H,error:Me}=i?await G.from("pipeline_statuses").select("*").eq("team_id",i).order("sort_order"):{data:null,error:null};if(Me)return;const{data:De}=H!=null&&H.length?{data:H}:await G.from("pipeline_statuses").select("*").eq("user_id",n.id).order("sort_order");De&&(p(De),!e&&De.length>0&&!U.pipeline_status_id&&W(Ke=>({...Ke,pipeline_status_id:De[0].id})))},se=async()=>{if(!e||!n)return;const{data:H}=await G.from("tasks").select("*").eq("deal_id",e.id).eq("user_id",n.id);if(H){const Me=H.sort((De,Ke)=>!De.due_date&&!Ke.due_date?0:De.due_date?Ke.due_date?new Date(De.due_date).getTime()-new Date(Ke.due_date).getTime():1:-1);y(Me)}},ee=H=>{W({...U,lead_source_id:H});const Me=d.find(De=>De.id===H);Me&&!e&&W(De=>({...De,lead_source_id:H,brokerage_split_rate:Me.brokerage_split_rate}))},me=async H=>{if(H.preventDefault(),!n)return;o(!0);const Me=h.find(Tt=>Tt.id===U.pipeline_status_id);if(!U.lead_source_id){alert("Please select a lead source"),o(!1);return}if(O&&!Y){alert("Please choose an archive reason."),o(!1);return}const De={...U,user_id:n.id,lead_source_id:U.lead_source_id,pipeline_status_id:O?null:U.pipeline_status_id||null,status:O?"dead":Me?(Me.slug||Me.name||"new_lead").toLowerCase():"new_lead",expected_sale_price:Number(U.expected_sale_price)||0,actual_sale_price:U.actual_sale_price?Number(U.actual_sale_price):null,referral_out_rate:U.referral_out_rate?Number(U.referral_out_rate):null,referral_in_rate:U.referral_in_rate?Number(U.referral_in_rate):null,transaction_fee:Number(U.transaction_fee)||0,close_date:U.close_date||null,closed_at:O?new Date().toISOString():(e==null?void 0:e.closed_at)||null};let Ke=(e==null?void 0:e.id)||null;if(e)await G.from("deals").update(De).eq("id",e.id),Ke=e.id;else{const{data:Tt,error:Wi}=await G.from("deals").insert(De).select("id").single();!Wi&&(Tt!=null&&Tt.id)&&(Ke=Tt.id)}O&&Ke&&await G.from("deal_notes").insert({deal_id:Ke,user_id:n.id,content:`Archive reason: ${Y}`}),o(!1),t()},I=async()=>{!v.trim()||!e||!n||(await G.from("tasks").insert({deal_id:e.id,user_id:n.id,title:v,due_date:w||null,completed:!1}),x(""),b(""),j(!1),se())},te=async(H,Me)=>{await G.from("tasks").update({completed:!Me}).eq("id",H),se()},z=H=>{N(H.id),C(H.title),P(H.due_date||"")},X=async()=>{!k.trim()||!S||(await G.from("tasks").update({title:k,due_date:E||null}).eq("id",S),N(null),C(""),P(""),se())},pe=async H=>{await G.from("tasks").delete().eq("id",H),se()},T=()=>{N(null),C(""),P("")},K=async()=>{e&&(o(!0),await G.from("deals").delete().eq("id",e.id),o(!1),r&&r(),t())},Q=()=>{if(!e)return;const H={client_name:U.client_name,client_email:U.client_email,client_phone:U.client_phone,property_address:U.property_address,city:U.city,state:U.state,zip:U.zip,deal_type:U.deal_type,expected_sale_price:U.expected_sale_price,actual_sale_price:U.actual_sale_price},Me=new URLSearchParams({source:"pipelineiq",...Object.entries(H).reduce((De,[Ke,Tt])=>(Tt!=null&&Tt!==""&&(De[Ke]=String(Tt)),De),{})});window.open(`/contractscribe?${Me.toString()}`,"_blank","noopener,noreferrer")},_e=(Number(U.actual_sale_price)||Number(U.expected_sale_price)||0)*U.gross_commission_rate,R=_e*(1-U.brokerage_split_rate),ie=Number(U.referral_out_rate)||0,ae=Number(U.referral_in_rate)||0,he=Number(U.transaction_fee)||0,Ye=ie?R*(1-ie):R,Te=(ae?Ye*(1+ae):Ye)-he;return l.jsxs(l.Fragment,{children:[c&&l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",children:l.jsxs("div",{className:"hig-card max-w-md w-full p-6",children:[l.jsx("h3",{className:"hig-text-heading mb-2",children:"Delete Deal"}),l.jsx("p",{className:"hig-text-body text-gray-600 mb-6",children:"Are you sure you want to delete this deal? This action cannot be undone."}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:K,disabled:s,className:"bg-[rgb(255,59,48)] hover:bg-red-600 active:bg-red-700 text-white font-medium px-5 py-2 rounded-lg transition-colors duration-150 disabled:opacity-40 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:s?"Deleting...":"Delete"})]})]})}),l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"hig-card max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200/60 px-6 py-5 flex justify-between items-center backdrop-blur-md bg-white/95",children:[l.jsx("h2",{className:"hig-text-display",children:e?"Edit Deal":"New Deal"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-150",children:l.jsx(Ss,{className:"w-5 h-5 text-gray-600",strokeWidth:2})})]}),l.jsxs("form",{onSubmit:me,className:"p-6 space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Client Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Client Name *"}),l.jsx("input",{type:"text",value:U.client_name,onChange:H=>W({...U,client_name:H.target.value}),className:"hig-input",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Phone"}),l.jsx("input",{type:"tel",value:U.client_phone,onChange:H=>W({...U,client_phone:H.target.value}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",value:U.client_email,onChange:H=>W({...U,client_email:H.target.value}),className:"hig-input"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Property Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"hig-label",children:"Property Address"}),l.jsx("input",{type:"text",value:U.property_address,onChange:H=>W({...U,property_address:H.target.value}),className:"hig-input",placeholder:"e.g., 123 Main St"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"City"}),l.jsx("input",{type:"text",value:U.city,onChange:H=>W({...U,city:H.target.value}),className:"hig-input"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"State"}),l.jsx("input",{type:"text",value:U.state,onChange:H=>W({...U,state:H.target.value}),className:"hig-input",maxLength:2,placeholder:"CA"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"ZIP"}),l.jsx("input",{type:"text",value:U.zip,onChange:H=>W({...U,zip:H.target.value}),className:"hig-input",maxLength:10})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Deal Configuration"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Deal Type *"}),l.jsxs("select",{value:U.deal_type,onChange:H=>W({...U,deal_type:H.target.value}),className:"hig-input",children:[l.jsx("option",{value:"buyer",children:"Buyer"}),l.jsx("option",{value:"seller",children:"Seller"}),l.jsx("option",{value:"buyer_and_seller",children:"Buyer & Seller"}),l.jsx("option",{value:"renter",children:"Renter"}),l.jsx("option",{value:"landlord",children:"Landlord"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Lead Source *"}),l.jsxs("select",{value:U.lead_source_id,onChange:H=>ee(H.target.value),className:"hig-input",required:!0,children:[l.jsx("option",{value:"",children:"Select a source"}),d.map(H=>l.jsxs("option",{value:H.id,children:[H.name," (",(H.brokerage_split_rate*100).toFixed(0),"% split)"]},H.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Pipeline Status"}),l.jsxs("select",{value:U.pipeline_status_id,onChange:H=>W({...U,pipeline_status_id:H.target.value}),className:"hig-input",children:[l.jsx("option",{value:"",children:"Select a status"}),h.map(H=>l.jsx("option",{value:H.id,children:H.name},H.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Close Date"}),l.jsx("input",{type:"date",value:U.close_date,onChange:H=>W({...U,close_date:H.target.value}),className:"hig-input"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Financial Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Expected Sale Price *"}),l.jsx("input",{type:"number",value:U.expected_sale_price,onChange:H=>W({...U,expected_sale_price:H.target.value}),className:"hig-input",placeholder:"500,000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Actual Sale Price"}),l.jsx("input",{type:"number",value:U.actual_sale_price,onChange:H=>W({...U,actual_sale_price:H.target.value}),className:"hig-input",placeholder:"505,000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Commission Rate (%)"}),l.jsx("input",{type:"number",step:"0.01",value:U.gross_commission_rate*100,onChange:H=>W({...U,gross_commission_rate:parseFloat(H.target.value)/100||0}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Brokerage Split (% to broker)"}),l.jsx("input",{type:"number",step:"0.01",value:U.brokerage_split_rate*100,onChange:H=>W({...U,brokerage_split_rate:parseFloat(H.target.value)/100||0}),className:"hig-input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Transaction Fee"}),l.jsx("input",{type:"number",value:U.transaction_fee,onChange:H=>W({...U,transaction_fee:H.target.value}),className:"hig-input",placeholder:"500"})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200/60",children:[l.jsx("h3",{className:"hig-text-heading mb-4",children:"Commission Breakdown"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"Gross Commission"}),l.jsxs("span",{className:"hig-text-body font-medium",children:["$",_e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"After Brokerage Split"}),l.jsxs("span",{className:"hig-text-body font-medium",children:["$",R.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-body text-gray-600",children:"Transaction Fee"}),l.jsxs("span",{className:"hig-text-body font-medium text-gray-500",children:["-$",he.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"hig-divider my-3"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"hig-text-heading",children:"Net to Agent"}),l.jsxs("span",{className:"text-xl font-semibold text-[rgb(52,199,89)]",children:["$",Te.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),e&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dv,{className:"w-5 h-5 text-gray-600",strokeWidth:2}),l.jsx("h3",{className:"font-semibold text-gray-900",children:"Tasks"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",g.length,")"]})]}),!_&&l.jsxs("button",{type:"button",onClick:()=>j(!0),className:"hig-btn-secondary text-sm py-2",children:[l.jsx(Ua,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Task"})]})]}),_&&l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{id:"task-title-input",type:"text",value:v,onChange:H=>x(H.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:H=>{H.key==="Enter"&&(H.preventDefault(),I())}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"date",value:w,onChange:H=>b(H.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),l.jsx("button",{type:"button",onClick:()=>{j(!1),x(""),b("")},className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),l.jsx("button",{type:"button",onClick:I,disabled:!v.trim(),className:"hig-btn-primary text-sm py-2",children:l.jsx("span",{children:"Add Task"})})]})]})}),l.jsx("div",{className:"space-y-2",children:g.map(H=>{const Me=H.due_date&&!H.completed&&new Date(H.due_date)<new Date,De=H.due_date&&!H.completed&&new Date(H.due_date).toDateString()===new Date().toDateString();return S===H.id?l.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200/60",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"text",value:k,onChange:Ke=>C(Ke.target.value),placeholder:"Task description...",className:"hig-input",autoFocus:!0,onKeyPress:Ke=>{Ke.key==="Enter"&&(Ke.preventDefault(),X())}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"date",value:E,onChange:Ke=>P(Ke.target.value),placeholder:"Due date (optional)",className:"hig-input flex-1"}),l.jsx("button",{type:"button",onClick:T,className:"hig-btn-secondary text-sm py-2",children:"Cancel"}),l.jsx("button",{type:"button",onClick:X,disabled:!k.trim(),className:"hig-btn-primary text-sm py-2",children:"Save"})]})]})},H.id):l.jsx("div",{className:"group flex items-center p-3 bg-white border border-gray-200/60 rounded-xl hover:shadow-sm transition-all",children:l.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[l.jsx("button",{type:"button",onClick:()=>te(H.id,H.completed),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-150 ${H.completed?"bg-[rgb(52,199,89)] border-[rgb(52,199,89)]":"border-gray-300 hover:border-[rgb(52,199,89)]"}`,children:H.completed&&l.jsx(Nc,{className:"w-3 h-3 text-white",strokeWidth:2.5})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:H.completed?"line-through text-gray-500 hig-text-body":"text-gray-900 hig-text-body",children:H.title}),H.due_date&&l.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[l.jsx(Sc,{className:"w-3.5 h-3.5 text-gray-400",strokeWidth:2}),l.jsxs("span",{className:`hig-text-caption ${Me?"text-[rgb(255,59,48)] font-medium":De?"text-[rgb(255,149,0)] font-medium":H.completed?"text-gray-400":"text-gray-500"}`,children:[Me?"Overdue: ":De?"Due today: ":"",new Date(H.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{type:"button",onClick:()=>z(H),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit task",children:l.jsx(NC,{className:"w-4 h-4 text-gray-600",strokeWidth:2})}),l.jsx("button",{type:"button",onClick:()=>pe(H.id),className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete task",children:l.jsx(Ti,{className:"w-4 h-4 text-red-600",strokeWidth:2})})]})]})},H.id)})})]}),e&&l.jsx("div",{className:"pt-8 border-t border-gray-200/60",children:l.jsx(_Z,{dealId:e.id})}),l.jsx("div",{className:"rounded-xl border border-gray-200/70 bg-white/90 p-5 shadow-sm",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-gray-100 border border-gray-200",children:l.jsx(dv,{className:"h-5 w-5 text-gray-700"})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900",children:"Archive this deal (Closed Lost)"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Use when a deal falls through, goes MIA, or stops responding. Well remove it from the active pipeline and track it for KPIs."})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3 md:items-center",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 md:justify-self-start",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Archived"}),l.jsx("input",{type:"checkbox",checked:O,onChange:H=>q(H.target.checked),className:"h-5 w-5 rounded border-gray-300 text-[rgb(0,122,255)] focus:ring-[rgb(0,122,255)]"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"hig-label mb-1",children:"Archive reason"}),l.jsxs("select",{value:Y,onChange:H=>Z(H.target.value),className:"hig-input",disabled:!O,children:[l.jsx("option",{value:"",children:"Select a reason"}),l.jsx("option",{value:"No Response / Ghosted",children:"No Response / Ghosted"}),l.jsx("option",{value:"Client Not Ready / Timeline Changed",children:"Client Not Ready / Timeline Changed"}),l.jsx("option",{value:"Chose Another Agent",children:"Chose Another Agent"}),l.jsx("option",{value:"Financing Didnt Work Out",children:"Financing Didnt Work Out"}),l.jsx("option",{value:"Deal Fell Through",children:"Deal Fell Through"})]})]})]})]})]})}),l.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200/60",children:[l.jsx("div",{className:"flex gap-3",children:e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:Q,className:"hig-btn-secondary gap-2",children:[l.jsx(wC,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Generate Offer"})]}),l.jsxs("button",{type:"button",onClick:()=>u(!0),className:"bg-white hover:bg-red-50 active:bg-red-100 text-[rgb(255,59,48)] font-medium px-5 py-2 rounded-lg border border-red-200 transition-colors duration-150 text-[15px] min-h-[44px] inline-flex items-center justify-center gap-2",children:[l.jsx(Ti,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Delete"})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,className:"hig-btn-primary",children:s?"Saving...":e?"Update Deal":"Create Deal"})]})]})]})]})})]})}const zc=[{name:"Snow",value:"#F9FAFB"},{name:"Pearl",value:"#F3F4F6"},{name:"Mist",value:"#E5E7EB"},{name:"Silver Fog",value:"#D1D5DB"},{name:"Ice Blue",value:"#E8F1FF"},{name:"Cloud Blue",value:"#D6E7FF"},{name:"Sky Wash",value:"#C3DBFF"},{name:"Pale Azure",value:"#AECFFF"},{name:"Soft Blue",value:"#98C3FF"},{name:"Bluebell",value:"#87B6F9"},{name:"Foggy Indigo",value:"#AEB8D9"},{name:"Lavender Mist",value:"#F2EDFF"},{name:"Lilac Whisper",value:"#E8E2FF"},{name:"Soft Violet",value:"#D8D0FF"},{name:"Periwinkle Light",value:"#C7C3FF"},{name:"Muted Orchid",value:"#B7B2F2"},{name:"Barely Purple",value:"#DDD6F6"},{name:"Blush Tint",value:"#FFE8F3"},{name:"Pink Dew",value:"#FFD6E8"},{name:"Rosewater",value:"#F9C8DB"},{name:"Petal Pink",value:"#F5B8CD"},{name:"Soft Berry",value:"#E8A7C3"},{name:"Muted Magenta",value:"#D3A6C9"},{name:"Rose Mist",value:"#FFE5E5"},{name:"Pale Coral",value:"#FFD4D4"},{name:"Soft Clay",value:"#F5B8B8"},{name:"Muted Red",value:"#EFA9A9"},{name:"Peach Wash",value:"#FFF1E6"},{name:"Apricot Mist",value:"#FFE3CC"},{name:"Soft Tangerine",value:"#FFD1AE"},{name:"Warm Peach",value:"#F7C39C"},{name:"Muted Orange",value:"#E7B690"},{name:"Sunhaze",value:"#FFF8DD"},{name:"Lemon Tint",value:"#FFF2BB"},{name:"Buttercream",value:"#FFECA1"},{name:"Golden Mist",value:"#FFE38C"},{name:"Muted Amber",value:"#F6D67C"},{name:"Mint Wash",value:"#E6FFF5"},{name:"Soft Mint",value:"#CFF9EA"},{name:"Pale Green",value:"#B7F0D9"},{name:"Seafoam",value:"#A1E8CC"},{name:"Soft Teal",value:"#8EDCC0"},{name:"Muted Green",value:"#7BCDB1"},{name:"Aqua Mist",value:"#E5FAFF"},{name:"Arctic Blue",value:"#CDF2FA"},{name:"Icy Teal",value:"#B5E8F0"},{name:"Soft Cyan",value:"#A1DEEA"},{name:"Muted Teal",value:"#8DCFD9"},{name:"Sandstone",value:"#F7EFE6"},{name:"Driftwood",value:"#EADFD2"},{name:"Clay Neutral",value:"#DDCEBF"},{name:"Soft Taupe",value:"#CFC1B2"}],eo=zc[0].value;function SS({value:e,onChange:t}){const r=e?Bh(e):eo,n=r.toLowerCase(),a=zc.find(i=>i.value.toLowerCase()===n);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 shadow-inner",children:[l.jsxs("div",{className:"relative flex h-12 w-12 items-center justify-center rounded-2xl border border-white/40 shadow",children:[l.jsx("span",{className:"absolute inset-0 rounded-2xl",style:{backgroundColor:r}}),l.jsx(Nc,{className:"relative h-5 w-5 text-white drop-shadow",strokeWidth:2.5})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Selected color"}),l.jsx("span",{className:"text-xs text-gray-500",children:a?"From palette":"Custom"})]})]}),l.jsx("div",{className:"grid grid-cols-6 gap-3 sm:grid-cols-8",children:zc.map(i=>{const s=i.value.toLowerCase()===n;return l.jsxs("button",{type:"button",onClick:()=>t(i.value),className:`relative h-10 w-10 rounded-2xl border transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--app-accent)]/40 ${s?"border-[var(--app-accent)] shadow-[0_8px_18px_rgba(15,23,42,0.15)]":"border-white/70 shadow-inner hover:border-gray-300"}`,style:{backgroundColor:i.value},"aria-label":`${i.name} color`,children:[s&&l.jsx(Nc,{className:"absolute inset-0 m-auto h-4 w-4 text-white drop-shadow",strokeWidth:2.5}),l.jsx("span",{className:"sr-only",children:i.name})]},i.value)})})]})}const jZ=e=>zc[e%zc.length].value,SZ={"new lead":"#E8F1FF",contacted:"#AECFFF","warm lead":"#FFF1E6","hot lead":"#FFD1AE","showing scheduled":"#98C3FF","offer submitted":"#87B6F9",inspection:"#B7F0D9",appraisal:"#C3DBFF","under contract":"#8EDCC0",financing:"#FFE38C","title review":"#8DCFD9","clear to close":"#CFF9EA",closed:"#E6FFF5",lost:"#FFE5E5",lead:"#C3DBFF","in progress":"#98C3FF",pending:"#8EDCC0","advanced transaction pipeline":"#E5FAFF"},rg=(e,t)=>{const r=SZ[e.trim().toLowerCase()];return r||jZ(t)},NZ=e=>`pipeline-status-color-overrides:${e}`;function zD(){const{user:e,roleInfo:t}=_t(),[r,n]=m.useState([]),[a,i]=m.useState(!0),[s,o]=m.useState(null),[c,u]=m.useState({}),d=m.useRef({}),f=(t==null?void 0:t.teamId)||null,h=e?NZ(e.id):null,p=m.useCallback(()=>{if(typeof window>"u"||!h)return{};try{const C=window.localStorage.getItem(h);if(!C)return{};const E=JSON.parse(C);if(E&&typeof E=="object")return E}catch(C){console.warn("Failed to read status color overrides",C)}return{}},[h]),g=m.useCallback(C=>{typeof window>"u"||!h||window.localStorage.setItem(h,JSON.stringify(C))},[h]),y=m.useCallback((C,E)=>{var O;const P=(O=C.color)==null?void 0:O.trim();return P||rg(C.name,E)},[]),v=m.useCallback(async()=>{if(!e){n([]),i(!1);return}i(!0);try{const{data:C,error:E}=f?await G.from("pipeline_statuses").select("*").eq("team_id",f).order("sort_order",{ascending:!0}):{data:null,error:null};if(E)throw E;const P=!!(C!=null&&C.length),{data:O,error:q}=P?{data:null,error:null}:await G.from("pipeline_statuses").select("*").eq("user_id",e.id).order("sort_order",{ascending:!0});if(q)throw q;const Y=P?C:O;if(!Y)throw new Error("Failed to load pipeline statuses");const Z=Y||[],U=[],W=p(),A={},M=Z.map((L,se)=>{const ee=y(L,se);A[L.id]=ee;const me=W[L.id];return!L.color&&ee&&U.push({id:L.id,color:ee}),{...L,color:me||ee}});U.length>0&&await Promise.all(U.map(L=>G.from("pipeline_statuses").update({color:L.color}).eq("id",L.id))),d.current=A,u(W),n(M),o(null)}catch(C){console.error("Error loading pipeline statuses:",C),o(C instanceof Error?C.message:"Failed to load statuses")}finally{i(!1)}},[e,f,p,y]);return m.useEffect(()=>{v()},[v]),{statuses:r,loading:a,error:s,colorOverrides:c,addStatus:async(C,E)=>{if(!e)return;const P=Math.max(...r.map(U=>U.sort_order),0),O=C.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),q=(E==null?void 0:E.trim())||rg(C,P),{data:Y,error:Z}=await G.from("pipeline_statuses").insert({user_id:e.id,team_id:f,name:C,slug:O,sort_order:P+1,color:q,is_default:!1}).select().single();if(Z)throw Z;return await v(),Y},updateStatus:async(C,E)=>{const{error:P}=await G.from("pipeline_statuses").update(E).eq("id",C);if(P)throw P;await v()},deleteStatus:async C=>{const{data:E}=await G.from("deals").select("id",{count:"exact",head:!0}).eq("pipeline_status_id",C);if(E&&E.count>0)throw new Error("Cannot delete status with active deals. Please reassign deals first.");const{error:P}=await G.from("pipeline_statuses").delete().eq("id",C);if(P)throw P;await v()},reorderStatuses:async C=>{const E=C.map((P,O)=>({id:P.id,sort_order:O+1}));for(const P of E)await G.from("pipeline_statuses").update({sort_order:P.sort_order}).eq("id",P.id);await v()},applyTemplate:async C=>{if(!e)return;const{error:E}=await G.rpc("apply_pipeline_template",{p_user_id:e.id,p_template_name:C});if(E)throw E;f&&await G.from("pipeline_statuses").update({team_id:f}).eq("user_id",e.id).is("team_id",null);const{error:P}=await G.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});P&&console.error("Error migrating deals:",P),await v()},createCustomWorkflow:async C=>{if(!e)return;const E=C.map(U=>U.trim()).filter(U=>U.length>0);if(E.length===0)throw new Error("Please provide at least one stage.");const P=f?{team_id:f}:{user_id:e.id},{error:O}=await G.from("pipeline_statuses").delete().match(P);if(O)throw O;const q=E.map((U,W)=>({user_id:e.id,team_id:f,name:U,slug:U.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),sort_order:W+1,color:rg(U,W),is_default:W===0})),{error:Y}=await G.from("pipeline_statuses").insert(q);if(Y)throw Y;const{error:Z}=await G.rpc("migrate_user_deals_to_pipeline_statuses",{p_user_id:e.id});Z&&console.error("Error migrating deals after custom workflow:",Z),await v()},reload:v,setPersonalStatusColor:(C,E)=>{if(!h)return;const O={...p(),[C]:E};g(O),u(O),n(q=>q.map(Y=>Y.id===C?{...Y,color:E}:Y))},clearPersonalStatusColor:C=>{if(!h)return;const E=p();if(!(C in E))return;const{[C]:P,...O}=E;g(O),u(O),n(q=>q.map(Y=>{if(Y.id!==C)return Y;const Z=d.current[C]||y(Y,(Y.sort_order||1)-1);return{...Y,color:Z}}))}}}function kZ(){const[e,t]=m.useState([]),[r,n]=m.useState(!0);return m.useEffect(()=>{(async()=>{const{data:i,error:s}=await G.from("pipeline_templates").select("*").eq("is_system",!0).order("name");!s&&i&&t(i),n(!1)})()},[]),{templates:e,loading:r}}const CZ={"Basic Pipeline":{description:"Simple 6-stage pipeline ideal for new agents",stages:["New Lead","Contacted","Showing Scheduled","Offer Submitted","Under Contract","Closed"]},"Advanced Transaction Pipeline":{description:"Comprehensive 13-stage pipeline covering all transaction phases",stages:["New Lead","Warm Lead","Hot Lead","Showing Scheduled","Offer Submitted","Inspection","Appraisal","Under Contract","Financing","Title Review","Clear to Close","Closed","Lost"]},Minimalist:{description:"Streamlined 4-stage pipeline for quick deal tracking",stages:["Lead","In Progress","Pending","Closed"]}};function WD({onClose:e,onSelect:t,onCreateCustomWorkflow:r,title:n="Choose Your Pipeline Workflow"}){const{templates:a}=kZ(),[i,s]=m.useState(null),[o,c]=m.useState(!1),[u,d]=m.useState(["New Lead","Contacted","Closed"]),[f,h]=m.useState(""),[p,g]=m.useState(!1),[y,v]=m.useState(null),x=async()=>{if(o){if(!r){v("Custom workflows are not supported here.");return}if(u.length<2){v("Add at least two stages to create a custom workflow.");return}g(!0),v(null);try{await r(u),e()}catch(w){console.error("Error creating custom workflow:",w),v(w instanceof Error?w.message:"Failed to create workflow")}finally{g(!1)}return}if(i){g(!0),v(null);try{await t(i),e()}catch(w){console.error("Error applying template:",w),v(w instanceof Error?w.message:"Failed to apply template")}finally{g(!1)}}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"app-surface w-full max-w-4xl max-h-[92vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Pipeline"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:n}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Start from a proven template or create a custom workflow tailored to your team."})]}),l.jsx("button",{onClick:e,className:"rounded-full border border-gray-200/80 bg-white p-2 text-gray-500 hover:text-gray-900",children:l.jsx(Ss,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-5 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Recommended workflows"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Choose the pipeline structure that mirrors your current process."})]}),r&&l.jsxs("button",{onClick:()=>c(w=>!w),className:"inline-flex items-center gap-2 rounded-2xl border border-white/60 bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-[0_2px_8px_rgba(15,23,42,0.08)] transition hover:border-[var(--app-accent)]/30 hover:text-[var(--app-accent)]",children:[l.jsx(Ua,{className:"h-4 w-4"}),"Custom workflow"]})]}),o?l.jsxs("div",{className:"rounded-2xl border border-[var(--app-border)] bg-white/90 p-5 shadow-inner",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Custom workflow"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Define the stages that reflect your teams unique process. Drag to reorder later in settings."}),l.jsxs("div",{className:"mt-4 space-y-3",children:[u.map((w,b)=>l.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[l.jsxs("span",{className:"text-xs font-semibold text-gray-500",children:["Stage ",b+1]}),l.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:w}),l.jsx("button",{onClick:()=>d(_=>_.filter((j,S)=>S!==b)),className:"text-gray-400 hover:text-red-500",type:"button",children:l.jsx(Ti,{className:"h-4 w-4"})})]},w)),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:f,onChange:w=>h(w.target.value),placeholder:"Add a stage...",className:"hig-input flex-1 text-sm"}),l.jsx("button",{onClick:()=>{f.trim()&&(d(w=>[...w,f.trim()]),h(""))},className:"hig-btn-primary",type:"button",children:"Add"})]})]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.filter(w=>w.name!=="Buyer/Seller Split Pipeline").map(w=>{const b=CZ[w.name],_=i===w.name;return l.jsxs("button",{onClick:()=>s(w.name),className:`rounded-2xl border px-5 py-4 text-left transition ${_?"border-[var(--app-accent)]/40 bg-[var(--app-surface-muted)] shadow-[inset_0_0_0_1px_rgba(10,132,255,0.08)]":"border-white/70 bg-white hover:border-[var(--app-accent)]/30"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:w.name}),l.jsx("p",{className:"text-sm text-gray-600",children:(b==null?void 0:b.description)||w.description})]}),_&&l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)] text-white",children:l.jsx(Nc,{className:"h-4 w-4"})})]}),b&&l.jsxs("div",{className:"mt-3 space-y-1 text-xs text-gray-500",children:[l.jsxs("p",{className:"font-semibold",children:["Stages (",b.stages.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.stages.map((j,S)=>l.jsx("span",{className:"rounded-full border border-gray-200/70 px-2 py-0.5 text-[11px] text-gray-600",children:j},S))})]})]},w.id)})}),y&&l.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:y})]}),l.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/60 px-6 py-4",children:[l.jsx("button",{onClick:e,disabled:p,className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Cancel"}),l.jsx("button",{onClick:x,disabled:o&&u.length<2||!o&&!i||p,className:"hig-btn-primary min-w-[140px] justify-center",children:p?"Applying":o?"Create Workflow":"Apply Template"})]})]})})}const EZ="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",PZ="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-3 py-1.5 text-sm font-medium text-gray-600 transition",NS="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",OZ=["buyer","seller","buyer_and_seller","renter","landlord"],kS={buyer:{label:"Buyer",accentClass:"bg-blue-50 text-blue-700 border-blue-200",matches:["buyer","buyer_and_seller"]},seller:{label:"Seller",accentClass:"bg-emerald-50 text-emerald-700 border-emerald-200",matches:["seller","buyer_and_seller"]},buyer_and_seller:{label:"Buyer & Seller",accentClass:"bg-purple-50 text-purple-700 border-purple-200",matches:["buyer_and_seller"]},renter:{label:"Renter",accentClass:"bg-orange-50 text-orange-700 border-orange-200",matches:["renter"]},landlord:{label:"Landlord",accentClass:"bg-teal-50 text-teal-700 border-teal-200",matches:["landlord"]}};function AZ(){const{user:e,roleInfo:t}=_t(),{statuses:r,loading:n,applyTemplate:a,createCustomWorkflow:i}=zD(),[s,o]=m.useState([]),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,p]=m.useState(!1),[g,y]=m.useState(null),[v,x]=m.useState(!1),[w,b]=m.useState("kanban"),[_,j]=m.useState("all"),[S,N]=o2(),k=S.get("newDeal"),C=m.useMemo(()=>{const z=new Map;return r.forEach(X=>{z.set(X.id,X)}),s.forEach(X=>{X.pipeline_statuses&&!z.has(X.pipeline_statuses.id)&&z.set(X.pipeline_statuses.id,X.pipeline_statuses)}),Array.from(z.values()).sort((X,pe)=>{const T=X.sort_order??999,K=pe.sort_order??999;return T===K?X.name.localeCompare(pe.name):T-K})},[r,s]),E=Th(Ah(rl,{activationConstraint:{distance:5}}));m.useEffect(()=>{P()},[e,t]),m.useEffect(()=>{if(k){y(null),p(!0);const z=new URLSearchParams(S);z.delete("newDeal"),N(z,{replace:!0})}},[k,S,N]),m.useEffect(()=>{!n&&C.length===0&&x(!0)},[n,C]);const P=async()=>{if(!(!e||!t)){u(!0);try{const z=async()=>{if(!t.teamId)return[];const{data:Q,error:$}=await G.from("user_teams").select("user_id").eq("team_id",t.teamId);return $?(console.error("Error loading team members",$),[]):(Q||[]).map(_e=>_e.user_id)};let X=[];switch(t.globalRole){case"admin":{X=await ki(t);break}case"sales_manager":{const Q=await z();X=Q.length?Q:await ki(t);break}case"team_lead":{const Q=await z();X=Q.length?Q:[t.userId];break}default:X=[t.userId]}let pe=G.from("deals").select(`
          *,
          lead_sources (*),
          pipeline_statuses (*)
        `).order("created_at",{ascending:!1});X.length===1?pe=pe.eq("user_id",X[0]):X.length>1&&(pe=pe.in("user_id",X));const{data:T,error:K}=await pe;if(K)console.error("Error loading deals",K),o([]);else{const Q=new Date().getFullYear(),$=(T||[]).filter(_e=>{if(_e.status!=="closed")return!0;const R=_e.close_date||_e.closed_at;return R?new Date(R).getFullYear()>=Q:!1});o($)}}catch(z){console.error("Error resolving visible users",z),o([])}finally{u(!1)}}},O=z=>{const X=s.find(pe=>pe.id===z.active.id);f(X||null)},q=async z=>{const{active:X,over:pe}=z;if(f(null),!pe)return;const T=X.id,K=s.find(he=>he.id===T);if(!K)return;const Q=s.find(he=>he.id===pe.id),$=Q?Q.pipeline_status_id:pe.id;if(!$)return;if($===K.pipeline_status_id){Q&&Q.id!==K.id&&Q.deal_type===K.deal_type&&o(he=>{const Ye=he.findIndex(Te=>Te.id===K.id),Ae=he.findIndex(Te=>Te.id===Q.id);return Ye===-1||Ae===-1?he:Mh(he,Ye,Ae)});return}const _e=C.find(he=>he.id===$);if(!_e)return;const R={pipeline_status_id:$,status:(_e.slug||_e.name||"").toLowerCase(),stage_entered_at:new Date().toISOString()};(typeof _e.slug=="string"&&_e.slug.length>0?_e.slug.toLowerCase():(_e.name||"").toLowerCase()).includes("closed")&&(R.closed_at=new Date().toISOString());const{error:ae}=await G.from("deals").update(R).eq("id",T);ae||P()},Y=z=>{y(z),p(!0)},Z=()=>{p(!1),y(null),P()},U=(_==="all"?s:s.filter(z=>kS[_].matches.includes(z.deal_type))).filter(z=>z.status!=="dead"),W=z=>U.filter(X=>X.pipeline_status_id===z),A=z=>{const T=(z.actual_sale_price||z.expected_sale_price)*z.gross_commission_rate*(1-z.brokerage_split_rate);return(z.referral_out_rate?T*(1-z.referral_out_rate):T)-z.transaction_fee},M=z=>{const X=new Date(z),T=new Date().getTime()-X.getTime();return Math.floor(T/(1e3*60*60*24))},L=async z=>{if(!confirm(`Are you sure you want to delete ${z.length} deal${z.length>1?"s":""}?`))return;const{error:X}=await G.from("deals").delete().in("id",z);X||P()},se=async(z,X)=>{const pe={};if(X.pipeline_status_id){pe.pipeline_status_id=X.pipeline_status_id,pe.stage_entered_at=new Date().toISOString();const K=C.find(Q=>Q.id===X.pipeline_status_id);(K==null?void 0:K.name.toLowerCase())==="closed"?(pe.status="closed",pe.closed_at=new Date().toISOString()):(K==null?void 0:K.name.toLowerCase())==="dead"&&(pe.status="dead")}const{error:T}=await G.from("deals").update(pe).in("id",z);T||P()},ee=z=>{const X=z.filter($=>$.deal_type==="buyer"||$.deal_type==="buyer_and_seller").length,pe=z.filter($=>$.deal_type==="seller"||$.deal_type==="buyer_and_seller").length,T=z.filter($=>$.deal_type==="renter").length,K=z.filter($=>$.deal_type==="landlord").length,Q=z.reduce(($,_e)=>$+A(_e),0);return{buyers:X,sellers:pe,renters:T,landlords:K,totalCommission:Q}},me=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(z),I=ee(U),te=[{label:"Buyers",value:I.buyers,display:I.buyers.toString()},{label:"Sellers",value:I.sellers,display:I.sellers.toString()},{label:"Renters",value:I.renters,display:I.renters.toString()},{label:"Landlords",value:I.landlords,display:I.landlords.toString()},{label:"Net Commission",value:I.totalCommission,display:me(I.totalCommission)}].filter(z=>z.value>0);return c||n?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6 min-h-full",children:[l.jsxs("div",{className:`${EZ} p-6 space-y-4`,children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Pipeline"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Active deals workspace"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Monitor every opportunity, shift deals between stages, and launch new work without leaving this view."})]}),l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsxs("div",{className:"inline-flex items-center rounded-full border border-gray-200/80 bg-white/80 p-1 shadow-inner",children:[l.jsxs("button",{onClick:()=>b("kanban"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${w==="kanban"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(EL,{className:"w-4 h-4"}),l.jsx("span",{children:"Kanban"})]}),l.jsxs("button",{onClick:()=>b("table"),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${w==="table"?"bg-[var(--app-accent)] text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(SC,{className:"w-4 h-4"}),l.jsx("span",{children:"Table"})]})]}),l.jsxs("button",{onClick:()=>{y(null),p(!0)},className:"inline-flex items-center justify-center gap-2 rounded-2xl border border-white/50 bg-[var(--app-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_8px_16px_rgba(15,23,42,0.12)] transition hover:bg-[var(--app-accent-dark,#0052cc)]",children:[l.jsx(Ua,{className:"w-4 h-4"}),l.jsx("span",{children:"New Deal"})]})]})]}),te.length>0&&l.jsx("div",{className:"flex flex-wrap gap-3",children:te.map(z=>l.jsxs("div",{className:`${PZ} gap-2`,children:[l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:z.label}),l.jsx("span",{className:"font-semibold text-gray-900",children:z.display})]},z.label))}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Deal types"}),_!=="all"&&l.jsx("button",{onClick:()=>j("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>j("all"),className:`${NS} ${_==="all"?"bg-gray-900 text-white border-gray-900 shadow-sm":"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:"All deals"}),OZ.map(z=>{const X=kS[z],pe=_===z;return l.jsx("button",{onClick:()=>j(z),className:`${NS} ${pe?`${X.accentClass} shadow-sm ring-1 ring-black/5`:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:X.label},z)})]})]})]}),C.length===0?l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(kh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configure Your Pipeline"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Choose a template to get started with your pipeline workflow"}),l.jsx("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:"Choose Pipeline Template"})]})}):w==="kanban"?l.jsxs(Rh,{sensors:E,collisionDetection:b3,onDragStart:O,onDragEnd:q,children:[l.jsx("div",{className:"pb-2 overflow-x-auto",children:l.jsx("div",{className:"flex gap-3 sm:gap-4 pb-4 px-2 sm:px-6 min-w-max",children:C.map(z=>l.jsx(lZ,{status:z.id,label:z.name,color:z.color,deals:W(z.id),onDealClick:Y,calculateNetCommission:A,getDaysInStage:M},z.id))})}),l.jsx(nE,{children:d?l.jsx(BD,{deal:d,netCommission:A(d),daysInStage:M(d.stage_entered_at),onClick:()=>{},isDragging:!0}):null})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsx(wZ,{deals:U,statuses:C,onDealClick:Y,calculateNetCommission:A,getDaysInStage:M,onBulkDelete:L,onBulkEdit:se,onImportSuccess:P})}),h&&l.jsx(UD,{deal:g,onClose:Z,onDelete:Z}),v&&l.jsx(WD,{onClose:()=>x(!1),onSelect:a,onCreateCustomWorkflow:i})]})}const TZ=["under_contract","pending","closed"],Il={buyer:"Buyer",seller:"Seller",buyer_and_seller:"Buyer & Seller",renter:"Renter",landlord:"Landlord"};function DZ(){const{user:e,roleInfo:t}=_t(),[,r]=m.useTransition(),[n,a]=m.useState(new Date().getFullYear()),[i,s]=m.useState({closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0}),[o,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState({count:0,gci:0}),[p,g]=m.useState(0),[y,v]=m.useState(!0),[x,w]=m.useState(!1),[b,_]=m.useState([]),[j,S]=m.useState([]),[N,k]=m.useState([]),[C,E]=m.useState([]),[P,O]=m.useState([]),[q,Y]=m.useState([]),[Z,U]=m.useState([]),[W,A]=m.useState([]),M=m.useMemo(()=>j.length?[...j].sort().join("|"):"",[j]),L=m.useMemo(()=>q.length?[...q].sort().join("|"):"",[q]),se=m.useMemo(()=>Z.length?[...Z].sort().join("|"):"",[Z]),ee=m.useMemo(()=>W.length?[...W].sort().join("|"):"",[W]),me=!!e&&((t==null?void 0:t.globalRole)==="team_lead"||(t==null?void 0:t.teamRole)==="team_lead"),I=j.length===0||j.length===b.length,te=me&&j.length===1&&j[0]===(e==null?void 0:e.id),z=m.useMemo(()=>{const V=(re,le)=>re.length===0?le:re.length===1?re[0]:re.length===2?`${re[0]} and ${re[1]}`:re.length===3?`${re[0]}, ${re[1]} and ${re[2]}`:`multiple ${le}`,de=re=>re.endsWith("s")?`${re}'`:`${re}'s`,Ce=b.filter(re=>j.includes(re.id)).map(re=>re.label||re.email||"Agent"),He=I||Ce.length===0,qe=!He&&Ce.length===1,It=qe?de(Ce[0]):"",ir=Z.length===0||C.length>0&&Z.length===C.length,Rt=W.length===0||P.length>0&&W.length===P.length,Yr=q.length===0||N.length>0&&q.length===N.length,Ln=C.filter(re=>Z.includes(re.id)).map(re=>re.label),xt=W.map(re=>Il[re]??re.replace(/_/g," ")),Mt=N.filter(re=>q.includes(re.id)).map(re=>re.name),Pe=ir?"all pipeline stages":V(Ln,"pipeline stages"),$t=Rt?"all deal types":V(xt,"deal types"),$e=Yr?"all lead sources":V(Mt,"lead sources");if(ir&&Rt&&Yr)return qe?`Viewing ${It} deals across all pipeline stages, deal types, and lead sources.`:He?"Viewing all deals across all agents, pipeline stages, deal types, and lead sources.":"Viewing deals for multiple agents across all pipeline stages, deal types, and lead sources.";const D=He?"all agents":qe?It:Ce.length===2?`${Ce[0]} and ${Ce[1]}`:Ce.length===3?`${Ce[0]}, ${Ce[1]} and ${Ce[2]}`:"multiple agents",F=[];if(Pe&&F.push(Pe),$t){const re=Rt?`across ${$t}`:`${$t} deals`;F.push(re)}$e&&F.push(`from ${$e}`),F.length===0&&F.push("deals");const J=F.join(", ");return`Viewing ${D} ${J}`.replace(/\s+/g," ").trim()+"."},[b,P,N,C,I,j,W,q,Z,e==null?void 0:e.id]),X=()=>{e&&S([e.id])},pe=()=>{S([])},T=V=>{const de=Array.from(V.target.selectedOptions).map(Ce=>Ce.value);S(de)},K=V=>{const de=Array.from(V.target.selectedOptions).map(Ce=>Ce.value);U(de)},Q=V=>{const de=Array.from(V.target.selectedOptions).map(Ce=>Ce.value);Y(de)},$=V=>{const de=Array.from(V.target.selectedOptions).map(Ce=>Ce.value);A(de)};m.useEffect(()=>{P.length&&A(V=>V.filter(de=>P.includes(de)))},[P]);const _e=(V,de)=>de.length?de.length===1?V.eq("user_id",de[0]):V.in("user_id",de):V,R=(V,de)=>{if(V=_e(V,de),q.length&&(V=V.in("lead_source_id",q)),Z.length){const Ce=Z.filter(Boolean);Ce.length&&(V=V.in("pipeline_status_id",Ce))}return W.length&&(V=V.in("deal_type",W)),V},ie=t&&t.globalRole!=="agent"||b.length>1,ae=async(V,de)=>{const Ce=V.length?V:b.map(Pe=>Pe.id);if(!Ce.length)return;const He=new Date(de,0,1).toISOString(),qe=new Date(de,11,31,23,59,59).toISOString();let It=G.from("deals").select(`
        id,
        deal_type,
        lead_source_id,
        lead_sources (id, name),
        pipeline_status_id,
        pipeline_statuses (id, name, sort_order)
      `).gte("created_at",He).lte("created_at",qe);It=_e(It,Ce);const{data:ir,error:Rt}=await It;if(Rt){console.error("Unable to load analytics filter context",Rt);return}const Yr=new Map,Ln=new Map,xt=new Set;(ir||[]).forEach(Pe=>{var $t,$e;($t=Pe.lead_sources)!=null&&$t.id&&Yr.set(Pe.lead_sources.id,{id:Pe.lead_sources.id,name:Pe.lead_sources.name||"Unknown"}),($e=Pe.pipeline_statuses)!=null&&$e.id&&Ln.set(Pe.pipeline_statuses.id,{id:Pe.pipeline_statuses.id,label:Pe.pipeline_statuses.name,sortOrder:Pe.pipeline_statuses.sort_order}),Pe.deal_type&&xt.add(Pe.deal_type)}),k(Array.from(Yr.values()).sort((Pe,$t)=>Pe.name.localeCompare($t.name))),E(Array.from(Ln.values()).sort((Pe,$t)=>{const $e=Pe.sortOrder??999,Je=$t.sortOrder??999;return $e===Je?Pe.label.localeCompare($t.label):$e-Je}));const Mt=Array.from(xt).sort((Pe,$t)=>{const $e=Il[Pe]??Pe,Je=Il[$t]??$t;return $e.localeCompare(Je)});O(Mt.length?Mt:Object.keys(Il))},he=V=>{if(!V)return null;const de=V.trim();if(!de)return null;const Ce=de.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(Ce){const It=Number(Ce[1]),ir=Number(Ce[2])-1,Rt=Number(Ce[3]);if(Number.isNaN(It)||Number.isNaN(ir)||Number.isNaN(Rt)||ir<0||ir>11||Rt<1||Rt>31)return null;const Yr=new Date(Date.UTC(It,ir,Rt));return{year:It,month:ir,date:Yr}}const He=de.replace(" ","T").replace(/(\+\d{2})(\d{2})$/,"$1:$2").replace(/(-\d{2})(\d{2})$/,"$1:$2"),qe=new Date(He);return Number.isNaN(qe.getTime())?null:{year:qe.getUTCFullYear(),month:qe.getUTCMonth(),date:qe}};m.useEffect(()=>{if(!e)return;(async()=>{var Ln;const de={id:e.id,label:((Ln=e.user_metadata)==null?void 0:Ln.name)||e.email||"You",email:e.email||""},Ce=async()=>{if(!t)return[e.id];switch(t.globalRole){case"admin":return await ki(t);case"sales_manager":case"team_lead":return await ki(t);default:return[t.userId]}};if(!t||t.globalRole==="agent"){_([de]),S([e.id]);return}const He=await Ce();let qe=[];const{data:It,error:ir}=await G.rpc("get_accessible_agents");if(ir)console.error("Unable to load accessible agents",ir);else if(It){const xt=It,Mt=new Set(xt.filter($e=>$e.global_role==="admin"||$e.global_role==="sales_manager").map($e=>$e.user_id)),Pe=xt.filter($e=>$e.global_role!=="admin"&&$e.global_role!=="sales_manager").map($e=>({id:$e.user_id,label:$e.display_name||$e.email||"Agent",email:$e.email||""}));if(qe=(He.length?Pe.filter($e=>He.includes($e.id)):Pe).filter(($e,Je,D)=>D.findIndex(F=>F.id===$e.id)===Je),Mt.size)for(const $e of Mt){const Je=He.indexOf($e);Je!==-1&&He.splice(Je,1)}}const Rt=xt=>{var Mt;return xt===e.id?((Mt=e.user_metadata)==null?void 0:Mt.name)||e.email||"You":`Agent ${xt.slice(0,8)}`};if(!qe.length)qe=He.map(xt=>({id:xt,label:Rt(xt),email:""}));else{const xt=new Set(qe.map(Pe=>Pe.id)),Mt=He.filter(Pe=>!xt.has(Pe));Mt.length&&(qe=[...qe,...Mt.map(Pe=>({id:Pe,label:Rt(Pe),email:""}))])}_(qe);const Yr=qe.map(xt=>xt.id);S(Yr.length?[]:[e.id])})()},[e,t==null?void 0:t.globalRole,t==null?void 0:t.teamId]),m.useEffect(()=>{e&&Ye()},[e==null?void 0:e.id,n,M,L,se,ee]),m.useEffect(()=>{const V=j.length?j:b.map(de=>de.id);!e||V.length===0||ae(V,n)},[j,n,b]);const Ye=async()=>{if(!e)return;const V=j.length?j:b.map(Je=>Je.id);if(!V.length){r(()=>{s({closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0}),d([]),c([]),h({count:0,gci:0})}),v(!1),w(!1);return}const de=y;de?v(!0):w(!0);const Ce=new Date(n,0,1).toISOString(),He=new Date(n,11,31,23,59,59).toISOString(),qe=`
      id,
      user_id,
      deal_type,
      status,
      created_at,
      close_date,
      closed_at,
      expected_sale_price,
      actual_sale_price,
      gross_commission_rate,
      brokerage_split_rate,
      referral_out_rate,
      transaction_fee,
      lead_source_id,
      lead_sources (name),
      pipeline_status_id,
      pipeline_statuses (id, name, sort_order)
    `,It=R(G.from("deals").select(qe).eq("status","closed"),V),ir=R(G.from("deals").select(qe).gte("created_at",Ce).lte("created_at",He),V),[Rt,Yr,Ln]=await Promise.all([G.from("user_settings").select("annual_gci_goal").eq("user_id",e.id).maybeSingle(),It,ir]);Rt.data&&g(Rt.data.annual_gci_goal||0);const xt=Yr.data,Mt=Ln.data;if(xt){const Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let D=0,F=0,J=0,re=0,le=0,je=0,Ee=0;const Ie={},Se={},ke=new Date;ke.getMonth(),ke.getFullYear(),xt.forEach(we=>{const pt=he(we.close_date)||he(we.closed_at);if(!pt||pt.year!==n)return;Ee+=1;const Ue=we.actual_sale_price||we.expected_sale_price||0;D+=Ue;const Xr=Ue*(we.gross_commission_rate||0)*(1-(we.brokerage_split_rate||0)),xn=(we.referral_out_rate?Xr*(1-we.referral_out_rate):Xr)-(we.transaction_fee||0);F+=xn,we.deal_type==="buyer"&&J++,we.deal_type==="seller"&&re++,we.deal_type==="buyer_and_seller"&&(J++,re++);const Oe=he(we.created_at);if(Oe){const pl=(pt.date.getTime()-Oe.date.getTime())/(1e3*60*60*24);!Number.isNaN(pl)&&pl>=0&&(le+=pl,je++)}const Hi=pt.month,Ls=Je[Hi];Ie[Ls]=(Ie[Ls]||0)+xn,Se[Ls]=(Se[Ls]||0)+1});const oe=je>0?le/je:0;s({closedDeals:Ee,totalVolume:D,totalGCI:F,avgSalePrice:Ee>0?D/Ee:0,avgCommission:Ee>0?F/Ee:0,buyerDeals:J,sellerDeals:re,avgDaysToClose:oe});const ye=Je.map(we=>({month:we,gci:Ie[we]||0,deals:Se[we]||0}));d(ye)}else s(Je=>({...Je,closedDeals:0,totalVolume:0,totalGCI:0,avgSalePrice:0,avgCommission:0,buyerDeals:0,sellerDeals:0,avgDaysToClose:0})),d([]),h({count:0,gci:0});const Pe=new Date,$t=Pe.getFullYear()===n,$e={count:0,gci:0};if(Mt){$t&&Mt.forEach(F=>{const J=he(F.close_date)||he(F.closed_at);if(!J||!(J.year===Pe.getFullYear()&&J.month===Pe.getMonth())||!TZ.includes(F.status))return;const Ee=(F.actual_sale_price||F.expected_sale_price||0)*(F.gross_commission_rate||0)*(1-(F.brokerage_split_rate||0)),Se=(F.referral_out_rate?Ee*(1-F.referral_out_rate):Ee)-(F.transaction_fee||0);$e.count+=1,$e.gci+=Se});const Je={};Mt.forEach(F=>{var re;const J=((re=F.lead_sources)==null?void 0:re.name)||"Unknown";if(Je[J]||(Je[J]={total:0,closed:0,commission:0}),Je[J].total++,F.status==="closed"){Je[J].closed++;const Ee=(F.actual_sale_price||F.expected_sale_price||0)*(F.gross_commission_rate||0)*(1-(F.brokerage_split_rate||0)),Se=(F.referral_out_rate?Ee*(1-F.referral_out_rate):Ee)-(F.transaction_fee||0);Je[J].commission+=Se}});const D=Object.entries(Je).map(([F,J])=>({name:F,totalDeals:J.total,closedDeals:J.closed,conversionRate:J.total>0?J.closed/J.total*100:0,totalCommission:J.commission}));c(D.sort((F,J)=>J.totalCommission-F.totalCommission))}else h({count:0,gci:0}),c([]);h($e),de&&v(!1),w(!1)},Ae=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(V),Te=V=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(V),H=p>0?i.totalGCI/p*100:0,Me=new Date,De=n===Me.getFullYear(),Ke=new Date(n,0,1),Tt=new Date(n,11,31,23,59,59),Wi=De?Math.max(0,Math.min(Me.getTime(),Tt.getTime())-Ke.getTime()):Tt.getTime()-Ke.getTime(),mn=Tt.getTime()-Ke.getTime(),gn=mn>0?Wi/mn:1,vn=gn>0?i.totalGCI/gn:i.totalGCI,ni=Math.max(0,p-i.totalGCI),Hr=De&&Me.getFullYear()===n?12-Me.getMonth():0,Ki=p>0&&Hr>0?ni/Hr:0,{bestMonth:yn,worstMonth:ia}=m.useMemo(()=>{const V=u.filter(He=>He.gci>0);if(V.length===0)return{bestMonth:null,worstMonth:null};const de=V.reduce((He,qe)=>qe.gci>He.gci?qe:He),Ce=V.reduce((He,qe)=>qe.gci<He.gci?qe:He);return{bestMonth:de,worstMonth:Ce}},[u]),sa=m.useMemo(()=>u.filter(V=>V.gci>0),[u]),nr=sa.length,fl=nr>0?i.totalGCI/nr:0,xa=sa.reduce((V,de)=>V+de.deals,0),$s=nr>0?xa/nr:0,ba=nr>0?sa[nr-1]:null,Dr=nr>1?sa[nr-2]:null,Fe=ba&&Dr?ba.gci-Dr.gci:null,Dt=m.useMemo(()=>u.reduce((V,de)=>Math.max(V,de.gci),0),[u]),ot=m.useMemo(()=>u.reduce((V,de)=>Math.max(V,de.deals),0),[u]),Ir=yn?u.find(V=>V.month===yn.month):null,Gt=ia?u.find(V=>V.month===ia.month):null,et="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",ar="inline-flex items-center rounded-full border border-gray-200/70 bg-white px-2.5 py-0.5 text-[11px] font-medium text-gray-600",qr="rounded-xl border border-gray-100/80 bg-white px-4 py-3",lt=o[0]||null,br=o.length>1?[...o].filter(V=>V.totalDeals>=3).sort((V,de)=>V.conversionRate-de.conversionRate)[0]:null,Gr=Array.from({length:5},(V,de)=>new Date().getFullYear()-de).map(V=>({value:V.toString(),label:V.toString()})),wa=`Jan 1  Dec 31, ${n}${De?"  In progress":""}`;return y?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:`${et} p-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between relative`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Analytics"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Year in Review"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"A cohesive digest of production, pace, and lead-source efficiency for your selected year."})]}),l.jsxs("div",{className:"flex flex-col gap-3 items-start sm:items-end",children:[l.jsxs("div",{className:"flex items-center gap-3 text-left sm:text-right",children:[l.jsx("div",{className:"flex items-center gap-2 text-xs font-semibold text-gray-500 min-h-[20px]",children:x?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--app-accent)] animate-pulse"}),"Updating"]}):l.jsx("span",{className:"invisible",children:"Updating"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Timeframe"}),l.jsx("p",{className:"text-sm text-gray-500",children:wa})]})]}),l.jsx(FD,{options:Gr,value:String(n),onChange:V=>a(parseInt(V,10)),className:"self-start sm:self-end w-max"})]})]}),ie&&l.jsxs("section",{className:`${et} p-5 space-y-4`,children:[l.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Scope"}),l.jsx("p",{className:"text-sm text-gray-700",children:z})]})}),b.length>0&&l.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Agents"}),me&&l.jsx("button",{type:"button",onClick:X,className:`rounded-full px-3 py-1 text-xs font-semibold transition ${te?"bg-[var(--app-accent)] text-white shadow-[0_8px_20px_rgba(0,122,255,0.25)]":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Focus On Me"})]}),l.jsx("div",{className:"flex items-center gap-1.5",children:!I&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:pe,children:"Clear"})})]}),l.jsx("select",{multiple:!0,value:j,onChange:T,className:"hig-input min-h-[72px] rounded-2xl border-gray-200 bg-white/90 text-sm",children:b.map(V=>l.jsx("option",{value:V.id,children:V.label},V.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Pipeline Stage"}),Z.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>U([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:Z,onChange:K,className:"hig-input min-h-[64px] mt-2",children:C.map(V=>l.jsx("option",{value:V.id,children:V.label},V.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Deal Type"}),W.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>A([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:W,onChange:$,className:"hig-input min-h-[64px] mt-2",children:P.map(V=>l.jsx("option",{value:V,children:Il[V]??V.replace(/_/g," ")},V))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Lead Source"}),q.length>0&&l.jsx("button",{type:"button",className:"text-xs text-[var(--app-accent)]",onClick:()=>Y([]),children:"Clear"})]}),l.jsx("select",{multiple:!0,value:q,onChange:Q,className:"hig-input min-h-[64px] mt-2",children:N.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))})]})]})]}),l.jsx("section",{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[l.jsxs("div",{className:`${et} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Pipeline"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Te(i.closedDeals)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Closed deals"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:[i.buyerDeals," buyer  ",i.sellerDeals," seller"]})]}),l.jsxs("div",{className:`${et} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-green-600 uppercase tracking-wide",children:"Volume"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Ae(i.totalVolume)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total sales volume"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg sale price  ",Ae(i.avgSalePrice)]})]}),l.jsxs("div",{className:`${et} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide",children:"Net GCI"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Ae(i.totalGCI)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total earnings after splits"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Avg commission  ",Ae(i.avgCommission)]})]}),l.jsxs("div",{className:`${et} p-5`,children:[l.jsx("p",{className:"text-xs font-semibold text-indigo-600 uppercase tracking-wide",children:"Pace"}),l.jsx("div",{className:"text-2xl font-semibold text-gray-900 mt-2",children:Te(f.count)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Deals closing this month"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["GCI this month  ",Ae(f.gci)]}),i.avgDaysToClose>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg time to close  ",i.avgDaysToClose.toFixed(0)," days"]})]})]})}),l.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:`${et} p-6`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Performance"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How each producing month contributes to pace and income."})]}),l.jsx("div",{className:"text-xs text-gray-500",children:nr>0?l.jsxs("span",{className:ar,children:[nr," active months"]}):l.jsx("span",{className:"text-gray-400",children:"No closed months yet"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:qr,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Top Month"}),yn?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[yn.month,l.jsxs("span",{className:ar,children:[(Ir==null?void 0:Ir.deals)??0," deals"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:Ae(yn.gci)})]}):l.jsx("p",{className:"text-sm text-gray-500",children:"No producing months yet."})]}),l.jsxs("div",{className:qr,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Slow Month"}),ia&&yn&&ia.month!==yn.month?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[ia.month,l.jsxs("span",{className:ar,children:[(Gt==null?void 0:Gt.deals)??0," deals"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:Ae(ia.gci)})]}):yn?l.jsx("p",{className:"text-sm text-gray-500",children:"Only one producing month so far."}):l.jsx("p",{className:"text-sm text-gray-500",children:"No data yet."})]}),l.jsxs("div",{className:qr,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Avg Active Month"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ae(fl||0)}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[nr||0," active month",nr===1?"":"s",l.jsxs("span",{className:ar,children:[$s.toFixed(1)," deals/mo"]})]})]}),l.jsxs("div",{className:qr,children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wide",children:"Momentum"}),Fe!==null&&ba?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-semibold ${Fe>=0?"text-emerald-600":"text-rose-600"}`,children:[Fe>=0?"+":"-",Ae(Math.abs(Fe))]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Vs. ",(Dr==null?void 0:Dr.month)??"previous month"," GCI"]})]}):l.jsx("p",{className:"text-sm text-gray-500",children:"Log at least two producing months to see momentum."})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Monthly Ledger"}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Peak GCI: ",Dt?Ae(Dt):"","  Peak deals:"," ",ot||""]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b border-gray-100",children:[l.jsx("th",{className:"pb-2 pr-4",children:"Month"}),l.jsx("th",{className:"pb-2 pr-4",children:"Deals"}),l.jsx("th",{className:"pb-2 pr-4",children:"GCI"}),l.jsx("th",{className:"pb-2 pr-4",children:"Avg / Deal"}),l.jsx("th",{className:"pb-2 text-right",children:"Share"})]})}),l.jsx("tbody",{children:u.map(V=>{const de=V.deals>0?V.gci/V.deals:0,Ce=i.totalGCI>0?V.gci/i.totalGCI*100:0;return l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"py-2 pr-4 font-medium text-gray-900",children:V.month}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:V.deals}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:Ae(V.gci)}),l.jsx("td",{className:"py-2 pr-4 text-gray-700",children:V.deals>0?Ae(de):""}),l.jsx("td",{className:"py-2 text-right text-gray-700",children:i.totalGCI>0?`${Ce.toFixed(1)}%`:""})]},V.month)})})]})})]})]}),l.jsxs("div",{className:`${et} p-6`,children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Momentum & Pace"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Are you ahead or behind last years GCI at this point on the calendar?"})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-gradient-to-br from-white to-[var(--app-bg-start)] p-5 shadow-inner",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Year-over-year pace"}),l.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ae(i.totalGCI)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Current GCI"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Pace needed"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ae(vn)})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Current"}),l.jsx("span",{children:"Goal"})]}),l.jsx("div",{className:"mt-1 h-3 rounded-full bg-gray-100",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 transition-all",style:{width:`${Math.min(100,i.totalGCI/(p||1)*100)}%`}})}),l.jsxs("div",{className:"mt-1 text-xs font-semibold text-gray-600",children:[H.toFixed(1),"% of goal  year is ",(gn*100).toFixed(1),"% complete"]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-100/80 bg-white/90 p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Active pipeline outlook"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Te(f.count)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deals expected to close this month"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ae(f.gci)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Projected monthly GCI"})]})]}),l.jsx("div",{className:"mt-4 rounded-xl bg-[var(--app-surface-muted)] p-4 text-sm text-gray-600",children:Fe!==null&&ba?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"font-semibold",children:[Fe>=0?"Ahead":"Trailing"," pace"]})," ","by ",Ae(Math.abs(Fe))," versus ",(Dr==null?void 0:Dr.month)??"previous",". Keep this cadence to end the year at"," ",l.jsx("span",{className:"font-semibold",children:Ae(vn)}),"."]}):"Once two months close well highlight whether you are accelerating or slowing down."})]})]})]})]}),l.jsxs("section",{className:`${et} overflow-hidden`,children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Lead Source Performance"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Compare volume, conversion, and commissions by source."})]})}),l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Deals"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Closed"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conv. Rate"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Commission"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insight"})]})}),l.jsxs("tbody",{className:"bg-white/70 divide-y divide-gray-100",children:[o.map(V=>{let de="Solid";return V.conversionRate>=25&&V.totalCommission>(i.totalGCI||0)/4?de="Power Source":V.conversionRate<10&&V.totalDeals>=3&&(de="Underperformer"),l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:V.totalDeals}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:V.closedDeals}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[V.conversionRate.toFixed(1),"%"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:Ae(V.totalCommission)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:l.jsx("span",{className:de==="Power Source"?"inline-flex px-2 py-1 rounded-full bg-green-50 text-green-700":de==="Underperformer"?"inline-flex px-2 py-1 rounded-full bg-amber-50 text-amber-700":"inline-flex px-2 py-1 rounded-full bg-gray-50 text-gray-600",children:de})})]},V.name)}),o.length===0&&l.jsx("tr",{children:l.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:["No data available for ",n]})})]})]})]}),l.jsxs("section",{className:`${et} p-6`,children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Suggested Focus Areas"}),l.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Practical follow-ups informed by what the data is highlighting this year."}),l.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[p>0&&ni>0&&l.jsxs("li",{className:"leading-relaxed",children:["You need approximately"," ",l.jsx("span",{className:"font-semibold",children:Ae(ni)})," ","more GCI to hit your annual goal.",Ki>0&&l.jsxs(l.Fragment,{children:[" ","That's about"," ",l.jsxs("span",{className:"font-semibold",children:[Ae(Ki)," per month"]})," ","for the rest of the year."]})]}),lt&&l.jsxs("li",{className:"leading-relaxed",children:[l.jsx("span",{className:"font-semibold",children:lt.name})," continues to be your most profitable channel with"," ",l.jsx("span",{className:"font-semibold",children:Ae(lt.totalCommission)})," ","in GCI. Consider increasing budget or nurture time here."]}),br&&l.jsxs("li",{className:"leading-relaxed",children:[l.jsx("span",{className:"font-semibold",children:br.name})," is converting at"," ",br.conversionRate.toFixed(1),"%. Revisit the script or pause the spend until it improves."]}),i.avgDaysToClose>0&&l.jsxs("li",{className:"leading-relaxed",children:["Average time from lead to close is"," ",l.jsxs("span",{className:"font-semibold",children:[i.avgDaysToClose.toFixed(0)," days"]}),". Tighten follow-up cadences or pre-qualification steps to reduce the cycle."]}),(!lt||!br)&&i.closedDeals===0&&l.jsx("li",{className:"leading-relaxed",children:"Add a few deals to the pipeline this year to unlock richer insight. Once production starts, this dashboard will reveal which channels earn the most."})]})]})]})}const fd="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_1px_2px_rgba(15,23,42,0.08)]",IZ="inline-flex items-center rounded-full border px-3 py-1.5 text-xs font-semibold transition",RZ=[{label:"All tasks",value:"all",accentClass:"bg-gray-900 text-white border-gray-900 shadow-sm"},{label:"Overdue",value:"overdue",accentClass:"bg-red-50 text-red-700 border-red-200 shadow-sm ring-1 ring-red-100"},{label:"Due today",value:"today",accentClass:"bg-amber-50 text-amber-700 border-amber-200 shadow-sm ring-1 ring-amber-100"},{label:"Upcoming",value:"upcoming",accentClass:"bg-sky-50 text-sky-700 border-sky-200 shadow-sm ring-1 ring-sky-100"}];function MZ(){const{user:e,roleInfo:t}=_t(),[r,n]=m.useState([]),[a,i]=m.useState([]),[s,o]=m.useState("all"),[c,u]=m.useState(""),[d,f]=m.useState(!0),[h,p]=m.useState([]),[g,y]=m.useState({}),[v,x]=m.useState(!0),[w,b]=m.useState(null),[_,j]=m.useState(!1),[S,N]=m.useState(null),[k,C]=m.useState(""),[E,P]=m.useState(""),[O,q]=m.useState(""),[Y,Z]=m.useState(""),[U,W]=m.useState(!1),[A,M]=m.useState(null),L=R=>{var ie;return g[R]?g[R]:R===(e==null?void 0:e.id)?((ie=e.user_metadata)==null?void 0:ie.name)||e.email||"You":`Agent ${R.slice(0,8)}`},se=R=>{if(!R)return null;const[ie,ae,he]=R.split("-").map(Number);return!ie||!ae||!he?null:new Date(ie,ae-1,he)},ee=m.useMemo(()=>{const R=new Date;R.setHours(0,0,0,0);let ie=0,ae=0,he=0,Ye=0;const Ae=[];return r.forEach(Te=>{const H=se(Te.due_date);if(!H){Ye+=1;return}H<R?ie+=1:H.getTime()===R.getTime()?ae+=1:he+=1,Ae.push(Te)}),Ae.sort((Te,H)=>{const Me=se(Te.due_date),De=se(H.due_date);return Me?De?Me.getTime()-De.getTime():-1:1}),{total:r.length,overdue:ie,dueToday:ae,upcoming:he,unscheduled:Ye,nextTask:Ae[0]||null}},[r]),me=m.useMemo(()=>h.find(R=>R.id===E),[h,E]),I=m.useMemo(()=>!!(t&&["sales_manager","team_lead"].includes(t.globalRole)),[t]),te=m.useMemo(()=>I?h.reduce((R,ie)=>{const ae=ie.user_id;return R[ae]||(R[ae]=[]),R[ae].push(ie),R},{}):null,[h,I]);m.useEffect(()=>{e&&z()},[e]),m.useEffect(()=>{if(!e){p([]),x(!1);return}X()},[e,t]),m.useEffect(()=>{let R=[...r];const ie=new Date;if(ie.setHours(0,0,0,0),s==="overdue"?R=R.filter(ae=>{if(!ae.due_date)return!1;const he=se(ae.due_date);return!!he&&he<ie}):s==="today"?R=R.filter(ae=>{if(!ae.due_date)return!1;const he=se(ae.due_date);return he?he.getTime()===ie.getTime():!1}):s==="upcoming"&&(R=R.filter(ae=>{if(!ae.due_date)return!1;const he=se(ae.due_date);return!!he&&he>ie})),c.trim()){const ae=c.toLowerCase();R=R.filter(he=>he.title.toLowerCase().includes(ae)||he.deals.client_name.toLowerCase().includes(ae)||he.deals.property_address.toLowerCase().includes(ae))}i(R)},[s,c,r]);const z=async()=>{if(!e)return;f(!0);const{data:R,error:ie}=await G.from("tasks").select("*, deals(*, lead_sources(*))").eq("user_id",e.id).eq("completed",!1).order("due_date",{ascending:!0});!ie&&R&&n(R.filter(ae=>ae.deals).map(ae=>ae)),f(!1)},X=async()=>{if(e){x(!0);try{let R=[e.id];t&&(R=await ki(t),R.length||(R=[e.id]));let ie=G.from("deals").select("id, user_id, client_name, property_address, city, state, deal_type, status, next_task_due_date, next_task_description").neq("status","closed").neq("status","dead").order("updated_at",{ascending:!1});R.length===1?ie=ie.eq("user_id",R[0]):R.length>1&&(ie=ie.in("user_id",R));const{data:ae,error:he}=await ie;if(he)console.error("Error loading deals",he),p([]);else{p(ae||[]);const Ye={},{data:Ae,error:Te}=await G.rpc("get_accessible_agents");!Te&&Array.isArray(Ae)&&Ae.forEach(H=>{R.includes(H.user_id)&&(Ye[H.user_id]=H.display_name||H.email||"Agent")}),y(Ye)}}catch(R){console.error("Error resolving visible deals",R),p([]),y({})}finally{x(!1)}}},pe=R=>{const ie=se(R);return ie?ie.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date"},T=R=>{const ie=se(R.due_date);if(!ie)return l.jsx("span",{className:"text-xs font-medium text-gray-500",children:"No due date"});const ae=new Date;return ae.setHours(0,0,0,0),ie<ae?l.jsx("span",{className:"text-xs font-semibold text-red-600",children:"Overdue"}):ie.getTime()===ae.getTime()?l.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Due today"}):l.jsx("span",{className:"text-xs font-semibold text-emerald-600",children:"Upcoming"})},K=R=>{N(R.deals),j(!0)},Q=async R=>{if(R.preventDefault(),!!e){if(M(null),!k.trim()||!E){M("Add a task name and choose a deal.");return}W(!0);try{const{error:ie}=await G.from("tasks").insert({user_id:e.id,deal_id:E,title:k.trim(),description:Y.trim()||null,due_date:O||null,completed:!1});if(ie)throw ie;C(""),P(""),q(""),Z(""),o("all"),await z()}catch(ie){console.error("Error creating task",ie),M("Could not add this task. Please try again.")}finally{W(!1)}}},$=async(R,ie)=>{if(ie.stopPropagation(),!!e){b(R.id);try{const{error:ae}=await G.from("tasks").update({completed:!0}).eq("id",R.id).eq("user_id",e.id);if(ae)throw ae;n(he=>he.filter(Ye=>Ye.id!==R.id)),i(he=>he.filter(Ye=>Ye.id!==R.id))}catch(ae){console.error("Error completing task",ae)}finally{b(null)}}},_e=()=>{j(!1),N(null),z()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`${fd} p-6 space-y-5`,children:[l.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Tasks"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mt-1",children:"Outstanding work"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Track every open commitment across all deals in a single, prioritized list."})]}),l.jsx("div",{className:"w-full md:w-auto",children:l.jsx("input",{value:c,onChange:R=>u(R.target.value),placeholder:"Search by client, task, property...",className:"w-full rounded-2xl border border-white/60 bg-white/90 py-2.5 pl-4 pr-4 text-sm text-gray-900 shadow-inner placeholder:text-gray-400 focus:border-[var(--app-accent)]/40 focus:ring-2 focus:ring-[var(--app-accent)]/15 md:min-w-[280px]"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Task status"}),s!=="all"&&l.jsx("button",{onClick:()=>o("all"),className:"text-xs font-medium text-[var(--app-accent)] hover:underline",children:"Reset"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:RZ.map(R=>{const ie=s===R.value;return l.jsx("button",{onClick:()=>o(R.value),className:`${IZ} ${ie?R.accentClass:"border-gray-200/70 bg-white text-gray-600 hover:text-gray-900"}`,children:R.label},R.value)})})]})]}),l.jsxs("div",{className:`${fd} p-6 space-y-4`,children:[l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-[0.25em]",children:"Add a task"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-1",children:"Assign the next move"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Attach a next step to any deal without leaving this page. Keep it short, clear, and actionable."})]}),l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-white/90 px-4 py-2 text-xs font-semibold text-gray-700 shadow-inner",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-[var(--app-accent)] shadow-[0_0_0_4px_rgba(0,122,255,0.12)]"}),v?"Loading deals":`${h.length} deals available`]})]}),l.jsxs("form",{onSubmit:Q,className:"grid grid-cols-1 gap-4 lg:grid-cols-12",children:[l.jsxs("div",{className:"lg:col-span-5",children:[l.jsx("label",{className:"hig-label",children:"Task"}),l.jsx("input",{type:"text",value:k,onChange:R=>{C(R.target.value),A&&M(null)},placeholder:"Call lender about pre-approval",className:"hig-input"})]}),l.jsxs("div",{className:"lg:col-span-4",children:[l.jsx("label",{className:"hig-label",children:"Deal"}),l.jsxs("select",{value:E,onChange:R=>{P(R.target.value),A&&M(null)},className:"hig-input task-deal-select",disabled:v||h.length===0,children:[l.jsx("option",{value:"",children:v?"Loading deals":"Choose a deal"}),I&&te?Object.entries(te).sort((R,ie)=>{const ae=L(R[0]),he=L(ie[0]);return ae.localeCompare(he)}).map(([R,ie])=>l.jsx("optgroup",{label:` ${L(R).toUpperCase()}  ${ie.length} deal${ie.length===1?"":"s"} `,children:ie.map(ae=>l.jsxs("option",{value:ae.id,children:[ae.client_name,"  ",ae.property_address||"Address TBD"]},ae.id))},R)):h.map(R=>l.jsxs("option",{value:R.id,children:[R.client_name,"  ",R.property_address||"Address TBD"]},R.id))]}),me&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:me.city&&me.state?`${me.city}, ${me.state}`:me.city||me.state||"No location on file"})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("label",{className:"hig-label",children:"Due date"}),l.jsx("input",{type:"date",value:O,onChange:R=>q(R.target.value),className:"hig-input"})]}),l.jsx("div",{className:"lg:col-span-1 flex items-end",children:l.jsx("button",{type:"submit",className:"hig-btn-primary w-full gap-2",disabled:U||v||h.length===0,children:U?"Adding":l.jsxs(l.Fragment,{children:[l.jsx(Ua,{className:"h-4 w-4"}),"Add"]})})}),l.jsxs("div",{className:"lg:col-span-9",children:[l.jsx("label",{className:"hig-label",children:"Notes (optional)"}),l.jsx("textarea",{value:Y,onChange:R=>Z(R.target.value),placeholder:"Context, prep work, or key talking points",className:"hig-input min-h-[80px]"})]}),l.jsx("div",{className:"lg:col-span-3",children:l.jsxs("div",{className:"h-full rounded-xl border border-gray-200/70 bg-gray-50/80 px-4 py-3 text-sm text-gray-700 shadow-inner",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:"Give it clarity"}),l.jsx("p",{className:"mt-1 text-gray-600",children:"Use short verbs, include the who/where, and set a date so it shows up in the right bucket."})]})}),A&&l.jsx("div",{className:"lg:col-span-12 text-sm text-red-600",children:A})]})]}),l.jsx("div",{className:`${fd} p-0 overflow-hidden`,children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500",children:[l.jsx("th",{className:"px-5 py-3",children:"Task"}),l.jsx("th",{className:"px-5 py-3",children:"Due"}),l.jsx("th",{className:"px-5 py-3",children:"Deal"}),l.jsx("th",{className:"px-5 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/90",children:d?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-5 py-8 text-center text-gray-500 text-sm",children:"Loading tasks"})}):a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-5 py-12 text-center text-gray-500 text-sm",children:"Nothing to show here  take a moment to plan your next steps."})}):a.map(R=>{var ie;return l.jsxs("tr",{className:"hover:bg-[var(--app-surface-muted)]/60 cursor-pointer",onClick:()=>K(R),children:[l.jsx("td",{className:"px-5 py-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{type:"button",className:"pt-1",onClick:ae=>$(R,ae),disabled:w===R.id,"aria-label":"Mark task complete",children:w===R.id?l.jsx(At,{className:"h-4 w-4 text-emerald-500 animate-spin"}):R.completed?l.jsx(Ai,{className:"h-4 w-4 text-emerald-500"}):l.jsx(i_,{className:"h-4 w-4 text-gray-300"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:R.title}),((ie=R.deals)==null?void 0:ie.next_task_description)&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Related: ",R.deals.next_task_description]})]})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:pe(R.due_date)})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ch,{className:"h-3.5 w-3.5 text-gray-400"}),l.jsx("span",{className:"font-medium text-gray-900",children:R.deals.client_name})]}),R.deals.property_address&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx(IL,{className:"h-3 w-3"}),l.jsxs("span",{className:"truncate",children:[R.deals.property_address,R.deals.city?`, ${R.deals.city}`:""]})]})]})}),l.jsx("td",{className:"px-5 py-4 text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kc,{className:"h-4 w-4 text-gray-400"}),T(R)]})})]},R.id)})})]})})}),l.jsxs("section",{className:`${fd} p-6`,children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Focus cues"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Where attention is needed"})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-red-100/60 bg-red-50/70 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(yC,{className:"h-4 w-4"}),"Overdue"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-700",children:ee.overdue}),l.jsx("p",{className:"text-xs text-red-600",children:"Tasks waiting on you"})]}),l.jsxs("div",{className:"rounded-2xl border border-amber-100/70 bg-amber-50/60 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(kc,{className:"h-4 w-4"}),"Due today"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-amber-700",children:ee.dueToday}),l.jsx("p",{className:"text-xs text-amber-600",children:"Expected before midnight"})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 bg-emerald-50/60 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(xC,{className:"h-4 w-4"}),"Upcoming"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-emerald-700",children:ee.upcoming}),l.jsx("p",{className:"text-xs text-emerald-600",children:"On the horizon"})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-100/70 bg-gray-50/80 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm font-semibold uppercase tracking-wide",children:[l.jsx(i_,{className:"h-4 w-4"}),"Unscheduled"]}),l.jsx("p",{className:"mt-2 text-2xl font-semibold text-gray-700",children:ee.unscheduled}),l.jsx("p",{className:"text-xs text-gray-500",children:"Add due dates to keep momentum"})]})]}),l.jsxs("div",{className:"mt-6 rounded-2xl border border-gray-100/80 bg-[var(--app-surface-muted)] p-5",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Next actionable"}),ee.nextTask?l.jsxs("div",{className:"mt-3 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ee.nextTask.title}),l.jsx("p",{className:"text-sm text-gray-600",children:ee.nextTask.deals.client_name})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Sc,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:pe(ee.nextTask.due_date)})]})]}):l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No dated tasks remain. Assign due dates to keep focus on high-leverage work."})]})]}),_&&S&&l.jsx(UD,{deal:S,onClose:_e,onDelete:_e})]})}const CS="rounded-2xl border border-gray-200/70 bg-white/90 shadow-[0_8px_20px_rgba(15,23,42,0.08)]",$Z="inline-flex items-center gap-2 rounded-2xl border border-white/80 bg-white/80 px-4 py-1.5 text-sm font-medium text-gray-700 shadow-inner transition hover:-translate-y-0.5 hover:border-[var(--app-accent)]/40 hover:text-gray-900";function LZ(){const[e,t]=m.useState([]),[r,n]=m.useState(""),[a,i]=m.useState(!1),s=["Show me the deals expected to close this month.","Which clients need new activity this week?","Summarize my pipeline stage mix.","How is my projected GCI pacing for Q3?","Who owns the next step on the Torres deal?"],o=async u=>{if(u.preventDefault(),!r.trim()||a)return;const d={role:"user",content:r};t(f=>[...f,d]),n(""),i(!0);try{const{data:{session:f}}=await G.auth.getSession();if(!f)throw new Error("Not authenticated");const h="https://gomwhbewjdcllejifdyf.supabase.co/functions/v1/luma-query",p={Authorization:`Bearer ${f.access_token}`,"Content-Type":"application/json"},g=e.slice(-6).map(w=>({role:w.role,content:w.content})),v=await(await fetch(h,{method:"POST",headers:p,body:JSON.stringify({query:d.content,conversation_history:g})})).json();if(v.error)throw new Error(v.error);const x={role:"assistant",content:v.answer,supportingData:v.supporting_data};t(w=>[...w,x])}catch(f){console.error("Luma query error:",f);const h={role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again."};t(p=>[...p,h])}finally{i(!1)}},c=u=>{n(u)};return l.jsxs("div",{className:"flex h-full flex-col gap-6",children:[l.jsx("section",{className:`${CS} space-y-4 bg-white/95 px-6 py-6 sm:px-8 sm:py-8`,children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Luma AI"}),l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Chat with your data-aware copilot"}),l.jsx("p",{className:"max-w-3xl text-sm text-gray-600",children:"Ask natural questions about deals, tasks, lead sources, or performance and get calm answers without breaking your workflow. Luma keeps context from your workspace so you can move quickly."})]})}),l.jsxs("section",{className:`${CS} flex flex-1 flex-col overflow-hidden bg-gradient-to-b from-[#f5f9ff] to-white`,children:[l.jsxs("div",{className:"border-b border-white/60 px-4 py-5 sm:px-6",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Conversation"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Bring up deals, follow-ups, or performance goalsLuma replies with grounded insight."})]}),l.jsxs("div",{className:"border-b border-white/60 px-4 py-4 sm:px-6",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Starter prompts"}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.map((u,d)=>l.jsxs("button",{type:"button",onClick:()=>c(u),className:$Z,children:[l.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-300"}),u]},d))})]}),l.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-4 py-6 pr-2 sm:px-6",children:[e.map((u,d)=>l.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-3xl rounded-3xl px-5 py-4 ${u.role==="user"?"bg-[var(--app-accent)] text-white shadow-[0_25px_50px_rgba(0,122,255,0.25)]":"border border-white/80 bg-white/90 shadow-[0_15px_30px_rgba(15,23,42,0.08)]"}`,children:[u.role==="assistant"&&l.jsxs("div",{className:"mb-3 flex items-center gap-2 text-gray-500",children:[l.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:l.jsx(js,{className:"h-4 w-4",strokeWidth:2})}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),l.jsx("div",{className:`whitespace-pre-wrap text-sm leading-relaxed ${u.role==="user"?"text-white":"text-gray-900"}`,children:u.content}),u.supportingData&&l.jsx("div",{className:"mt-4 border-t border-gray-100 pt-4",children:l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.supportingData.total_deals!==void 0&&l.jsx(Xs,{label:"Total Deals",value:u.supportingData.total_deals,accent:"blue"}),u.supportingData.total_gci!==void 0&&l.jsx(Xs,{label:"Total GCI",value:`$${u.supportingData.total_gci.toLocaleString("en-US",{maximumFractionDigits:0})}`,accent:"green"}),u.supportingData.closed_deals!==void 0&&l.jsx(Xs,{label:"Closed Deals",value:u.supportingData.closed_deals,accent:"indigo"}),u.supportingData.active_deals!==void 0&&l.jsx(Xs,{label:"Active Deals",value:u.supportingData.active_deals,accent:"orange"}),u.supportingData.under_contract!==void 0&&l.jsx(Xs,{label:"Under Contract",value:u.supportingData.under_contract,accent:"purple"}),u.supportingData.team_members!==void 0&&l.jsx(Xs,{label:"Team Members",value:u.supportingData.team_members,accent:"teal"})]})})]})},d)),a&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"max-w-3xl rounded-3xl border border-white/80 bg-white/90 px-5 py-4 shadow-[0_15px_30px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-gray-500",children:[l.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-[var(--app-accent)]/10 text-[var(--app-accent)]",children:l.jsx(js,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Luma"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400"}),l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.2s"}})]})]})})]}),l.jsx("form",{onSubmit:o,className:"border-t border-white/60 bg-white/80 px-4 py-4 backdrop-blur sm:px-6",children:l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"rounded-2xl border border-[#d0e2ff] bg-white px-4 py-3 shadow-inner focus-within:border-[var(--app-accent)]/40 focus-within:ring-2 focus-within:ring-[var(--app-accent)]/15",children:l.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Ask Luma anything about your pipeline...",className:"w-full border-none bg-transparent text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none",disabled:a})}),l.jsx("p",{className:"text-[11px] text-gray-500",children:"Enter to send  Luma respects the same roles as PipelineIQ."})]}),l.jsxs("button",{type:"submit",disabled:a||!r.trim(),className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-[rgb(0,122,255)] px-6 py-3 text-sm font-semibold text-white shadow-[0_20px_40px_rgba(0,122,255,0.35)] transition hover:bg-[rgb(0,100,210)] disabled:opacity-60",children:[l.jsx(UL,{className:"h-4 w-4"}),l.jsx("span",{children:"Send"})]})]})})]})]})}const FZ={blue:"from-blue-50 to-blue-100 text-blue-900",green:"from-emerald-50 to-emerald-100 text-emerald-900",indigo:"from-indigo-50 to-indigo-100 text-indigo-900",orange:"from-orange-50 to-orange-100 text-orange-900",purple:"from-purple-50 to-purple-100 text-purple-900",teal:"from-teal-50 to-teal-100 text-teal-900"};function Xs({label:e,value:t,accent:r}){return l.jsxs("div",{className:`rounded-2xl bg-gradient-to-br ${FZ[r]} px-4 py-3`,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:e}),l.jsx("div",{className:"text-xl font-semibold text-gray-900",children:t})]})}function BZ({status:e,onEdit:t,onDelete:r}){const{attributes:n,listeners:a,setNodeRef:i,transform:s,transition:o,isDragging:c}=Fh({id:e.id}),u={transform:Jn.Transform.toString(s),transition:o,opacity:c?.5:1},d=Uh(e.color);return l.jsxs("div",{ref:i,style:u,className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center gap-4 hover:shadow-sm hover:border-gray-300 transition-all",children:[l.jsx("div",{...n,...a,className:"cursor-grab active:cursor-grabbing",children:l.jsx(j0,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full shadow-sm",style:{backgroundColor:d.bg}}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),l.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-lg",children:["Order: ",e.sort_order]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-600 hover:text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",title:"Edit status",children:l.jsx(kC,{className:"w-4 h-4",strokeWidth:2})}),l.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete status",children:l.jsx(Ti,{className:"w-4 h-4",strokeWidth:2})})]})]})}function UZ({status:e,onPersonalize:t,onResetOverride:r,hasPersonalOverride:n}){const a=Uh(e.color);return l.jsxs("div",{className:"bg-white border border-gray-200/60 rounded-xl p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a.bg}}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Order ",e.sort_order]}),n&&l.jsx("p",{className:"text-[11px] font-semibold text-[rgb(0,122,255)]",children:"Personalized"})]})]}),t?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(e),className:"px-3 py-1.5 text-xs font-semibold text-[rgb(0,122,255)] hover:bg-blue-50 rounded-lg transition",children:"Personalize color"}),n&&r&&l.jsx("button",{onClick:()=>r(e.id),className:"px-3 py-1.5 text-xs font-semibold text-gray-500 hover:bg-gray-100 rounded-lg transition",children:"Reset"})]}):l.jsx("span",{className:"text-[11px] uppercase tracking-wide text-gray-400",children:"View only"})]})}function zZ({canEdit:e=!0}){const{statuses:t,loading:r,addStatus:n,updateStatus:a,deleteStatus:i,reorderStatuses:s,applyTemplate:o,createCustomWorkflow:c,colorOverrides:u,setPersonalStatusColor:d,clearPersonalStatusColor:f}=zD(),[h,p]=m.useState(!1),[g,y]=m.useState(!1),[v,x]=m.useState(null),[w,b]=m.useState(""),[_,j]=m.useState(eo),[S,N]=m.useState(null),[k,C]=m.useState(!1),[E,P]=m.useState(null),[O,q]=m.useState(null),Y=Th(Ah(rl,{activationConstraint:{distance:8}})),Z=async I=>{const{active:te,over:z}=I;if(!z||te.id===z.id)return;const X=t.findIndex(Q=>Q.id===te.id),pe=t.findIndex(Q=>Q.id===z.id),T=[...t],[K]=T.splice(X,1);T.splice(pe,0,K);try{await s(T)}catch(Q){console.error("Error reordering:",Q),N("Failed to reorder statuses")}},U=async()=>{if(!w.trim()){N("Status name is required");return}C(!0),N(null);try{v?await a(v.id,{name:w.trim(),color:_}):await n(w.trim(),_),W()}catch(I){console.error("Error saving status:",I),N(I instanceof Error?I.message:"Failed to save status")}finally{C(!1)}},W=()=>{y(!1),x(null),b(""),j(eo),N(null)},A=async I=>{if(confirm("Are you sure you want to delete this status? This action cannot be undone."))try{await i(I)}catch(te){console.error("Error deleting status:",te),N(te instanceof Error?te.message:"Failed to delete status")}},M=I=>{x(I),b(I.name),j(Bh(I.color)||eo),y(!0)},L=async I=>{try{await o(I)}catch(te){throw console.error("Error applying template:",te),te}},se=I=>{P(I),q(I.color||eo)},ee=()=>{!E||!O||(d(E.id,O),P(null))},me=I=>{if(!E&&!I)return;const te=I||(E==null?void 0:E.id);te&&(f(te),I||P(null))};return r?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(At,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Pipeline Statuses"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Customize your pipeline stages, colors, and workflow order"}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viewing workspace stages from your workspace. You can personalize colors without changing the shared setup."})]}),S&&l.jsxs("div",{className:"mb-4 flex items-center gap-3 p-4 rounded-xl bg-red-50 text-red-700 border border-red-200/60",children:[l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:S})]}),e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[l.jsxs("button",{onClick:()=>{b(""),j(eo),y(!0)},className:"hig-btn-primary",children:[l.jsx(Ua,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Status"})]}),l.jsxs("button",{onClick:()=>p(!0),className:"hig-btn-secondary",children:[l.jsx(BL,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Load Template"})]})]}),h&&l.jsx(WD,{onClose:()=>p(!1),onSelect:L,onCreateCustomWorkflow:c})]}),t.length===0?l.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center border border-gray-200/60",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"No pipeline stages configured"}),e?l.jsx("button",{onClick:()=>p(!0),className:"hig-btn-primary",children:"Load a Template to Get Started"}):l.jsx("p",{className:"text-sm text-gray-500",children:"Ask an admin to configure stages for this workspace."})]}):e?l.jsx(Rh,{sensors:Y,collisionDetection:C0,onDragEnd:Z,children:l.jsx(Lh,{items:t.map(I=>I.id),strategy:aE,children:l.jsx("div",{className:"space-y-3",children:t.map(I=>l.jsx(BZ,{status:I,onEdit:M,onDelete:A},I.id))})})}):l.jsx("div",{className:"space-y-3",children:t.map(I=>l.jsx(UZ,{status:I,hasPersonalOverride:!!u[I.id],onPersonalize:e?void 0:se,onResetOverride:e?void 0:()=>me(I.id)},I.id))}),e&&g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v?"Edit Status":"Add New Status"}),l.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ss,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Status Name"}),l.jsx("input",{type:"text",value:w,onChange:I=>b(I.target.value),className:"hig-input",placeholder:"e.g., Inspection, Appraisal",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Color"}),l.jsx(SS,{value:_,onChange:j})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200/60 bg-gray-50/50",children:[l.jsx("button",{onClick:W,className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:U,disabled:k||!w.trim(),className:"hig-btn-primary",children:k?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[v?"Update":"Add"," Status"]})})]})]})}),!e&&E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:['Personalize "',E.name,'"']}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Changes apply only to your view. Workspace defaults stay intact."})]}),l.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ss,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsx("div",{className:"p-6 space-y-6",children:l.jsx(SS,{value:O,onChange:q})}),l.jsxs("div",{className:"flex justify-between items-center gap-3 p-6 border-t border-gray-200/60 bg-gray-50/50",children:[l.jsx("button",{onClick:()=>me(),className:"text-sm font-semibold text-gray-600 hover:text-gray-800 hover:bg-gray-100 px-3 py-2 rounded-lg transition",children:"Use workspace default"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>P(null),className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:ee,className:"hig-btn-primary",children:"Save for me"})]})]})]})})]})}const Js=()=>({name:"",brokerage_split_rate:20,payout_structure:"standard",partnership_split_rate:35,partnership_notes:""});function WZ({canEdit:e=!0}){const{user:t,roleInfo:r}=_t(),n=(r==null?void 0:r.teamId)||null,[a,i]=m.useState([]),[s,o]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[g,y]=m.useState(null),[v,x]=m.useState(Js()),[w,b]=m.useState(null),[_,j]=m.useState("all"),[S,N]=m.useState("");m.useEffect(()=>{k()},[t==null?void 0:t.id,n]);const k=async()=>{if(t){o(!0);try{const{data:A,error:M}=n?await G.from("lead_sources").select("*").eq("team_id",n).order("sort_order",{ascending:!0,nullsLast:!0}).order("name",{ascending:!0}):{data:null,error:null};if(M)throw M;const L=!!(A!=null&&A.length),{data:se,error:ee}=L?{data:A,error:null}:await G.from("lead_sources").select("*").eq("user_id",t.id).order("sort_order",{ascending:!0,nullsLast:!0}).order("name",{ascending:!0});if(ee)throw ee;if(!se){i([]),o(!1);return}const me=[...se].sort((te,z)=>te.sort_order===z.sort_order?te.name.localeCompare(z.name):(te.sort_order??0)-(z.sort_order??0));if(me.some((te,z)=>te.sort_order!==z+1)){const te=me.map((z,X)=>({...z,sort_order:X+1}));i(te),await Promise.all(te.map((z,X)=>G.from("lead_sources").update({sort_order:X+1}).eq("id",z.id)))}else i(me)}catch(A){console.error("Error loading lead sources:",A),b(A instanceof Error?A.message:"Failed to load lead sources")}finally{o(!1)}}},C=async A=>{if(A.preventDefault(),!e||!t||!v.name.trim()){b("Lead source name is required");return}if(!(r!=null&&r.workspaceId)){b("Workspace is required to add a lead source.");return}u(!0),b(null);try{const M=parseFloat(v.brokerage_split_rate||""),L=Number.isNaN(M)?0:M,se=v.partnership_split_rate??0,ee=Number.isNaN(se)?0:se,me={name:v.name,team_id:n,brokerage_split_rate:L/100,payout_structure:v.payout_structure,partnership_split_rate:v.payout_structure==="partnership"?ee/100:null,partnership_notes:v.payout_structure==="partnership"&&v.partnership_notes.trim()||null,workspace_id:r.workspaceId};if(h){const{error:I}=await G.from("lead_sources").update(me).eq("id",h.id);if(I)throw I}else{const I=a.reduce((z,X)=>Math.max(z,X.sort_order??0),0),{error:te}=await G.from("lead_sources").insert({user_id:t.id,sort_order:I+1,...me});if(te)throw te}f(!1),x(Js()),p(null),k()}catch(M){console.error("Error saving lead source:",M),b(M instanceof Error?M.message:"Failed to save lead source")}finally{u(!1)}},E=A=>{e&&(p(A),x({name:A.name,brokerage_split_rate:A.brokerage_split_rate*100,payout_structure:A.payout_structure,partnership_split_rate:(A.partnership_split_rate??.35)*100,partnership_notes:A.partnership_notes||""}),f(!0),b(null))},P=async A=>{if(e&&confirm("Are you sure you want to delete this lead source? This action cannot be undone."))try{const{error:M}=await G.from("lead_sources").delete().eq("id",A);if(M)throw M;k()}catch(M){console.error("Error deleting lead source:",M),b(M instanceof Error?M.message:"Failed to delete lead source")}},O=[{value:"standard",title:"Standard Split",description:"Only your brokerage split applies."},{value:"partnership",title:"Partnership Program",description:"Pay the partner first, then split the remainder with your brokerage."}],q=[{value:"all",label:"All sources"},{value:"standard",label:"Standard"},{value:"partnership",label:"Partnership"}],Y=Th(Ah(rl,{activationConstraint:{distance:3}})),Z=m.useMemo(()=>{const A=S.trim().toLowerCase();return a.filter(M=>{const L=_==="all"||M.payout_structure===_,se=!A||[M.name,M.partnership_notes||""].some(ee=>ee.toLowerCase().includes(A));return L&&se})},[a,S,_]),U=e&&_==="all"&&S.trim()==="",W=async A=>{if(y(null),!U)return;const{active:M,over:L}=A;if(!L||M.id===L.id)return;const se=a.findIndex(X=>X.id===M.id),ee=a.findIndex(X=>X.id===L.id);if(se===-1||ee===-1)return;const I=Mh(a,se,ee).map((X,pe)=>({...X,sort_order:pe+1}));i(I);const te=new Map(a.map(X=>[X.id,X.sort_order])),z=I.filter(X=>X.sort_order!==te.get(X.id));try{z.length>0&&await Promise.all(z.map(X=>G.from("lead_sources").update({sort_order:X.sort_order}).eq("id",X.id)))}catch(X){console.error("Error reordering lead sources:",X),b("Unable to save lead source order. Please try again."),k()}};return s?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(At,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-1",children:"Lead Sources"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Track partner programs, portals, and referral channels."}),!e&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can review workspace lead sources. Only admins can make edits."})]}),e&&l.jsxs("button",{onClick:()=>{f(!0),p(null),x(Js()),b(null)},className:"hig-btn-primary self-start",children:[l.jsx(Ua,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Lead Source"})]})]})}),w&&l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-red-200/70 bg-red-50 px-4 py-3 text-red-700",children:[l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:w})]}),l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"relative w-full md:w-72",children:[l.jsx(S0,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",value:S,onChange:A=>N(A.target.value),placeholder:"Search lead sources",className:"w-full rounded-2xl border border-gray-200/70 bg-white/90 py-2 pl-9 pr-3 text-sm text-gray-900 shadow-inner focus:border-[var(--app-accent)]/50 focus:ring-2 focus:ring-[var(--app-accent)]/20"})]}),l.jsx("div",{className:"inline-flex flex-wrap gap-2 rounded-2xl border border-gray-200/70 bg-white/80 p-1.5 shadow-inner",children:q.map(A=>{const M=_===A.value;return l.jsx("button",{type:"button",onClick:()=>j(A.value),className:`rounded-xl px-3 py-1.5 text-sm font-medium transition ${M?"bg-gray-900 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:A.label},A.value)})})]}),e&&l.jsx("p",{className:"text-xs text-gray-400",children:"Drag handles appear when viewing all sources without filters so you can reorder tiles."}),a.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-gray-300 bg-gray-50/80 p-10 text-center",children:[l.jsx(OC,{className:"mx-auto mb-4 h-10 w-10 text-gray-400",strokeWidth:1.5}),l.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:"No lead sources configured"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Add your first lead source to start tracking where your deals originate."}),e?l.jsxs("button",{onClick:()=>{f(!0),p(null),x(Js()),b(null)},className:"hig-btn-primary",children:[l.jsx(Ua,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Add Lead Source"})]}):l.jsx("p",{className:"text-xs text-gray-500",children:"Ask a workspace admin to configure lead sources."})]}):Z.length===0?l.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white/80 p-10 text-center text-sm text-gray-500",children:"No sources match your filters."}):l.jsxs(Rh,{sensors:Y,collisionDetection:C0,onDragStart:A=>{const M=a.find(L=>L.id===A.active.id);y(M||null)},onDragEnd:W,onDragCancel:()=>y(null),children:[l.jsx(Lh,{items:Z.map(A=>A.id),strategy:$h,children:l.jsx("div",{className:"grid w-full gap-4",style:{gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))"},children:Z.map(A=>l.jsx(KZ,{source:A,canEdit:e,disableDrag:!U,onEdit:()=>E(A),onDelete:()=>P(A.id)},A.id))})}),l.jsx(nE,{dropAnimation:{duration:200,easing:"ease"},children:g?l.jsx(HZ,{source:g}):null})]}),e&&d&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/60",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?"Edit Lead Source":"Add Lead Source"}),l.jsx("button",{onClick:()=>{f(!1),p(null),x(Js()),b(null)},className:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg",children:l.jsx(Ss,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Source Name"}),l.jsx("input",{type:"text",value:v.name,onChange:A=>x({...v,name:A.target.value}),className:"hig-input",placeholder:"e.g., Zillow, Past Client, Open House",required:!0,autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Deal Structure"}),l.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:O.map(A=>{const M=v.payout_structure===A.value;return l.jsxs("button",{type:"button",onClick:()=>x({...v,payout_structure:A.value}),className:`text-left rounded-2xl border p-4 transition-all ${M?"border-[rgb(0,122,255)] bg-[rgb(0,122,255)]/5":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:A.title}),l.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:A.description})]},A.value)})}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Choose partnership when working with platforms like Redfin or Zillow that take their fee before your team split."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Brokerage Split Rate"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:v.brokerage_split_rate,onChange:A=>x({...v,brokerage_split_rate:Number.isNaN(parseFloat(A.target.value))?0:parseFloat(A.target.value)}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Percentage of the remaining commission that goes to your brokerage/team."})]}),v.payout_structure==="partnership"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Split Rate"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:v.partnership_split_rate,onChange:A=>x({...v,partnership_split_rate:Number.isNaN(parseFloat(A.target.value))?0:parseFloat(A.target.value)}),className:"hig-input pr-8",placeholder:"35",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Portion of the gross commission that goes to the partner program before any brokerage split."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Partner Notes"}),l.jsx("textarea",{value:v.partnership_notes,onChange:A=>x({...v,partnership_notes:A.target.value}),className:"hig-input min-h-[88px]",placeholder:"e.g., Pay Redfin 35% within 5 days, then 50/50 split with brokerage"})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-gray-50/60 p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-3",children:"Payout Preview"}),l.jsxs("ol",{className:"space-y-3 text-sm text-gray-800",children:[v.payout_structure==="partnership"&&l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:"1"}),"Pay partner first (",v.partnership_split_rate||0,"% of gross commission)"]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex w-7 h-7 items-center justify-center rounded-full bg-[rgb(0,122,255)]/10 text-[rgb(0,122,255)] text-xs font-semibold",children:v.payout_structure==="partnership"?"2":"1"}),"Split the remaining commission with your brokerage (",v.brokerage_split_rate||0,"% to broker)"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-200/60",children:[l.jsx("button",{type:"button",onClick:()=>{f(!1),p(null),x(Js()),b(null)},className:"hig-btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c||!v.name.trim(),className:"hig-btn-primary",children:c?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving..."})]}):l.jsxs("span",{children:[h?"Update":"Add"," Source"]})})]})]})]})})]})}function KZ({source:e,canEdit:t,disableDrag:r,onEdit:n,onDelete:a}){const{attributes:i,listeners:s,setNodeRef:o,transform:c,transition:u,isDragging:d}=Fh({id:e.id,disabled:r}),f={transform:Jn.Transform.toString(c),transition:u??"transform 200ms ease"},h=e.payout_structure==="partnership",p=`${(e.brokerage_split_rate*100).toFixed(1)}%`,g=h?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return l.jsxs("div",{ref:o,style:f,className:`w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_14px_40px_rgba(15,23,42,0.08)] transition ${d?"ring-2 ring-[var(--app-accent)]/40 shadow-[0_20px_50px_rgba(15,23,42,0.15)]":"hover:border-gray-300/80 hover:shadow-[0_24px_60px_rgba(15,23,42,0.12)]"}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t&&l.jsx("button",{type:"button",...i,...s,disabled:r,className:`rounded-full border border-gray-200/70 bg-white/80 p-2 text-gray-400 transition ${r?"cursor-not-allowed opacity-40":"cursor-grab hover:text-gray-700 active:cursor-grabbing"}`,"aria-label":"Drag to reorder lead source",children:l.jsx(j0,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[h?l.jsx(_C,{className:"h-3 w-3 text-[var(--app-accent)]",strokeWidth:2}):l.jsx(js,{className:"h-3 w-3 text-gray-500",strokeWidth:2}),l.jsx("span",{className:h?"text-[var(--app-accent)]":"",children:h?"PARTNERSHIP":"STANDARD"})]}),l.jsx("h3",{className:"mt-1 text-base font-semibold text-gray-900",children:e.name})]})]}),t?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:n,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-blue-50 hover:text-[var(--app-accent)]",title:"Edit lead source",children:l.jsx(kC,{className:"h-4 w-4",strokeWidth:2})}),l.jsx("button",{onClick:a,className:"rounded-xl p-1.5 text-gray-600 transition hover:bg-red-50 hover:text-red-600",title:"Delete lead source",children:l.jsx(Ti,{className:"h-4 w-4",strokeWidth:2})})]}):l.jsx("span",{className:"text-[11px] uppercase tracking-[0.35em] text-gray-400",children:"View only"})]}),l.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[h&&g&&l.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Partner share"}),l.jsx("span",{className:"font-semibold text-gray-900",children:g})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Broker split"}),l.jsx("span",{className:"font-semibold text-gray-900",children:p})]})]}),e.partnership_notes&&l.jsx("p",{className:"mt-3 rounded-[18px] border border-gray-100 bg-white/80 px-3 py-2 text-[12px] text-gray-600 shadow-inner line-clamp-2",children:e.partnership_notes})]})}function HZ({source:e}){const t=e.payout_structure==="partnership",r=`${(e.brokerage_split_rate*100).toFixed(1)}%`,n=t?`${((e.partnership_split_rate??0)*100).toFixed(1)}%`:null;return l.jsxs("div",{className:"w-full rounded-[24px] border border-gray-200/80 bg-white/95 p-4 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold tracking-[0.35em] text-gray-500",children:[t?l.jsx(_C,{className:"h-3.5 w-3.5 text-[var(--app-accent)]",strokeWidth:2}):l.jsx(js,{className:"h-3.5 w-3.5 text-gray-500",strokeWidth:2}),l.jsx("span",{className:t?"text-[var(--app-accent)]":"",children:t?"PARTNERSHIP":"STANDARD"})]}),l.jsx("h3",{className:"mt-2 text-base font-semibold text-gray-900",children:e.name}),l.jsxs("div",{className:"mt-4 rounded-[20px] border border-gray-100 bg-gray-50/80 px-3 py-3 text-sm",children:[t&&n&&l.jsxs("div",{className:"mb-2 flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Partner share"}),l.jsx("span",{className:"font-semibold text-gray-900",children:n})]}),l.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[l.jsx("span",{children:"Broker split"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]})}function KD(){const{roleInfo:e}=_t(),t=(e==null?void 0:e.workspaceId)||null,[r,n]=m.useState(null),[a,i]=m.useState(!0),[s,o]=m.useState(null),c=m.useCallback(async()=>{if(!t){n(null),i(!1);return}i(!0),o(null);const{data:d,error:f}=await G.from("workspace_settings").select("*").eq("id",t).maybeSingle();f?(console.error("Error loading workspace settings:",f),o("Unable to load workspace settings.")):n(d),i(!1)},[t]);return m.useEffect(()=>{c()},[c]),{workspace:r,loading:a,error:s,refresh:c,updateWorkspace:async d=>{if(!t)return{error:new Error("Workspace not found")};const{data:f,error:h}=await G.from("workspace_settings").update({...d,updated_at:new Date().toISOString()}).eq("id",t).select("*").maybeSingle();return h?(console.error("Error updating workspace settings:",h),{error:h}):(f&&n(f),{error:null})}}}function qZ({canEdit:e}){const{workspace:t,loading:r,updateWorkspace:n}=KD(),[a,i]=m.useState({name:"",company_name:"",timezone:"America/Los_Angeles",locale:"en-US"}),[s,o]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{t&&i({name:t.name||"",company_name:t.company_name||"",timezone:t.timezone||"America/Los_Angeles",locale:t.locale||"en-US"})},[t]);const d=async f=>{if(f.preventDefault(),!e)return;o(!0),u(null);const{error:h}=await n(a);u(h?{type:"error",text:"Unable to update workspace info."}:{type:"success",text:"Workspace updated."}),o(!1)};return r?l.jsx("div",{className:"flex items-center justify-center py-10",children:l.jsx(At,{className:"w-6 h-6 animate-spin text-[var(--app-accent)]"})}):l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Company Info"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Company identity, locale, and defaults shared with your agents and teams."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Workspace details are managed by admins. You can view but not edit."})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Company Name"}),l.jsx("input",{type:"text",value:a.name,onChange:f=>i(h=>({...h,name:f.target.value})),className:"hig-input",disabled:!e,placeholder:"Luminex Realty Group"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Timezone"}),l.jsxs("select",{value:a.timezone,onChange:f=>i(h=>({...h,timezone:f.target.value})),className:"hig-input",disabled:!e,children:[l.jsx("option",{value:"America/Los_Angeles",children:"Pacific (PT)"}),l.jsx("option",{value:"America/Denver",children:"Mountain (MT)"}),l.jsx("option",{value:"America/Chicago",children:"Central (CT)"}),l.jsx("option",{value:"America/New_York",children:"Eastern (ET)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Locale"}),l.jsxs("select",{value:a.locale,onChange:f=>i(h=>({...h,locale:f.target.value})),className:"hig-input",disabled:!e,children:[l.jsx("option",{value:"en-US",children:"English (US)"}),l.jsx("option",{value:"en-CA",children:"English (Canada)"}),l.jsx("option",{value:"es-US",children:"Espaol"})]})]})]}),c&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${c.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[c.type==="error"?l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(Ai,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:c.text})]}),e&&l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Workspace"})]})})]})]})}const ES={crm:{provider:"Follow Up Boss",description:"Sync contacts + deals bi-directionally.",status:"not_connected"},email:{provider:"Google Workspace",description:"Log emails to deals and trigger automations.",status:"not_connected"},marketing:{provider:"Zapier",description:"Push new leads into PipelineIQ automatically.",status:"not_connected"}};function VZ({canEdit:e}){const{workspace:t,updateWorkspace:r}=KD(),[n,a]=m.useState(ES),[i,s]=m.useState(null);m.useEffect(()=>{if(t!=null&&t.integration_settings){const c=t.integration_settings;a({...ES,...c})}},[t==null?void 0:t.integration_settings]);const o=async c=>{if(!e)return;s(c);const u=n[c].status==="connected"?"not_connected":"connected",d={...n,[c]:{...n[c],status:u,lastSync:u==="connected"?new Date().toISOString():void 0}};a(d),await r({integration_settings:d}),s(null)};return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Integrations"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Connect your CRM, email, and marketing tools so deals stay in sync."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only workspace admins can manage integrations."})]}),l.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([c,u])=>l.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/80 px-4 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.provider}),l.jsx("p",{className:"text-xs text-gray-500",children:u.description}),u.lastSync&&l.jsxs("p",{className:"text-[11px] text-gray-400 mt-1",children:["Last sync ",new Date(u.lastSync).toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:`text-xs font-semibold ${u.status==="connected"?"text-emerald-600":"text-gray-500"}`,children:u.status==="connected"?"Connected":"Not connected"}),l.jsx("button",{type:"button",onClick:()=>o(c),disabled:!e||i===c,className:`rounded-full border px-4 py-2 text-sm font-semibold transition ${u.status==="connected"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-50 text-gray-600 border-gray-200"} ${e?"":"opacity-50 cursor-not-allowed"}`,children:u.status==="connected"?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(WL,{className:"w-4 h-4"}),"Disconnect"]}):l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(zL,{className:"w-4 h-4"}),"Connect"]})})]})]},c))})]})}const GZ=[{title:"Deal Templates",description:"Define repeatable sets of tasks, stages, and documents for each pipeline type."},{title:"Custom Fields",description:"Capture additional data points (loan type, co-borrower, transaction coordinator) across every deal."},{title:"Default Views",description:"Control which boards, filters, and metrics new team members inherit on first login."}];function YZ({canEdit:e}){return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Shared Configuration"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Templates, custom fields, and default views that keep your workspace aligned."}),!e&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ask an admin to adjust shared templates or defaults for the workspace."})]}),l.jsx("div",{className:"space-y-4",children:GZ.map(t=>l.jsx("div",{className:"rounded-2xl border border-gray-200/70 bg-white px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:t.title}),l.jsx("p",{className:"text-xs text-gray-500",children:t.description})]}),l.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl border text-sm font-medium ${e?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!e,children:e?"Configure":"View only"})]})},t.title))})]})}function XZ(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),[i,s]=m.useState(null),o=m.useCallback(async()=>{if(!e)return;a(!0),s(null);const{data:u,error:d}=await G.rpc("get_workspace_members",{p_workspace_id:e});d?(s(d.message),r([])):r(u||[]),a(!1)},[e]);m.useEffect(()=>{o()},[o]);const c=m.useCallback(async(u,d,f)=>{const{error:h}=await G.rpc("manage_workspace_member",{target_user:u,action:d,new_role:f??null});return h||await o(),{error:h}},[o]);return{members:t,loading:n,error:i,refresh:o,changeRole:(u,d)=>c(u,"update_role",d),deactivate:u=>c(u,"deactivate"),reactivate:u=>c(u,"reactivate"),remove:u=>c(u,"delete"),updateTeam:async(u,d)=>{if(!d)return{error:new Error("Team is required")};const{error:f}=await G.from("user_teams").delete().eq("user_id",u);if(f)return{error:f};const{error:h}=await G.from("user_teams").upsert({user_id:u,team_id:d,role:"agent"});return h?{error:h}:(await o(),{error:null})}}}function pb(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),i=m.useCallback(async()=>{if(!e)return;a(!0);const{data:o,error:c}=await G.rpc("get_workspace_teams",{p_workspace_id:e});r(c?[]:o||[]),a(!1)},[e]);m.useEffect(()=>{i()},[i]);const s=m.useCallback(async(o,c)=>{if(!e)return{error:new Error("Workspace is required")};const u=o.trim();if(!u)return{error:new Error("Team name is required")};const{data:d,error:f}=await G.from("teams").insert({name:u}).select("id, name").single();if(f||!d)return{error:f};if(c){const{error:h}=await G.from("user_teams").upsert({user_id:c,team_id:d.id,role:"team_lead"});if(h)return{error:h}}return await i(),{error:null}},[e,i]);return{teams:t,loading:n,refresh:i,createTeam:s}}const JZ=["admin","sales_manager","team_lead","agent"];function QZ(){const{roleInfo:e,user:t}=_t(),r=(e==null?void 0:e.workspaceId)||null,n=gC(e),[a,i]=m.useState(null),{members:s,loading:o,error:c,changeRole:u,deactivate:d,reactivate:f,remove:h,updateTeam:p}=XZ(r),{teams:g,loading:y}=pb(r),[v,x]=m.useState(null),w=m.useMemo(()=>s.filter(k=>k.global_role==="admin"&&k.is_active).length,[s]),b=async(k,C)=>{i(k+C),await u(k,C),i(null)},_=async k=>{i(`deactivate-${k}`),await d(k),i(null)},j=async k=>{i(`reactivate-${k}`),await f(k),i(null)},S=async(k,C)=>{confirm(`Delete ${C||"this user"}? This removes their account and access. This cannot be undone.`)&&(i(`delete-${k}`),await h(k),i(null))},N=async(k,C)=>{i(`team-${k}`);const{error:E}=await p(k,C);x((E==null?void 0:E.message)??null),i(null)};return!r||!n?l.jsx("div",{className:"text-sm text-gray-600",children:"Workspace member management is limited to administrators. Contact an admin if you need to add or update teammates."}):o?l.jsx("div",{className:"flex items-center justify-center py-10 text-gray-500",children:l.jsx(At,{className:"h-5 w-5 animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Workspace Members"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["View and manage everyone in your workspace. You currently have ",w," admin",w===1?"":"s","."]}),c&&l.jsx("div",{className:"mt-3 rounded-xl border border-red-200/70 bg-red-50 px-3 py-2 text-sm text-red-600",children:c}),v&&!c&&l.jsx("div",{className:"mt-3 rounded-xl border border-red-200/70 bg-red-50 px-3 py-2 text-sm text-red-600",children:v}),!c&&y&&l.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-xl border border-gray-200/70 bg-white px-3 py-1 text-xs text-gray-600",children:[l.jsx(At,{className:"h-3.5 w-3.5 animate-spin"}),"Loading teams"]})]}),l.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-200/70",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[l.jsx("thead",{className:"bg-gray-50/60",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Member"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Team"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.25em] text-gray-500",children:"Last active"}),l.jsx("th",{className:"px-4 py-3"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 bg-white/80",children:s.map(k=>{var Y;const C=k.user_id===(t==null?void 0:t.id),E=k.is_active,P=a!==null,O=P&&((a==null?void 0:a.includes(k.user_id))??!1),q=P&&!O;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:k.full_name||k.email||"Member"}),l.jsx("span",{className:"text-xs text-gray-500",children:k.email})]})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("select",{className:"hig-input text-sm",value:k.global_role,disabled:!E||q||C,onChange:Z=>b(k.user_id,Z.target.value),children:JZ.map(Z=>l.jsx("option",{value:Z,children:Oi(Z)},Z))}),C&&l.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"You cant change your own role from this screen."})]}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("select",{className:"hig-input text-sm",value:k.team_id||((Y=g[0])==null?void 0:Y.team_id)||"",disabled:!E||q||y||g.length===0,onChange:Z=>N(k.user_id,Z.target.value),children:g.map(Z=>l.jsx("option",{value:Z.team_id,children:Z.name},Z.team_id))})}),l.jsx("td",{className:"px-4 py-4",children:l.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${E?"bg-emerald-50 text-emerald-700 border border-emerald-200/70":"bg-gray-100 text-gray-500 border border-gray-200"}`,children:E?"Active":"Inactive"})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:k.last_sign_in_at?new Date(k.last_sign_in_at).toLocaleDateString():""}),l.jsxs("td",{className:"px-4 py-4 text-right space-x-2",children:[E?l.jsxs("button",{onClick:()=>_(k.user_id),disabled:q||C,className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-sm font-semibold text-red-600 hover:bg-red-100 disabled:opacity-50",children:[l.jsx(FL,{className:"h-4 w-4"}),"Deactivate"]}):l.jsxs("button",{onClick:()=>j(k.user_id),disabled:q,className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-sm font-semibold text-blue-600 hover:bg-blue-100 disabled:opacity-50",children:[l.jsx(CC,{className:"h-4 w-4"}),"Reactivate"]}),!C&&l.jsxs("button",{onClick:()=>S(k.user_id,k.email),disabled:q,className:"inline-flex items-center gap-2 rounded-2xl border border-gray-200/70 bg-white px-3 py-1.5 text-sm font-semibold text-gray-700 hover:bg-red-50 hover:border-red-200/70 hover:text-red-700 disabled:opacity-50",title:"Delete user",children:[l.jsx(Ti,{className:"h-4 w-4"}),"Delete"]})]})]},k.user_id)})})]})})]})}function ZZ(e){const[t,r]=m.useState([]),[n,a]=m.useState(!1),[i,s]=m.useState(null),o=async h=>{try{const{error:p}=await G.functions.invoke("send-invite-email",{body:{inviteId:h,origin:typeof window<"u"?window.location.origin:void 0}});p&&console.error("Invite email dispatch failed",p)}catch(p){console.error("Invite email dispatch failed",p)}},c=m.useCallback(async()=>{if(!e)return;a(!0),s(null);const{data:h,error:p}=await G.from("workspace_invitations").select("*").eq("workspace_id",e).eq("status","pending").order("created_at",{ascending:!1});p?(s(p.message),r([])):r(h||[]),a(!1)},[e]);m.useEffect(()=>{c()},[c]),m.useEffect(()=>{if(!e)return;const h=G.channel(`workspace-invitations-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"workspace_invitations",filter:`workspace_id=eq.${e}`},()=>{c()}).subscribe();return()=>{G.removeChannel(h)}},[e,c]);const u=m.useCallback(async({email:h,intendedRole:p,teamId:g})=>{if(!e)return{error:new Error("Workspace is required")};if(!g)return{error:new Error("Team is required for invites")};const{data:y,error:v}=await G.from("workspace_invitations").insert({email:h,intended_role:p,workspace_id:e,team_id:g??null}).select("*").single();return!v&&y&&(await o(y.id),await c()),{error:v}},[e,c]),d=m.useCallback(async h=>{const{error:p}=await G.from("workspace_invitations").update({status:"canceled"}).eq("id",h);return p||await c(),{error:p}},[c]),f=m.useCallback(async h=>{const{data:p,error:g}=await G.from("workspace_invitations").update({status:"pending",expires_at:new Date(Date.now()+12096e5).toISOString()}).eq("id",h).select("*").single();return!g&&p&&(await o(p.id),await c()),{error:g}},[c]);return{invites:t,loading:n,error:i,refresh:c,createInvite:u,cancelInvite:d,resendInvite:f}}const PS=[{value:"admin",label:"Admin"},{value:"sales_manager",label:"Sales Manager"},{value:"team_lead",label:"Team Lead"},{value:"agent",label:"Agent"}];function eee(){var P;const{roleInfo:e}=_t(),t=(e==null?void 0:e.workspaceId)||null,r=mC(e),n=fL(e),{invites:a,loading:i,createInvite:s,resendInvite:o,cancelInvite:c}=ZZ(t),{teams:u}=pb(t),[d,f]=m.useState(""),[h,p]=m.useState("agent"),[g,y]=m.useState((e==null?void 0:e.teamId)||null),[v,x]=m.useState(!1),[w,b]=m.useState(null),[_,j]=m.useState(null),S=(P=u.find(O=>O.team_id===(e==null?void 0:e.teamId)))==null?void 0:P.name,N=n?PS:PS.filter(O=>O.value==="agent");m.useEffect(()=>{n||p("agent")},[n]),m.useEffect(()=>{!g&&u.length>0&&y(u[0].team_id)},[u,g]);const k=O=>`${window.location.origin}/invite/${O}`,C=async O=>{if(O.preventDefault(),!d)return;if(!t){b({type:"error",text:"Workspace is required before sending invites. Please refresh or contact an admin."});return}if(!g){b({type:"error",text:"A team is required so pipeline statuses and lead sources stay in sync. Create a team first if none exist."});return}x(!0),b(null);const{error:q}=await s({email:d.trim().toLowerCase(),intendedRole:h,teamId:g});if(x(!1),q){b({type:"error",text:q.message||"Unable to send invite. Please try again."});return}f(""),b({type:"success",text:`Invitation sent to ${d.trim().toLowerCase()}. Share the link or let them check their inbox.`})};if(m.useEffect(()=>{e!=null&&e.teamId&&y(e.teamId)},[e==null?void 0:e.teamId]),!r)return l.jsx("div",{className:"text-sm text-gray-600",children:"Only admins, sales managers, or team leads can invite new members. Contact an admin if you need to add someone to your workspace."});const E=a.filter(O=>O.status==="pending");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Invitations"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Invite teammates by email and manage pending invitations. Links stay valid for 14 days."})]}),l.jsxs("form",{onSubmit:C,className:"rounded-2xl border border-gray-200/70 bg-white/80 p-5 space-y-4",children:[w&&l.jsx("div",{className:`flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm ${w.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:w.text}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Email"}),l.jsx("input",{type:"email",required:!0,className:"hig-input",placeholder:"newagent@example.com",value:d,onChange:O=>f(O.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsx("select",{className:"hig-input",value:h,onChange:O=>p(O.target.value),children:N.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Team *"}),(e==null?void 0:e.globalRole)==="agent"||!n&&(e!=null&&e.teamId)?l.jsx("input",{type:"text",className:"hig-input bg-gray-50",value:S||"Assigned automatically",readOnly:!0}):u.length===0?l.jsx("input",{type:"text",className:"hig-input bg-gray-50",value:"Create a team first to send invites",readOnly:!0}):l.jsx("select",{className:"hig-input",value:g||"",onChange:O=>y(O.target.value||null),children:u.map(O=>l.jsx("option",{value:O.team_id,children:O.name},O.team_id))})]})}),l.jsx("button",{type:"submit",disabled:v||!g,className:"hig-btn-primary inline-flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(TL,{className:"h-4 w-4"}),"Send invitation"]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending invitations"}),i?l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[l.jsx(At,{className:"h-4 w-4 animate-spin"}),"Loading invitations"]}):E.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"No active invitations."}):l.jsx("div",{className:"space-y-4",children:E.map(O=>{const Y=O.status==="pending"&&new Date(O.expires_at).getTime()<Date.now()?"expired":O.status;return l.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200/70 bg-white/80 p-4 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:O.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Oi(O.intended_role),"  expires ",new Date(O.expires_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.status==="pending"&&l.jsx("button",{type:"button",onClick:async()=>{await navigator.clipboard.writeText(k(O.token)),j(O.id),setTimeout(()=>j(null),2e3)},className:`inline-flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs font-semibold transition shadow-sm ${_===O.id?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-700 hover:border-emerald-200/80 hover:bg-emerald-50/60 hover:text-emerald-700 hover:shadow-md"}`,children:_===O.id?l.jsxs(l.Fragment,{children:[l.jsx(Nc,{className:"h-3.5 w-3.5"}),"Copied"]}):l.jsxs(l.Fragment,{children:[l.jsx(PL,{className:"h-3.5 w-3.5"}),"Copy link"]})}),Y==="pending"?l.jsxs("button",{type:"button",onClick:()=>o(O.id),className:"inline-flex items-center gap-2 rounded-2xl border border-blue-200/70 bg-blue-50 px-3 py-1.5 text-xs font-semibold text-blue-600 hover:bg-blue-100",children:[l.jsx(CC,{className:"h-3.5 w-3.5"}),"Resend"]}):l.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-semibold text-gray-600 capitalize",children:Y}),O.status==="pending"&&l.jsxs("button",{type:"button",onClick:()=>c(O.id),className:"inline-flex items-center gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-100",children:[l.jsx(HL,{className:"h-3.5 w-3.5"}),"Cancel"]})]})]},O.id)})})]})]})}function tee(){const{roleInfo:e,user:t}=_t(),r=(e==null?void 0:e.workspaceId)||null,n=pC(e),{teams:a,loading:i,createTeam:s}=pb(r),[o,c]=m.useState(""),[u,d]=m.useState(!1),[f,h]=m.useState(null),p=m.useMemo(()=>[...a].sort((y,v)=>y.name.localeCompare(v.name)),[a]),g=async y=>{var x;if(y.preventDefault(),!o.trim())return;d(!0),h(null);const{error:v}=await s(o,t==null?void 0:t.id);if(d(!1),v){const w=(x=v.message)==null?void 0:x.toLowerCase().includes("duplicate");h({type:"error",text:w?"A team with that name already exists.":v.message||"Unable to create team right now."});return}c(""),h({type:"success",text:"Team created. Assign members from the Members tab."})};return!r||!n?l.jsx("div",{className:"text-sm text-gray-600",children:"Only workspace admins can create teams. Ask an admin to set this up if you need a new team."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Teams"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Create lightweight teams to group agents and route invitations. You can add members after creating the team."})]}),l.jsxs("form",{onSubmit:g,className:"space-y-4 rounded-2xl border border-gray-200/70 bg-white/80 p-5",children:[l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"hig-label",children:"Team name"}),l.jsx("input",{type:"text",className:"hig-input",placeholder:"Example: East Coast Team",value:o,onChange:y=>c(y.target.value),required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Names must be unique across your workspace."})]}),l.jsx("button",{type:"submit",disabled:u,className:"hig-btn-primary inline-flex items-center justify-center gap-2 px-4",children:u?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"h-4 w-4 animate-spin"}),"Creating"]}):l.jsxs(l.Fragment,{children:[l.jsx(LL,{className:"h-4 w-4"}),"Create team"]})})]}),f&&l.jsx("div",{className:`flex items-center gap-2 rounded-2xl border px-3 py-2 text-sm ${f.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:f.text})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white/80 p-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Existing teams"}),l.jsx("p",{className:"text-xs text-gray-500",children:i?"Loading teams":`${p.length||"No"} team${p.length===1?"":"s"}`})]}),i&&l.jsx(At,{className:"h-4 w-4 animate-spin text-gray-500"})]}),!i&&p.length===0&&l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"No teams yet. Create one to get started."}),!i&&p.length>0&&l.jsx("div",{className:"mt-4 space-y-3",children:p.map(y=>l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-100/80 bg-white px-4 py-3 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.6)]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:y.name}),l.jsx("p",{className:"text-xs text-gray-500",children:"Assign members from the Members tab."})]}),l.jsx("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] text-gray-600",children:"Team"})]},y.team_id))})]})]})}const ree=[{id:"workspace.info",label:"Workspace Info",description:"Identity, locale, and defaults",icon:wL},{id:"workspace.pipeline-statuses",label:"Pipeline Statuses",description:"Shared stage definitions",icon:SC},{id:"workspace.lead-sources",label:"Lead Sources",description:"Partner & portal sources",icon:OC},{id:"workspace.integrations",label:"Integrations",description:"CRM & email connections",icon:$L},{id:"workspace.configuration",label:"Shared Configuration",description:"Templates & custom fields",icon:kL}];function nee(){const{user:e,roleInfo:t}=_t(),r=Oi(t==null?void 0:t.globalRole),n=a_(t),a=a_(t)||dL(t)||uL(t),i=gC(t),s=mC(t),o=pC(t),[c,u]=m.useState("workspace.info"),d=m.useMemo(()=>{const h=[...ree];return o&&h.push({id:"workspace.teams",label:"Teams",description:"Create teams for routing",icon:NL}),i&&h.push({id:"workspace.members",label:"Members",description:"Roles, status, and access",icon:TC}),s&&h.push({id:"workspace.invites",label:"Invitations",description:"Pending & sent invites",icon:DL}),h},[i,s]),f=()=>{switch(c){case"workspace.info":return l.jsx(qZ,{canEdit:n});case"workspace.pipeline-statuses":return l.jsx(zZ,{canEdit:a});case"workspace.lead-sources":return l.jsx(WZ,{canEdit:a});case"workspace.integrations":return l.jsx(VZ,{canEdit:n});case"workspace.teams":return l.jsx(tee,{});case"workspace.members":return l.jsx(QZ,{});case"workspace.invites":return l.jsx(eee,{});case"workspace.configuration":default:return l.jsx(YZ,{canEdit:n})}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:l.jsx(kh,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Workspace Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Configuration shared across your entire workspace"})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]}),!n&&l.jsx("span",{className:"text-xs text-gray-500",children:"Workspace configuration is managed by admins. You have read-only access."})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("aside",{className:"lg:w-72 space-y-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Workspace"}),l.jsx("div",{className:"space-y-1",children:d.map(h=>{const p=h.icon,g=c===h.id;return l.jsx("button",{onClick:()=>u(h.id),className:`group w-full rounded-2xl border px-4 py-3 text-left transition-all duration-200 ${g?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:-translate-y-[1px] hover:border-[rgba(0,122,255,0.25)] hover:bg-[rgba(0,122,255,0.04)] hover:shadow-[0_12px_30px_rgba(0,0,0,0.06)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(0,122,255,0.35)]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`rounded-2xl border p-2 ${g?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50 group-hover:border-[rgba(0,122,255,0.2)] group-hover:bg-white"}`,children:l.jsx(p,{className:`w-4 h-4 ${g?"text-[rgb(0,122,255)]":"text-gray-500 group-hover:text-[rgb(0,122,255)]"}`})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-semibold ${g?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:h.label}),l.jsx("p",{className:"text-xs text-gray-500",children:h.description})]})]})},h.id)})})]})}),l.jsx("section",{className:"flex-1 hig-card p-6",children:f()})]})]})}function aee(){var f;const{user:e,roleInfo:t}=_t(),[r,n]=m.useState(((f=e==null?void 0:e.user_metadata)==null?void 0:f.name)||""),[a,i]=m.useState(!1),[s,o]=m.useState(null),c=async h=>{if(h.preventDefault(),!e)return;i(!0),o(null);const{error:p}=await G.auth.updateUser({data:{...e.user_metadata,name:r.trim()||e.email}});o(p?{type:"error",text:p.message||"Unable to update profile."}:{type:"success",text:"Profile updated."}),i(!1)},u=(r||(e==null?void 0:e.email)||"PI").split(" ").map(h=>h.charAt(0).toUpperCase()).slice(0,2).join(""),d=Oi(t==null?void 0:t.globalRole);return l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Profile"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage your display name, login email, and view the role assigned by your workspace admin."})]}),l.jsxs("form",{onSubmit:c,className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-2xl bg-[var(--app-accent)] text-white flex items-center justify-center text-xl font-semibold",children:u}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Signed in as"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e==null?void 0:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Full Name"}),l.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"hig-input",placeholder:"Jane Agent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Primary Email"}),l.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"hig-input bg-gray-50 text-gray-500"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact support to change your login email."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Role"}),l.jsxs("div",{className:"hig-input bg-gray-50 text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-[11px] uppercase tracking-wide text-gray-500",children:d}),l.jsx("span",{className:"text-sm text-gray-600",children:"Workspace permissions are managed by your admin."})]})]})]}),s&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${s.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[s.type==="error"?l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(Ai,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:s.text})]}),l.jsx("div",{className:"flex gap-3",children:l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Profile"})]})})})]})]})}function iee(){const[e,t]=m.useState({newPassword:"",confirmPassword:""}),[r,n]=m.useState(!1),[a,i]=m.useState(null),s=async o=>{if(o.preventDefault(),!e.newPassword||e.newPassword!==e.confirmPassword){i({type:"error",text:"Passwords must match."});return}n(!0),i(null);const{error:c}=await G.auth.updateUser({password:e.newPassword});c?i({type:"error",text:c.message||"Unable to update password."}):(i({type:"success",text:"Password updated successfully."}),t({newPassword:"",confirmPassword:""})),n(!1)};return l.jsxs("div",{className:"max-w-xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Password & Security"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Update your login password. Changes apply immediately across all PipelineIQ sessions."})]}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"New Password"}),l.jsx("input",{type:"password",value:e.newPassword,onChange:o=>t(c=>({...c,newPassword:o.target.value})),className:"hig-input",minLength:8,required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use at least 8 characters including a number or symbol."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"hig-label",children:"Confirm Password"}),l.jsx("input",{type:"password",value:e.confirmPassword,onChange:o=>t(c=>({...c,confirmPassword:o.target.value})),className:"hig-input",required:!0})]}),a&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${a.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-emerald-700 border-emerald-200/60"}`,children:[a.type==="error"?l.jsx(yC,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(EC,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:a.text})]}),l.jsx("button",{type:"submit",className:"hig-btn-primary",disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Updating"})]}):l.jsx("span",{children:"Update Password"})})]})]})}const see=[{id:"new_lead",label:"New lead assigned"},{id:"stage_change",label:"Deal moved to a new stage"},{id:"reminders",label:"Task & follow-up reminders"},{id:"analytics",label:"Weekly pipeline summary"}],OS={new_lead:!0,stage_change:!0,reminders:!0,analytics:!1};function oee(){var c;const{user:e}=_t(),[t,r]=m.useState(OS),[n,a]=m.useState(!1),[i,s]=m.useState(null);m.useEffect(()=>{var u;(u=e==null?void 0:e.user_metadata)!=null&&u.notifications&&r({...OS,...e.user_metadata.notifications})},[(c=e==null?void 0:e.user_metadata)==null?void 0:c.notifications]);const o=async()=>{if(!e)return;a(!0),s(null);const{error:u}=await G.auth.updateUser({data:{...e.user_metadata,notifications:t}});s(u?{type:"error",text:u.message||"Unable to update notifications."}:{type:"success",text:"Notification preferences saved."}),a(!1)};return l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Choose which alerts to receive. These preferences only affect your PipelineIQ account."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"space-y-4",children:see.map(u=>l.jsxs("label",{className:"flex items-center justify-between rounded-2xl border border-gray-200/70 bg-white/90 px-4 py-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.label}),l.jsx("p",{className:"text-xs text-gray-500",children:"Delivered via email & in-app"})]}),l.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-[var(--app-accent)] focus:ring-[var(--app-accent)]",checked:t[u.id]??!1,onChange:d=>r(f=>({...f,[u.id]:d.target.checked}))})]},u.id))}),i&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${i.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[i.type==="error"?l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(Ai,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:i.text})]}),l.jsx("button",{onClick:o,className:"hig-btn-primary",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Preferences"})]})})]})]})}function lee(){const{user:e}=_t(),[t,r]=m.useState(!0),[n,a]=m.useState(!1),[i,s]=m.useState(null),[o,c]=m.useState({annual_gci_goal:0,default_tax_rate:25,default_brokerage_split_rate:20});m.useEffect(()=>{u()},[e]);const u=async()=>{if(!e)return;const{data:f}=await G.from("user_settings").select("*").eq("user_id",e.id).maybeSingle();f&&c({annual_gci_goal:f.annual_gci_goal,default_tax_rate:f.default_tax_rate*100,default_brokerage_split_rate:f.default_brokerage_split_rate*100}),r(!1)},d=async f=>{if(f.preventDefault(),!e)return;a(!0),s(null);const{error:h}=await G.from("user_settings").upsert({user_id:e.id,annual_gci_goal:o.annual_gci_goal,default_tax_rate:o.default_tax_rate/100,default_brokerage_split_rate:o.default_brokerage_split_rate/100});h?s({type:"error",text:"Failed to save preferences. Please try again."}):(s({type:"success",text:"Preferences updated!"}),setTimeout(()=>s(null),3e3)),a(!1)};return t?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(At,{className:"w-8 h-8 animate-spin text-[rgb(0,122,255)]"})}):l.jsxs("div",{className:"max-w-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"hig-text-heading mb-2",children:"Personal Preferences"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Set your financial targets and default assumptions. These only apply to your profile."})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Annual GCI Goal"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"$"}),l.jsx("input",{type:"number",value:o.annual_gci_goal,onChange:f=>c({...o,annual_gci_goal:parseFloat(f.target.value)||0}),className:"hig-input pl-8",placeholder:"100000",min:"0",step:"1000"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Your personal net commission goal for the year."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Tax Allocation"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:o.default_tax_rate,onChange:f=>c({...o,default_tax_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"25",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Used to forecast take-home pay inside PipelineIQ."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Brokerage Split"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.5",value:o.default_brokerage_split_rate,onChange:f=>c({...o,default_brokerage_split_rate:parseFloat(f.target.value)||0}),className:"hig-input pr-8",placeholder:"20",min:"0",max:"100"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"%"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Determines what portion of each deal is allocated to your brokerage by default."})]}),i&&l.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl border ${i.type==="error"?"bg-red-50 text-red-700 border-red-200/60":"bg-green-50 text-green-700 border-green-200/60"}`,children:[i.type==="error"?l.jsx(Ba,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}):l.jsx(Ai,{className:"w-5 h-5 flex-shrink-0",strokeWidth:2}),l.jsx("span",{className:"text-sm font-medium",children:i.text})]}),l.jsx("div",{className:"pt-4 border-t border-gray-200/60 flex flex-wrap gap-3",children:l.jsx("button",{type:"submit",disabled:n,className:"hig-btn-primary px-8",children:n?l.jsxs(l.Fragment,{children:[l.jsx(At,{className:"w-4 h-4 animate-spin",strokeWidth:2}),l.jsx("span",{children:"Saving"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Nh,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{children:"Save Preferences"})]})})})]})]})}const cee=[{id:"personal.profile",label:"Profile",description:"Name & identity",icon:Ch},{id:"personal.security",label:"Password & Security",description:"Account protection",icon:EC},{id:"personal.notifications",label:"Notifications",description:"Email + in-app alerts",icon:bL},{id:"personal.preferences",label:"Preferences",description:"Goals & defaults",icon:PC}];function uee(){const{user:e,roleInfo:t}=_t(),r=Oi(t==null?void 0:t.globalRole),[n,a]=m.useState("personal.profile"),i=()=>{switch(n){case"personal.profile":return l.jsx(aee,{});case"personal.security":return l.jsx(iee,{});case"personal.notifications":return l.jsx(oee,{});case"personal.preferences":default:return l.jsx(lee,{})}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col gap-4 rounded-[var(--app-radius)] border border-[var(--app-border)] bg-white/90 p-6 shadow-[0_15px_45px_rgba(15,23,42,0.08)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-2xl bg-gray-100",children:l.jsx(Ch,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Account Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Preferences that only apply to your login."})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Signed in"}),l.jsx("span",{className:"font-semibold text-gray-900",children:e==null?void 0:e.email})]}),l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200/70 bg-white px-3 py-1",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Role"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r})]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsx("aside",{className:"lg:w-72 space-y-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"px-2 pb-2 text-[11px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:"Account"}),l.jsx("div",{className:"space-y-1",children:cee.map(s=>{const o=s.icon,c=n===s.id;return l.jsx("button",{onClick:()=>a(s.id),className:`group w-full rounded-2xl border px-4 py-3 text-left transition-all duration-200 ${c?"border-[rgb(0,122,255)] bg-[rgba(0,122,255,0.06)] shadow-[inset_0_0_0_1px_rgba(0,122,255,0.2)]":"border-white/60 bg-white hover:-translate-y-[1px] hover:border-[rgba(0,122,255,0.25)] hover:bg-[rgba(0,122,255,0.04)] hover:shadow-[0_12px_30px_rgba(0,0,0,0.06)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgba(0,122,255,0.35)]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`rounded-2xl border p-2 ${c?"border-[rgba(0,122,255,0.3)] bg-white":"border-gray-100 bg-gray-50 group-hover:border-[rgba(0,122,255,0.2)] group-hover:bg-white"}`,children:l.jsx(o,{className:`w-4 h-4 ${c?"text-[rgb(0,122,255)]":"text-gray-500 group-hover:text-[rgb(0,122,255)]"}`})}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-semibold ${c?"text-[rgb(0,122,255)]":"text-gray-800"}`,children:s.label}),l.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})]})},s.id)})})]})}),l.jsx("section",{className:"flex-1 hig-card p-6",children:i()})]})]})}const dee=[{title:"AI Contract Drafting",description:"Instinctively assemble Dotloop-ready agreements from natural-language prompts."},{title:"Smart Field Autofill",description:"Pull buyer, seller, property, and financing data directly from your CRM or files."},{title:"Amendments in Seconds",description:"Request edits in plain English and regenerate updated paperwork instantly."},{title:"Compliance Checker",description:"Let AI scan for missing signatures, incorrect clauses, or jurisdictional nuances."},{title:"Team Collaboration Tools",description:"Shared templates, version history, and real-time updates for every stakeholder."}];function fee(){const[e,t]=m.useState(""),[r,n]=m.useState("idle"),a=i=>{if(i.preventDefault(),!e.trim()){n("error");return}n("loading"),setTimeout(()=>{n("success"),t("")},1200)};return l.jsxs("div",{className:"min-h-screen bg-white text-slate-900 flex flex-col",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f4f7fb] via-white to-[#eef4fa] pointer-events-none"}),l.jsx("header",{className:"relative z-10 border-b border-slate-200/60",children:l.jsx("div",{className:"max-w-5xl mx-auto px-6 py-6 flex items-center",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(hee,{}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs tracking-[0.3em] text-slate-500 uppercase font-semibold",children:"Contract"}),l.jsx("p",{className:"text-xl font-semibold tracking-tight text-slate-800",children:"Scribe"})]})]})})}),l.jsxs("main",{className:"relative z-10 flex-1",children:[l.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16 text-center",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-slate-500 mb-4",children:"ContractScribe"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-semibold text-slate-900 leading-tight mb-4",children:"ContractScribe is Coming Soon"}),l.jsx("p",{className:"text-lg text-slate-600 mb-8 max-w-3xl mx-auto",children:"The fastest way for real-estate professionals to draft, edit, and manage contracts with AI-powered precision. Automation that feels human, accuracy that feels inevitable."}),l.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-3 justify-center max-w-2xl mx-auto",children:[l.jsx("input",{type:"email",value:e,onChange:i=>{t(i.target.value),r!=="idle"&&n("idle")},placeholder:"Enter your work email",className:"flex-1 rounded-2xl border border-slate-200/80 bg-white/90 px-5 py-3 text-sm shadow-inner focus:outline-none focus:ring-2 focus:ring-[#0E4B72]/20 focus:border-[#0E4B72]/50"}),l.jsx("button",{type:"submit",className:"rounded-2xl bg-[#0E4B72] text-white font-semibold px-6 py-3 text-sm shadow-[0_12px_24px_rgba(14,75,114,0.25)] hover:bg-[#0b3c5b] transition-colors",disabled:r==="loading",children:r==="loading"?"Joining":r==="success"?"Added!":"Join the Waitlist"})]}),r==="success"&&l.jsx("p",{className:"mt-3 text-sm text-emerald-600 animate-fade-in",children:"Thanks! Well be in touch shortly."}),r==="error"&&l.jsx("p",{className:"mt-3 text-sm text-rose-500",children:"Please enter a valid email address."})]}),l.jsx("section",{className:"max-w-6xl mx-auto px-6 pb-16",children:l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:dee.map(i=>l.jsxs("div",{className:"rounded-2xl border border-slate-200/70 bg-white/80 p-6 shadow-[0_12px_30px_rgba(15,23,42,0.08)] hover:-translate-y-1 transition-transform",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-[#0E4B72] mb-3",children:"Coming Feature"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:i.title}),l.jsx("p",{className:"text-sm text-slate-600",children:i.description})]},i.title))})}),l.jsx("section",{className:"max-w-3xl mx-auto px-6 pb-20 text-center",children:l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:"ContractScribe empowers agents, teams, and brokerages with lightning-fast contract workflows so you can spend more time closing dealsnot filling out paperwork."})})]}),l.jsx("footer",{className:"relative z-10 border-t border-slate-200/70 bg-white/80 backdrop-blur",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-slate-500",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{children:[" ",new Date().getFullYear()," ContractScribe"]}),l.jsx("span",{children:"Terms"}),l.jsx("span",{children:"Privacy"}),l.jsx("span",{children:"Security"})]}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Made by ",l.jsx("span",{className:"font-semibold text-slate-700",children:"Luminex Ventures"})]})]})})]})}const hee=()=>l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 56","aria-hidden":"true",className:"drop-shadow-sm",children:[l.jsx("path",{d:"M2 12L22 0L22 32L2 44Z",fill:"#F3C6C5"}),l.jsx("path",{d:"M12 18L32 6V38L12 50Z",fill:"#CF7A7A"}),l.jsx("path",{d:"M22 24L42 12V44L22 56Z",fill:"#C85757"})]});function pee(){const{token:e}=XM(),t=Yo();return l.jsx(DC,{onToggle:()=>t("/login"),presetToken:e})}function Yi({children:e}){const{user:t,loading:r,roleInfo:n,signOut:a}=_t();return r?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?n&&n.isActive===!1?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md rounded-2xl border border-[var(--app-border)] bg-white/90 p-6 text-center shadow-xl space-y-3",children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Account deactivated"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your PipelineIQ access has been suspended. Please reach out to an administrator if you believe this is a mistake."}),l.jsx("button",{onClick:a,className:"hig-btn-secondary mx-auto",children:"Back to login"})]})}):l.jsx(JL,{children:e}):l.jsx(rf,{to:"/login",replace:!0})}function AS({children:e}){const{user:t,loading:r}=_t();return r?l.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-app-bg))] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[rgb(0,122,255)]"})}):t?l.jsx(rf,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:e})}function mee(){const[e,t]=m.useState(!0);return e?l.jsx(QL,{onToggle:()=>t(!1)}):l.jsx(DC,{onToggle:()=>t(!0)})}function gee(){return l.jsx(hL,{children:l.jsx(R5,{children:l.jsxs(d5,{children:[l.jsx(Jr,{path:"/login",element:l.jsx(AS,{children:l.jsx(mee,{})})}),l.jsx(Jr,{path:"/",element:l.jsx(Yi,{children:l.jsx(sZ,{})})}),l.jsx(Jr,{path:"/invite/:token",element:l.jsx(AS,{children:l.jsx(pee,{})})}),l.jsx(Jr,{path:"/pipeline",element:l.jsx(Yi,{children:l.jsx(AZ,{})})}),l.jsx(Jr,{path:"/tasks",element:l.jsx(Yi,{children:l.jsx(MZ,{})})}),l.jsx(Jr,{path:"/luma",element:l.jsx(Yi,{children:l.jsx(LZ,{})})}),l.jsx(Jr,{path:"/analytics",element:l.jsx(Yi,{children:l.jsx(DZ,{})})}),l.jsx(Jr,{path:"/workspace-settings",element:l.jsx(Yi,{children:l.jsx(nee,{})})}),l.jsx(Jr,{path:"/settings",element:l.jsx(Yi,{children:l.jsx(uee,{})})}),l.jsx(Jr,{path:"/lead-sources",element:l.jsx(rf,{to:"/workspace-settings",replace:!0})}),l.jsx(Jr,{path:"/pipeline-settings",element:l.jsx(rf,{to:"/workspace-settings",replace:!0})}),l.jsx(Jr,{path:"/contractscribe",element:l.jsx(fee,{})})]})})})}Hk(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(gee,{})}));
